//W3x2lni Data: 2025-02-15 20:18:27.374
globals
hashtable aW
hashtable ap
unit mB=null
attacktype lt=ATTACK_TYPE_NORMAL
damagetype lu=DAMAGE_TYPE_NORMAL
weapontype lv=WEAPON_TYPE_WHOKNOWS
real as=0
real aq=0
real at=0
real ar=0
string array au
trigger array mC
integer array l9
integer l8=0
constant integer mY=1
constant integer qj=4
constant integer qk=6
item jk
group jL
trigger lC=null
trigger array lD
integer lB=0
region jh
boolexpr ax=null
rect aw=null
integer lr
location Dir=Location(0.,0.)
integer a1
integer bE
integer a2
integer a4
integer a5
integer array a6
integer array a3
integer array bG
trigger array bH
trigger a7
trigger a8
trigger a9
trigger bB
trigger bC
trigger bD
timer az
integer a0
rect BF=null
rect BG=null
rect BH=null
rect BI=null
rect BJ=null
rect BK=null
rect BL=null
rect BM=null
rect BN=null
rect BO=null
rect BP=null
rect BQ=null
rect BR=null
rect BS=null
rect BT=null
rect BU=null
rect BV=null
rect BW=null
rect BX=null
rect BY=null
rect BZ=null
rect Ba=null
rect Bb=null
rect Bc=null
rect Bd=null
rect Be=null
rect Bf=null
rect Bg=null
rect Bh=null
rect Bi=null
rect Bj=null
rect Bk=null
rect Bl=null
rect Bm=null
rect Bn=null
rect Bo=null
rect Bp=null
rect Bq=null
rect Br=null
rect Bs=null
rect Bt=null
rect Bu=null
rect Bv=null
rect Bw=null
rect Bx=null
rect By=null
rect Bz=null
rect B0=null
rect B1=null
rect B2=null
rect B3=null
rect B4=null
rect B5=null
rect B6=null
rect B7=null
rect B8=null
rect B9=null
rect CB=null
rect CC=null
rect CD=null
rect CE=null
rect CF=null
rect CG=null
rect CH=null
rect CI=null
rect CJ=null
rect CK=null
rect CL=null
rect CM=null
rect CN=null
rect CO=null
rect CP=null
rect CQ=null
rect CR=null
rect CS=null
rect CT=null
rect CU=null
rect CV=null
rect CW=null
rect CX=null
rect CY=null
rect CZ=null
rect Ca=null
rect Cb=null
rect Cc=null
rect Cd=null
rect Ce=null
rect Cf=null
rect Cg=null
rect Ch=null
rect Ci=null
rect Cj=null
rect Ck=null
rect Cl=null
rect Cm=null
rect Cn=null
rect Co=null
rect Cp=null
rect Cq=null
rect Cr=null
rect Cs=null
rect Ct=null
rect Cu=null
rect Cv=null
rect Cw=null
rect Cx=null
rect Cy=null
rect Cz=null
rect C0=null
rect C1=null
rect C2=null
rect C3=null
rect C4=null
rect C5=null
rect C6=null
rect C7=null
rect C8=null
rect C9=null
rect DB=null
rect DC=null
rect DD=null
rect DE=null
rect DF=null
rect DG=null
rect DH=null
rect DI=null
rect DJ=null
rect DK=null
rect DL=null
rect DM=null
rect DN=null
rect DO=null
rect DP=null
rect DQ=null
rect DR=null
rect DS=null
rect DT=null
rect DU=null
rect DV=null
rect DW=null
rect DX=null
rect DY=null
rect DZ=null
rect Da=null
rect Db=null
rect Dc=null
rect Dd=null
rect De=null
rect Df=null
rect Dg=null
rect Dh=null
rect Di=null
rect Dj=null
rect Dk=null
rect Dl=null
rect Dm=null
rect Dn=null
rect Do=null
rect Dp=null
rect Dq=null
rect Dr=null
rect Ds=null
rect Dt=null
rect Du=null
rect Dv=null
rect Dw=null
rect Dx=null
rect Dy=null
rect Dz=null
rect D0=null
rect D1=null
rect D2=null
rect D3=null
rect D4=null
rect D5=null
rect D6=null
rect D7=null
rect D8=null
rect D9=null
rect EB=null
rect EC=null
rect ED=null
rect EE=null
rect EF=null
rect EG=null
rect EH=null
rect EI=null
rect EJ=null
rect EK=null
rect EL=null
rect EM=null
rect EN=null
rect EO=null
rect EP=null
rect EQ=null
rect ER=null
rect ES=null
rect ET=null
rect EU=null
rect EV=null
rect EW=null
rect EX=null
rect EY=null
rect EZ=null
rect Ea=null
rect Eb=null
rect Ec=null
rect Ed=null
rect Ee=null
rect Ef=null
rect Eg=null
rect Eh=null
rect Ei=null
rect Ej=null
rect Ek=null
rect El=null
rect Em=null
rect En=null
rect Eo=null
rect Ep=null
rect Eq=null
rect Er=null
rect Es=null
rect Et=null
rect Eu=null
rect Ev=null
rect Ew=null
rect Ex=null
rect Ey=null
rect Ez=null
rect E0=null
rect E1=null
rect E2=null
rect E3=null
rect E4=null
rect E5=null
rect E6=null
rect E7=null
rect E8=null
rect E9=null
rect FB=null
rect FC=null
rect FD=null
rect FE=null
rect FF=null
rect FG=null
rect FH=null
rect FI=null
rect FJ=null
rect FK=null
rect FL=null
rect FM=null
rect FN=null
rect FO=null
rect FP=null
rect FQ=null
rect FR=null
rect FS=null
rect FT=null
rect FU=null
rect FV=null
rect FW=null
rect FX=null
rect FY=null
rect FZ=null
rect Fa=null
rect Fb=null
rect Fc=null
rect Fd=null
rect Fe=null
rect Ff=null
rect Fg=null
rect Fh=null
rect Fi=null
rect Fj=null
rect Fk=null
rect Fl=null
rect Fm=null
rect Fn=null
rect Fo=null
rect Fp=null
rect Fq=null
rect Fr=null
rect Fs=null
rect Ft=null
rect Fu=null
rect Fv=null
rect Fw=null
rect Fx=null
rect Fy=null
rect Fz=null
rect F0=null
rect F1=null
rect F2=null
rect F3=null
rect F4=null
rect F5=null
rect F6=null
rect F7=null
rect F8=null
rect F9=null
rect GB=null
rect GC=null
rect GD=null
rect GE=null
rect GF=null
rect GG=null
rect GH=null
rect GI=null
rect GJ=null
rect GK=null
rect GL=null
rect GM=null
rect GN=null
rect GO=null
rect GP=null
rect GQ=null
rect GR=null
rect GS=null
rect GT=null
rect GU=null
rect GV=null
rect GW=null
rect GX=null
rect GY=null
rect GZ=null
rect Ga=null
rect Gb=null
rect Gc=null
rect Gd=null
rect Ge=null
rect Gf=null
rect Gg=null
rect Gh=null
rect Gi=null
rect Gj=null
rect Gk=null
rect Gl=null
rect Gm=null
rect Gn=null
rect Go=null
rect Gp=null
rect Gq=null
rect Gr=null
rect Gs=null
rect Gt=null
rect Gu=null
rect Gv=null
rect Gw=null
rect Gx=null
rect Gy=null
rect Gz=null
rect G0=null
rect G1=null
rect G2=null
rect G3=null
rect G4=null
rect G5=null
rect G6=null
rect G7=null
rect G8=null
rect G9=null
rect HB=null
rect HC=null
rect HD=null
rect HE=null
rect HF=null
rect HG=null
rect HH=null
rect HI=null
rect HJ=null
rect HK=null
rect HL=null
rect HM=null
rect HN=null
rect HO=null
rect HP=null
rect HQ=null
rect HR=null
rect HS=null
rect HT=null
rect HU=null
rect HV=null
rect HW=null
rect HX=null
rect HY=null
rect HZ=null
rect Ha=null
rect Hb=null
rect Hc=null
rect Hd=null
rect He=null
rect Hf=null
rect Hg=null
rect Hh=null
rect Hi=null
rect Hj=null
rect Hk=null
rect Hl=null
rect Hm=null
rect Hn=null
rect Ho=null
rect Hp=null
rect Hq=null
rect Hr=null
rect Hs=null
rect Ht=null
rect Hu=null
rect Hv=null
rect Hw=null
rect Hx=null
rect Hy=null
rect Hz=null
rect H0=null
rect H1=null
rect H2=null
rect H3=null
rect H4=null
rect H5=null
rect H6=null
rect H7=null
rect H8=null
rect H9=null
rect IB=null
rect IC=null
rect ID=null
rect IE=null
rect IF=null
rect IG=null
rect IH=null
rect II=null
rect IJ=null
rect IK=null
rect IL=null
rect IM=null
rect IN=null
rect IO=null
rect IP=null
rect IQ=null
rect IR=null
rect IS=null
rect IT=null
rect IU=null
rect IV=null
rect IW=null
rect IX=null
rect IY=null
rect IZ=null
rect Ia=null
rect Ib=null
rect Ic=null
rect Id=null
rect Ie=null
rect If=null
rect Ig=null
rect Ih=null
rect Ii=null
rect Ij=null
rect Ik=null
rect Il=null
rect Im=null
rect In=null
rect Io=null
rect Ip=null
rect Iq=null
rect Ir=null
rect Is=null
rect It=null
rect Iu=null
rect Iv=null
rect Iw=null
rect Ix=null
rect Iy=null
rect Iz=null
rect I0=null
rect I1=null
rect I2=null
rect I3=null
rect I4=null
rect I5=null
rect I6=null
rect I7=null
rect I8=null
rect I9=null
rect JB=null
rect JC=null
rect JD=null
rect JE=null
rect JF=null
rect JG=null
rect JH=null
rect JI=null
rect JJ=null
rect JK=null
rect JL=null
rect JM=null
rect JN=null
rect JO=null
rect JP=null
rect JQ=null
rect JR=null
rect JS=null
rect JT=null
rect JU=null
rect JV=null
rect JW=null
rect JX=null
rect JY=null
rect JZ=null
rect Ja=null
rect Jb=null
rect Jc=null
rect Jd=null
rect Je=null
rect Jf=null
rect Jg=null
rect Jh=null
rect Ji=null
rect Jj=null
rect Jk=null
rect Jl=null
rect Jm=null
rect Jn=null
rect Jo=null
rect Jp=null
rect Jq=null
rect Jr=null
rect Js=null
rect Jt=null
rect Ju=null
rect Jv=null
rect Jw=null
rect Jx=null
rect Jy=null
rect Jz=null
rect J0=null
rect J1=null
rect J2=null
rect J3=null
rect J4=null
rect J5=null
rect J6=null
rect J7=null
rect J8=null
rect J9=null
rect KB=null
rect KC=null
rect KD=null
rect KE=null
rect KF=null
rect KG=null
rect KH=null
rect KI=null
rect KJ=null
rect KK=null
rect KL=null
rect KM=null
rect KN=null
rect KO=null
rect KP=null
rect KQ=null
rect KR=null
rect KS=null
rect KT=null
rect KU=null
rect KV=null
rect KW=null
rect KX=null
rect KY=null
rect KZ=null
rect Ka=null
rect Kb=null
rect Kc=null
rect Kd=null
rect Ke=null
rect Kf=null
rect Kg=null
rect Kh=null
rect Ki=null
rect Kj=null
rect Kk=null
rect Kl=null
rect Km=null
rect Kn=null
rect Ko=null
rect Kp=null
rect Kq=null
rect Kr=null
rect Ks=null
rect Kt=null
rect Ku=null
rect Kv=null
rect Kw=null
rect Kx=null
rect Ky=null
rect Kz=null
rect K0=null
rect K1=null
rect K2=null
rect K3=null
rect K4=null
rect K5=null
rect K6=null
rect K7=null
rect K8=null
rect K9=null
rect LB=null
rect LC=null
rect LD=null
rect LE=null
rect LF=null
rect LG=null
rect LH=null
rect LI=null
rect LJ=null
rect LK=null
rect LL=null
rect LM=null
rect LN=null
rect LO=null
rect LP=null
rect LQ=null
rect LR=null
rect LS=null
rect LT=null
rect LU=null
rect LV=null
rect LW=null
rect LX=null
rect LY=null
rect LZ=null
rect La=null
rect Lb=null
rect Lc=null
rect Ld=null
rect Le=null
rect Lf=null
rect Lg=null
rect Lh=null
rect Li=null
rect Lj=null
rect Lk=null
rect Ll=null
rect Lm=null
rect Ln=null
rect Lo=null
rect Lp=null
rect Lq=null
rect Lr=null
rect Ls=null
rect Lt=null
rect Lu=null
rect Lv=null
rect Lw=null
rect Lx=null
rect Ly=null
rect Lz=null
rect L0=null
rect L1=null
rect L2=null
rect L3=null
rect L4=null
rect L5=null
rect L6=null
rect L7=null
rect L8=null
rect L9=null
rect MB=null
rect MC=null
rect MD=null
rect ME=null
rect MF=null
rect MG=null
rect MH=null
rect MI=null
rect MJ=null
rect MK=null
rect ML=null
rect MM=null
rect MN=null
rect MO=null
rect MP=null
rect MQ=null
rect MR=null
rect MS=null
rect MT=null
rect MU=null
rect MV=null
rect MW=null
rect MX=null
rect MY=null
rect MZ=null
rect Ma=null
rect Mb=null
rect Mc=null
rect Md=null
rect Me=null
rect Mf=null
rect Mg=null
rect Mh=null
rect Mi=null
rect Mj=null
rect Mk=null
rect Ml=null
rect Mm=null
rect Mn=null
rect Mo=null
rect Mp=null
rect Mq=null
rect Mr=null
rect Ms=null
rect Mt=null
rect Mu=null
rect Mv=null
rect Mw=null
rect Mx=null
rect My=null
rect Mz=null
rect M0=null
rect M1=null
rect M2=null
rect M3=null
rect M4=null
rect M5=null
rect M6=null
rect M7=null
rect M8=null
rect M9=null
rect NB=null
rect NC=null
rect ND=null
rect NE=null
rect NF=null
rect NG=null
rect NH=null
rect NI=null
rect NJ=null
rect NK=null
rect NL=null
rect NM=null
rect NN=null
rect NO=null
rect NP=null
rect NQ=null
rect NR=null
rect NS=null
rect NT=null
rect NU=null
rect NV=null
rect NW=null
rect NX=null
rect NY=null
rect NZ=null
rect Na=null
rect Nb=null
rect Nc=null
rect Nd=null
rect Ne=null
rect Nf=null
rect Ng=null
rect Nh=null
rect Ni=null
rect Nj=null
rect Nk=null
rect Nl=null
rect Nm=null
rect Nn=null
rect No=null
rect Np=null
rect Nq=null
rect Nr=null
rect Ns=null
rect Nt=null
rect Nu=null
rect Nv=null
rect Nw=null
rect Nx=null
rect Ny=null
rect Nz=null
rect N0=null
rect N1=null
rect N2=null
rect N3=null
rect N4=null
rect N5=null
rect N6=null
rect N7=null
rect N8=null
rect N9=null
rect OB=null
rect OC=null
rect OD=null
rect OE=null
rect OF=null
rect OG=null
rect OH=null
rect OI=null
rect OJ=null
rect OK=null
rect OL=null
rect OM=null
rect ON=null
rect OO=null
rect OP=null
rect OQ=null
rect OR=null
rect OS=null
rect OT=null
rect OU=null
rect OV=null
rect OW=null
rect OX=null
rect OY=null
rect OZ=null
rect Oa=null
rect Ob=null
rect Oc=null
rect Od=null
rect Oe=null
rect Of=null
rect Og=null
rect Oh=null
rect Oi=null
rect Oj=null
rect Ok=null
rect Ol=null
rect Om=null
rect On=null
rect Oo=null
rect Op=null
rect Oq=null
rect Os=null
rect Ot=null
rect Ou=null
rect Ov=null
rect Ow=null
rect Ox=null
rect Oy=null
rect Oz=null
rect O0=null
rect O1=null
rect O2=null
rect O3=null
rect O4=null
rect O5=null
rect O6=null
rect O7=null
rect O8=null
rect O9=null
rect PB=null
rect PC=null
rect PD=null
rect PE=null
rect PF=null
rect PG=null
rect PH=null
rect PI=null
rect PJ=null
rect PK=null
rect PL=null
rect PM=null
rect PN=null
rect PO=null
rect PP=null
rect PQ=null
rect PR=null
rect PS=null
rect PT=null
rect PU=null
rect PV=null
rect PW=null
rect PX=null
rect PY=null
rect PZ=null
rect Pa=null
rect Pb=null
rect Pc=null
rect Pd=null
rect Pe=null
rect Pf=null
rect Pg=null
rect Ph=null
rect Pi=null
rect Pj=null
rect Pk=null
rect Pl=null
rect Pm=null
rect Pn=null
rect Po=null
rect Pp=null
rect Pq=null
rect Pr=null
rect Ps=null
rect Pt=null
rect Pu=null
rect Pv=null
rect Pw=null
rect Px=null
rect Py=null
rect Pz=null
rect P0=null
rect P1=null
rect P2=null
rect P3=null
rect P4=null
rect P5=null
rect P6=null
rect P7=null
rect P8=null
rect P9=null
rect QB=null
rect QC=null
rect QD=null
rect QE=null
rect QF=null
rect QG=null
rect QH=null
rect QI=null
rect QJ=null
rect QK=null
rect QL=null
rect QM=null
rect QN=null
rect QO=null
rect QP=null
rect QQ=null
rect QR=null
rect QS=null
rect QT=null
rect QU=null
rect QV=null
rect QW=null
rect QX=null
rect QY=null
rect QZ=null
rect Qa=null
rect Qb=null
rect Qc=null
rect Qd=null
rect Qe=null
rect Qf=null
rect Qg=null
rect Qh=null
rect Qi=null
rect Qj=null
rect Qk=null
rect Ql=null
rect Qm=null
rect Qn=null
rect Qo=null
rect Qp=null
rect Qq=null
rect Qr=null
rect Qs=null
rect Qt=null
rect Qu=null
rect Qv=null
rect Qw=null
rect Qx=null
rect Qy=null
rect Qz=null
rect Q0=null
rect Q1=null
rect Q2=null
rect Q3=null
rect Q4=null
rect Q5=null
rect Q6=null
rect Q7=null
rect Q8=null
rect Q9=null
rect RB=null
rect RC=null
rect RD=null
rect RE=null
rect RF=null
rect RG=null
rect RH=null
rect RI=null
rect RJ=null
rect RK=null
rect RL=null
rect RM=null
rect RN=null
rect RO=null
rect RP=null
rect RQ=null
rect RR=null
rect RS=null
rect RT=null
rect RU=null
rect RV=null
rect RW=null
rect RX=null
rect RY=null
rect RZ=null
rect Ra=null
rect Rb=null
rect Rc=null
rect Rd=null
rect Re=null
rect Rf=null
rect Rg=null
rect Rh=null
rect Ri=null
rect Rj=null
rect Rk=null
rect Rl=null
rect Rm=null
rect Rn=null
rect Ro=null
rect Rp=null
rect Rq=null
rect Rr=null
rect Rs=null
rect Rt=null
rect Ru=null
rect Rv=null
rect Rw=null
rect Rx=null
rect Ry=null
rect Rz=null
rect R0=null
rect R1=null
rect R2=null
rect R3=null
rect R4=null
rect R5=null
rect R6=null
rect R7=null
rect R8=null
rect R9=null
rect SB=null
rect SC=null
rect SD=null
rect SE=null
rect SF=null
rect SG=null
rect SH=null
rect SI=null
rect SJ=null
rect SK=null
rect SL=null
rect SM=null
rect SN=null
rect SO=null
rect SP=null
rect SQ=null
rect SR=null
rect SS=null
rect ST=null
rect SU=null
rect SV=null
rect SW=null
rect SX=null
rect SY=null
rect SZ=null
rect Sa=null
rect Sb=null
rect Sc=null
rect Sd=null
rect Se=null
rect Sf=null
rect Sg=null
rect Sh=null
rect Si=null
rect Sj=null
rect Sk=null
rect Sl=null
rect Sm=null
rect Sn=null
rect So=null
rect Sp=null
rect Sq=null
rect Sr=null
rect Ss=null
rect St=null
rect Su=null
rect Sv=null
rect Sw=null
rect Sx=null
rect Sy=null
rect Sz=null
rect S0=null
rect S1=null
rect S2=null
rect S3=null
rect S4=null
rect S5=null
rect S6=null
rect S7=null
rect S8=null
rect S9=null
rect TB=null
rect TC=null
rect TD=null
rect TE=null
rect TF=null
rect TG=null
rect TH=null
rect TI=null
rect TJ=null
rect TK=null
rect TL=null
rect TM=null
rect TN=null
rect TO=null
rect TP=null
rect TQ=null
rect TR=null
rect TS=null
rect TT=null
rect TU=null
rect TV=null
rect TW=null
string B
string C
string D
string E
string F
string G
string H
string I
string J
string K
string L
string M
string N
string O
string P
sound Q=null
sound R=null
sound S=null
sound T=null
sound U=null
sound V=null
sound W=null
sound X=null
sound Y=null
sound Z=null
sound a=null
sound b=null
sound c=null
sound d=null
sound e=null
sound f=null
sound g=null
sound h=null
sound i=null
sound j=null
sound k=null
sound l=null
sound m=null
string n
sound o=null
sound p=null
sound q=null
sound r=null
sound s=null
sound t=null
sound u=null
sound v=null
sound w=null
sound x=null
sound y=null
sound z=null
sound BB=null
sound BC=null
sound BD=null
sound BE=null
unit BK1=null
unit yU=null
unit BK4=null
unit BLC=null
unit BLG=null
unit BLF=null
unit BLQ=null
unit BLS=null
unit BLb=null
unit BLd=null
unit BLf=null
unit BLn=null
unit BLy=null
unit BL9=null
unit BMV=null
unit BMZ=null
group bJ=null
group bK=null
group bL=null
group bM=null
group bN=null
group bO=null
group bP=null
group bQ=null
group bR=null
unit array jO
item array jP
location array jQ
unit jX=null
unit jW=null
boolean bS=false
unit Bbq=null
group bT=null
timer bU=null
boolean bV=false
unit BcU=null
group bW=null
group bX=null
unit BZP=null
unit BMi=null
group bY=null
boolean bZ=false
unit BdE=null
group ba=null
group bb=null
unit BXS=null
unit BZf=null
unit BZm=null
unit BZo=null
boolean bc=false
unit BSS=null
group bd=null
unit BSh=null
unit Bdn=null
group be=null
boolean bf=false
group bg=null
group bh=null
unit BK7=null
unit BJP=null
group bi=null
group bj=null
boolean bk=false
boolean bl=false
unit Ber=null
group bm=null
group bn=null
unit BaU=null
unit Bac=null
unit BaW=null
unit Bae=null
unit BaY=null
unit Bag=null
unit BX4=null
group bo=null
unit BWX=null
group bp=null
unit BWZ=null
group bq=null
unit BWb=null
group br=null
unit BWd=null
group bs=null
unit BWf=null
group bt=null
boolean bu=false
unit BWh=null
group bv=null
unit BXc=null
group bw=null
unit BXe=null
group bx=null
unit BXg=null
group by=null
unit BXi=null
group bz=null
unit BXk=null
group b0=null
unit BXm=null
group b1=null
unit BXo=null
group b2=null
unit BX0=null
group b3=null
unit BX2=null
group b4=null
group b5=null
unit BX6=null
group b6=null
unit BX8=null
group b7=null
unit BWj=null
group b8=null
quest BPx=null
quest BQw=null
quest BP0=null
quest BSG=null
quest BSW=null
quest BTi=null
group b9=null
unit BPZ=null
quest Ba8=null
quest Bbz=null
quest BbP=null
quest Bbc=null
quest Bb0=null
quest BcB=null
quest BcJ=null
quest BcW=null
quest Bca=null
quest BZL=null
quest BZM=null
quest Bcw=null
quest BZj=null
quest BZk=null
quest Bdp=null
quest Bdq=null
quest Bdz=null
quest Bd2=null
quest BZx=null
quest BZ8=null
quest Bey=null
unit BW4=null
group cB=null
group cC=null
group cD=null
group cE=null
group cF=null
unit BW8=null
unit BXB=null
unit BXD=null
unit BXF=null
quest BRt=null
item BRx=null
group cG=null
unit BYB=null
group cH=null
unit BYD=null
group cI=null
unit BP9=null
group cJ=null
unit BQC=null
group cK=null
quest Bb7=null
group cL=null
unit BLz=null
group cM=null
unit BWl=null
group cN=null
unit BWn=null
group cO=null
unit BWp=null
group cP=null
unit BWr=null
group cQ=null
unit BWt=null
group cR=null
unit BWv=null
quest Bc3=null
quest Bc4=null
boolean cS=false
quest BSd=null
quest BTo=null
boolean cT=false
unit BJd=null
unit BZE=null
group cU=null
unit BZ0=null
group cV=null
unit BYF=null
group cW=null
unit BYH=null
unit BGV=null
unit BXL=null
group cX=null
unit BXO=null
quest BRC=null
quest BRF=null
unit BRl=null
group cY=null
unit BRo=null
group cZ=null
unit BXq=null
group ca=null
unit BXs=null
group cb=null
unit BWx=null
group cc=null
unit BWz=null
group cd=null
unit BW1=null
group ce=null
unit BXU=null
group cf=null
unit BXW=null
quest BRU=null
quest BRX=null
unit BFb=null
unit BMR=null
unit BNz=null
unit BOB=null
unit BLo=null
unit BLp=null
unit BLq=null
unit BLr=null
unit BNO=null
group cg=null
unit BLv=null
group ch=null
unit BYJ=null
group ci=null
unit BYL=null
group cj=null
unit BYN=null
group ck=null
unit BYP=null
group cl=null
unit BYR=null
group cm=null
unit BYT=null
group cn=null
unit BYV=null
group co=null
unit BYX=null
group cp=null
unit BYZ=null
group cq=null
unit BYb=null
group cr=null
unit BYd=null
quest BfE=null
quest BUg=null
quest BUl=null
quest BUq=null
quest BUw=null
quest BU1=null
quest BU5=null
group cs=null
unit BYf=null
unit BVx=null
unit BV3=null
quest BVI=null
boolean ct=false
quest Bat=null
unit BGl=null
group cu=null
unit BYh=null
unit Bau=null
group cv=null
unit Bav=null
unit Bax=null
unit Baz=null
unit Ba1=null
boolean cw=false
integer cx=0
item BEZ=null
integer cy=0
item BEb=null
integer cz=0
item BDr=null
integer c0=0
item BGE=null
integer c1=0
item BVU=null
integer c2=0
integer c3=0
boolean c4=false
boolean c5=false
boolean c6=false
boolean c7=false
item BIW=null
integer c8=0
integer c9=0
boolean dB=false
boolean dC=false
unit BIp=null
boolean dD=false
boolean dE=false
boolean dF=false
boolean dG=false
boolean dH=false
boolean dI=false
quest BQN=null
quest BQZ=null
integer dJ=0
item u1=null
item u2=null
item u3=null
item u4=null
item u5=null
item u6=null
boolean dK=false
unit BNl=null
group dL=null
timer dM=null
real dN=0
real dO=0
unit BMI=null
group dP=null
unit BMJ=null
unit BMK=null
unit BN2=null
unit BN3=null
unit BN4=null
timer dQ=null
real dR=0
real dS=0
real dT=0
real dU=0
integer dV=0
integer dW=0
unit BMw=null
timer dX=null
integer dY=0
group dZ=null
unit BSv=null
group da=null
unit BSz=null
group db=null
unit BSx=null
unit BM0=null
unit BM1=null
unit BM8=null
integer dc=0
integer dd=0
quest BbF=null
unit BS1=null
group de=null
unit BS3=null
group df=null
unit BS5=null
group dg=null
unit BS7=null
group dh=null
unit BS9=null
group di=null
unit BTL=null
unit BNm=null
unit BNn=null
unit BNo=null
unit BNp=null
real dj=0
real dk=0
real dl=0
real dm=0
real dn=0
unit BL5=null
timer do=null
group dp=null
unit BYj=null
quest j3=null
group dq=null
unit BYl=null
group dr=null
unit BYn=null
unit BYo=null
group ds=null
unit BYq=null
group dt=null
unit BYt=null
group du=null
group dv=null
unit BYs=null
integer dw=0
group dx=null
unit BYv=null
unit BYw=null
group dy=null
group dz=null
unit BYy=null
group d0=null
unit BXu=null
group d1=null
unit BXw=null
group d2=null
unit BXy=null
group d3=null
integer d4=0
unit BMF=null
unit BMC=null
integer d5=0
item BHc=null
integer d6=0
item jq=null
boolean d7=false
quest j4=null
integer d8=0
item j9=null
group d9=null
unit BY0=null
boolean eB=false
boolean eC=false
boolean eD=false
item o7=null
boolean eE=false
item pE=null
boolean eF=false
item pF=null
boolean eG=false
group eH=null
unit kY=null
group eI=null
unit kf=null
group eJ=null
unit kh=null
unit kj=null
unit km=null
quest kH=null
quest k0=null
quest k3=null
group eK=null
integer eL=0
real eM=0
unit pJ=null
boolean eN=false
integer eO=0
integer eP=0
quest mP=null
quest mK=null
boolean eQ=false
boolean eR=false
quest mz=null
boolean eS=false
boolean eT=false
boolean eU=false
boolean eV=false
boolean eW=false
boolean eX=false
boolean eY=false
quest nB=null
boolean eZ=false
quest nN=null
boolean ea=false
integer eb=0
unit nX=null
quest ne=null
boolean ec=false
integer ed=0
item ni=null
integer ee=0
integer ef=0
integer eg=0
unit BL8=null
unit BNw=null
boolean eh=false
group ei=null
unit array BCd
location pt=null
timer ej=null
location py=null
location px=null
timer ek=null
boolean el=false
boolean em=false
location p3=null
location p4=null
timer en=null
unit p5=null
timer eo=null
timerdialog i1=null
boolean ep=false
location qC=null
group eq=null
location qE=null
group er=null
group es=null
group et=null
integer eu=0
group ev=null
unit qO=null
unit qP=null
unit qQ=null
unit qW=null
unit qX=null
unit qY=null
boolean ew=false
real ex=0
real ey=0
real array ez
real e0=0
real e1=0
real array e2
real array e3
real array e4
real e5=0
real e6=0
real e7=0
real array e8
real e9=0
real array fB
real array fC
real array fD
real array fE
real array fF
real fG=0
unit BMt=null
unit pR=null
timer fH=null
real array fI
real array fJ
real array fK
real array fL
timer fM=null
unit qr=null
timer fN=null
integer fO=0
item qw=null
location pN=null
location i8=null
group fP=null
location lG=null
location qH=null
location qM=null
location qL=null
group fQ=null
location pV=null
group fR=null
location qS=null
group fS=null
location qT=null
group fT=null
location qb=null
group fU=null
timer fV=null
location BNs=null
location BNt=null
location pU=null
location js=null
quest BJj=null
real fW=0
unit sC=null
boolean fX=false
integer fY=0
timer fZ=null
boolean fa=false
unit pq=null
boolean fb=false
integer fc=0
location q2=null
unit q3=null
timer fd=null
group fe=null
location q6=null
timer ff=null
unit q8=null
integer fg=0
integer fh=0
location rB=null
timer fi=null
integer fj=0
unit rD=null
unit rE=null
timer fk=null
timer fl=null
group fm=null
integer fn=0
timer fo=null
timer fp=null
unit rJ=null
timer fq=null
group fr=null
integer fs=0
unit rM=null
timer ft=null
group fu=null
integer fv=0
location rR=null
integer fw=0
unit rU=null
integer fx=0
unit rX=null
unit rY=null
unit rZ=null
timer fy=null
integer fz=0
boolean f0=false
boolean f1=false
boolean f2=false
location re=null
timer f3=null
timer f4=null
real array f5
real array f6
real array f7
real array f8
real f9=0
real gB=0
real array gC
real array gD
real array gE
real array gF
real array gG
real gH=0
real array gI
integer gJ=0
integer gK=0
integer gL=0
integer array gM
real array gN
boolean gO=false
quest ut=null
boolean gP=false
unit oJ=null
timer gQ=null
location oX=null
unit oV=null
lightning oY=null
location oW=null
location oa=null
location ob=null
integer gR=0
unit oN=null
boolean gS=false
timer gT=null
integer gU=0
integer gV=0
integer gW=0
real array gX
real array gY
real array gZ
real array ga
unit oi=null
boolean gb=false
boolean gc=false
boolean gd=false
boolean ge=false
boolean gf=false
boolean gg=false
boolean gh=false
boolean gi=false
timer gj=null
boolean gk=false
location BCO=null
unit BCP=null
timer gl=null
real gm=0
location BBl=null
location BBm=null
unit BCT=null
group gn=null
timer go=null
timer gp=null
lightning BBn=null
location BB3=null
timer gq=null
real gr=0
group gs=null
timer gt=null
boolean gu=false
boolean gv=false
unit BCD=null
location BCE=null
location BCF=null
timer gw=null
location BCG=null
location BCH=null
unit BBg=null
location BBh=null
timer gx=null
boolean gy=false
timer gz=null
unit ve=null
boolean g0=false
boolean g1=false
quest v4=null
unit BBq=null
integer g2=0
integer g3=0
integer g4=0
boolean g5=false
boolean g6=false
boolean g7=false
boolean g8=false
boolean g9=false
real hB=0
boolean hC=false
timer hD=null
boolean hE=false
integer hF=0
item m5=null
boolean hG=false
boolean hH=false
real hI=0
real hJ=0
timer hK=null
unit wS=null
boolean hL=false
unit wI=null
boolean hM=false
unit BCW=null
integer hN=0
boolean hO=false
integer hP=0
boolean hQ=false
integer hR=0
boolean hS=false
boolean hT=false
boolean hU=false
boolean hV=false
integer hW=0
boolean hX=false
timer hY=null
location BBb=null
location BBd=null
location qD=null
location BBc=null
timer hZ=null
group ha=null
unit BBW=null
location BBX=null
timer hb=null
group hc=null
unit BBS=null
integer hd=0
integer he=0
boolean hf=false
timer hg=null
unit BBP=null
integer hh=0
boolean hi=false
boolean hj=false
boolean hk=false
unit BBJ=null
boolean hl=false
integer hm=0
boolean hn=false
boolean ho=false
real hp=0
quest zo=null
integer hq=0
boolean hr=false
boolean hs=false
integer ht=0
boolean hu=false
timer hv=null
group hw=null
timer hx=null
timer hy=null
timer hz=null
timer h0=null
boolean h1=false
boolean h2=false
boolean h3=false
boolean h4=false
integer h5=0
boolean h6=false
unit zs=null
boolean h7=false
quest zt=null
boolean h8=false
boolean h9=false
boolean iB=false
quest z1=null
boolean iC=false
integer iD=0
group iE=null
boolean iF=false
integer iG=0
integer iH=0
location zL=null
timer iI=null
unit zM=null
integer iJ=0
timer iK=null
timer iL=null
location zG=null
location zH=null
timer iM=null
integer iN=0
boolean iO=false
boolean iP=false
unit y7=null
timer iQ=null
real iR=0
real iS=0
real iT=0
unit y9=null
real iU=0
timer iV=null
boolean iW=false
integer iX=0
boolean iY=false
boolean iZ=false
boolean ia=false
boolean ib=false
timer ic=null
unit yw=null
group id=null
integer ie=0
boolean ig=false
unit yo=null
boolean ih=false
unit yf=null
integer ii=0
integer ij=0
integer ik=0
integer il=0
unit xK=null
integer im=0
unit yh=null
integer in=0
boolean io=false
real array ip
sound wO=null
boolean iq=false
quest yW=null
boolean ir=false
boolean is=false
boolean it=false
boolean iu=false
trigger iv=null
trigger i5=null
trigger i6=null
trigger i7=null
trigger ix=null
trigger jE=null
trigger jF=null
trigger jG=null
trigger jH=null
trigger jM=null
trigger jN=null
trigger jR=null
trigger jS=null
trigger jT=null
trigger jU=null
trigger jV=null
trigger i2=null
trigger i3=null
trigger i4=null
trigger jY=null
trigger jZ=null
trigger ja=null
trigger jb=null
trigger jc=null
trigger oj=null
trigger BCZ=null
trigger BCa=null
trigger uz=null
trigger i0=null
trigger BCc=null
trigger BCe=null
trigger BCf=null
trigger BCg=null
trigger BCh=null
trigger BCi=null
trigger BCj=null
trigger BCk=null
trigger nz=null
trigger n0=null
trigger n1=null
trigger n2=null
trigger n3=null
trigger n4=null
trigger n5=null
trigger n6=null
trigger n7=null
trigger n8=null
trigger n9=null
trigger oB=null
trigger oC=null
trigger oD=null
trigger oE=null
trigger BCl=null
trigger qg=null
trigger qh=null
trigger qi=null
trigger qm=null
trigger rr=null
trigger oG=null
trigger oH=null
trigger rl=null
trigger rm=null
trigger rn=null
trigger ro=null
trigger rp=null
trigger rq=null
trigger sE=null
trigger sF=null
trigger sf=null
trigger sg=null
trigger uX=null
trigger uY=null
trigger ux=null
trigger uy=null
trigger yI=null
trigger yJ=null
trigger sj=null
trigger sk=null
trigger sl=null
trigger sm=null
trigger to=null
trigger tp=null
trigger tq=null
trigger tr=null
trigger ts=null
trigger tt=null
trigger tu=null
trigger tv=null
trigger ty=null
trigger tz=null
trigger uf=null
trigger ug=null
trigger uU=null
trigger uV=null
trigger sn=null
trigger so=null
trigger sp=null
trigger sq=null
trigger tc=null
trigger td=null
trigger tw=null
trigger tx=null
trigger t0=null
trigger t1=null
trigger te=null
trigger tf=null
trigger sH=null
trigger sI=null
trigger sJ=null
trigger sK=null
trigger tW=null
trigger tX=null
trigger tk=null
trigger tl=null
trigger tm=null
trigger tn=null
trigger uD=null
trigger uE=null
trigger sh=null
trigger si=null
trigger tI=null
trigger tJ=null
trigger tK=null
trigger tL=null
trigger t8=null
trigger t9=null
trigger uG=null
trigger uH=null
trigger uM=null
trigger uN=null
trigger yK=null
trigger yL=null
trigger s1=null
trigger s2=null
trigger s3=null
trigger s4=null
trigger sr=null
trigger ss=null
trigger st=null
trigger su=null
trigger sv=null
trigger sw=null
trigger sx=null
trigger sy=null
trigger sz=null
trigger s0=null
trigger s5=null
trigger s6=null
trigger s7=null
trigger s8=null
trigger s9=null
trigger tB=null
trigger tC=null
trigger tD=null
trigger tE=null
trigger tF=null
trigger tG=null
trigger tH=null
trigger tM=null
trigger tN=null
trigger tO=null
trigger tP=null
trigger tQ=null
trigger tR=null
trigger tS=null
trigger tT=null
trigger tU=null
trigger tV=null
trigger tY=null
trigger tZ=null
trigger ta=null
trigger tb=null
trigger tg=null
trigger th=null
trigger ti=null
trigger tj=null
trigger t2=null
trigger t3=null
trigger t4=null
trigger t5=null
trigger t6=null
trigger t7=null
trigger uB=null
trigger uC=null
trigger uh=null
trigger ui=null
trigger BCm=null
trigger BCn=null
trigger uj=null
trigger uk=null
trigger ul=null
trigger um=null
trigger un=null
trigger uo=null
trigger up=null
trigger uq=null
trigger rt=null
trigger BCo=null
trigger BCp=null
trigger BCq=null
trigger BCr=null
trigger BCs=null
trigger BCu=null
trigger BCv=null
trigger BCw=null
trigger BCx=null
trigger BCy=null
trigger BCz=null
trigger BC0=null
trigger BC1=null
trigger BC2=null
trigger BC3=null
trigger BC4=null
trigger BC5=null
trigger BC6=null
trigger BC7=null
trigger BC8=null
trigger BC9=null
trigger BDB=null
trigger BDC=null
trigger BDD=null
trigger BDE=null
trigger BDF=null
trigger BDG=null
trigger BDH=null
trigger BDI=null
trigger BDJ=null
trigger BDK=null
trigger BDL=null
trigger BDM=null
trigger BDN=null
trigger BDO=null
trigger BDP=null
trigger BDQ=null
trigger BDR=null
trigger BDS=null
trigger BDT=null
trigger BDU=null
trigger BDV=null
trigger BDW=null
trigger BDX=null
trigger BDY=null
trigger BDZ=null
trigger BDa=null
trigger BDb=null
trigger BDc=null
trigger BDd=null
trigger BDe=null
trigger BDf=null
trigger BDg=null
trigger BDh=null
trigger BDi=null
trigger BDj=null
trigger BDk=null
trigger BDl=null
trigger BDm=null
trigger BDn=null
trigger BDo=null
trigger BDp=null
trigger BDq=null
trigger BDs=null
trigger BDt=null
trigger BDu=null
trigger BDv=null
trigger BDx=null
trigger BDy=null
trigger BDz=null
trigger BD0=null
trigger m7=null
trigger m8=null
trigger nD=null
trigger BD1=null
trigger BD2=null
trigger BD3=null
trigger BD4=null
trigger BD5=null
trigger BD6=null
trigger BD7=null
trigger BD8=null
trigger BD9=null
trigger BEB=null
trigger BEC=null
trigger BED=null
trigger BEE=null
trigger BEF=null
trigger BEG=null
trigger BEH=null
trigger BEI=null
trigger BEJ=null
trigger BEK=null
trigger BEL=null
trigger BEM=null
trigger BEN=null
trigger BEO=null
trigger BEP=null
trigger BEQ=null
trigger BER=null
trigger BES=null
trigger BET=null
trigger BEU=null
trigger BEV=null
trigger BEW=null
trigger BEX=null
trigger mX=null
trigger m1=null
trigger uZ=null
trigger ua=null
trigger ub=null
trigger uc=null
trigger ud=null
trigger ue=null
trigger ur=null
trigger us=null
trigger uv=null
trigger uu=null
trigger uO=null
trigger uP=null
trigger uQ=null
trigger uR=null
trigger uS=null
trigger uF=null
trigger uI=null
trigger uK=null
trigger uJ=null
trigger uL=null
trigger qv=null
trigger qx=null
trigger BEY=null
trigger BEa=null
trigger BEc=null
trigger BEd=null
trigger BEe=null
trigger BEf=null
trigger BEg=null
trigger BEh=null
trigger BEi=null
trigger BEj=null
trigger BEk=null
trigger BEl=null
trigger BEm=null
trigger BEn=null
trigger BEq=null
trigger BEo=null
trigger BEp=null
trigger BEr=null
trigger BEs=null
trigger BEt=null
trigger BEu=null
trigger BEv=null
trigger BEw=null
trigger BEx=null
trigger BEy=null
trigger BEz=null
trigger BCY=null
trigger BE1=null
trigger BE0=null
trigger BE2=null
trigger BE4=null
trigger BE3=null
trigger BE6=null
trigger BE5=null
trigger BE8=null
trigger BE7=null
trigger BE9=null
trigger BFB=null
trigger BFC=null
trigger BFE=null
trigger BFD=null
trigger pj=null
trigger BFF=null
trigger BFG=null
trigger BFH=null
trigger BFJ=null
trigger BFI=null
trigger BFK=null
trigger BFL=null
trigger BFM=null
trigger BFN=null
trigger BFO=null
trigger BFP=null
trigger BFQ=null
trigger BFR=null
trigger BFS=null
trigger BFT=null
trigger BFU=null
trigger BFV=null
trigger BFW=null
trigger BFX=null
trigger BFZ=null
trigger BFa=null
trigger BFY=null
trigger BFc=null
trigger BFd=null
trigger BFe=null
trigger BFf=null
trigger BFg=null
trigger BFh=null
trigger BFi=null
trigger BFj=null
trigger BFk=null
trigger BFm=null
trigger BFn=null
trigger BFo=null
trigger BFl=null
trigger BFp=null
trigger BFq=null
trigger jm=null
trigger jd=null
trigger jl=null
trigger jn=null
trigger jo=null
trigger jp=null
trigger jr=null
trigger BFr=null
trigger BFs=null
trigger BFt=null
trigger BFu=null
trigger BFv=null
trigger BFx=null
trigger BFy=null
trigger BFz=null
trigger BF0=null
trigger BF2=null
trigger BF3=null
trigger BF4=null
trigger BF5=null
trigger BF6=null
trigger BF7=null
trigger BF8=null
trigger BF9=null
trigger BGB=null
trigger BGC=null
trigger BGD=null
trigger BGF=null
trigger BGG=null
trigger BGH=null
trigger BGI=null
trigger BGK=null
trigger BGL=null
trigger BGM=null
trigger BGJ=null
trigger wb=null
trigger BGN=null
trigger BGP=null
trigger BGQ=null
trigger BGO=null
trigger BGR=null
trigger BGS=null
trigger BGT=null
trigger BGU=null
trigger BGY=null
trigger BGW=null
trigger BGZ=null
trigger BGX=null
trigger BGa=null
trigger BGb=null
trigger BGc=null
trigger BGd=null
trigger BGe=null
trigger BGf=null
trigger BGg=null
trigger BGh=null
trigger BGi=null
trigger BGj=null
trigger BGk=null
trigger BGm=null
trigger BGn=null
trigger BF1=null
trigger BGo=null
trigger BGq=null
trigger BGp=null
trigger BGr=null
trigger BGs=null
trigger BGt=null
trigger BGu=null
trigger BGv=null
trigger BGw=null
trigger BGx=null
trigger BGy=null
trigger BGz=null
trigger BG0=null
trigger BG1=null
trigger BG2=null
trigger BG3=null
trigger BG4=null
trigger BG5=null
trigger BG6=null
trigger BG7=null
trigger BG8=null
trigger BG9=null
trigger BHB=null
trigger BHC=null
trigger BHD=null
trigger BHE=null
trigger BHF=null
trigger BHG=null
trigger BHH=null
trigger BHI=null
trigger BHJ=null
trigger BHK=null
trigger BHL=null
trigger BHM=null
trigger BHN=null
trigger BHO=null
trigger BHP=null
trigger BHQ=null
trigger BHR=null
trigger BHS=null
trigger BHT=null
trigger BHU=null
trigger BHV=null
trigger BHW=null
trigger BHX=null
trigger yM=null
trigger yS=null
trigger BHY=null
trigger BHZ=null
trigger BHa=null
trigger BHb=null
trigger BHd=null
trigger BHe=null
trigger BHf=null
trigger BHg=null
trigger BHh=null
trigger BHi=null
trigger BHj=null
trigger BHk=null
trigger BHl=null
trigger BHm=null
trigger BHn=null
trigger BHo=null
trigger BHp=null
trigger BHq=null
trigger BHr=null
trigger BHs=null
trigger BHv=null
trigger BHw=null
trigger BHx=null
trigger BHy=null
trigger BHz=null
trigger BH0=null
trigger BHt=null
trigger BHu=null
trigger jt=null
trigger ju=null
trigger jv=null
trigger jw=null
trigger ok=null
trigger ol=null
trigger om=null
trigger on=null
trigger oo=null
trigger op=null
trigger oq=null
trigger os=null
trigger ot=null
trigger ou=null
trigger ov=null
trigger ow=null
trigger oy=null
trigger oz=null
trigger ox=null
trigger o0=null
trigger o1=null
trigger o2=null
trigger o3=null
trigger o4=null
trigger o5=null
trigger md=null
trigger mp=null
trigger mq=null
trigger mr=null
trigger ms=null
trigger mt=null
trigger mu=null
trigger mv=null
trigger mw=null
trigger mx=null
trigger mZ=null
trigger ma=null
trigger mb=null
trigger o6=null
trigger o8=null
trigger o9=null
trigger pB=null
trigger pC=null
trigger pD=null
trigger pG=null
trigger pH=null
trigger BH1=null
trigger BH2=null
trigger BH3=null
trigger BH4=null
trigger BH5=null
trigger BH6=null
trigger BH7=null
trigger BH8=null
trigger mc=null
trigger me=null
trigger mf=null
trigger mg=null
trigger mh=null
trigger mi=null
trigger mj=null
trigger mk=null
trigger ml=null
trigger mm=null
trigger mn=null
trigger mo=null
trigger BH9=null
trigger BIB=null
trigger BIC=null
trigger BID=null
trigger BIE=null
trigger BIF=null
trigger BIG=null
trigger BIH=null
trigger BII=null
trigger BIJ=null
trigger BIK=null
trigger BIL=null
trigger nF=null
trigger nG=null
trigger nq=null
trigger nr=null
trigger ns=null
trigger vi=null
trigger vj=null
trigger vk=null
trigger vl=null
trigger vp=null
trigger vq=null
trigger vr=null
trigger BIM=null
trigger BIN=null
trigger BIO=null
trigger BIP=null
trigger mW=null
trigger BIQ=null
trigger BIR=null
trigger nt=null
trigger nu=null
trigger nv=null
trigger vb=null
trigger vc=null
trigger vo=null
trigger vs=null
trigger vt=null
trigger vu=null
trigger vv=null
trigger vw=null
trigger w3=null
trigger BIS=null
trigger BIT=null
trigger BIU=null
trigger BIX=null
trigger BIY=null
trigger BIV=null
trigger BIZ=null
trigger BIa=null
trigger BIb=null
trigger BIc=null
trigger BId=null
trigger BIe=null
trigger BIf=null
trigger BIg=null
trigger BIk=null
trigger BIl=null
trigger BIm=null
trigger BIh=null
trigger BIn=null
trigger BIi=null
trigger BIo=null
trigger BIj=null
trigger BIq=null
trigger BIr=null
trigger BIs=null
trigger BIt=null
trigger BIu=null
trigger BIv=null
trigger BIw=null
trigger BIx=null
trigger BIy=null
trigger BI0=null
trigger BIz=null
trigger BI1=null
trigger BCt=null
trigger BI2=null
trigger BI3=null
trigger BI4=null
trigger BI5=null
trigger BI6=null
trigger BI9=null
trigger BJB=null
trigger BJD=null
trigger BJE=null
trigger BJH=null
trigger BJF=null
trigger BJG=null
trigger yT=null
trigger BJI=null
trigger BJJ=null
trigger BJK=null
trigger BJL=null
trigger BJM=null
trigger BJO=null
trigger BJN=null
trigger BJQ=null
trigger BJR=null
trigger BJS=null
trigger BJT=null
trigger BJU=null
trigger BJV=null
trigger BJX=null
trigger BJY=null
trigger BJW=null
trigger BJZ=null
trigger BJa=null
trigger BJb=null
trigger BJc=null
trigger BJe=null
trigger BJh=null
trigger BJf=null
trigger BJg=null
trigger BJi=null
trigger BJk=null
trigger BJl=null
trigger BJo=null
trigger BJm=null
trigger BJn=null
trigger BJp=null
trigger BJq=null
trigger BJr=null
trigger BJs=null
trigger kC=null
trigger kD=null
trigger kE=null
trigger kF=null
trigger BJt=null
trigger BJu=null
trigger BJv=null
trigger BJw=null
trigger BJx=null
trigger BJy=null
trigger BJz=null
trigger BJ0=null
trigger BJ1=null
trigger BJ2=null
trigger BJ3=null
trigger BJ4=null
trigger BJ5=null
trigger BJ6=null
trigger BJ7=null
trigger BJ8=null
trigger BJ9=null
trigger BKB=null
trigger BKC=null
trigger BKD=null
trigger BKE=null
trigger BKF=null
trigger BKG=null
trigger BKH=null
trigger BKI=null
trigger BKJ=null
trigger BKK=null
trigger BKL=null
trigger r0=null
trigger BKM=null
trigger BKN=null
trigger BKO=null
trigger BKP=null
trigger wE=null
trigger wD=null
trigger wF=null
trigger BKQ=null
trigger BKR=null
trigger BKS=null
trigger BKT=null
trigger BKU=null
trigger BKV=null
trigger BKW=null
trigger BKX=null
trigger BKY=null
trigger BKZ=null
trigger BKa=null
trigger BKb=null
trigger BKc=null
trigger BKd=null
trigger BKe=null
trigger BKf=null
trigger BKg=null
trigger BKh=null
trigger BKi=null
trigger BKj=null
trigger BKk=null
trigger BKl=null
trigger BKm=null
trigger BKn=null
trigger BKo=null
trigger BKp=null
trigger BKq=null
trigger BKr=null
trigger BKs=null
trigger BKt=null
trigger BKu=null
trigger BKv=null
trigger BKw=null
trigger BKx=null
trigger BKy=null
trigger BKz=null
trigger sc=null
trigger sd=null
trigger se=null
trigger uT=null
trigger uW=null
trigger uw=null
trigger BK0=null
trigger BK2=null
trigger BK3=null
trigger BK5=null
trigger BK6=null
trigger BK8=null
trigger BK9=null
trigger BLB=null
trigger BLD=null
trigger pI=null
trigger pK=null
trigger pL=null
trigger pM=null
trigger BLE=null
trigger BLH=null
trigger BLK=null
trigger BLL=null
trigger BLM=null
trigger BLN=null
trigger BLO=null
trigger BLI=null
trigger BLP=null
trigger BLR=null
trigger BLT=null
trigger BLU=null
trigger BLV=null
trigger BLW=null
trigger BLX=null
trigger BLY=null
trigger BLZ=null
trigger BLa=null
trigger BLc=null
trigger BLe=null
trigger BLg=null
trigger BLh=null
trigger BLi=null
trigger BLj=null
trigger BLk=null
trigger BLl=null
trigger BLm=null
trigger BLs=null
trigger BLt=null
trigger BLu=null
trigger BLw=null
trigger BLx=null
trigger BL0=null
trigger BL1=null
trigger BL2=null
trigger BL3=null
trigger BL4=null
trigger BL6=null
trigger BL7=null
trigger BMB=null
trigger BMD=null
trigger BME=null
trigger BMG=null
trigger pO=null
trigger pS=null
trigger pT=null
trigger pP=null
trigger pQ=null
trigger pY=null
trigger pZ=null
trigger BMH=null
trigger BML=null
trigger BMN=null
trigger BMO=null
trigger BMM=null
trigger BMP=null
trigger BMQ=null
trigger BMS=null
trigger BMT=null
trigger BMU=null
trigger BMW=null
trigger BMX=null
trigger BMY=null
trigger BMa=null
trigger BMb=null
trigger BMc=null
trigger BMd=null
trigger BMe=null
trigger BMf=null
trigger BMg=null
trigger BMh=null
trigger BMj=null
trigger BMl=null
trigger BMm=null
trigger BMk=null
trigger BMn=null
trigger BMo=null
trigger BMp=null
trigger BJC=null
trigger BMq=null
trigger BMr=null
trigger BMs=null
trigger BMu=null
trigger pa=null
trigger wc=null
trigger wd=null
trigger BMv=null
trigger BMx=null
trigger BMy=null
trigger BMz=null
trigger BLJ=null
trigger BM2=null
trigger BM3=null
trigger BM4=null
trigger BM5=null
trigger BM6=null
trigger BM7=null
trigger BM9=null
trigger BNB=null
trigger BNC=null
trigger BND=null
trigger lF=null
trigger mD=null
trigger mF=null
trigger mE=null
trigger pb=null
trigger pc=null
trigger pe=null
trigger pf=null
trigger pd=null
trigger BNE=null
trigger rv=null
trigger rw=null
trigger rx=null
trigger ry=null
trigger rz=null
trigger BNF=null
trigger BNG=null
trigger BNH=null
trigger BNI=null
trigger BNJ=null
trigger BNL=null
trigger BNK=null
trigger ps=null
trigger pu=null
trigger pv=null
trigger pw=null
trigger pz=null
trigger p0=null
trigger p1=null
trigger p2=null
trigger p7=null
trigger p6=null
trigger p8=null
trigger p9=null
trigger BNM=null
trigger BNN=null
trigger BNP=null
trigger BNQ=null
trigger BNR=null
trigger BNS=null
trigger BNT=null
trigger BNU=null
trigger BNV=null
trigger BNW=null
trigger BNX=null
trigger BNY=null
trigger BNZ=null
trigger BNa=null
trigger BNb=null
trigger BNc=null
trigger BNd=null
trigger BNe=null
trigger BNf=null
trigger BNg=null
trigger BNi=null
trigger BNj=null
trigger BNk=null
trigger BNh=null
trigger BNq=null
trigger BNr=null
trigger BNu=null
trigger pl=null
trigger BNv=null
trigger BNx=null
trigger BNy=null
trigger BN0=null
trigger BN1=null
trigger BN5=null
trigger BN6=null
trigger BN7=null
trigger BN8=null
trigger BN9=null
trigger BOC=null
trigger BOD=null
trigger BOE=null
trigger BOF=null
trigger BOG=null
trigger BOH=null
trigger BOJ=null
trigger BOI=null
trigger BOK=null
trigger BOL=null
trigger BOM=null
trigger BON=null
trigger rs=null
trigger qB=null
trigger qF=null
trigger BOO=null
trigger qG=null
trigger qI=null
trigger qJ=null
trigger qK=null
trigger qN=null
trigger qR=null
trigger qU=null
trigger rj=null
trigger rk=null
trigger qV=null
trigger qZ=null
trigger qa=null
trigger qc=null
trigger qd=null
trigger qe=null
trigger qf=null
trigger qq=null
trigger qs=null
trigger qt=null
trigger qu=null
trigger qy=null
trigger qz=null
trigger q0=null
trigger we=null
trigger wf=null
trigger wg=null
trigger BBV=null
trigger BBY=null
trigger BBZ=null
trigger BBa=null
trigger BBe=null
trigger BBR=null
trigger BBT=null
trigger BBU=null
trigger BBN=null
trigger BBO=null
trigger BBQ=null
trigger zd=null
trigger zP=null
trigger zQ=null
trigger zR=null
trigger zJ=null
trigger zK=null
trigger zN=null
trigger zS=null
trigger zO=null
trigger zF=null
trigger zI=null
trigger zC=null
trigger zD=null
trigger zE=null
trigger y4=null
trigger y5=null
trigger y6=null
trigger y8=null
trigger zB=null
trigger yl=null
trigger ym=null
trigger yn=null
trigger yp=null
trigger yz=null
trigger y0=null
trigger y1=null
trigger y2=null
trigger y3=null
trigger yq=null
trigger yr=null
trigger ys=null
trigger yt=null
trigger yv=null
trigger yu=null
trigger yx=null
trigger yy=null
trigger xG=null
trigger xH=null
trigger ye=null
trigger yg=null
trigger yi=null
trigger yj=null
trigger yk=null
trigger xJ=null
trigger xD=null
trigger w6=null
trigger w7=null
trigger w8=null
trigger w9=null
trigger xB=null
trigger xC=null
trigger xE=null
trigger xF=null
trigger xM=null
trigger xN=null
trigger xP=null
trigger xQ=null
trigger BBL=null
trigger BBM=null
trigger BBI=null
trigger BBK=null
trigger BBG=null
trigger BBH=null
trigger zb=null
trigger zc=null
trigger ze=null
trigger zf=null
trigger zg=null
trigger zh=null
trigger zi=null
trigger zj=null
trigger zk=null
trigger zl=null
trigger zm=null
trigger zn=null
trigger zp=null
trigger zq=null
trigger zr=null
trigger zu=null
trigger zv=null
trigger zw=null
trigger zx=null
trigger z9=null
trigger BBB=null
trigger BBC=null
trigger BBD=null
trigger BBE=null
trigger BBF=null
trigger zy=null
trigger zz=null
trigger z0=null
trigger z2=null
trigger z3=null
trigger z4=null
trigger z5=null
trigger z6=null
trigger z7=null
trigger z8=null
trigger sP=null
trigger sb=null
trigger q1=null
trigger q4=null
trigger q5=null
trigger q7=null
trigger q9=null
trigger rC=null
trigger rF=null
trigger rG=null
trigger rH=null
trigger rI=null
trigger rK=null
trigger rN=null
trigger rP=null
trigger rL=null
trigger rO=null
trigger rQ=null
trigger rS=null
trigger rT=null
trigger rV=null
trigger rW=null
trigger ra=null
trigger rb=null
trigger rc=null
trigger rd=null
trigger rf=null
trigger rg=null
trigger rh=null
trigger ri=null
trigger sQ=null
trigger sR=null
trigger sS=null
trigger wG=null
trigger wH=null
trigger sT=null
trigger wJ=null
trigger wK=null
trigger wL=null
trigger wM=null
trigger BCV=null
trigger BCX=null
trigger wN=null
trigger wY=null
trigger wZ=null
trigger wa=null
trigger wP=null
trigger wQ=null
trigger wR=null
trigger wT=null
trigger wU=null
trigger wV=null
trigger wW=null
trigger wX=null
trigger zW=null
trigger zX=null
trigger zY=null
trigger zZ=null
trigger za=null
trigger oh=null
trigger oI=null
trigger oK=null
trigger oL=null
trigger oM=null
trigger oO=null
trigger oR=null
trigger oS=null
trigger oT=null
trigger oU=null
trigger oc=null
trigger od=null
trigger oe=null
trigger of=null
trigger og=null
trigger BCL=null
trigger BCM=null
trigger BCN=null
trigger BCQ=null
trigger BCR=null
trigger BCS=null
trigger BCU=null
trigger BCK=null
trigger BCJ=null
trigger BB2=null
trigger BB4=null
trigger BB5=null
trigger BB6=null
trigger BB7=null
trigger BB8=null
trigger BB9=null
trigger BCB=null
trigger BCC=null
trigger BCI=null
trigger BBf=null
trigger BBi=null
trigger BBj=null
trigger BBk=null
trigger BBo=null
trigger BBp=null
trigger BBt=null
trigger vd=null
trigger BBu=null
trigger BBr=null
trigger BBv=null
trigger BBs=null
trigger BBw=null
trigger BBx=null
trigger BBy=null
trigger BBz=null
trigger BB0=null
trigger BB1=null
trigger u0=null
trigger u7=null
trigger u8=null
trigger u9=null
trigger vB=null
trigger vC=null
trigger vD=null
trigger vE=null
trigger vF=null
trigger vG=null
trigger vH=null
trigger vL=null
trigger vM=null
trigger vT=null
trigger vU=null
trigger vV=null
trigger vW=null
trigger vX=null
trigger vY=null
trigger vZ=null
trigger vN=null
trigger vO=null
trigger vQ=null
trigger vR=null
trigger vS=null
trigger va=null
trigger v5=null
trigger v6=null
trigger v8=null
trigger v9=null
trigger wB=null
trigger wC=null
trigger vP=null
trigger v7=null
trigger zT=null
trigger zU=null
trigger zV=null
trigger w5=null
trigger BOP=null
trigger BOQ=null
trigger BOR=null
trigger BOS=null
trigger BOT=null
trigger BOU=null
trigger BOV=null
trigger BOW=null
trigger BOX=null
trigger BOY=null
trigger BOZ=null
trigger BOa=null
trigger BOb=null
trigger BOc=null
trigger BOd=null
trigger vf=null
trigger vg=null
trigger vh=null
trigger wo=null
trigger wp=null
trigger BOe=null
trigger BOf=null
trigger BOg=null
trigger BOh=null
trigger BOi=null
trigger BOj=null
trigger BOk=null
trigger BOl=null
trigger BOm=null
trigger BOn=null
trigger BOo=null
trigger BOp=null
trigger BOq=null
trigger BOr=null
trigger BOs=null
trigger BOt=null
trigger BOu=null
trigger BOv=null
trigger BOw=null
trigger BOx=null
trigger BOy=null
trigger BOz=null
trigger BO0=null
trigger BO1=null
trigger BO2=null
trigger BO3=null
trigger BO4=null
trigger BO5=null
trigger BO6=null
trigger BO7=null
trigger BO8=null
trigger BO9=null
trigger BPB=null
trigger BPC=null
trigger BPD=null
trigger kW=null
trigger kp=null
trigger xR=null
trigger xS=null
trigger xT=null
trigger xU=null
trigger xV=null
trigger xW=null
trigger xX=null
trigger xY=null
trigger xZ=null
trigger xa=null
trigger xb=null
trigger xc=null
trigger xd=null
trigger xe=null
trigger xf=null
trigger xg=null
trigger xh=null
trigger xi=null
trigger xj=null
trigger xk=null
trigger xl=null
trigger xm=null
trigger xn=null
trigger xo=null
trigger xp=null
trigger xq=null
trigger xr=null
trigger xs=null
trigger xt=null
trigger xu=null
trigger xv=null
trigger xw=null
trigger xx=null
trigger xy=null
trigger xz=null
trigger x0=null
trigger x1=null
trigger x2=null
trigger x3=null
trigger x4=null
trigger x5=null
trigger x6=null
trigger x7=null
trigger x8=null
trigger x9=null
trigger yB=null
trigger yC=null
trigger yD=null
trigger BPE=null
trigger BPF=null
trigger BPG=null
trigger BPH=null
trigger BPI=null
trigger BPJ=null
trigger BPK=null
trigger BPL=null
trigger BPM=null
trigger BPN=null
trigger BPO=null
trigger BPP=null
trigger BPQ=null
trigger BPR=null
trigger BPS=null
trigger BPT=null
trigger BPU=null
trigger BPV=null
trigger BPW=null
trigger BPY=null
trigger BPX=null
trigger BPa=null
trigger BPb=null
trigger BPc=null
trigger BPd=null
trigger BPe=null
trigger BPf=null
trigger BPg=null
trigger BPh=null
trigger BPi=null
trigger BPj=null
trigger BPk=null
trigger BPl=null
trigger BPm=null
trigger BPn=null
trigger BPo=null
trigger BPp=null
trigger BPq=null
trigger BPr=null
trigger BPs=null
trigger BPt=null
trigger BPu=null
trigger BPv=null
trigger pg=null
trigger BPw=null
trigger BPy=null
trigger BPz=null
trigger nw=null
trigger nx=null
trigger ny=null
trigger vy=null
trigger vz=null
trigger BP1=null
trigger m4=null
trigger m6=null
trigger BP2=null
trigger BP3=null
trigger BP4=null
trigger BP5=null
trigger sM=null
trigger nE=null
trigger nZ=null
trigger nd=null
trigger na=null
trigger nf=null
trigger nb=null
trigger ng=null
trigger nh=null
trigger nc=null
trigger nj=null
trigger nk=null
trigger nl=null
trigger np=null
trigger sO=null
trigger wh=null
trigger r1=null
trigger r2=null
trigger r3=null
trigger r4=null
trigger r6=null
trigger r7=null
trigger r8=null
trigger r9=null
trigger sB=null
trigger sD=null
trigger r5=null
trigger sL=null
trigger sN=null
trigger wj=null
trigger BP6=null
trigger BP7=null
trigger BP8=null
trigger BQB=null
trigger BQD=null
trigger BQE=null
trigger BQF=null
trigger BQG=null
trigger BQH=null
trigger BQI=null
trigger BQJ=null
trigger BQK=null
trigger pk=null
trigger BQL=null
trigger oF=null
trigger pm=null
trigger pn=null
trigger po=null
trigger pp=null
trigger pr=null
trigger yN=null
trigger yO=null
trigger yP=null
trigger yQ=null
trigger yR=null
trigger yV=null
trigger yX=null
trigger yY=null
trigger yZ=null
trigger ya=null
trigger yb=null
trigger yc=null
trigger yd=null
trigger nH=null
trigger nI=null
trigger nM=null
trigger nO=null
trigger nP=null
trigger nQ=null
trigger nR=null
trigger nS=null
trigger nT=null
trigger nU=null
trigger nJ=null
trigger nK=null
trigger nL=null
trigger nV=null
trigger nW=null
trigger nY=null
trigger xI=null
trigger xL=null
trigger yE=null
trigger yF=null
trigger vx=null
trigger v0=null
trigger v1=null
trigger v2=null
trigger v3=null
trigger BQM=null
trigger BQP=null
trigger BQO=null
trigger BQQ=null
trigger BQS=null
trigger BQR=null
trigger BQT=null
trigger BQU=null
trigger BQV=null
trigger BQW=null
trigger BQX=null
trigger BQY=null
trigger BQa=null
trigger BQb=null
trigger BQc=null
trigger BQd=null
trigger BQe=null
trigger BQf=null
trigger BQg=null
trigger ph=null
trigger pi=null
trigger BQh=null
trigger BQi=null
trigger BQk=null
trigger BQj=null
trigger BQl=null
trigger BQm=null
trigger BQn=null
trigger BQp=null
trigger BQq=null
trigger BQo=null
trigger BQr=null
trigger BQs=null
trigger BQu=null
trigger BQt=null
trigger BQv=null
trigger BQx=null
trigger BQz=null
trigger BQy=null
trigger BQ0=null
trigger BQ1=null
trigger BQ2=null
trigger BQ3=null
trigger BQ4=null
trigger BQ5=null
trigger BQ6=null
trigger BQ7=null
trigger BQ8=null
trigger BQ9=null
trigger BRB=null
trigger BRG=null
trigger BRD=null
trigger BRH=null
trigger BRE=null
trigger BRI=null
trigger BRJ=null
trigger BRK=null
trigger BRL=null
trigger BRM=null
trigger BRN=null
trigger BRO=null
trigger nm=null
trigger nn=null
trigger no=null
trigger wi=null
trigger wk=null
trigger wl=null
trigger wm=null
trigger wn=null
trigger wq=null
trigger wr=null
trigger ws=null
trigger wt=null
trigger wu=null
trigger wv=null
trigger ww=null
trigger wx=null
trigger wy=null
trigger w0=null
trigger w1=null
trigger BRP=null
trigger BRQ=null
trigger BRS=null
trigger BRT=null
trigger BRR=null
trigger BRW=null
trigger BRV=null
trigger BRZ=null
trigger BRY=null
trigger BRa=null
trigger BRb=null
trigger BRc=null
trigger BRd=null
trigger BRe=null
trigger BRf=null
trigger BRg=null
trigger BRh=null
trigger vm=null
trigger vn=null
trigger BRi=null
trigger BRj=null
trigger BRk=null
trigger BRm=null
trigger BRn=null
trigger BRp=null
trigger BRq=null
trigger BRr=null
trigger BRu=null
trigger BRw=null
trigger BRv=null
trigger BRz=null
trigger BRy=null
trigger BR1=null
trigger BR0=null
trigger BR3=null
trigger BR2=null
trigger BR4=null
trigger BRs=null
trigger BR5=null
trigger BR6=null
trigger BR7=null
trigger BR8=null
trigger BSC=null
trigger BSD=null
trigger BR9=null
trigger BSB=null
trigger BSE=null
trigger BSF=null
trigger BSH=null
trigger BSI=null
trigger BSJ=null
trigger BSK=null
trigger BSL=null
trigger BSM=null
trigger BSN=null
trigger BSO=null
trigger BSP=null
trigger BSQ=null
trigger BSR=null
trigger BST=null
trigger BSU=null
trigger BSV=null
trigger BSX=null
trigger BSY=null
trigger m9=null
trigger nC=null
trigger BSZ=null
trigger BSa=null
trigger BSb=null
trigger BSc=null
trigger BSf=null
trigger BSg=null
trigger BSi=null
trigger BSe=null
trigger BSj=null
trigger BSk=null
trigger BSl=null
trigger BSm=null
trigger BSn=null
trigger my=null
trigger m0=null
trigger BSo=null
trigger BSp=null
trigger BSq=null
trigger BSr=null
trigger BSs=null
trigger BSt=null
trigger BSu=null
trigger BSw=null
trigger BSy=null
trigger BS0=null
trigger BS2=null
trigger BS4=null
trigger BS6=null
trigger BS8=null
trigger BTB=null
trigger BTC=null
trigger BTD=null
trigger BTE=null
trigger BTF=null
trigger BTG=null
trigger BTH=null
trigger BTI=null
trigger BTK=null
trigger BTM=null
trigger BTJ=null
trigger BTN=null
trigger yG=null
trigger yH=null
trigger BTO=null
trigger BTP=null
trigger BTS=null
trigger BTT=null
trigger BTU=null
trigger BTV=null
trigger BTQ=null
trigger BTR=null
trigger BTW=null
trigger BTX=null
trigger BTY=null
trigger BTZ=null
trigger BTa=null
trigger BTb=null
trigger BTc=null
trigger BTd=null
trigger BTe=null
trigger BTf=null
trigger BTg=null
trigger BTh=null
trigger BTj=null
trigger BTk=null
trigger BTl=null
trigger BTm=null
trigger BTn=null
trigger BTp=null
trigger BTq=null
trigger BTr=null
trigger BTs=null
trigger BTt=null
trigger BTu=null
trigger BTv=null
trigger BTw=null
trigger BTx=null
trigger BTy=null
trigger BTz=null
trigger BT0=null
trigger BT1=null
trigger BT2=null
trigger BT3=null
trigger BT4=null
trigger BT5=null
trigger BT6=null
trigger BT7=null
trigger BT8=null
trigger BT9=null
trigger BUB=null
trigger BUC=null
trigger BUD=null
trigger BUE=null
trigger BUF=null
trigger BUG=null
trigger BUH=null
trigger BUI=null
trigger BUJ=null
trigger BUK=null
trigger BUL=null
trigger BUM=null
trigger BUN=null
trigger BUO=null
trigger BUP=null
trigger BUQ=null
trigger BUR=null
trigger BUS=null
trigger BUT=null
trigger BUU=null
trigger BUV=null
trigger BUW=null
trigger BUX=null
trigger BUY=null
trigger BUZ=null
trigger BUa=null
trigger BUb=null
trigger BUc=null
trigger BUd=null
trigger BUe=null
trigger BUf=null
trigger BUi=null
trigger BUj=null
trigger BUh=null
trigger BUk=null
trigger BUn=null
trigger BUm=null
trigger BUo=null
trigger BUp=null
trigger BUs=null
trigger BUr=null
trigger BUt=null
trigger BUu=null
trigger m2=null
trigger m3=null
trigger BUv=null
trigger BUx=null
trigger BUy=null
trigger BUz=null
trigger BU0=null
trigger BU2=null
trigger BU3=null
trigger BU4=null
trigger BU7=null
trigger BU6=null
trigger BU9=null
trigger BU8=null
trigger BVB=null
trigger BVD=null
trigger BVE=null
trigger BVC=null
trigger BVF=null
trigger BVG=null
trigger BVH=null
trigger BDw=null
trigger BVK=null
trigger BVL=null
trigger BVJ=null
trigger BVM=null
trigger BVN=null
trigger BVO=null
trigger BVP=null
trigger BVQ=null
trigger BVR=null
trigger BVS=null
trigger BVT=null
trigger BVV=null
trigger BVW=null
trigger BVX=null
trigger BVY=null
trigger BVZ=null
trigger BVa=null
trigger BVb=null
trigger BVc=null
trigger BVd=null
trigger BVe=null
trigger BVf=null
trigger BVg=null
trigger BVh=null
trigger BVi=null
trigger BVj=null
trigger BVk=null
trigger BVl=null
trigger BVm=null
trigger BVn=null
trigger BVo=null
trigger BVp=null
trigger BVq=null
trigger BVr=null
trigger BVs=null
trigger BVt=null
trigger BVu=null
trigger BVv=null
trigger BVw=null
trigger BVy=null
trigger BV0=null
trigger BV1=null
trigger BVz=null
trigger BV2=null
trigger BV4=null
trigger BV6=null
trigger BV7=null
trigger BV5=null
trigger BV8=null
trigger BV9=null
trigger BWB=null
trigger BWC=null
trigger BWD=null
trigger BWE=null
trigger BWF=null
trigger BWG=null
trigger BWH=null
trigger BWI=null
trigger BWJ=null
trigger BWK=null
trigger BWL=null
trigger BWM=null
trigger BWN=null
trigger BWO=null
trigger BWP=null
trigger BWQ=null
trigger BWR=null
trigger BWS=null
trigger BWT=null
trigger lE=null
trigger BWU=null
trigger BWV=null
trigger mI=null
trigger mJ=null
trigger mL=null
trigger mN=null
trigger mO=null
trigger mQ=null
trigger mM=null
trigger mR=null
trigger mS=null
trigger mT=null
trigger mU=null
trigger mV=null
trigger kN=null
trigger kO=null
trigger kP=null
trigger kQ=null
trigger kR=null
trigger kS=null
trigger kT=null
trigger kU=null
trigger kV=null
trigger kX=null
trigger kZ=null
trigger ka=null
trigger kb=null
trigger kc=null
trigger kd=null
trigger ke=null
trigger kg=null
trigger ki=null
trigger kk=null
trigger kl=null
trigger kn=null
trigger ko=null
trigger kq=null
trigger kr=null
trigger ks=null
trigger kt=null
trigger ku=null
trigger kv=null
trigger kw=null
trigger kx=null
trigger ky=null
trigger BWW=null
trigger BWY=null
trigger BWa=null
trigger BWc=null
trigger BWe=null
trigger BWg=null
trigger BWi=null
trigger BWk=null
trigger BWm=null
trigger BWo=null
trigger BWq=null
trigger BWs=null
trigger BWu=null
trigger BWw=null
trigger BWy=null
trigger BW0=null
trigger BW2=null
trigger BW3=null
trigger BW5=null
trigger BW6=null
trigger BW7=null
trigger BW9=null
trigger BXC=null
trigger BXE=null
trigger BXG=null
trigger BXH=null
trigger BXI=null
trigger BXJ=null
trigger BXK=null
trigger BXM=null
trigger BXN=null
trigger BXP=null
trigger BXQ=null
trigger BXR=null
trigger BXT=null
trigger BXV=null
trigger BXX=null
trigger BXY=null
trigger BXZ=null
trigger BXa=null
trigger BXb=null
trigger BXd=null
trigger BXf=null
trigger BXh=null
trigger BXj=null
trigger BXl=null
trigger BXn=null
trigger BXp=null
trigger BXr=null
trigger BXt=null
trigger BXv=null
trigger BXx=null
trigger BXz=null
trigger BX1=null
trigger BX3=null
trigger BX5=null
trigger BX7=null
trigger BX9=null
trigger BYC=null
trigger BYE=null
trigger BYG=null
trigger BYI=null
trigger BYK=null
trigger BYM=null
trigger BYO=null
trigger BYQ=null
trigger BYS=null
trigger BYU=null
trigger BYW=null
trigger BYY=null
trigger BYa=null
trigger BYc=null
trigger BYe=null
trigger BYg=null
trigger BYi=null
trigger BYk=null
trigger BYm=null
trigger BYp=null
trigger BYr=null
trigger BYu=null
trigger BYx=null
trigger BYz=null
trigger BY1=null
trigger BY2=null
trigger BY3=null
trigger BY4=null
trigger BY5=null
trigger BY6=null
trigger BY7=null
trigger BY8=null
trigger BY9=null
trigger BZB=null
trigger BZC=null
trigger mG=null
trigger sG=null
trigger BZD=null
trigger BZF=null
trigger BZN=null
trigger BZO=null
trigger BZQ=null
trigger BZR=null
trigger BZG=null
trigger BZS=null
trigger BZT=null
trigger BZU=null
trigger BZV=null
trigger BZW=null
trigger BZX=null
trigger BZY=null
trigger BZZ=null
trigger BZe=null
trigger BZg=null
trigger BZl=null
trigger BZa=null
trigger BZb=null
trigger BZc=null
trigger BZd=null
trigger BZn=null
trigger BZh=null
trigger BZp=null
trigger BZi=null
trigger BZq=null
trigger mH=null
trigger BZr=null
trigger BZs=null
trigger BZt=null
trigger BZu=null
trigger BZv=null
trigger BZw=null
trigger BZy=null
trigger BZz=null
trigger BZ1=null
trigger BZ2=null
trigger BZ3=null
trigger BZ4=null
trigger BZ6=null
trigger BZ7=null
trigger BaG=null
trigger BaH=null
trigger BaI=null
trigger BaJ=null
trigger BaM=null
trigger BaQ=null
trigger BaR=null
trigger BaO=null
trigger BaP=null
trigger BaS=null
trigger BaT=null
trigger BaV=null
trigger BZ9=null
trigger BaB=null
trigger BaC=null
trigger BaX=null
trigger BaK=null
trigger BaZ=null
trigger Baa=null
trigger Bab=null
trigger Bad=null
trigger BaD=null
trigger BaE=null
trigger BaF=null
trigger Baf=null
trigger BaL=null
trigger Bah=null
trigger Bai=null
trigger Baj=null
trigger Ban=null
trigger Bao=null
trigger Bap=null
trigger Baq=null
trigger Bar=null
trigger Bas=null
trigger Bak=null
trigger Bal=null
trigger Baw=null
trigger Bay=null
trigger Ba0=null
trigger Bam=null
trigger Ba2=null
trigger Ba4=null
trigger Ba5=null
trigger k6=null
trigger k8=null
trigger k7=null
trigger vI=null
trigger vJ=null
trigger vK=null
trigger ru=null
trigger Ba6=null
trigger Ba7=null
trigger Ba9=null
trigger BbB=null
trigger BbC=null
trigger BbD=null
trigger BbE=null
trigger BbG=null
trigger BbH=null
trigger BbI=null
trigger BbJ=null
trigger BbK=null
trigger BbL=null
trigger BbM=null
trigger BbN=null
trigger BbO=null
trigger BbQ=null
trigger BbR=null
trigger BbS=null
trigger BbT=null
trigger BbU=null
trigger BbV=null
trigger BbW=null
trigger BbX=null
trigger BbY=null
trigger BbZ=null
trigger Bbd=null
trigger Bbe=null
trigger Bbf=null
trigger Bba=null
trigger Bbg=null
trigger Bbh=null
trigger Bbi=null
trigger Bbj=null
trigger Bbb=null
trigger Bbk=null
trigger Bbl=null
trigger Bbm=null
trigger Bbn=null
trigger Bbo=null
trigger Bbp=null
trigger Bbr=null
trigger Bbs=null
trigger Bbt=null
trigger Bbu=null
trigger Bbv=null
trigger Bbw=null
trigger Bbx=null
trigger Bby=null
trigger Bb1=null
trigger Bb2=null
trigger Bb3=null
trigger Bb4=null
trigger xO=null
trigger Bb5=null
trigger Bb6=null
trigger Bb8=null
trigger Bb9=null
trigger BcC=null
trigger BcD=null
trigger BcE=null
trigger BcF=null
trigger BcG=null
trigger BcH=null
trigger BcI=null
trigger BcK=null
trigger BcL=null
trigger BcM=null
trigger BcN=null
trigger BcQ=null
trigger BcR=null
trigger BcO=null
trigger BcP=null
trigger BZH=null
trigger BcX=null
trigger BcS=null
trigger BcY=null
trigger BcT=null
trigger BcV=null
trigger BcZ=null
trigger Bcb=null
trigger Bcc=null
trigger Bcd=null
trigger Bce=null
trigger Bcf=null
trigger Bcg=null
trigger Bch=null
trigger Bci=null
trigger Bcj=null
trigger Bck=null
trigger Bcl=null
trigger Bcm=null
trigger Bcn=null
trigger Bco=null
trigger Bcp=null
trigger Bcq=null
trigger BFw=null
trigger BZJ=null
trigger BZK=null
trigger Bct=null
trigger Bcs=null
trigger Bcr=null
trigger Bcx=null
trigger Bcu=null
trigger Bcv=null
trigger Bcy=null
trigger BZI=null
trigger Bcz=null
trigger Bc0=null
trigger Bc1=null
trigger w4=null
trigger Bc2=null
trigger Bc5=null
trigger Bc6=null
trigger Bc7=null
trigger Bc8=null
trigger Bc9=null
trigger BdB=null
trigger BdC=null
trigger BdD=null
trigger BdF=null
trigger BdG=null
trigger BdH=null
trigger BdI=null
trigger BdJ=null
trigger BdK=null
trigger BdL=null
trigger BdM=null
trigger BdN=null
trigger BdO=null
trigger BdP=null
trigger BdQ=null
trigger BdR=null
trigger BdS=null
trigger BdT=null
trigger BdU=null
trigger BdV=null
trigger BdW=null
trigger BdX=null
trigger BdY=null
trigger BdZ=null
trigger Bda=null
trigger Bdb=null
trigger Bdc=null
trigger Bdd=null
trigger Bde=null
trigger Bdf=null
trigger Bdg=null
trigger Bdh=null
trigger Bdi=null
trigger Bdj=null
trigger Bdk=null
trigger Bdl=null
trigger Bdm=null
trigger Bdo=null
trigger Bds=null
trigger Bdt=null
trigger Bd0=null
trigger Bdr=null
trigger Bdv=null
trigger Bdw=null
trigger Bdx=null
trigger Bdy=null
trigger Bd1=null
trigger Bdu=null
trigger Bd3=null
trigger Bd4=null
trigger Bd5=null
trigger Bd6=null
trigger Bd7=null
trigger Bd8=null
trigger BZ5=null
trigger BeB=null
trigger BeC=null
trigger BeD=null
trigger BeE=null
trigger BeF=null
trigger BeG=null
trigger BeH=null
trigger BeI=null
trigger BeJ=null
trigger BeK=null
trigger BeL=null
trigger BeM=null
trigger BeN=null
trigger BeO=null
trigger BeP=null
trigger BeQ=null
trigger BeR=null
trigger BeS=null
trigger BeT=null
trigger BeU=null
trigger BeV=null
trigger BeW=null
trigger BeX=null
trigger BeY=null
trigger BeZ=null
trigger Bea=null
trigger Beb=null
trigger Bec=null
trigger Bed=null
trigger Bee=null
trigger Bef=null
trigger Beg=null
trigger Beh=null
trigger Bei=null
trigger Bej=null
trigger Bek=null
trigger Bel=null
trigger Bem=null
trigger Ben=null
trigger Beo=null
trigger Bep=null
trigger Beq=null
trigger Bes=null
trigger Bet=null
trigger Bev=null
trigger Beu=null
trigger Bew=null
trigger Bd9=null
trigger Bex=null
trigger BaN=null
trigger Bez=null
trigger Be0=null
trigger Be1=null
trigger Be2=null
trigger Be3=null
trigger Be4=null
trigger Be5=null
trigger Be6=null
trigger Be7=null
trigger Be8=null
trigger Be9=null
trigger BfB=null
trigger BfC=null
trigger BfD=null
trigger BfG=null
trigger BfF=null
trigger BfI=null
trigger BfH=null
trigger wz=null
trigger w2=null
trigger Ba3=null
trigger BfJ=null
trigger BfK=null
trigger BfL=null
trigger jx=null
trigger jy=null
trigger jz=null
trigger j0=null
trigger j2=null
trigger j1=null
trigger j7=null
trigger j8=null
trigger kB=null
trigger j5=null
trigger kG=null
trigger j6=null
trigger kI=null
trigger kJ=null
trigger kK=null
trigger kz=null
trigger k1=null
trigger k2=null
trigger k4=null
trigger k5=null
unit Uc=null
unit Ud=null
unit Ue=null
unit Uf=null
unit Ug=null
unit Uh=null
unit Ui=null
unit Uj=null
unit Uk=null
unit Ul=null
unit Um=null
unit Un=null
unit Uo=null
unit Up=null
unit Uq=null
unit Ur=null
unit Us=null
unit Ut=null
unit Uu=null
unit Uv=null
unit Uw=null
unit Ux=null
unit Uy=null
item UG=null
unit Uz=null
unit U0=null
unit U1=null
unit U2=null
unit U3=null
unit U4=null
unit U5=null
unit U6=null
unit U7=null
unit U8=null
unit U9=null
unit VB=null
unit VC=null
item UH=null
item UI=null
unit VD=null
unit VE=null
unit VF=null
unit VG=null
unit VH=null
unit VI=null
unit VJ=null
unit VK=null
unit VL=null
unit VM=null
unit VN=null
unit VO=null
unit VP=null
unit VQ=null
unit VR=null
unit VS=null
unit VT=null
unit VU=null
unit VV=null
unit VW=null
unit VX=null
unit VY=null
unit VZ=null
unit Va=null
unit Vb=null
unit Vc=null
unit Vd=null
unit Ve=null
unit Vf=null
unit Vg=null
unit Vh=null
unit Vi=null
unit Vj=null
unit Vk=null
unit Vl=null
unit Vm=null
unit Vn=null
unit Vo=null
unit Vp=null
unit Vq=null
unit Vr=null
unit Vs=null
unit Vt=null
unit Vu=null
unit Vv=null
unit Vw=null
unit Vx=null
unit Vy=null
unit Vz=null
unit V0=null
unit V1=null
unit V2=null
unit V3=null
unit V4=null
unit V5=null
unit V6=null
unit V7=null
unit V8=null
unit V9=null
unit WB=null
unit WC=null
unit WD=null
unit WE=null
unit WF=null
unit WG=null
unit WH=null
unit WI=null
unit WJ=null
unit WK=null
unit WL=null
unit WM=null
unit WN=null
unit WO=null
unit WP=null
unit WQ=null
unit WR=null
unit WS=null
unit WT=null
unit WU=null
unit WV=null
unit WW=null
unit WX=null
unit WY=null
unit WZ=null
unit Wa=null
unit Wb=null
unit Wc=null
unit Wd=null
unit We=null
unit Wf=null
unit Wg=null
unit Wh=null
unit Wi=null
unit Wj=null
unit Wk=null
unit Wl=null
item UJ=null
unit Wm=null
unit Wn=null
unit Wo=null
unit Wp=null
unit Wq=null
unit Wr=null
unit Ws=null
unit Wt=null
unit Wu=null
unit Wv=null
unit Ww=null
unit Wx=null
unit Wy=null
unit Wz=null
unit W0=null
unit W1=null
unit W2=null
unit W3=null
unit W4=null
unit W5=null
unit W6=null
unit W7=null
unit W8=null
unit W9=null
unit XB=null
unit XC=null
unit XD=null
unit XE=null
unit XF=null
unit XG=null
unit XH=null
unit XI=null
unit XJ=null
unit XK=null
unit XL=null
unit XM=null
item UK=null
unit XN=null
unit XO=null
unit XP=null
unit XQ=null
unit XR=null
unit XS=null
item UL=null
unit XT=null
unit XU=null
unit XV=null
unit XW=null
unit XX=null
unit XY=null
unit XZ=null
unit Xa=null
unit Xb=null
unit Xc=null
unit Xd=null
unit Xe=null
unit Xf=null
unit Xg=null
unit Xh=null
unit Xi=null
unit Xj=null
unit Xk=null
unit Xl=null
unit Xm=null
unit Xn=null
unit Xo=null
unit Xp=null
unit Xq=null
unit Xr=null
unit Xs=null
unit Xt=null
unit Xu=null
unit Xv=null
unit Xw=null
unit Xx=null
unit Xy=null
unit Xz=null
unit X0=null
unit X1=null
unit X2=null
unit X3=null
unit X4=null
unit X5=null
unit X6=null
unit X7=null
unit X8=null
unit X9=null
unit YB=null
unit YC=null
unit YD=null
unit YE=null
unit YF=null
unit YG=null
unit YH=null
unit YI=null
unit YJ=null
unit YK=null
unit YL=null
unit YM=null
item UM=null
unit YN=null
unit YO=null
unit YP=null
unit YQ=null
item UN=null
item UO=null
item UP=null
unit YR=null
unit YS=null
unit YT=null
unit YU=null
unit YV=null
unit YW=null
unit YX=null
unit YY=null
unit YZ=null
unit Ya=null
unit Yb=null
unit Yc=null
unit Yd=null
unit Ye=null
unit Yf=null
unit Yg=null
unit Yh=null
unit Yi=null
unit Yj=null
unit Yk=null
unit Yl=null
unit Ym=null
unit Yn=null
unit Yo=null
unit Yp=null
unit Yq=null
unit Yr=null
unit Ys=null
item UQ=null
item UR=null
item US=null
unit Yt=null
unit Yu=null
unit Yv=null
unit Yw=null
unit Yx=null
unit Yy=null
unit Yz=null
unit Y0=null
unit Y1=null
unit Y2=null
unit Y3=null
unit Y4=null
unit Y5=null
unit Y6=null
unit Y7=null
unit Y8=null
unit Y9=null
item UT=null
unit ZB=null
unit ZC=null
unit ZD=null
unit ZE=null
unit ZF=null
unit ZG=null
unit ZH=null
unit ZI=null
unit ZJ=null
unit ZK=null
unit ZL=null
unit ZM=null
unit ZN=null
unit ZO=null
unit ZP=null
unit ZQ=null
unit ZR=null
unit ZS=null
item UU=null
item UV=null
item UW=null
item UX=null
unit ZT=null
unit ZU=null
item UY=null
item UZ=null
unit ZV=null
unit ZW=null
unit ZX=null
unit ZY=null
unit ZZ=null
unit Za=null
unit Zb=null
unit Zc=null
unit Zd=null
unit Ze=null
unit Zf=null
unit Zg=null
unit Zh=null
item Ua=null
unit Zi=null
unit Zj=null
unit Zk=null
unit Zl=null
unit Zm=null
unit Zn=null
unit Zo=null
unit Zp=null
unit Zq=null
unit Zr=null
unit Zs=null
unit Zt=null
unit Zu=null
unit Zv=null
unit Zw=null
unit Zx=null
unit Zy=null
unit Zz=null
unit Z0=null
unit Z1=null
unit Z2=null
unit Z3=null
unit Z4=null
unit Z5=null
unit Z6=null
unit Z7=null
unit Z8=null
unit Z9=null
unit aB=null
unit aC=null
unit aD=null
unit aE=null
unit aF=null
unit aG=null
unit aH=null
unit aI=null
unit aJ=null
unit aK=null
unit aM=null
unit aN=null
unit aO=null
unit aP=null
unit aQ=null
unit aR=null
unit aS=null
unit aT=null
destructable TX=null
destructable TY=null
destructable TZ=null
destructable Tg=null
destructable Th=null
destructable Ti=null
destructable Tj=null
destructable Tk=null
destructable Tl=null
destructable Tm=null
destructable Tn=null
destructable To=null
destructable Tp=null
destructable Tq=null
destructable Tr=null
destructable Ts=null
destructable Tt=null
destructable Tu=null
destructable Tv=null
destructable Tw=null
destructable Tx=null
destructable Ty=null
destructable Tz=null
destructable T0=null
destructable T1=null
destructable T2=null
destructable T3=null
destructable T4=null
destructable T5=null
destructable T6=null
destructable T7=null
destructable T8=null
destructable T9=null
destructable UB=null
destructable UC=null
destructable UD=null
destructable UE=null
destructable UF=null
trigger BCb=null
unit aL=null
integer ac=0
integer le=0
integer array ab
real array lf
real array lg
integer lZ=0
integer lb=0
integer array la
integer array ad
integer array ae
integer array af
unit array ag
unit array ah
unit array aX
real array lh
real array li
real array ai
integer array lm
integer array ln
integer array l5
integer array aj
integer array ak
integer array l6
string array al
string array am
string array an
string array ao
boolean array lk
boolean array lj
boolean array ll
group array aa
timer array aZ
integer array lc
trigger array aU
integer aV
trigger gg_trg_sssdda=null


trigger gg_trg_jaffc= null
trigger gg_trg_jaffc1= null
endglobals
native EXGetUnitAbility takes unit u,integer abilcode returns ability
native EXGetAbilityDataReal takes ability abil,integer level,integer data_type returns real
native EXGetEventDamageData takes integer edd_type returns integer
native EXSetEventDamage takes real amount returns boolean
native EXSetEffectSize takes effect e,real size returns nothing
native EXSetUnitMoveType takes unit u,integer t returns nothing
function BfM takes nothing returns integer
local integer aY=ac
if aY!=0 then
set ac=ab[aY]
else
set le=le+1
set aY=le
endif
if aY>8190 then
return 0
endif
set ab[aY]=-1
return aY
endfunction
function BfN takes integer aY returns nothing
if aY==null then
return
elseif ab[aY]!=-1 then
return
endif
set ab[aY]=ac
set ac=aY
endfunction
function BfP takes nothing returns integer
local integer aY=lZ
if aY!=0 then
set lZ=la[aY]
else
set lb=lb+1
set aY=lb
endif
if aY>8190 then
return 0
endif
set lc[aY]=2
set la[aY]=-1
return aY
endfunction
function BfQ takes integer aY returns nothing
if aY==null then
return
elseif la[aY]!=-1 then
return
endif
set aV=aY
call TriggerEvaluate(aU[lc[aY]])
set la[aY]=lZ
set lZ=aY
endfunction
function BfT takes nothing returns integer
local integer aY=BfP()
local integer ld
if aY==0 then
return 0
endif
set lc[aY]=5
set ld=aY
return aY
endfunction
function BfU takes nothing returns nothing
set aW=InitHashtable()
set ap=InitHashtable()
endfunction
function BfX takes unit Ub,integer qn,integer qo,integer qp returns real
return EXGetAbilityDataReal(EXGetUnitAbility(Ub,qn),qo,qp)
endfunction
function BiE takes unit oP,location oQ returns real
local real ly=GetUnitX(oP)-GetLocationX(oQ)
local real lz=GetUnitY(oP)-GetLocationY(oQ)
return SquareRoot(ly*ly+lz*lz)
endfunction
function BiF takes unit oP,location oQ returns real
return bj_RADTODEG*Atan2(GetLocationY(oQ)-GetUnitY(oP),GetLocationX(oQ)-GetUnitX(oP))
endfunction
function BiH takes unit oP,unit oQ returns real
return bj_RADTODEG*Atan2(GetUnitY(oQ)-GetUnitY(oP),GetUnitX(oQ)-GetUnitX(oP))
endfunction
function BiJ takes unit Ub returns nothing
call UnitAddAbility(Ub,$416D7266)
call UnitRemoveAbility(Ub,$416D7266)
endfunction
function BiR takes unit l7,integer bI returns nothing
local integer av=0
loop
exitwhen av>=l8
if l9[av]==bI then
set mB=l7
if mC[av]!=null and TriggerEvaluate(mC[av]) and IsTriggerEnabled(mC[av]) then
call TriggerExecute(mC[av])
endif
endif
set av=av+1
endloop
endfunction
function Bie takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFF1E90FF当前编辑器版本为： |r|cFF00FF00YDWE 1.32.12.181229")
return false
endfunction
function Bif takes nothing returns nothing
local trigger Tb=CreateTrigger()
local integer av=0
loop
exitwhen av==12
call TriggerRegisterPlayerChatEvent(Tb,Player(av),"YDWE Version",true)
set av=av+1
endloop
call TriggerAddCondition(Tb,Condition(function Bie))
set Tb=null
endfunction
function Big takes nothing returns nothing
set aW=InitHashtable()
set aq=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)
set ar=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)
set as=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)
set at=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)
set au[0]="|cFFFF0303"
set au[1]="|cFF0042FF"
set au[2]="|cFF1CE6B9"
set au[3]="|cFF540081"
set au[4]="|cFFFFFC01"
set au[5]="|cFFFE8A0E"
set au[6]="|cFF20C000"
set au[7]="|cFFE55BB0"
set au[8]="|cFF959697"
set au[9]="|cFF7EBFF1"
set au[10]="|cFF106246"
set au[11]="|cFF4E2A04"
set au[12]="|cFF282828"
set au[13]="|cFF282828"
set au[14]="|cFF282828"
set au[15]="|cFF282828"
call Bif()
endfunction
function Bio takes unit ji,integer jj returns item
local integer bI=0
loop
set jk=UnitItemInSlot(ji,bI)
if GetItemTypeId(jk)==jj then
return jk
endif
set bI=bI+1
exitwhen bI>=bj_MAX_INVENTORY
endloop
return null
endfunction
function Bip takes nothing returns nothing
if bj_randomSubGroupWant>0 then
if bj_randomSubGroupWant>=bj_randomSubGroupTotal or GetRandomInt(1,bj_randomSubGroupTotal)<=bj_randomSubGroupWant then
call GroupAddUnit(bj_randomSubGroupGroup,GetEnumUnit())
set bj_randomSubGroupWant=bj_randomSubGroupWant-1
endif
endif
set bj_randomSubGroupTotal=bj_randomSubGroupTotal-1
endfunction
function Biq takes real kL,location kM,boolexpr jJ returns group
local group jK=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(jK,kM,kL,jJ)
call DestroyBoolExpr(jJ)
set jL=jK
set jK=null
return jL
endfunction
function Bir takes rect jf,boolexpr jJ returns group
local group jK=CreateGroup()
call GroupEnumUnitsInRect(jK,jf,jJ)
call DestroyBoolExpr(jJ)
set jL=jK
set jK=null
return jL
endfunction
function Bis takes player jI,boolexpr jJ returns group
local group jK=CreateGroup()
call GroupEnumUnitsOfPlayer(jK,jI,jJ)
call DestroyBoolExpr(jJ)
set jL=jK
set jK=null
return jL
endfunction
function Biw takes boolean BI7 returns nothing
local integer bI
local player BI8
local group jK
set bj_pauseAllUnitsFlag=BI7
set jK=CreateGroup()
set bI=0
loop
set BI8=Player(bI)
if GetPlayerController(BI8)==MAP_CONTROL_COMPUTER then
call PauseCompAI(BI8,BI7)
endif
call GroupEnumUnitsOfPlayer(jK,BI8,null)
call ForGroup(jK,function PauseAllUnitsBJEnum)
call GroupClear(jK)
set bI=bI+1
exitwhen bI==bj_MAX_PLAYER_SLOTS
endloop
call DestroyGroup(jK)
set jK=null
endfunction
function Biy takes real iy returns nothing
local timer Tb
local real iz
if iy>0 then
set Tb=CreateTimer()
call TimerStart(Tb,iy,false,null)
loop
set iz=TimerGetRemaining(Tb)
exitwhen iz<=0
if iz>bj_POLLED_WAIT_SKIP_THRESHOLD then
call TriggerSleepAction(.1*iz)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
call DestroyTimer(Tb)
endif
set Tb=null
endfunction
function Biz takes unit ji,integer sU,integer sV returns unit
local unit sX=ji
local unit sY
local boolean sW
local integer bI
local item sa
local real sZ
if ji==null then
set bj_lastReplacedUnit=ji
return bj_lastReplacedUnit
endif
set sW=IsUnitHidden(sX)
call ShowUnit(sX,false)
if sU==$75676F6C then
set sY=CreateBlightedGoldmine(GetOwningPlayer(sX),GetUnitX(sX),GetUnitY(sX),GetUnitFacing(sX))
else
set sY=CreateUnit(GetOwningPlayer(sX),sU,GetUnitX(sX),GetUnitY(sX),GetUnitFacing(sX))
endif
if sV==bj_UNIT_STATE_METHOD_RELATIVE then
if GetUnitState(sX,UNIT_STATE_MAX_LIFE)>0 then
set sZ=GetUnitState(sX,UNIT_STATE_LIFE)/GetUnitState(sX,UNIT_STATE_MAX_LIFE)
call SetUnitState(sY,UNIT_STATE_LIFE,sZ*GetUnitState(sY,UNIT_STATE_MAX_LIFE))
endif
if GetUnitState(sX,UNIT_STATE_MAX_MANA)>0 and GetUnitState(sY,UNIT_STATE_MAX_MANA)>0 then
set sZ=GetUnitState(sX,UNIT_STATE_MANA)/GetUnitState(sX,UNIT_STATE_MAX_MANA)
call SetUnitState(sY,UNIT_STATE_MANA,sZ*GetUnitState(sY,UNIT_STATE_MAX_MANA))
endif
elseif sV==bj_UNIT_STATE_METHOD_ABSOLUTE then
call SetUnitState(sY,UNIT_STATE_LIFE,GetUnitState(sX,UNIT_STATE_LIFE))
if GetUnitState(sY,UNIT_STATE_MAX_MANA)>0 then
call SetUnitState(sY,UNIT_STATE_MANA,GetUnitState(sX,UNIT_STATE_MANA))
endif
elseif sV==bj_UNIT_STATE_METHOD_DEFAULTS then
elseif sV==bj_UNIT_STATE_METHOD_MAXIMUM then
call SetUnitState(sY,UNIT_STATE_LIFE,GetUnitState(sY,UNIT_STATE_MAX_LIFE))
call SetUnitState(sY,UNIT_STATE_MANA,GetUnitState(sY,UNIT_STATE_MAX_MANA))
else
endif
call SetResourceAmount(sY,GetResourceAmount(sX))
if IsUnitType(sX,UNIT_TYPE_HERO) and IsUnitType(sY,UNIT_TYPE_HERO) then
call SetHeroXP(sY,GetHeroXP(sX),false)
set bI=0
loop
set sa=UnitItemInSlot(sX,bI)
if sa!=null then
call UnitRemoveItem(sX,sa)
call UnitAddItem(sY,sa)
endif
set bI=bI+1
exitwhen bI>=bj_MAX_INVENTORY
endloop
endif
if sW then
call KillUnit(sX)
call RemoveUnit(sX)
else
call RemoveUnit(sX)
endif
set bj_lastReplacedUnit=sY
set sX=null
set sY=null
set sa=null
return bj_lastReplacedUnit
endfunction
function Bi0 takes nothing returns nothing
local integer av=0
loop
exitwhen av>=lB
if lD[av]!=null and IsTriggerEnabled(lD[av]) and TriggerEvaluate(lD[av]) then
call TriggerExecute(lD[av])
endif
set av=av+1
endloop
endfunction
function Bi1 takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),$416C6F63)<=0 then
call TriggerRegisterUnitEvent(lC,GetFilterUnit(),EVENT_UNIT_DAMAGED)
endif
return false
endfunction
function Bi2 takes nothing returns nothing
local trigger Tb=CreateTrigger()
local region jf=CreateRegion()
local group jK=CreateGroup()
call RegionAddRect(jf,GetWorldBounds())
call TriggerRegisterEnterRegion(Tb,jf,Condition(function Bi1))
call GroupEnumUnitsInRect(jK,GetWorldBounds(),Condition(function Bi1))
call DestroyGroup(jK)
set jf=null
set Tb=null
set jK=null
endfunction
function Bi3 takes trigger k9 returns nothing
if k9==null then
return
endif
if lB==0 then
set lC=CreateTrigger()
call TriggerAddAction(lC,function Bi0)
call Bi2()
endif
set lD[lB]=k9
set lB=lB+1
endfunction
function Bi7 takes trigger je,rect jf returns event
local region jg=CreateRegion()
call RegionAddRect(jg,jf)
set jh=jg
set jg=null
return TriggerRegisterEnterRegion(je,jh,null)
endfunction
function Bi8 takes trigger je,rect jf returns event
local region jg=CreateRegion()
call RegionAddRect(jg,jf)
set jh=jg
set jg=null
return TriggerRegisterLeaveRegion(je,jh,null)
endfunction
function Bi9 takes unit ji,integer jj returns boolean
local integer bI=0
if jj!=0 then
loop
if GetItemTypeId(UnitItemInSlot(ji,bI))==jj then
return true
endif
set bI=bI+1
exitwhen bI>=bj_MAX_INVENTORY
endloop
endif
return false
endfunction
function BjB takes integer pW,group pX returns group
set bj_randomSubGroupGroup=CreateGroup()
set bj_randomSubGroupWant=pW
set bj_randomSubGroupTotal=CountUnitsInGroup(pX)
if bj_randomSubGroupWant<=0 or bj_randomSubGroupTotal<=0 then
return bj_randomSubGroupGroup
endif
call ForGroup(pX,function Bip)
return bj_randomSubGroupGroup
endfunction
function BjC takes unit lw,unit lx,real ly,real lz,real bF,integer l0,integer l1,integer l2,integer l3 returns nothing
local unit l4=CreateUnit(GetOwningPlayer(lw),l0,ly,lz,GetUnitFacing(lw))
call UnitApplyTimedLife(l4,$42487765,1.)
call UnitAddAbility(l4,l1)
call SetUnitAbilityLevel(l4,l1,l2)
call SetUnitFlyHeight(l4,bF,0.)
call IssueTargetOrderById(l4,l3,lx)
set l4=null
endfunction
function BjE takes unit Ub,unit ls returns boolean
return IsUnitType(Ub,UNIT_TYPE_MAGIC_IMMUNE)==false and IsUnitType(Ub,UNIT_TYPE_RESISTANT)==false and IsUnitType(Ub,UNIT_TYPE_SLEEPING)==false and GetUnitState(Ub,UNIT_STATE_LIFE)>.405 and IsUnitType(Ub,UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(Ub)==false and IsUnitHidden(Ub)==false and IsUnitEnemy(Ub,GetOwningPlayer(ls)) and IsUnitVisible(Ub,GetOwningPlayer(ls))
endfunction
function BjF takes nothing returns boolean
local integer ay=GetDestructableTypeId(GetFilterDestructable())
return ay==$4C546C74 or ay==$41547472 or ay==$42547477 or ay==$4B547477 or ay==$59546674 or ay==$4A546374 or ay==$59547374 or ay==$59546374 or ay==$59547774 or ay==$4A547477 or ay==$44547368 or ay==$46547477 or ay==$43547472 or ay==$49547477 or ay==$4E547477 or ay==$4F547477 or ay==$5A547477 or ay==$57547374 or ay==$47547368 or ay==$56546C74 or ay==$57547477 or ay==$41547463 or ay==$42547463 or ay==$43547463 or ay==$49547463 or ay==$4E547463 or ay==$5A547463
endfunction
function BjG takes nothing returns boolean
local unit Ub=GetFilterUnit()
local integer Ta=lr
if not IsUnitInGroup(Ub,aa[Ta]) and lm[Ta]!=0 and BjE(Ub,ag[Ta]) then
call UnitDamageTarget(ag[Ta],Ub,ai[Ta],true,true,lt,lu,lv)
call DestroyEffect(AddSpecialEffectTarget(al[Ta],Ub,ao[Ta]))
if aj[Ta]>$30303030 and aj[Ta]!=null and ak[Ta]>0 and ak[Ta]!=null then
call BjC(ag[Ta],Ub,lf[ae[Ta]],lg[ae[Ta]],GetUnitFlyHeight(aX[Ta]),l5[Ta],aj[Ta],l6[Ta],ak[Ta])
endif
if not lk[Ta] then
set lm[Ta]=0
endif
set ah[Ta]=Ub
set Ub=null
return true
endif
set Ub=null
return false
endfunction
function BjH takes nothing returns nothing
local destructable Ta=GetEnumDestructable()
if GetWidgetLife(Ta)>.405 then
call KillDestructable(Ta)
endif
set Ta=null
endfunction
function BjL takes integer aY,real lq returns nothing
set lf[ae[aY]]=lq
call SetUnitX(aX[aY],lq)
endfunction
function BjM takes integer aY,real lq returns nothing
set lg[ae[aY]]=lq
call SetUnitY(aX[aY],lq)
endfunction
function BjT takes nothing returns nothing
local integer aY=LoadInteger(aW,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(GetExpiredTimer()))))
local real lo=GetUnitX(aX[aY])+lh[aY]*lf[af[aY]]
local real lp=GetUnitY(aX[aY])+lh[aY]*lg[af[aY]]
if ll[aY]==false then
if IsTerrainPathable(lo,lp,PATHING_TYPE_WALKABILITY) then
set lm[aY]=0
else
call BjL(aY,lo)
call BjM(aY,lp)
endif
else
call BjL(aY,lo)
call BjM(aY,lp)
endif
if ln[aY]==0 then
if GetUnitFlyHeight(aX[aY])<5. then
if IsTerrainPathable(lf[ae[aY]],lg[ae[aY]],PATHING_TYPE_FLOATABILITY) then
call DestroyEffect(AddSpecialEffect(am[aY],lf[ae[aY]],lg[ae[aY]]))
else
call DestroyEffect(AddSpecialEffect(an[aY],lf[ae[aY]],lg[ae[aY]]))
endif
endif
endif
set ln[aY]=ln[aY]+1
if ln[aY]==2 then
set ln[aY]=0
endif
if lj[aY] then
call MoveRectTo(aw,lf[ae[aY]],lg[ae[aY]])
call EnumDestructablesInRect(aw,ax,function BjH)
endif
if ai[aY]>0. then
set lr=aY
call GroupEnumUnitsInRange(aa[aY],lf[ae[aY]],lg[ae[aY]],120.,Condition(function BjG))
endif
set lh[aY]=lh[aY]-li[aY]
if lh[aY]<=0. or RMinBJ(RMaxBJ(lf[ae[aY]]*1.,aq),as)!=lf[ae[aY]] or RMinBJ(RMaxBJ(lg[ae[aY]]*1.,ar),at)!=lg[ae[aY]] then
set lm[aY]=0
endif
if lm[aY]==0 then
call SetUnitFlyHeight(aX[aY],GetUnitDefaultFlyHeight(aX[aY]),200.)
call SetUnitTimeScale(aX[aY],1)
call BiR(aX[aY],6)
call BfQ(aY)
endif
endfunction
function BjU takes unit lS,unit lT,real lU,real lV,real i9,real lW,real lL,boolean lM,boolean lN,boolean lO,string lP,string lX,string lY returns integer
local integer aY=BfT()
set ad[aY]=BfM()
set ae[aY]=BfM()
set af[aY]=BfM()
set lf[af[aY]]=Cos(lU)
set lg[af[aY]]=Sin(lU)
set lh[aY]=2*lV*lW/i9
set li[aY]=lh[aY]*lW/i9
set lf[ae[aY]]=GetUnitX(lT)
set lg[ae[aY]]=GetUnitY(lT)
set ag[aY]=lS
set aX[aY]=lT
set ai[aY]=lL
set lj[aY]=lM
set lk[aY]=lN
set ll[aY]=lO
set am[aY]=lX
set an[aY]=lY
set lm[aY]=1
set ln[aY]=0
set aa[aY]=CreateGroup()
set aZ[aY]=CreateTimer()
call TimerStart(aZ[aY],lW,true,function BjT)
call SaveInteger(aW,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(aZ[aY]))),aY)
return aY
endfunction
function BjX takes unit Ub,real lH,real lI,real lJ,real lK,real lL,boolean lM,boolean lN,boolean lO,string lP,string lQ,string lR returns nothing
if Ub==null then
return
endif
call BjU(Ub,Ub,Deg2Rad(lH),RMaxBJ(lI,0),RMaxBJ(lJ,0),RMaxBJ(lK,0),lL,lM,lN,lO,lP,lQ,lR)
endfunction
function BjY takes nothing returns nothing
set aw=Rect(-120.,-120.,120.,120.)
set ax=Filter(function BjF)
endfunction
function BjZ takes nothing returns integer
local integer bF=a4
if a4<0 then
if a5>=8000 then
return 8100
else
set a5=a5+1
return a5
endif
endif
set a4=a6[bF]
return bF
endfunction
function Bja takes integer bI returns nothing
set a6[bI]=a4
set a4=bI
endfunction
function Bjb takes real i9,trigger jC returns integer
local integer bI=BjZ()
local integer bF=a2
local integer Tb=R2I(100.*i9)+a1
local integer jD
set bH[bI]=jC
set bG[bI]=Tb
loop
set jD=a3[bF]
if jD<0 or bG[jD]>=Tb then
set a3[bF]=bI
set a3[bI]=jD
return bI
endif
set bF=jD
endloop
return bI
endfunction
function Bje takes nothing returns nothing
call RemoveUnit(LoadUnitHandle(aW,a0,bE))
call RemoveSavedHandle(aW,a0,bE)
endfunction
function Bjf takes real i9,unit Ub returns nothing
call SaveUnitHandle(aW,a0,Bjb(i9,a7),Ub)
endfunction
function Bjg takes nothing returns nothing
call DestroyTimer(LoadTimerHandle(aW,a0,bE))
call RemoveSavedHandle(aW,a0,bE)
endfunction
function Bji takes nothing returns nothing
call RemoveItem(LoadItemHandle(aW,a0,bE))
call RemoveSavedHandle(aW,a0,bE)
endfunction
function Bjk takes nothing returns nothing
call DestroyEffect(LoadEffectHandle(aW,a0,bE))
call RemoveSavedHandle(aW,a0,bE)
endfunction
function Bjl takes real i9,effect jB returns nothing
call SaveEffectHandle(aW,a0,Bjb(i9,bB),jB)
endfunction
function Bjm takes nothing returns nothing
call DestroyLightning(LoadLightningHandle(aW,a0,bE))
call RemoveSavedHandle(aW,a0,bE)
endfunction
function Bjn takes real i9,lightning oZ returns nothing
local integer av=Bjb(i9,bC)
call SaveLightningHandle(aW,a0,av,oZ)
endfunction
function Bjo takes nothing returns nothing
call TriggerExecute(LoadTriggerHandle(aW,a0,bE))
call RemoveSavedHandle(aW,a0,bE)
endfunction
function Bjq takes real i9,texttag ql returns nothing
if i9<=0 then
set i9=.01
endif
call SetTextTagPermanent(ql,false)
call SetTextTagLifespan(ql,i9)
call SetTextTagFadepoint(ql,i9)
endfunction
function Bjr takes nothing returns nothing
local integer bF=a2
loop
set bE=a3[bF]
exitwhen bE<0 or a1<bG[bE]
call TriggerEvaluate(bH[bE])
call Bja(bE)
set a3[bF]=a3[bE]
endloop
set a1=a1+1
endfunction
function Bjs takes nothing returns nothing
set az=CreateTimer()
set a0=GetHandleId(az)
set a1=0
set a2=0
set a3[0]=-1
set a4=1
set a5=1
set a6[1]=-1
set a7=CreateTrigger()
set a8=CreateTrigger()
set a9=CreateTrigger()
set bB=CreateTrigger()
set bC=CreateTrigger()
set bD=CreateTrigger()
call TriggerAddCondition(a7,Condition(function Bje))
call TriggerAddCondition(a8,Condition(function Bjg))
call TriggerAddCondition(a9,Condition(function Bji))
call TriggerAddCondition(bB,Condition(function Bjk))
call TriggerAddCondition(bC,Condition(function Bjm))
call TriggerAddCondition(bD,Condition(function Bjo))
call TimerStart(az,.01,true,function Bjr)
endfunction
function Bjy takes nothing returns nothing
local integer av=0
set bJ=CreateGroup()
set bK=CreateGroup()
set bL=CreateGroup()
set bM=CreateGroup()
set bN=CreateGroup()
set bO=CreateGroup()
set bP=CreateGroup()
set bQ=CreateGroup()
set bR=CreateGroup()
set bS=false
set bT=CreateGroup()
set bU=CreateTimer()
set bV=false
set bW=CreateGroup()
set bX=CreateGroup()
set bY=CreateGroup()
set bZ=false
set ba=CreateGroup()
set bb=CreateGroup()
set bc=false
set bd=CreateGroup()
set be=CreateGroup()
set bf=false
set bg=CreateGroup()
set bh=CreateGroup()
set bi=CreateGroup()
set bj=CreateGroup()
set bk=false
set bl=false
set bm=CreateGroup()
set bn=CreateGroup()
set bo=CreateGroup()
set bp=CreateGroup()
set bq=CreateGroup()
set br=CreateGroup()
set bs=CreateGroup()
set bt=CreateGroup()
set bu=false
set bv=CreateGroup()
set bw=CreateGroup()
set bx=CreateGroup()
set by=CreateGroup()
set bz=CreateGroup()
set b0=CreateGroup()
set b1=CreateGroup()
set b2=CreateGroup()
set b3=CreateGroup()
set b4=CreateGroup()
set b5=CreateGroup()
set b6=CreateGroup()
set b7=CreateGroup()
set b8=CreateGroup()
set b9=CreateGroup()
set cB=CreateGroup()
set cC=CreateGroup()
set cD=CreateGroup()
set cE=CreateGroup()
set cF=CreateGroup()
set cG=CreateGroup()
set cH=CreateGroup()
set cI=CreateGroup()
set cJ=CreateGroup()
set cK=CreateGroup()
set cL=CreateGroup()
set cM=CreateGroup()
set cN=CreateGroup()
set cO=CreateGroup()
set cP=CreateGroup()
set cQ=CreateGroup()
set cR=CreateGroup()
set cS=false
set cT=false
set cU=CreateGroup()
set cV=CreateGroup()
set cW=CreateGroup()
set cX=CreateGroup()
set cY=CreateGroup()
set cZ=CreateGroup()
set ca=CreateGroup()
set cb=CreateGroup()
set cc=CreateGroup()
set cd=CreateGroup()
set ce=CreateGroup()
set cf=CreateGroup()
set cg=CreateGroup()
set ch=CreateGroup()
set ci=CreateGroup()
set cj=CreateGroup()
set ck=CreateGroup()
set cl=CreateGroup()
set cm=CreateGroup()
set cn=CreateGroup()
set co=CreateGroup()
set cp=CreateGroup()
set cq=CreateGroup()
set cr=CreateGroup()
set cs=CreateGroup()
set ct=false
set cu=CreateGroup()
set cv=CreateGroup()
set cw=false
set cx=0
set cy=0
set cz=0
set c0=0
set c1=0
set c2=0
set c3=0
set c4=false
set c5=false
set c6=false
set c7=false
set c8=0
set c9=0
set dB=false
set dC=false
set dD=false
set dE=false
set dF=false
set dG=false
set dH=false
set dI=false
set dJ=0
set dK=false
set dL=CreateGroup()
set dM=CreateTimer()
set dN=0
set dO=0
set dP=CreateGroup()
set dQ=CreateTimer()
set dR=0
set dS=0
set dT=0
set dU=0
set dV=0
set dW=0
set dX=CreateTimer()
set dY=0
set dZ=CreateGroup()
set da=CreateGroup()
set db=CreateGroup()
set dc=0
set dd=0
set de=CreateGroup()
set df=CreateGroup()
set dg=CreateGroup()
set dh=CreateGroup()
set di=CreateGroup()
set dj=0
set dk=0
set dl=0
set dm=0
set dn=0
set do=CreateTimer()
set dp=CreateGroup()
set dq=CreateGroup()
set dr=CreateGroup()
set ds=CreateGroup()
set dt=CreateGroup()
set du=CreateGroup()
set dv=CreateGroup()
set dw=0
set dx=CreateGroup()
set dy=CreateGroup()
set dz=CreateGroup()
set d0=CreateGroup()
set d1=CreateGroup()
set d2=CreateGroup()
set d3=CreateGroup()
set d4=0
set d5=0
set d6=0
set d7=false
set d8=0
set d9=CreateGroup()
set eB=false
set eC=false
set eD=false
set eE=false
set eF=false
set eG=false
set eH=CreateGroup()
set eI=CreateGroup()
set eJ=CreateGroup()
set eK=CreateGroup()
set eL=0
set eM=0
set eN=false
set eO=0
set eP=0
set eQ=false
set eR=false
set eS=false
set eT=false
set eU=false
set eV=false
set eW=false
set eX=false
set eY=false
set eZ=false
set ea=false
set eb=0
set ec=false
set ed=0
set ee=0
set ef=0
set eg=0
set eh=false
set ei=CreateGroup()
set ej=CreateTimer()
set ek=CreateTimer()
set el=false
set em=false
set en=CreateTimer()
set eo=CreateTimer()
set ep=false
set eq=CreateGroup()
set er=CreateGroup()
set es=CreateGroup()
set et=CreateGroup()
set eu=0
set ev=CreateGroup()
set ew=false
set ex=0
set ey=0
set av=0
loop
exitwhen av>1
set ez[av]=0
set av=av+1
endloop
set e0=0
set e1=0
set av=0
loop
exitwhen av>1
set e2[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set e3[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set e4[av]=0
set av=av+1
endloop
set e5=0
set e6=0
set e7=0
set av=0
loop
exitwhen av>1
set e8[av]=0
set av=av+1
endloop
set e9=0
set av=0
loop
exitwhen av>1
set fB[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fC[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fD[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fE[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fF[av]=0
set av=av+1
endloop
set fG=0
set fH=CreateTimer()
set av=0
loop
exitwhen av>1
set fI[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fJ[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fK[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set fL[av]=0
set av=av+1
endloop
set fM=CreateTimer()
set fN=CreateTimer()
set fO=0
set fP=CreateGroup()
set fQ=CreateGroup()
set fR=CreateGroup()
set fS=CreateGroup()
set fT=CreateGroup()
set fU=CreateGroup()
set fV=CreateTimer()
set fW=0
set fX=false
set fY=0
set fZ=CreateTimer()
set fa=false
set fb=false
set fc=0
set fd=CreateTimer()
set fe=CreateGroup()
set ff=CreateTimer()
set fg=0
set fh=0
set fi=CreateTimer()
set fj=0
set fk=CreateTimer()
set fl=CreateTimer()
set fm=CreateGroup()
set fn=0
set fo=CreateTimer()
set fp=CreateTimer()
set fq=CreateTimer()
set fr=CreateGroup()
set fs=0
set ft=CreateTimer()
set fu=CreateGroup()
set fv=0
set fw=0
set fx=0
set fy=CreateTimer()
set fz=0
set f0=false
set f1=false
set f2=false
set f3=CreateTimer()
set f4=CreateTimer()
set av=0
loop
exitwhen av>1
set f5[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set f6[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set f7[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set f8[av]=0
set av=av+1
endloop
set f9=0
set gB=0
set av=0
loop
exitwhen av>1
set gC[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gD[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gE[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gF[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gG[av]=0
set av=av+1
endloop
set gH=0
set av=0
loop
exitwhen av>1
set gI[av]=0
set av=av+1
endloop
set gJ=0
set gK=0
set gL=0
set av=0
loop
exitwhen av>1
set gM[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gN[av]=0
set av=av+1
endloop
set gO=false
set gP=false
set gQ=CreateTimer()
set gR=0
set gS=false
set gT=CreateTimer()
set gU=0
set gV=0
set gW=0
set av=0
loop
exitwhen av>1
set gX[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gY[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set gZ[av]=0
set av=av+1
endloop
set av=0
loop
exitwhen av>1
set ga[av]=0
set av=av+1
endloop
set gb=false
set gc=false
set gd=false
set ge=false
set gf=false
set gg=false
set gh=false
set gi=false
set gj=CreateTimer()
set gk=false
set gl=CreateTimer()
set gm=0
set gn=CreateGroup()
set go=CreateTimer()
set gp=CreateTimer()
set gq=CreateTimer()
set gr=0
set gs=CreateGroup()
set gt=CreateTimer()
set gu=false
set gv=false
set gw=CreateTimer()
set gx=CreateTimer()
set gy=false
set gz=CreateTimer()
set g0=false
set g1=false
set g2=0
set g3=0
set g4=0
set g5=false
set g6=false
set g7=false
set g8=false
set g9=false
set hB=0
set hC=false
set hD=CreateTimer()
set hE=false
set hF=0
set hG=false
set hH=false
set hI=0
set hJ=0
set hK=CreateTimer()
set hL=false
set hM=false
set hN=0
set hO=false
set hP=0
set hQ=false
set hR=0
set hS=false
set hT=false
set hU=false
set hV=false
set hW=0
set hX=false
set hY=CreateTimer()
set hZ=CreateTimer()
set ha=CreateGroup()
set hb=CreateTimer()
set hc=CreateGroup()
set hd=0
set he=0
set hf=false
set hg=CreateTimer()
set hh=0
set hi=false
set hj=false
set hk=false
set hl=false
set hm=0
set hn=false
set ho=false
set hp=0
set hq=0
set hr=false
set hs=false
set ht=0
set hu=false
set hv=CreateTimer()
set hw=CreateGroup()
set hx=CreateTimer()
set hy=CreateTimer()
set hz=CreateTimer()
set h0=CreateTimer()
set h1=false
set h2=false
set h3=false
set h4=false
set h5=0
set h6=false
set h7=false
set h8=false
set h9=false
set iB=false
set iC=false
set iD=0
set iE=CreateGroup()
set iF=false
set iG=0
set iH=0
set iI=CreateTimer()
set iJ=0
set iK=CreateTimer()
set iL=CreateTimer()
set iM=CreateTimer()
set iN=0
set iO=false
set iP=false
set iQ=CreateTimer()
set iR=0
set iS=0
set iT=0
set iU=0
set iV=CreateTimer()
set iW=false
set iX=0
set iY=false
set iZ=false
set ia=false
set ib=false
set ic=CreateTimer()
set id=CreateGroup()
set ie=0
set ig=false
set ih=false
set ii=0
set ij=0
set ik=0
set il=0
set im=0
set in=0
set io=false
set av=0
loop
exitwhen av>1
set ip[av]=0
set av=av+1
endloop
set iq=false
set ir=false
set is=false
set it=false
set iu=false
endfunction
function Bjz takes nothing returns nothing
endfunction
function Bj0 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930344E,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj1 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930304B,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj2 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303559,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj3 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304A47,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj4 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303052,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj5 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303133,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303153,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj6 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj7 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303131,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303157,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj8 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bj9 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkB takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkC takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkD takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkE takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkF takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkG takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkH takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkI takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930454F,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkJ takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkK takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkL takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkM takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkN takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkO takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkP takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkQ takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkR takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkS takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303138,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkT takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303633,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkU takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303537,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304A48,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkV takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303232,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkW takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304552,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkX takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930325A,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkY takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303331,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303333,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BkZ takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303355,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930364F,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bka takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkb takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303653,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkc takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303552,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304A30,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkd takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303652,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303653,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303655,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303746,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bke takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303449,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkf takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303733,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkg takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303735,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkh takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303742,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bki takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303748,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303749,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930374A,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304B43,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkj takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303752,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkk takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303850,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303653,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303655,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkl takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303852,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkm takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($倩女之袍,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303653,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303655,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304A30,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkn takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303933,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bko takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303933,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkp takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303933,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkq takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303935,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkr takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303933,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bks takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303933,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkt takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303936,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304252,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304146,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bku takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkv takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkw takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkx takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bky takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bkz takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930394D,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk0 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304132,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304A4C,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk1 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304143,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304144,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304142,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930474D,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304944,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk2 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303933,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk3 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304142,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304154,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303841,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304235,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk4 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304142,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304236,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk5 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304936,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk6 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303934,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk7 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304635,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk8 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304543,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304544,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303734,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304545,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bk9 takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304550,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlB takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304648,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304647,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304646,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304649,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930464A,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304650,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930414A,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlC takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304750,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlD takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304750,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlE takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304750,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlF takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304745,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlG takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304755,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304754,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304756,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlH takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304759,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlI takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304830,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304831,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlJ takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304847,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlK takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304848,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930484D,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930484F,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlL takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304930,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlM takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930494E,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930494D,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlN takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304956,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304957,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($4930495A,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlO takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304958,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlP takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303654,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303653,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49303655,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlQ takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304A42,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlR takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304B37,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304B38,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
call RandomDistReset()
call RandomDistAddItem($49304B39,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlS takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304B4B,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlT takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304B51,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlU takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304B51,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlV takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304B4B,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlW takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304C31,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlX takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304C38,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlY takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304B32,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function BlZ takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303238,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bla takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303235,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Blb takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303236,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Blc takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($4930304A,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bld takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303046,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Ble takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49303050,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Blf takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304A44,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Blg takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304742,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Blh takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304A33,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Bli takes nothing returns nothing
local widget Tc=null
local unit Td=null
local integer Tf=0
local boolean Te=true
set Tc=bj_lastDyingWidget
if Tc==null then
set Td=GetTriggerUnit()
endif
if Td!=null then
set Te=not IsUnitHidden(Td)
if Te and GetChangingUnit()!=null then
set Te=GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endif
endif
if Te then
call RandomDistReset()
call RandomDistAddItem($49304A56,100)
set Tf=RandomDistChoose()
if Td!=null then
call UnitDropItem(Td,Tf)
else
call WidgetDropItem(Tc,Tf)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Blj takes nothing returns nothing
set B="war3mapImported\\ED.mp3"
set C="war3mapImported\\YSOvvvv.mp3"
set D="war3mapImported\\BTMDD.mp3"
set E="war3mapImported\\TTsmfq.mp3"
set F="war3mapImported\\JZQHW.mp3"
set G="war3mapImported\\boss2.mp3"
set H="war3mapImported\\THwjz.mp3"
set I="war3mapImported\\23.The Darkness Nova.mp3"
set J="war3mapImported\\MHdsm.mp3"
set K="war3mapImported\\boss6.mp3"
set L="war3mapImported\\SMZZTXCB4.mp3"
set M="war3mapImported\\SL1.mp3"
set N="war3mapImported\\BCBY.mp3"
set O="war3mapImported\\boss1.mp3"
set P="war3mapImported\\yjlsdq2.mp3"
set Q=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterWarcry1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundDuration(Q,2136)
call SetSoundChannel(Q,1)
call SetSoundVolume(Q,127)
call SetSoundPitch(Q,1.)
call SetSoundDistances(Q,2000.,2500.)
call SetSoundDistanceCutoff(Q,3000.)
call SetSoundConeAngles(Q,0.,0.,127)
call SetSoundConeOrientation(Q,0.,0.,0.)
set R=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterYesAttack3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundDuration(R,1236)
call SetSoundChannel(R,2)
call SetSoundVolume(R,127)
call SetSoundPitch(R,1.)
call SetSoundDistances(R,2000.,3000.)
call SetSoundDistanceCutoff(R,3000.)
call SetSoundConeAngles(R,0.,0.,127)
call SetSoundConeOrientation(R,0.,0.,0.)
set S=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterYesAttack2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundDuration(S,473)
call SetSoundChannel(S,2)
call SetSoundVolume(S,127)
call SetSoundPitch(S,1.)
call SetSoundDistances(S,3000.,3000.)
call SetSoundDistanceCutoff(S,3000.)
call SetSoundConeAngles(S,0.,0.,127)
call SetSoundConeOrientation(S,0.,0.,0.)
set T=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterYes2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundDuration(T,206)
call SetSoundChannel(T,3)
call SetSoundVolume(T,127)
call SetSoundPitch(T,1.)
call SetSoundDistances(T,2000.,3000.)
call SetSoundDistanceCutoff(T,3000.)
call SetSoundConeAngles(T,0.,0.,127)
call SetSoundConeOrientation(T,0.,0.,0.)
set U=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterYesAttack1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundDuration(U,781)
call SetSoundChannel(U,2)
call SetSoundVolume(U,127)
call SetSoundPitch(U,1.)
call SetSoundDistances(U,3000.,3000.)
call SetSoundDistanceCutoff(U,3000.)
call SetSoundConeAngles(U,0.,0.,127)
call SetSoundConeOrientation(U,0.,0.,0.)
set V=CreateSound("Units\\NightElf\\Archer\\ArcherYesAttack2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(V,733)
call SetSoundChannel(V,2)
call SetSoundVolume(V,127)
call SetSoundPitch(V,1.)
call SetSoundDistances(V,3000.,3000.)
call SetSoundDistanceCutoff(V,3000.)
call SetSoundConeAngles(V,0.,0.,127)
call SetSoundConeOrientation(V,0.,0.,0.)
set W=CreateSound("war3mapImported\\fulan.mp3",false,false,false,10,10,"")
call SetSoundDuration(W,27792)
call SetSoundChannel(W,0)
call SetSoundVolume(W,127)
call SetSoundPitch(W,1.)
set X=CreateSound("war3mapImported\\se_tan01.mp3",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(X,731)
call SetSoundChannel(X,0)
call SetSoundVolume(X,127)
call SetSoundPitch(X,1.)
call SetSoundDistances(X,4000.,4500.)
call SetSoundDistanceCutoff(X,5000.)
call SetSoundConeAngles(X,0.,0.,127)
call SetSoundConeOrientation(X,0.,0.,0.)
set Y=CreateSound("war3mapImported\\tr-se1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(Y,588)
call SetSoundChannel(Y,0)
call SetSoundVolume(Y,127)
call SetSoundPitch(Y,1.)
call SetSoundDistances(Y,4000.,4500.)
call SetSoundDistanceCutoff(Y,5000.)
call SetSoundConeAngles(Y,0.,0.,127)
call SetSoundConeOrientation(Y,0.,0.,0.)
set Z=CreateSound("war3mapImported\\kof-ex.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundDuration(Z,857)
call SetSoundChannel(Z,0)
call SetSoundVolume(Z,127)
call SetSoundPitch(Z,1.)
set a=CreateSound("war3mapImported\\fulan-t1.mp3",false,false,false,10,10,"")
call SetSoundDuration(a,4597)
call SetSoundChannel(a,0)
call SetSoundVolume(a,127)
call SetSoundPitch(a,1.)
set b=CreateSound("war3mapImported\\fulan-q11.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(b,1463)
call SetSoundChannel(b,0)
call SetSoundVolume(b,127)
call SetSoundPitch(b,1.)
call SetSoundDistances(b,4000.,4500.)
call SetSoundDistanceCutoff(b,5000.)
call SetSoundConeAngles(b,0.,0.,127)
call SetSoundConeOrientation(b,0.,0.,0.)
set c=CreateSound("war3mapImported\\fulan-q2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(c,1463)
call SetSoundChannel(c,0)
call SetSoundVolume(c,127)
call SetSoundPitch(c,1.)
call SetSoundDistances(c,4000.,4500.)
call SetSoundDistanceCutoff(c,5000.)
call SetSoundConeAngles(c,0.,0.,127)
call SetSoundConeOrientation(c,0.,0.,0.)
set d=CreateSound("war3mapImported\\leilvse (5).wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(d,2811)
call SetSoundChannel(d,0)
call SetSoundVolume(d,127)
call SetSoundPitch(d,1.)
call SetSoundDistances(d,4000.,4500.)
call SetSoundDistanceCutoff(d,5000.)
call SetSoundConeAngles(d,0.,0.,127)
call SetSoundConeOrientation(d,0.,0.,0.)
set e=CreateSound("war3mapImported\\remiliascarlet-t-bgm-spell.wav",false,false,false,10,10,"")
call SetSoundDuration(e,27307)
call SetSoundChannel(e,0)
call SetSoundVolume(e,127)
call SetSoundPitch(e,1.)
set f=CreateSound("war3mapImported\\fulan-w2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(f,2508)
call SetSoundChannel(f,0)
call SetSoundVolume(f,127)
call SetSoundPitch(f,1.)
call SetSoundDistances(f,4000.,4500.)
call SetSoundDistanceCutoff(f,5000.)
call SetSoundConeAngles(f,0.,0.,127)
call SetSoundConeOrientation(f,0.,0.,0.)
set g=CreateSound("war3mapImported\\boom01.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(g,1280)
call SetSoundChannel(g,0)
call SetSoundVolume(g,127)
call SetSoundPitch(g,1.)
call SetSoundDistances(g,4000.,4500.)
call SetSoundDistanceCutoff(g,5000.)
call SetSoundConeAngles(g,0.,0.,127)
call SetSoundConeOrientation(g,0.,0.,0.)
set h=CreateSound("war3mapImported\\fulan-r1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(h,3736)
call SetSoundChannel(h,0)
call SetSoundVolume(h,127)
call SetSoundPitch(h,1.)
call SetSoundDistances(h,4000.,4500.)
call SetSoundDistanceCutoff(h,5000.)
call SetSoundConeAngles(h,0.,0.,127)
call SetSoundConeOrientation(h,0.,0.,0.)
set i=CreateSound("war3mapImported\\leilvse (8).wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(i,1519)
call SetSoundChannel(i,0)
call SetSoundVolume(i,127)
call SetSoundPitch(i,1.)
call SetSoundDistances(i,4000.,4500.)
call SetSoundDistanceCutoff(i,5000.)
call SetSoundConeAngles(i,0.,0.,127)
call SetSoundConeOrientation(i,0.,0.,0.)
set j=CreateSound("war3mapImported\\0_b054.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(j,785)
call SetSoundChannel(j,0)
call SetSoundVolume(j,127)
call SetSoundPitch(j,1.)
call SetSoundDistances(j,4000.,4500.)
call SetSoundDistanceCutoff(j,5000.)
call SetSoundConeAngles(j,0.,0.,127)
call SetSoundConeOrientation(j,0.,0.,0.)
set k=CreateSound("war3mapImported\\lagunablade.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(k,1985)
call SetSoundChannel(k,0)
call SetSoundVolume(k,127)
call SetSoundPitch(k,1.)
call SetSoundDistances(k,4000.,4500.)
call SetSoundDistanceCutoff(k,5000.)
call SetSoundConeAngles(k,0.,0.,127)
call SetSoundConeOrientation(k,0.,0.,0.)
set l=CreateSound("war3mapImported\\0_b200.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(l,863)
call SetSoundChannel(l,0)
call SetSoundVolume(l,127)
call SetSoundPitch(l,1.)
call SetSoundDistances(l,4000.,4500.)
call SetSoundDistanceCutoff(l,5000.)
call SetSoundConeAngles(l,0.,0.,127)
call SetSoundConeOrientation(l,0.,0.,0.)
set m=CreateSound("war3mapImported\\kisara_cham2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(m,967)
call SetSoundChannel(m,0)
call SetSoundVolume(m,127)
call SetSoundPitch(m,1.)
call SetSoundDistances(m,3000.,3500.)
call SetSoundDistanceCutoff(m,4000.)
call SetSoundConeAngles(m,0.,0.,127)
call SetSoundConeOrientation(m,0.,0.,0.)
set n="war3mapImported\\boss8.mp3"
set o=CreateSound("war3mapImported\\dsyc.mp3",false,false,false,10,10,"")
call SetSoundDuration(o,33233)
call SetSoundChannel(o,0)
call SetSoundVolume(o,127)
call SetSoundPitch(o,1.)
set p=CreateSound("war3mapImported\\kurumi-q1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(p,1440)
call SetSoundChannel(p,0)
call SetSoundVolume(p,127)
call SetSoundPitch(p,1.)
call SetSoundDistances(p,3000.,3500.)
call SetSoundDistanceCutoff(p,4000.)
call SetSoundConeAngles(p,0.,0.,127)
call SetSoundConeOrientation(p,0.,0.,0.)
set q=CreateSound("war3mapImported\\kurumi-W1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(q,1202)
call SetSoundChannel(q,0)
call SetSoundVolume(q,127)
call SetSoundPitch(q,1.)
call SetSoundDistances(q,3000.,3500.)
call SetSoundDistanceCutoff(q,4000.)
call SetSoundConeAngles(q,0.,0.,127)
call SetSoundConeOrientation(q,0.,0.,0.)
set r=CreateSound("war3mapImported\\kurumi-E1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(r,1698)
call SetSoundChannel(r,0)
call SetSoundVolume(r,127)
call SetSoundPitch(r,1.)
call SetSoundDistances(r,3000.,3500.)
call SetSoundDistanceCutoff(r,4000.)
call SetSoundConeAngles(r,0.,0.,127)
call SetSoundConeOrientation(r,0.,0.,0.)
set s=CreateSound("war3mapImported\\kurumi-Q2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(s,2340)
call SetSoundChannel(s,0)
call SetSoundVolume(s,127)
call SetSoundPitch(s,1.)
call SetSoundDistances(s,3000.,3500.)
call SetSoundDistanceCutoff(s,4000.)
call SetSoundConeAngles(s,0.,0.,127)
call SetSoundConeOrientation(s,0.,0.,0.)
set t=CreateSound("war3mapImported\\kurumi-R1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(t,5146)
call SetSoundChannel(t,0)
call SetSoundVolume(t,127)
call SetSoundPitch(t,1.)
call SetSoundDistances(t,3000.,3500.)
call SetSoundDistanceCutoff(t,4000.)
call SetSoundConeAngles(t,0.,0.,127)
call SetSoundConeOrientation(t,0.,0.,0.)
set u=CreateSound("war3mapImported\\kurumi-R2.mp3",false,false,false,10,10,"")
call SetSoundDuration(u,10556)
call SetSoundChannel(u,0)
call SetSoundVolume(u,127)
call SetSoundPitch(u,1.)
set v=CreateSound("war3mapImported\\kurumi-R22.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(v,2090)
call SetSoundChannel(v,0)
call SetSoundVolume(v,127)
call SetSoundPitch(v,1.)
call SetSoundDistances(v,4000.,4500.)
call SetSoundDistanceCutoff(v,5000.)
call SetSoundConeAngles(v,0.,0.,127)
call SetSoundConeOrientation(v,0.,0.,0.)
set w=CreateSound("war3mapImported\\kurumi-R222.mp3",false,false,false,10,10,"")
call SetSoundDuration(w,15834)
call SetSoundChannel(w,0)
call SetSoundVolume(w,127)
call SetSoundPitch(w,1.)
set x=CreateSound("war3mapImported\\kurumi-E2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundDuration(x,5256)
call SetSoundChannel(x,0)
call SetSoundVolume(x,127)
call SetSoundPitch(x,1.)
call SetSoundDistances(x,3000.,3500.)
call SetSoundDistanceCutoff(x,4000.)
call SetSoundConeAngles(x,0.,0.,127)
call SetSoundConeOrientation(x,0.,0.,0.)
set y=CreateSound("war3mapImported\\ltyh.mp3",false,false,false,10,10,"")
call SetSoundDuration(y,169482)
call SetSoundChannel(y,0)
call SetSoundVolume(y,127)
call SetSoundPitch(y,1.)
set z=CreateSound("war3mapImported\\wzlbf.mp3",false,false,false,10,10,"")
call SetSoundDuration(z,211872)
call SetSoundChannel(z,0)
call SetSoundVolume(z,127)
call SetSoundPitch(z,1.)
set BB=CreateSound("war3mapImported\\Crtcybk.mp3",false,false,false,10,10,"")
call SetSoundDuration(BB,233040)
call SetSoundChannel(BB,0)
call SetSoundVolume(BB,127)
call SetSoundPitch(BB,1.)
set BC=CreateSound("war3mapImported\\longing.mp3",false,false,false,10,10,"")
call SetSoundDuration(BC,227280)
call SetSoundChannel(BC,0)
call SetSoundVolume(BC,127)
call SetSoundPitch(BC,1.)
set BD=CreateSound("war3mapImported\\bgm-kurumi-1.mp3",false,false,false,10,10,"")
call SetSoundDuration(BD,132758)
call SetSoundChannel(BD,0)
call SetSoundVolume(BD,127)
call SetSoundPitch(BD,1.)
set BE=CreateSound("war3mapImported\\OveR111.mp3",false,false,false,10,10,"")
call SetSoundDuration(BE,246413)
call SetSoundChannel(BE,0)
call SetSoundVolume(BE,127)
call SetSoundPitch(BE,1.)
endfunction
function Blk takes nothing returns nothing
local destructable Ta
local trigger Tb
set TX=CreateDestructable($59546378,-9344.,-4160.,270.,1.,0)
set TY=CreateDestructable($44546731,-23616.,-24960.,270.,.9,0)
set TZ=CreateDestructable($41546733,-20096.,-20800.,0.,.9,0)
set Ta=CreateDestructable($4C546261,-21888.,-16768.,329.,1.2,1)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function BlY)
set Tg=CreateDestructable($41546733,-11904.,-26176.,0.,.9,0)
set Th=CreateDestructable($41546733,-9344.,-26240.,0.,.9,0)
set Ti=CreateDestructable($4C546731,-14656.,-16256.,270.,.9,0)
set Tj=CreateDestructable($4C546733,-12800.,-15360.,0.,.9,0)
set Tk=CreateDestructable($4C546731,-15360.,-19712.,270.,.9,0)
set Tl=CreateDestructable($4C546731,-14016.,-19712.,270.,.9,0)
set Tm=CreateDestructable($4C546733,-1408.,-21888.,0.,.9,0)
set Ta=CreateDestructable($4C546278,-5408.,-27040.,128.,1.3,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function BlZ)
set Ta=CreateDestructable($4C546278,-5920.,-27552.,24.,1.2,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Bla)
set Ta=CreateDestructable($4C546278,-4704.,-27296.,37.,1.2,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Blb)
set Tn=CreateDestructable($4C546733,-12160.,-8448.,0.,.9,0)
set To=CreateDestructable($59546378,-9344.,-7232.,270.,1.,0)
set Tp=CreateDestructable($4C546733,-23936.,-9472.,0.,.9,0)
set Tq=CreateDestructable($4C546731,-13312.,-10624.,270.,.9,0)
set Tr=CreateDestructable($4C546731,-9536.,-1408.,270.,.9,0)
set Ts=CreateDestructable($44546733,5952.,-26496.,0.,.9,0)
set Tt=CreateDestructable($44546731,-19840.,7680.,270.,.9,0)
set Tu=CreateDestructable($44546737,-576.,-3008.,0.,.9,0)
set Tv=CreateDestructable($44546735,-5184.,1216.,270.,.9,0)
set Tw=CreateDestructable($44546737,-7424.,-6400.,0.,.9,0)
set Tx=CreateDestructable($44546733,-20416.,-1024.,0.,.9,0)
set Ty=CreateDestructable($44546731,-18304.,64.,270.,.9,0)
set Tz=CreateDestructable($44546733,-16384.,-704.,0.,.9,0)
set T0=CreateDestructable($44546731,-19840.,6848.,270.,.9,0)
set T1=CreateDestructable($41546733,-9472.,2176.,0.,.9,0)
set Ta=CreateDestructable($4C546272,-18016.,-20640.,151.,1.5,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Blc)
set Ta=CreateDestructable($4C546273,-18016.,-21024.,100.,1.2,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Bld)
set T2=CreateDestructable($41546733,-8960.,-27904.,0.,.9,0)
set T3=CreateDestructable($41546733,-13632.,3520.,0.,.9,0)
set Ta=CreateDestructable($4C546273,-19360.,-21536.,164.,1.3,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Ble)
set Ta=CreateDestructable($4C546273,-18848.,-20128.,197.,1.2,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Blf)
set T4=CreateDestructable($44546731,256.,-8896.,270.,.9,0)
set T5=CreateDestructable($44546C76,288.,-9120.,45.,.9,0)
set T6=CreateDestructable($4C546731,-29312.,22208.,270.,.9,0)
set T7=CreateDestructable($59546378,128.,17600.,270.,1.,0)
set T8=CreateDestructable($42303031,19584.,-26304.,270.,1.,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,T8)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Blg)
set T9=CreateDestructable($59546378,-4992.,21120.,270.,1.,0)
set UB=CreateDestructable($42303032,-24960.,-14144.,98.,5.,4)
set UC=CreateDestructable($42303033,-5440.,-25792.,0.,.9,0)
set Ta=CreateDestructable($4C546261,-29376.,-28032.,276.,.9,1)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Blh)
set UD=CreateDestructable($42303035,-3456.,-26816.,270.,1.,0)
set UE=CreateDestructable($58546D78,-1376.,-25600.,180.,.9,0)
set Ta=CreateDestructable($4C546261,-18880.,-16960.,228.,1.1,0)
set Tb=CreateTrigger()
call TriggerRegisterDeathEvent(Tb,Ta)
call TriggerAddAction(Tb,function SaveDyingWidget)
call TriggerAddAction(Tb,function Bli)
set UF=CreateDestructable($42303036,27968.,-12032.,0.,2.,0)
endfunction
function Bll takes nothing returns nothing
set UG=CreateItem($4930304A,-20353.2,-25731.)
call CreateItem($4930304C,-24112.7,-26732.1)
call CreateItem($4930304A,-26243.6,-27134.)
call CreateItem($4930304A,-13427.9,3477.9)
call CreateItem($4930324C,-13344.7,3419.7)
call CreateItem($4930304A,-13425.6,3591.2)
set UH=CreateItem($49303649,-23273.6,-20024.9)
set UI=CreateItem($49303648,-23263.1,-19454.1)
call CreateItem($49303451,-13329.2,3541.2)
call CreateItem($49303450,-19016.2,515.1)
call CreateItem($4930344F,-29897.7,1458.9)
call CreateItem($4930315A,-11428.3,-23110.1)
call CreateItem($49303159,-4253.4,-18973.4)
call CreateItem($4930304A,-11623.8,-21192.2)
call CreateItem($49303230,-2237.8,-24396.3)
set UJ=CreateItem($4930324C,-12380.8,-10800.4)
call CreateItem($4930304A,-26652.1,-21919.6)
call CreateItem($4930304A,-2904.5,-4613.6)
call CreateItem($49303034,2761.9,-6061.6)
call CreateItem($4930324C,2765.,-6153.5)
call CreateItem($49303655,2489.,-7678.8)
call CreateItem($49303654,1596.2,-7735.3)
call CreateItem($4930304A,1443.5,-6913.2)
call CreateItem($4930304A,645.3,-6086.8)
call CreateItem($49303654,1595.1,-7657.)
call CreateItem($4930324C,-13339.,3670.5)
call CreateItem($49303653,1682.7,-7657.)
call CreateItem($49303653,1687.5,-7738.3)
call CreateItem($49303734,-29875.4,-14641.5)
call CreateItem($4930374B,-15074.8,-11820.5)
call CreateItem($4930374F,-24418.2,-4035.8)
set UK=CreateItem($49303649,-23066.2,-20171.1)
call CreateItem($49303947,-12316.3,8917.9)
set UL=CreateItem($49303948,-12958.8,5009.1)
set UM=CreateItem($49304443,-19126.5,20312.5)
set UN=CreateItem($49304456,-23367.1,18435.2)
set UO=CreateItem($49304454,-16055.8,22491.3)
set UP=CreateItem($49304457,-21650.2,22142.)
call CreateItem($49304636,781.3,26444.2)
set UQ=CreateItem($49304744,18921.6,-26089.3)
set UR=CreateItem($49304744,20130.4,-26085.1)
set US=CreateItem($49304743,20148.9,-28055.6)
call CreateItem($49304744,-13159.,17640.9)
call CreateItem($49304744,-18921.1,16730.4)
set UT=CreateItem($49304946,-11975.2,-24330.2)
set UU=CreateItem($49304A37,-823.9,-25287.)
set UV=CreateItem($49304A36,-821.5,-25490.3)
set UW=CreateItem($49304A38,-818.6,-25728.5)
set UX=CreateItem($49304A41,-5583.9,-25910.9)
set UY=CreateItem($魔刃-莱瓦汀 1%,-5582.8,-26012.8)
set UZ=CreateItem($49304B37,-26079.2,-17608.1)
set Ua=CreateItem($49303648,-23085.3,-20111.)
call CreateItem($4930304A,-14831.6,-25293.3)
endfunction
function Blm takes nothing returns nothing
local unit Ub
local trigger Tb
set Ub=CreateUnit(Player(15),$48303030,26477.9,-20072.8,0.)
set Uc=Ub
call UnitAddItemToSlotById(Ub,$49303035,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$48303031,28136.2,-20260.7,180.)
set Ud=Ub
call UnitAddItemToSlotById(Ub,$49303055,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$48303041,28330.8,-20303.8,255.)
set Ue=Ub
call SetUnitState(Ub,UNIT_STATE_MANA,160)
call UnitAddItemToSlotById(Ub,$49303054,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$45303032,28205.3,-21740.7,135.)
set Uf=Ub
call UnitAddItemToSlotById(Ub,$49303056,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$48303059,28043.3,-20126.6,215.)
set Ug=Ub
call UnitAddItemToSlotById(Ub,$49303059,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$48303056,28023.2,-19958.8,215.)
set Uh=Ub
call UnitAddItemToSlotById(Ub,$4930305A,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$48303049,26359.3,-21766.1,45.)
set Ui=Ub
call UnitAddItemToSlotById(Ub,$49303058,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(15),$45303030,28264.4,-20986.8,180.)
set Uj=Ub
call UnitAddItemToSlotById(Ub,$49303057,0)
call UnitAddItemToSlotById(Ub,$49303732,1)
set Ub=CreateUnit(Player(12),$6E303030,-17549.1,-26810.4,43.7)
set Ub=CreateUnit(Player(12),$6E303139,13881.3,-24322.2,144.3)
set Ub=CreateUnit(Player(15),$6E303031,-21120.,-25024.,270.)
set Ub=CreateUnit(Player(15),$6E303032,-21120.,-25408.,270.)
set Uk=Ub
set Ub=CreateUnit(Player(15),$6E303034,-20480.,-27584.,270.)
set Ul=Ub
call SetResourceAmount(Ub,999999)
set Ub=CreateUnit(Player(15),$68303133,-20488.,-27819.8,180.)
set Um=Ub
call UnitAddItemToSlotById(Ub,$49303137,0)
set Ub=CreateUnit(Player(15),$68303134,-20608.,-27968.,270.)
set Un=Ub
set Ub=CreateUnit(Player(8),$68303145,-6633.3,-6012.7,36.6)
set Ub=CreateUnit(Player(15),$68303330,-13277.2,-9422.3,270.)
set Uo=Ub
set Ub=CreateUnit(Player(8),$68303144,-6513.6,-5856.8,215.)
set Ub=CreateUnit(Player(15),$68303331,-13120.,-9408.,270.)
set Ub=CreateUnit(Player(8),$68303249,-4164.6,-6640.3,180.)
set Ub=CreateUnit(Player(15),$68303257,-21278.9,-16030.3,180.)
set Ub=CreateUnit(Player(8),$68303146,-6521.7,-7313.6,326.1)
set Ub=CreateUnit(Player(8),$68303146,-5829.9,-7446.7,35.)
set Ub=CreateUnit(Player(8),$68303256,-29510.6,-15356.1,0.)
set Ub=CreateUnit(Player(8),$68303146,-6393.7,-7412.7,135.)
set Ub=CreateUnit(Player(8),$68303146,-5674.6,-7317.8,180.)
set Ub=CreateUnit(Player(8),$68303146,-5830.2,-7215.9,315.)
set Ub=CreateUnit(Player(8),$68303144,-4157.6,-4242.5,215.)
set Ub=CreateUnit(Player(15),$68303254,-13565.3,14668.6,0.)
set Ub=CreateUnit(Player(15),$68303254,-13516.4,15165.8,315.)
set Ub=CreateUnit(Player(12),$6E303146,-23605.1,298.,270.)
set Up=Ub
set Ub=CreateUnit(Player(12),$6E303146,-23837.8,298.,270.)
set Uq=Ub
set Ub=CreateUnit(Player(12),$6E303146,-24076.2,301.2,270.)
set Ur=Ub
set Ub=CreateUnit(Player(12),$6E303146,-26405.3,-1801.1,90.)
set Us=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj0)
set Ub=CreateUnit(Player(8),$68303248,-7059.7,-7417.1,90.)
set Ub=CreateUnit(Player(15),$6E303034,-14656.,-25152.,270.)
set Ut=Ub
call SetResourceAmount(Ub,999999)
set Ub=CreateUnit(Player(8),$68303134,-14208.,-25152.,270.)
set Ub=CreateUnit(Player(8),$68303137,-14384.8,-25157.8,334.8)
set Uu=Ub
set Ub=CreateUnit(Player(8),$68303137,-14385.5,-25225.4,52.6)
set Uv=Ub
set Ub=CreateUnit(Player(8),$68303139,-14756.7,-24730.6,0.)
set Uw=Ub
set Ub=CreateUnit(Player(8),$68303138,-14206.5,-24346.6,90.)
set Ub=CreateUnit(Player(8),$68303138,-14688.8,-24552.3,0.)
set Ux=Ub
set Ub=CreateUnit(Player(8),$68303138,-14681.3,-24882.2,0.)
set Uy=Ub
set Ub=CreateUnit(Player(8),$68303138,-13881.5,-24354.1,90.)
set Ub=CreateUnit(Player(8),$68303138,-14246.3,-24960.7,90.)
set Ub=CreateUnit(Player(15),$6E303035,-13952.,-25088.,270.)
set Ub=CreateUnit(Player(12),$6E303036,-24338.,-25610.6,32.2)
set Uz=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj1)
set Ub=CreateUnit(Player(12),$6E303030,-21654.2,-23181.,56.)
set Ub=CreateUnit(Player(12),$6E303030,-21250.9,-23187.7,168.7)
set Ub=CreateUnit(Player(12),$6E303030,-20840.2,-23184.3,357.7)
set Ub=CreateUnit(Player(12),$6E303030,-21642.5,-23308.8,17.1)
set Ub=CreateUnit(Player(12),$6E303030,-21257.8,-23302.4,334.6)
set Ub=CreateUnit(Player(12),$6E303030,-20850.4,-23308.8,59.6)
set Ub=CreateUnit(Player(12),$6E303030,-23204.1,-23962.7,141.8)
set Ub=CreateUnit(Player(12),$6E303030,-23194.8,-24209.3,219.9)
set Ub=CreateUnit(Player(12),$6E303030,-22880.6,-23962.7,82.8)
set Ub=CreateUnit(Player(12),$6E303030,-22853.5,-24199.7,206.5)
set Ub=CreateUnit(Player(15),$6E303037,-19328.,-20864.,270.)
set U0=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj2)
set Ub=CreateUnit(Player(12),$6E303038,-18949.4,-20839.,180.)
set U1=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj3)
set Ub=CreateUnit(Player(12),$6E303039,-19076.9,-20553.5,270.)
set U2=Ub
set Ub=CreateUnit(Player(12),$6E303039,-19067.,-21114.4,90.)
set U3=Ub
set Ub=CreateUnit(Player(12),$6E303039,-19574.3,-20563.6,270.)
set U4=Ub
set Ub=CreateUnit(Player(12),$6E303039,-19581.3,-21113.7,90.)
set U5=Ub
set Ub=CreateUnit(Player(12),$6E303030,-25243.1,-26259.2,180.3)
set Ub=CreateUnit(Player(12),$6E303030,-25569.9,-26259.2,121.2)
set Ub=CreateUnit(Player(12),$6E303030,-25246.5,-25882.7,176.5)
set Ub=CreateUnit(Player(12),$6E303030,-25546.4,-25864.4,141.8)
set Ub=CreateUnit(Player(12),$6E303030,-25241.5,-25483.6,148.8)
set Ub=CreateUnit(Player(12),$6E303030,-25569.1,-25473.4,236.4)
set Ub=CreateUnit(Player(12),$6E303030,-25248.5,-25167.,51.3)
set Ub=CreateUnit(Player(12),$6E303030,-25571.9,-25167.,7.)
set Ub=CreateUnit(Player(12),$6E303030,-25268.2,-24821.4,297.1)
set Ub=CreateUnit(Player(12),$6E303030,-25542.7,-24811.9,190.4)
set Ub=CreateUnit(Player(12),$6E303030,-22369.6,-21437.4,.5)
set Ub=CreateUnit(Player(12),$6E303030,-21857.1,-21740.,142.1)
set Ub=CreateUnit(Player(12),$6E303030,-22057.5,-20953.2,287.8)
set Ub=CreateUnit(Player(12),$6E303030,-21409.7,-21348.2,246.9)
set Ub=CreateUnit(Player(12),$6E303030,-21706.2,-20522.,314.9)
set Ub=CreateUnit(Player(12),$6E303030,-21390.3,-20981.5,183.6)
set Ub=CreateUnit(Player(12),$6E303030,-21916.,-21360.2,171.8)
set Ub=CreateUnit(Player(12),$6E303030,-22567.5,-21707.4,253.1)
set Ub=CreateUnit(Player(12),$6E303030,-22232.5,-22146.5,341.5)
set Ub=CreateUnit(Player(12),$6E303030,-22206.9,-21760.3,92.3)
set Ub=CreateUnit(Player(8),$68303141,-15402.9,-25243.4,135.)
set Ub=CreateUnit(Player(12),$6E303041,-10070.2,-26244.8,180.)
set U6=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj4)
set Ub=CreateUnit(Player(12),$6E303030,-18127.8,-27482.4,47.1)
set Ub=CreateUnit(Player(12),$6E303030,-18114.7,-27975.4,160.7)
set Ub=CreateUnit(Player(12),$6E303030,-17939.3,-27691.9,87.6)
set Ub=CreateUnit(Player(12),$6E303030,-17927.8,-27871.7,143.7)
set Ub=CreateUnit(Player(12),$6E303030,-17757.6,-27473.6,52.6)
set Ub=CreateUnit(Player(12),$6E303030,-17770.2,-27996.5,226.2)
set Ub=CreateUnit(Player(12),$6E303030,-17781.5,-26658.2,133.6)
set Ub=CreateUnit(Player(12),$6E303030,-17796.7,-26810.4,346.3)
set Ub=CreateUnit(Player(12),$6E303030,-17904.7,-26655.5,137.7)
set Ub=CreateUnit(Player(12),$6E303030,-17888.5,-26825.6,170.)
set Ub=CreateUnit(Player(12),$6E303030,-17656.3,-26641.8,278.9)
set Ub=CreateUnit(Player(12),$6E303030,-17653.9,-26810.4,187.9)
set Ub=CreateUnit(Player(12),$6E303030,-17542.9,-26655.5,340.8)
set Ub=CreateUnit(Player(11),$48303339,28830.3,26415.8,145.)
set U7=Ub
set Ub=CreateUnit(Player(15),$6E303044,-12288.,-25920.,270.)
set Ub=CreateUnit(Player(15),$6E30324A,-13952.,-24704.,270.)
set Ub=CreateUnit(Player(12),$6E303048,-21071.5,-17391.3,180.)
set U8=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj5)
set Ub=CreateUnit(Player(15),$68303332,-12118.8,-19113.,180.)
set U9=Ub
set Ub=CreateUnit(Player(12),$6E303046,-28750.4,-17337.5,42.8)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj6)
set Ub=CreateUnit(Player(12),$6E303047,-21071.1,-14165.,171.5)
set VB=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj7)
set Ub=CreateUnit(Player(15),$6830325A,-6595.1,-13047.7,180.)
set Ub=CreateUnit(Player(12),$6E303046,-28179.1,-18389.9,261.9)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj8)
set Ub=CreateUnit(Player(15),$6E30324A,-12672.,-25920.,270.)
set Ub=CreateUnit(Player(12),$6E30324D,-23293.2,-19735.1,180.)
set VC=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bj9)
set Ub=CreateUnit(Player(12),$6E303046,-20903.,-14572.1,243.5)
set Ub=CreateUnit(Player(11),$4830324B,-26850.4,17806.3,0.)
set VD=Ub
call SetHeroLevel(Ub,1000,false)
call UnitAddItemToSlotById(Ub,$49303458,0)
call UnitAddItemToSlotById(Ub,$49303650,1)
set Ub=CreateUnit(Player(12),$6E303046,-28196.8,-15548.7,357.8)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkB)
set Ub=CreateUnit(Player(12),$6E303046,-27426.9,-16144.9,347.6)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkC)
set Ub=CreateUnit(Player(12),$6E303152,-19621.2,8811.4,296.1)
set VE=Ub
set Ub=CreateUnit(Player(12),$6E30314D,-17975.3,-1233.8,90.)
set VF=Ub
set Ub=CreateUnit(Player(12),$6E303046,-25134.1,-16284.4,104.9)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkD)
set Ub=CreateUnit(Player(12),$6E303046,-24200.,-16546.6,251.7)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkE)
set Ub=CreateUnit(Player(12),$6E30314A,-17909.2,-365.,270.)
set VG=Ub
set Ub=CreateUnit(Player(12),$6E303046,-22363.,-16128.2,351.9)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkF)
set Ub=CreateUnit(Player(12),$6E303046,-21654.9,-15101.1,82.8)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkG)
set Ub=CreateUnit(Player(12),$6E30314A,-17411.2,-395.2,270.)
set VH=Ub
set Ub=CreateUnit(Player(12),$6E303046,-22042.2,-14735.6,352.6)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkH)
set Ub=CreateUnit(Player(12),$6E303151,-16843.6,-775.,180.)
set VI=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkI)
set Ub=CreateUnit(Player(15),$6E303150,-17920.,896.,270.)
set Ub=CreateUnit(Player(12),$6E303046,-22284.4,-12456.5,148.1)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkJ)
set Ub=CreateUnit(Player(15),$6E30314F,-17536.,512.,270.)
set Ub=CreateUnit(Player(12),$6E303046,-23868.,-12330.5,354.)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkK)
set Ub=CreateUnit(Player(15),$6E30314E,-17920.,512.,270.)
set Ub=CreateUnit(Player(12),$6E303046,-25722.8,-12711.,112.3)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkL)
set Ub=CreateUnit(Player(12),$6E303046,-27097.7,-13288.5,201.)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkM)
set Ub=CreateUnit(Player(11),$6E303154,-27026.3,17402.7,182.2)
set VJ=Ub
set Ub=CreateUnit(Player(11),$6E303155,-27045.9,18248.6,180.)
set VK=Ub
set Ub=CreateUnit(Player(12),$6E303046,-28770.7,-14596.6,177.1)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkN)
set Ub=CreateUnit(Player(12),$6E303046,-27503.2,-14477.6,258.9)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkO)
set Ub=CreateUnit(Player(11),$6E303153,-26624.,17792.,270.)
set VL=Ub
set Ub=CreateUnit(Player(12),$6E303046,-26098.7,-14310.8,41.5)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkP)
set Ub=CreateUnit(Player(15),$6E303037,-19200.,-704.,270.)
set VM=Ub
set Ub=CreateUnit(Player(12),$6E303046,-23149.,-13618.,288.2)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkQ)
set Ub=CreateUnit(Player(12),$6E303046,-24173.5,-14446.6,90.2)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkR)
set Ub=CreateUnit(Player(12),$6E30314D,-17402.6,-1231.5,90.)
set VN=Ub
set Ub=CreateUnit(Player(12),$6E303046,-23632.5,-15648.,28.2)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkS)
set Ub=CreateUnit(Player(12),$6E303046,-21149.2,-18825.4,237.7)
set Ub=CreateUnit(Player(12),$6E303046,-21405.9,-19089.1,320.3)
set Ub=CreateUnit(Player(12),$6E303046,-20569.7,-18572.2,49.)
set Ub=CreateUnit(Player(15),$6E303045,-27648.,-18560.,270.)
set Ub=CreateUnit(Player(12),$6E303046,-20177.2,-18247.9,26.7)
set Ub=CreateUnit(Player(12),$6E303046,-19851.8,-18494.2,114.8)
set Ub=CreateUnit(Player(15),$6E30304A,-27648.,-18176.,270.)
set Ub=CreateUnit(Player(12),$6E30314A,-21660.6,2536.9,270.)
set VO=Ub
set Ub=CreateUnit(Player(12),$6E30314D,-19793.2,4062.8,90.)
set VP=Ub
set Ub=CreateUnit(Player(15),$6E303158,-10240.,2432.,270.)
set Ub=CreateUnit(Player(12),$6E303049,-21453.5,-17817.2,180.)
set VQ=Ub
set Ub=CreateUnit(Player(15),$6E303159,-10624.,2432.,270.)
set VR=Ub
set Ub=CreateUnit(Player(12),$6E303049,-21283.1,-17595.9,180.)
set VS=Ub
set Ub=CreateUnit(Player(15),$6E303149,-20288.,-3392.,270.)
set Ub=CreateUnit(Player(12),$6E303049,-21454.1,-16958.7,180.)
set VT=Ub
set Ub=CreateUnit(Player(12),$6E303046,-19991.8,-15685.1,178.2)
set Ub=CreateUnit(Player(12),$6E303049,-21281.4,-17116.8,180.)
set VU=Ub
set Ub=CreateUnit(Player(12),$6E303046,-20103.2,-15265.5,231.2)
set Ub=CreateUnit(Player(12),$6E303046,-20610.3,-15258.3,54.7)
set Ub=CreateUnit(Player(12),$6E303046,-20395.,-14734.3,163.7)
set Ub=CreateUnit(Player(8),$68303149,-21332.6,-12604.6,180.)
set VV=Ub
set Ub=CreateUnit(Player(8),$68303149,-21311.6,-13259.6,180.)
set VW=Ub
set Ub=CreateUnit(Player(8),$68303149,-21497.6,-12720.6,180.)
set VX=Ub
set Ub=CreateUnit(Player(8),$68303149,-21475.5,-13177.8,180.)
set VY=Ub
set Ub=CreateUnit(Player(8),$6830314A,-14255.6,-16038.3,180.)
set VZ=Ub
set Ub=CreateUnit(Player(8),$68303144,-19851.9,-13932.6,2.)
set Va=Ub
set Ub=CreateUnit(Player(8),$68303146,-19867.2,-14054.7,306.3)
set Vb=Ub
set Ub=CreateUnit(Player(8),$68303145,-19382.9,-14577.8,36.6)
set Vc=Ub
set Ub=CreateUnit(Player(8),$68303144,-19299.7,-14458.4,269.8)
set Vd=Ub
set Ub=CreateUnit(Player(8),$68303144,-19207.8,-14565.2,135.)
set Ve=Ub
set Ub=CreateUnit(Player(8),$68303145,-18444.7,-15380.5,36.6)
set Vf=Ub
set Ub=CreateUnit(Player(8),$68303144,-18325.,-15224.6,215.)
set Vg=Ub
set Ub=CreateUnit(Player(8),$68303146,-18304.2,-15903.9,326.1)
set Vh=Ub
set Ub=CreateUnit(Player(8),$68303146,-18176.1,-16003.,135.)
set Vi=Ub
set Ub=CreateUnit(Player(8),$6830314B,-18001.,-16315.6,228.9)
set Vj=Ub
set Ub=CreateUnit(Player(8),$6830314B,-18097.5,-16415.2,44.7)
set Vk=Ub
set Ub=CreateUnit(Player(8),$6830314B,-16791.8,-16302.5,19.7)
set Vl=Ub
set Ub=CreateUnit(Player(8),$6830314B,-16785.3,-16441.8,14.1)
set Vm=Ub
set Ub=CreateUnit(Player(8),$68303144,-19927.5,-11783.,261.3)
set Vn=Ub
set Ub=CreateUnit(Player(8),$68303144,-19924.8,-11964.4,90.)
set Vo=Ub
set Ub=CreateUnit(Player(8),$68303146,-19016.1,-11414.1,315.)
set Vp=Ub
set Ub=CreateUnit(Player(8),$68303146,-18860.4,-11516.,180.)
set Vq=Ub
set Ub=CreateUnit(Player(8),$68303146,-19015.8,-11644.8,35.)
set Vr=Ub
set Ub=CreateUnit(Player(8),$6830314B,-19921.6,-12129.9,18.8)
set Vs=Ub
set Ub=CreateUnit(Player(8),$6830314B,-19925.4,-12273.8,262.3)
set Vt=Ub
set Ub=CreateUnit(Player(8),$68303146,-17238.1,-11251.9,315.)
set Vu=Ub
set Ub=CreateUnit(Player(8),$68303146,-17082.5,-11353.8,180.)
set Vv=Ub
set Ub=CreateUnit(Player(8),$68303146,-17237.8,-11482.7,35.)
set Vw=Ub
set Ub=CreateUnit(Player(8),$68303145,-17804.4,-12218.9,36.6)
set Vx=Ub
set Ub=CreateUnit(Player(8),$68303144,-17721.2,-12099.4,269.8)
set Vy=Ub
set Ub=CreateUnit(Player(8),$68303144,-17629.3,-12206.3,135.)
set Vz=Ub
set Ub=CreateUnit(Player(8),$6830314B,-16550.3,-11830.4,228.9)
set V0=Ub
set Ub=CreateUnit(Player(8),$6830314B,-16646.8,-11930.,44.7)
set V1=Ub
set Ub=CreateUnit(Player(8),$68303146,-15604.9,-12051.5,315.)
set V2=Ub
set Ub=CreateUnit(Player(8),$68303146,-15449.2,-12153.4,180.)
set V3=Ub
set Ub=CreateUnit(Player(8),$68303146,-15604.6,-12282.3,35.)
set V4=Ub
set Ub=CreateUnit(Player(8),$6830314C,-16249.2,-16378.4,90.)
set V5=Ub
set Ub=CreateUnit(Player(8),$6830314D,-19617.2,-11510.2,270.)
set V6=Ub
set Ub=CreateUnit(Player(8),$68303149,-13854.8,-15159.1,180.)
set V7=Ub
set Ub=CreateUnit(Player(8),$68303149,-13849.6,-15521.8,180.)
set V8=Ub
set Ub=CreateUnit(Player(15),$6E30304B,-16832.,-13568.,270.)
set Ub=CreateUnit(Player(15),$6E30304C,-16832.,-14080.,270.)
set Ub=CreateUnit(Player(15),$6E30304D,-16832.,-14528.,270.)
set Ub=CreateUnit(Player(8),$68303149,-17424.2,-13201.5,180.)
set V9=Ub
set Ub=CreateUnit(Player(8),$68303149,-17767.1,-13215.1,180.)
set WB=Ub
set Ub=CreateUnit(Player(8),$68303149,-16191.1,-14741.3,180.)
set WC=Ub
set Ub=CreateUnit(Player(8),$68303149,-15910.3,-14744.1,180.)
set WD=Ub
set Ub=CreateUnit(Player(8),$68303149,-14451.4,-14893.8,180.)
set WE=Ub
set Ub=CreateUnit(Player(8),$68303149,-14701.3,-14908.6,0.)
set WF=Ub
set Ub=CreateUnit(Player(8),$68303149,-14583.3,-14710.4,270.)
set WG=Ub
set Ub=CreateUnit(Player(8),$68303146,-15633.2,-15714.6,315.)
set WH=Ub
set Ub=CreateUnit(Player(8),$68303146,-15477.5,-15816.5,180.)
set WI=Ub
set Ub=CreateUnit(Player(8),$68303146,-15632.8,-15945.4,35.)
set WJ=Ub
set Ub=CreateUnit(Player(8),$6830314E,-16660.,-11129.2,315.)
set WK=Ub
set Ub=CreateUnit(Player(8),$6830314B,-16579.9,-11192.7,135.)
set WL=Ub
set Ub=CreateUnit(Player(8),$6830314F,-20489.4,-13402.1,0.)
set WM=Ub
set Ub=CreateUnit(Player(15),$68303150,-17793.7,-18176.9,270.)
set WN=Ub
set Ub=CreateUnit(Player(8),$68303144,-16987.6,-18183.,180.)
set WO=Ub
set Ub=CreateUnit(Player(8),$68303144,-17218.1,-18183.,0.)
set WP=Ub
set Ub=CreateUnit(Player(8),$68303144,-16595.4,-18426.2,180.)
set WQ=Ub
set Ub=CreateUnit(Player(8),$68303144,-16825.9,-18426.2,0.)
set WR=Ub
set Ub=CreateUnit(Player(8),$68303144,-16981.5,-18628.2,180.)
set WS=Ub
set Ub=CreateUnit(Player(8),$68303145,-17209.6,-18615.8,0.)
set WT=Ub
set Ub=CreateUnit(Player(8),$68303144,-16597.9,-19014.5,180.)
set WU=Ub
set Ub=CreateUnit(Player(8),$68303145,-16825.9,-19002.,0.)
set WV=Ub
set Ub=CreateUnit(Player(8),$68303144,-16270.,-18171.3,180.)
set WW=Ub
set Ub=CreateUnit(Player(8),$68303145,-16498.1,-18158.9,0.)
set WX=Ub
set Ub=CreateUnit(Player(8),$68303144,-16206.2,-18634.,180.)
set WY=Ub
set Ub=CreateUnit(Player(8),$68303145,-16434.3,-18621.5,0.)
set WZ=Ub
set Ub=CreateUnit(Player(8),$68303144,-16205.,-19085.3,180.)
set Wa=Ub
set Ub=CreateUnit(Player(8),$68303145,-16433.,-19072.9,0.)
set Wb=Ub
set Ub=CreateUnit(Player(8),$68303151,-18904.3,-15751.8,87.1)
set Wc=Ub
set Ub=CreateUnit(Player(12),$6E303050,-4648.7,-24455.3,180.)
set Wd=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkT)
set Ub=CreateUnit(Player(8),$68303146,-5088.5,-4177.8,315.)
set Ub=CreateUnit(Player(8),$68303146,-4932.9,-4279.7,180.)
set Ub=CreateUnit(Player(8),$68303146,-5088.2,-4408.5,35.)
set Ub=CreateUnit(Player(12),$6E303241,-7282.4,-27609.1,180.)
set We=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkU)
set Ub=CreateUnit(Player(8),$68303145,-4277.3,-4398.4,36.6)
set Ub=CreateUnit(Player(15),$6E303052,-2496.,-21632.,270.)
set Ub=CreateUnit(Player(15),$6E303051,-2880.,-21632.,270.)
set Ub=CreateUnit(Player(11),$6E303053,529.1,-21839.3,180.)
set Wf=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkV)
set Ub=CreateUnit(Player(8),$68303155,-6869.,-14230.,90.)
set Ub=CreateUnit(Player(8),$68303156,-7040.,-14208.,270.)
set Ub=CreateUnit(Player(8),$68303157,-6734.8,-14232.4,90.)
set Wg=Ub
set Ub=CreateUnit(Player(15),$6E303054,-6656.,-13760.,270.)
set Ub=CreateUnit(Player(12),$6E303056,-23479.4,-9441.,0.)
set Wh=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkW)
set Ub=CreateUnit(Player(12),$6E303057,-23087.7,-8947.7,270.)
set Wi=Ub
set Ub=CreateUnit(Player(12),$6E303057,-23096.8,-9854.6,90.)
set Wj=Ub
set Ub=CreateUnit(Player(12),$6E303057,-22635.8,-8968.4,270.)
set Wk=Ub
set Ub=CreateUnit(Player(12),$6E303057,-22643.8,-9863.8,90.)
set Wl=Ub
set Ub=CreateUnit(Player(15),$6E30305A,-6656.,-13376.,270.)
set Ub=CreateUnit(Player(12),$6E303249,-28324.8,-12260.9,180.)
set Wm=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkX)
set Ub=CreateUnit(Player(11),$6E303059,-8368.9,-8354.2,180.)
set Wn=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkY)
set Ub=CreateUnit(Player(15),$6E303131,-13312.,-8000.,270.)
set Ub=CreateUnit(Player(15),$6E303132,-12928.,-8256.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8256.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8256.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8256.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8000.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8000.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8000.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7744.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7744.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7744.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7488.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7488.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7488.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7232.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7232.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7232.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6976.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6976.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6976.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6720.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6720.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6720.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6464.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6464.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6464.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6208.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6208.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6208.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-5952.,-4608.,270.)
set Ub=CreateUnit(Player(8),$68303230,-5952.,-4864.,270.)
set Ub=CreateUnit(Player(8),$68303230,-5952.,-5120.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8256.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8256.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8256.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8000.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8000.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-8000.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7744.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7744.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7744.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7488.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7488.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7488.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7232.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7232.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-7232.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6976.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6976.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6976.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6720.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6720.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6720.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6464.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6464.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6464.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6208.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6208.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-6208.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303230,-5952.,-3456.,270.)
set Ub=CreateUnit(Player(8),$68303230,-5952.,-3712.,270.)
set Ub=CreateUnit(Player(8),$68303230,-5952.,-3968.,270.)
set Ub=CreateUnit(Player(8),$68303231,-8988.4,-3895.2,131.2)
set Wo=Ub
set Ub=CreateUnit(Player(8),$68303231,-9689.3,-3697.3,164.2)
set Wp=Ub
set Ub=CreateUnit(Player(8),$68303231,-8995.1,-3462.1,1.)
set Wq=Ub
set Ub=CreateUnit(Player(8),$68303231,-9668.3,-3231.6,223.2)
set Wr=Ub
set Ub=CreateUnit(Player(8),$68303231,-8999.3,-2980.3,1.3)
set Ws=Ub
set Ub=CreateUnit(Player(8),$68303231,-8309.7,-3040.6,1.3)
set Wt=Ub
set Ub=CreateUnit(Player(8),$68303231,-8303.9,-3248.9,1.3)
set Wu=Ub
set Ub=CreateUnit(Player(8),$68303231,-5944.2,-3056.4,1.3)
set Wv=Ub
set Ub=CreateUnit(Player(8),$68303231,-5942.5,-3243.4,1.3)
set Ww=Ub
set Ub=CreateUnit(Player(8),$68303231,-6475.3,-4166.7,0.)
set Ub=CreateUnit(Player(8),$68303231,-6265.,-4160.3,180.)
set Ub=CreateUnit(Player(8),$68303231,-6969.5,-4441.7,0.)
set Ub=CreateUnit(Player(8),$68303231,-6762.2,-4438.9,180.)
set Ub=CreateUnit(Player(8),$68303231,-6855.7,-4312.3,270.)
set Ub=CreateUnit(Player(8),$68303231,-7633.1,-4251.8,0.)
set Ub=CreateUnit(Player(8),$68303231,-7425.9,-4249.,180.)
set Ub=CreateUnit(Player(8),$68303231,-7519.3,-4122.4,270.)
set Ub=CreateUnit(Player(8),$68303231,-5761.2,-3247.6,1.3)
set Wx=Ub
set Ub=CreateUnit(Player(8),$68303231,-5575.8,-3252.,1.3)
set Wy=Ub
set Ub=CreateUnit(Player(8),$68303231,-5792.7,-5172.8,1.3)
set Wz=Ub
set Ub=CreateUnit(Player(8),$68303231,-5614.2,-5169.9,1.3)
set W0=Ub
set Ub=CreateUnit(Player(8),$68303232,-8318.9,-4312.3,0.)
set Ub=CreateUnit(Player(8),$68303233,-4137.5,-1376.1,180.)
set Ub=CreateUnit(Player(8),$68303234,-9164.6,-1587.1,270.)
set Ub=CreateUnit(Player(15),$6E303134,-6144.,-1024.,270.)
set Ub=CreateUnit(Player(15),$6E303135,-6144.,-1536.,270.)
set Ub=CreateUnit(Player(8),$68303235,-2496.,-2368.,270.)
set Ub=CreateUnit(Player(8),$68303235,-2048.,-2368.,270.)
set Ub=CreateUnit(Player(8),$68303235,-2496.,-3648.,270.)
set Ub=CreateUnit(Player(8),$68303235,-2048.,-3648.,270.)
set Ub=CreateUnit(Player(8),$68303231,-4173.4,-2686.3,180.)
set Ub=CreateUnit(Player(8),$68303231,-4186.,-3312.1,180.)
set Ub=CreateUnit(Player(8),$68303231,-4521.6,-2238.2,180.)
set W1=Ub
set Ub=CreateUnit(Player(8),$68303231,-4812.9,-2255.4,180.)
set W2=Ub
set Ub=CreateUnit(Player(8),$68303231,-4780.8,-3860.9,180.)
set W3=Ub
set Ub=CreateUnit(Player(8),$68303231,-4525.8,-3864.8,180.)
set W4=Ub
set Ub=CreateUnit(Player(8),$68303146,-7083.1,-904.8,315.)
set Ub=CreateUnit(Player(8),$68303146,-6927.5,-1006.7,180.)
set Ub=CreateUnit(Player(8),$68303146,-7082.8,-1135.6,35.)
set Ub=CreateUnit(Player(8),$68303145,-8433.8,-1025.3,36.6)
set Ub=CreateUnit(Player(8),$68303144,-8314.1,-869.4,215.)
set Ub=CreateUnit(Player(8),$68303146,-7008.6,-1803.1,326.1)
set Ub=CreateUnit(Player(8),$68303146,-6880.6,-1902.2,135.)
set Ub=CreateUnit(Player(8),$68303236,3648.,-26112.,270.)
set Ub=CreateUnit(Player(8),$68303237,4288.,-26112.,270.)
set Ub=CreateUnit(Player(8),$68303236,3904.,-26112.,270.)
set Ub=CreateUnit(Player(8),$68303236,3904.,-26368.,270.)
set Ub=CreateUnit(Player(8),$68303236,3648.,-26368.,270.)
set Ub=CreateUnit(Player(8),$68303239,4266.4,-26359.7,270.)
set Ub=CreateUnit(Player(8),$68303238,3441.9,-26104.3,270.)
set Ub=CreateUnit(Player(8),$68303238,3464.8,-26351.6,90.)
set Ub=CreateUnit(Player(8),$68303238,4529.4,-26164.5,315.)
set Ub=CreateUnit(Player(8),$68303238,4644.1,-26340.7,135.)
set Ub=CreateUnit(Player(8),$68303238,3864.1,-26879.1,45.)
set Ub=CreateUnit(Player(8),$68303238,4023.4,-26777.8,215.)
set Ub=CreateUnit(Player(8),$68303238,3296.7,-26223.9,0.)
set Ub=CreateUnit(Player(8),$68303236,4800.,-26112.,270.)
set Ub=CreateUnit(Player(8),$68303236,4800.,-26368.,270.)
set Ub=CreateUnit(Player(8),$68303236,5056.,-26112.,270.)
set Ub=CreateUnit(Player(8),$68303236,5056.,-26368.,270.)
set Ub=CreateUnit(Player(12),$6E303141,20145.4,-24388.9,180.)
set W5=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BkZ)
set Ub=CreateUnit(Player(12),$6E303138,12071.2,-27324.5,133.1)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bka)
set Ub=CreateUnit(Player(8),$68303336,-8630.9,-13189.8,91.7)
set Ub=CreateUnit(Player(12),$6E303139,15662.3,-24482.1,144.3)
set Ub=CreateUnit(Player(8),$68303335,-27625.,-17874.4,180.)
set Ub=CreateUnit(Player(12),$6E303139,14741.9,-23417.4,144.3)
set Ub=CreateUnit(Player(8),$68303337,-7958.3,-2133.2,180.)
set Ub=CreateUnit(Player(12),$6E303139,15534.5,-23076.7,144.3)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkb)
set Ub=CreateUnit(Player(15),$6E303136,5632.,-26816.,270.)
set W6=Ub
set Ub=CreateUnit(Player(12),$6E303137,8549.1,-26211.,191.5)
set Ub=CreateUnit(Player(12),$6E303137,8884.2,-26960.1,191.5)
set Ub=CreateUnit(Player(12),$6E303137,9148.2,-26418.9,191.5)
set Ub=CreateUnit(Player(12),$6E303137,9495.9,-26126.4,191.5)
set Ub=CreateUnit(Player(12),$6E303137,9583.8,-27055.6,191.5)
set Ub=CreateUnit(Player(12),$6E303137,9864.7,-27394.,191.5)
set Ub=CreateUnit(Player(12),$6E303137,9941.6,-25886.6,191.5)
set Ub=CreateUnit(Player(11),$48303338,28651.9,26490.9,90.)
set W7=Ub
set Ub=CreateUnit(Player(12),$6E303137,10483.8,-27135.4,191.5)
set Ub=CreateUnit(Player(12),$6E303137,11783.2,-26152.3,191.5)
set Ub=CreateUnit(Player(12),$6E303137,10805.3,-25155.5,191.5)
set Ub=CreateUnit(Player(12),$6E303138,11835.6,-26688.2,133.1)
set Ub=CreateUnit(Player(15),$6E303142,-5696.,-1024.,270.)
set Ub=CreateUnit(Player(15),$6E303143,-5696.,-1536.,270.)
set W8=Ub
set Ub=CreateUnit(Player(9),$65303033,-4215.7,-5008.,180.)
set W9=Ub
call UnitAddItemToSlotById(Ub,$49303259,0)
call UnitAddItemToSlotById(Ub,$49303536,1)
set Ub=CreateUnit(Player(8),$68303243,-8320.,-6080.,0.)
set Ub=CreateUnit(Player(8),$68303231,-7270.6,-6088.2,270.)
set Ub=CreateUnit(Player(8),$68303231,-7263.9,-6701.1,90.)
set Ub=CreateUnit(Player(8),$68303231,-7635.4,-6098.9,270.)
set Ub=CreateUnit(Player(8),$68303231,-7618.1,-6695.3,90.)
set Ub=CreateUnit(Player(8),$68303231,-3766.3,-2857.4,270.)
set Ub=CreateUnit(Player(8),$68303231,-3755.7,-3149.6,90.)
set Ub=CreateUnit(Player(8),$68303231,-3227.2,-2859.5,270.)
set Ub=CreateUnit(Player(8),$68303231,-3216.7,-3151.8,90.)
set Ub=CreateUnit(Player(8),$68303231,-2760.9,-2805.,180.)
set Ub=CreateUnit(Player(8),$68303231,-2763.2,-3208.2,180.)
set Ub=CreateUnit(Player(8),$68303231,-1856.4,-2779.5,0.)
set Ub=CreateUnit(Player(8),$68303231,-1863.7,-3192.2,0.)
set Ub=CreateUnit(Player(8),$68303231,-1525.7,-2838.5,0.)
set Ub=CreateUnit(Player(8),$68303231,-1502.9,-3106.5,0.)
set Ub=CreateUnit(Player(8),$68303231,-1242.,-2835.2,0.)
set Ub=CreateUnit(Player(8),$68303231,-1239.7,-3105.2,0.)
set Ub=CreateUnit(Player(8),$68303231,-4878.9,1695.3,90.)
set Ub=CreateUnit(Player(8),$68303231,-5022.2,1831.4,90.)
set Ub=CreateUnit(Player(8),$68303231,-5389.6,1828.3,90.)
set Ub=CreateUnit(Player(8),$68303231,-5509.1,1677.7,90.)
set Ub=CreateUnit(Player(8),$68303244,-5213.6,1949.1,90.)
set XB=Ub
set Ub=CreateUnit(Player(8),$68303231,29184.6,-27231.6,270.)
set Ub=CreateUnit(Player(8),$68303231,29185.1,-27551.4,90.)
set Ub=CreateUnit(Player(8),$68303231,28981.4,-27234.2,270.)
set Ub=CreateUnit(Player(8),$68303231,28982.,-27554.,90.)
set Ub=CreateUnit(Player(8),$68303231,28745.,-27248.2,270.)
set Ub=CreateUnit(Player(8),$68303231,28745.6,-27568.,90.)
set Ub=CreateUnit(Player(8),$68303231,28088.2,-27581.3,90.)
set Ub=CreateUnit(Player(8),$68303231,28087.7,-27261.5,270.)
set Ub=CreateUnit(Player(8),$68303231,28306.5,-27259.7,270.)
set Ub=CreateUnit(Player(8),$68303231,28307.1,-27579.5,90.)
set Ub=CreateUnit(Player(8),$68303231,28532.8,-27580.7,90.)
set Ub=CreateUnit(Player(8),$68303231,28524.6,-27246.1,270.)
set Ub=CreateUnit(Player(8),$68303231,27668.1,-26951.8,270.)
set Ub=CreateUnit(Player(8),$68303231,27248.4,-26958.1,270.)
set Ub=CreateUnit(Player(8),$68303231,27661.8,-27838.6,90.)
set Ub=CreateUnit(Player(8),$68303231,27268.6,-27841.2,90.)
set Ub=CreateUnit(Player(8),$68303231,26987.1,-27205.1,0.)
set Ub=CreateUnit(Player(8),$68303231,27010.5,-27672.2,0.)
set Ub=CreateUnit(Player(8),$68303231,26508.3,-27198.9,270.)
set Ub=CreateUnit(Player(8),$68303231,26506.5,-27676.3,90.)
set Ub=CreateUnit(Player(8),$68303245,26323.,-27429.2,0.)
set Ub=CreateUnit(Player(12),$6E303148,-2676.3,-7677.2,180.)
set XC=Ub
set Ub=CreateUnit(Player(8),$68303255,-15413.3,-22226.9,235.)
set Ub=CreateUnit(Player(8),$68303258,-6017.,-5843.9,270.)
set Ub=CreateUnit(Player(15),$6E303242,-15673.6,1629.5,180.)
set XD=Ub
set Ub=CreateUnit(Player(12),$6E303244,-15338.9,3781.7,180.)
set Ub=CreateUnit(Player(12),$6E303244,-14578.9,3771.1,180.)
set Ub=CreateUnit(Player(12),$6E303243,-13914.3,3527.,180.)
set XE=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkc)
set Ub=CreateUnit(Player(12),$6E303244,-15342.4,3283.4,180.)
set Ub=CreateUnit(Player(12),$6E303244,-14594.2,3271.7,180.)
set Ub=CreateUnit(Player(8),$68303333,-23479.6,-16667.4,90.)
set Ub=CreateUnit(Player(8),$68303334,-13865.7,-23623.4,180.)
set Ub=CreateUnit(Player(11),$6E303250,-10630.7,-18404.2,172.4)
set XF=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkd)
set Ub=CreateUnit(Player(11),$6E303251,-10288.2,-18265.2,75.6)
set Ub=CreateUnit(Player(11),$6E303251,-10277.8,-18617.2,331.9)
set Ub=CreateUnit(Player(11),$6E303251,-10966.5,-18211.,166.)
set Ub=CreateUnit(Player(11),$6E303251,-10963.2,-18602.4,322.1)
set Ub=CreateUnit(Player(12),$6E303253,-6935.5,-8098.4,240.6)
set XG=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bke)
set Ub=CreateUnit(Player(11),$6E303254,-17875.3,-21317.9,260.2)
set XH=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkf)
set Ub=CreateUnit(Player(11),$6E303255,-17869.9,-20411.4,102.3)
set XI=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkg)
set Ub=CreateUnit(Player(11),$6E303256,-29817.7,-14184.6,274.1)
set XJ=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkh)
set Ub=CreateUnit(Player(15),$68303343,-20484.9,-12182.8,270.6)
set XK=Ub
set Ub=CreateUnit(Player(12),$6E303259,-12251.6,-13951.2,180.)
set XL=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bki)
set Ub=CreateUnit(Player(15),$68303344,-12657.2,-8204.8,270.)
set Ub=CreateUnit(Player(12),$6E303332,-21607.,7528.3,316.4)
set XM=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkj)
set Ub=CreateUnit(Player(15),$68303345,-23085.8,-11453.,180.)
set XN=Ub
set Ub=CreateUnit(Player(9),$6E303450,13248.,23232.,270.)
set Ub=CreateUnit(Player(11),$6E303335,242.8,-8092.9,270.)
set XO=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkk)
set Ub=CreateUnit(Player(12),$6E303337,-23983.9,7180.4,90.)
set XP=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkl)
set Ub=CreateUnit(Player(12),$6E303338,-18926.7,-15317.1,270.)
set XQ=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkm)
set Ub=CreateUnit(Player(12),$6E303341,-16725.5,10984.2,318.8)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkn)
set Ub=CreateUnit(Player(12),$6E303341,-23232.9,16435.6,141.8)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bko)
set Ub=CreateUnit(Player(12),$6E303341,-26504.6,14558.7,201.7)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkp)
set Ub=CreateUnit(Player(12),$6E303238,-26436.7,14749.3,238.)
set Ub=CreateUnit(Player(12),$6E303238,-26245.,14753.1,.9)
set Ub=CreateUnit(Player(12),$6E303238,-26391.6,14386.7,337.6)
set Ub=CreateUnit(Player(12),$6E303238,-26199.9,14403.4,174.3)
set Ub=CreateUnit(Player(12),$6E303239,-27982.1,14515.8,180.)
set XR=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkq)
set Ub=CreateUnit(Player(12),$6E303341,-28271.7,14715.9,180.)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkr)
set Ub=CreateUnit(Player(12),$6E303341,-28274.2,14273.9,179.1)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bks)
set Ub=CreateUnit(Player(12),$6E303234,-11676.4,8361.7,270.)
set XS=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkt)
set Ub=CreateUnit(Player(12),$6E303339,-11262.2,8138.,104.1)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bku)
set Ub=CreateUnit(Player(12),$6E303339,-12082.2,8091.2,134.5)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkv)
set Ub=CreateUnit(Player(12),$6E303231,-11868.4,11014.1,188.7)
set Ub=CreateUnit(Player(12),$6E303231,-11698.,10835.9,305.8)
set Ub=CreateUnit(Player(12),$6E303231,-11439.3,10688.1,222.9)
set Ub=CreateUnit(Player(12),$6E303339,-11493.4,10920.,184.3)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkw)
set Ub=CreateUnit(Player(12),$6E303339,-15205.9,8056.3,177.)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkx)
set Ub=CreateUnit(Player(12),$6E303231,-14955.,8283.8,244.5)
set Ub=CreateUnit(Player(12),$6E303231,-15209.5,8296.9,120.5)
set Ub=CreateUnit(Player(12),$6E303231,-15210.1,7764.7,24.5)
set Ub=CreateUnit(Player(12),$6E303231,-14904.6,7787.1,178.7)
set Ub=CreateUnit(Player(12),$6E303230,-14744.7,8318.9,283.9)
set Ub=CreateUnit(Player(12),$6E303230,-14722.8,8105.5,163.9)
set Ub=CreateUnit(Player(12),$6E303230,-14698.1,7920.8,265.6)
set Ub=CreateUnit(Player(12),$6E303230,-14692.,7724.2,109.6)
set Ub=CreateUnit(Player(12),$6E303339,-11079.1,6316.7,110.8)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bky)
set Ub=CreateUnit(Player(15),$6830334D,-14239.7,17472.3,313.9)
set Ub=CreateUnit(Player(15),$6830334D,-14105.7,17297.4,129.6)
set Ub=CreateUnit(Player(15),$6830334D,-14223.3,16531.4,249.)
set Ub=CreateUnit(Player(15),$6830334D,-14227.3,16315.,205.3)
set Ub=CreateUnit(Player(15),$6830334D,-14425.2,16411.9,305.8)
set Ub=CreateUnit(Player(15),$6830334E,-16309.9,16618.4,120.6)
set Ub=CreateUnit(Player(15),$6830334D,-16121.1,16798.8,162.)
set Ub=CreateUnit(Player(15),$6830334D,-16362.3,16887.1,24.)
set Ub=CreateUnit(Player(15),$6830334E,-16145.1,15555.7,62.4)
set Ub=CreateUnit(Player(15),$6830334E,-15981.3,15383.6,312.7)
set Ub=CreateUnit(Player(15),$6830334E,-15328.5,15027.9,10.8)
set Ub=CreateUnit(Player(15),$6830334E,-15126.5,15031.5,104.7)
set Ub=CreateUnit(Player(15),$6830334F,-15398.6,17681.8,270.)
set Ub=CreateUnit(Player(15),$68303350,-13933.2,19166.,213.)
set Ub=CreateUnit(Player(15),$68303351,-13365.7,18177.8,180.)
set Ub=CreateUnit(Player(15),$68303352,-14701.7,19483.1,229.5)
set Ub=CreateUnit(Player(15),$68303353,-15958.5,19497.2,289.4)
set Ub=CreateUnit(Player(15),$68303354,-17000.1,20022.7,261.3)
set Ub=CreateUnit(Player(15),$68303355,-16959.9,16201.,90.)
set Ub=CreateUnit(Player(15),$68303356,-18111.4,16611.9,0.)
set Ub=CreateUnit(Player(15),$6830334D,-16379.4,19766.7,100.3)
set Ub=CreateUnit(Player(15),$6830334D,-16381.8,19962.9,270.)
set Ub=CreateUnit(Player(15),$6830334D,-17054.5,19544.5,350.4)
set Ub=CreateUnit(Player(15),$6830334D,-17051.7,19335.3,332.5)
set Ub=CreateUnit(Player(15),$6830334D,-16888.1,19413.1,180.)
set Ub=CreateUnit(Player(15),$68303357,-17848.2,20026.7,309.6)
set Ub=CreateUnit(Player(15),$6830334D,-17505.5,18426.8,0.)
set Ub=CreateUnit(Player(15),$6830334D,-17297.3,18467.7,224.8)
set Ub=CreateUnit(Player(15),$68303358,-18412.7,19060.7,0.)
set Ub=CreateUnit(Player(15),$6830334D,-17188.,17482.9,143.3)
set Ub=CreateUnit(Player(15),$6830334D,-17335.1,17584.8,279.3)
set Ub=CreateUnit(Player(15),$68303359,-18781.5,18480.1,295.)
set Ub=CreateUnit(Player(9),$6830335A,-18634.7,17430.7,0.)
set Ub=CreateUnit(Player(12),$68303430,-13731.9,22687.2,231.2)
set XT=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bkz)
set Ub=CreateUnit(Player(15),$6E303342,-14848.,18496.,270.)
set Ub=CreateUnit(Player(15),$6E30344C,4224.,18752.,270.)
set Ub=CreateUnit(Player(15),$6E303344,-15296.,18944.,270.)
set XU=Ub
set Ub=CreateUnit(Player(15),$6E303345,-14848.,18944.,270.)
set XV=Ub
set Ub=CreateUnit(Player(12),$6E303346,-11212.6,-9872.,216.8)
set XW=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk0)
set Ub=CreateUnit(Player(12),$6E303347,-16988.9,23651.2,270.)
set XX=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk1)
set Ub=CreateUnit(Player(12),$6E303341,-15540.6,5259.6,60.1)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk2)
set Ub=CreateUnit(Player(12),$6E303348,-21111.7,23462.3,282.)
set XY=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk3)
set Ub=CreateUnit(Player(12),$6E303233,-17083.8,8730.,270.)
set Ub=CreateUnit(Player(12),$6E303232,-16804.,8738.6,359.5)
set Ub=CreateUnit(Player(12),$6E303232,-16881.2,8550.1,218.1)
set Ub=CreateUnit(Player(12),$6E303232,-17142.3,8533.8,92.8)
set Ub=CreateUnit(Player(12),$6E303232,-17332.7,8695.8,148.2)
set Ub=CreateUnit(Player(12),$6E303349,-22744.,19800.4,270.)
set XZ=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk4)
set Ub=CreateUnit(Player(12),$6E303233,-22259.8,19482.6,270.)
set Xa=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk5)
set Ub=CreateUnit(Player(12),$6E303233,-23219.8,19470.5,270.)
set Xb=Ub
set Ub=CreateUnit(Player(12),$6E303233,-22262.1,18836.2,270.)
set Xc=Ub
set Ub=CreateUnit(Player(12),$6E303233,-23208.7,18810.3,270.)
set Xd=Ub
set Ub=CreateUnit(Player(15),$68303432,-13726.8,15841.2,180.)
set Ub=CreateUnit(Player(12),$6E303339,-23340.5,19970.6,161.1)
set Xe=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk6)
set Ub=CreateUnit(Player(15),$6E30334A,-21120.,-25792.,270.)
set Xf=Ub
set Ub=CreateUnit(Player(15),$6E30334A,-15488.,-24256.,270.)
set Xg=Ub
set Ub=CreateUnit(Player(15),$6E30334A,-23808.,-24000.,270.)
set Xh=Ub
set Ub=CreateUnit(Player(15),$6E30334B,-28032.,-17216.,270.)
set Xi=Ub
set Ub=CreateUnit(Player(15),$6E30334B,-28352.,-12992.,270.)
set Xj=Ub
set Ub=CreateUnit(Player(15),$6E30334B,-25856.,-16512.,270.)
set Xk=Ub
set Ub=CreateUnit(Player(15),$6E30334B,-22144.,-16384.,270.)
set Xl=Ub
set Ub=CreateUnit(Player(15),$6E30334B,-22016.,-13696.,270.)
set Xm=Ub
set Ub=CreateUnit(Player(15),$6E30334C,7936.,-26752.,270.)
set Xn=Ub
set Ub=CreateUnit(Player(15),$6E30334C,14784.,-24960.,270.)
set Xo=Ub
set Ub=CreateUnit(Player(15),$6E30334D,-12672.,14592.,270.)
set Xp=Ub
set Ub=CreateUnit(Player(15),$6E30334D,-13504.,8128.,270.)
set Xq=Ub
set Ub=CreateUnit(Player(15),$6E30334D,-20096.,16512.,270.)
set Xr=Ub
set Ub=CreateUnit(Player(15),$6E30334D,-25280.,13312.,270.)
set Xs=Ub
set Ub=CreateUnit(Player(15),$6E30334E,-15392.,17312.,270.)
set Xt=Ub
set Ub=CreateUnit(Player(11),$6E303236,-28517.8,23793.,270.)
set Xu=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk7)
set Ub=CreateUnit(Player(11),$65303037,-29414.8,23150.2,0.)
set Xv=Ub
set Ub=CreateUnit(Player(11),$65303038,-27738.1,23141.3,180.)
set Xw=Ub
set Ub=CreateUnit(Player(15),$6E303350,-8576.,-13888.,270.)
set Xx=Ub
set Ub=CreateUnit(Player(15),$6E303350,-11904.,-11264.,270.)
set Xy=Ub
set Ub=CreateUnit(Player(15),$6E303350,-21888.,-9088.,270.)
set Xz=Ub
set Ub=CreateUnit(Player(15),$6E303351,-26240.,-8896.,270.)
set X0=Ub
set Ub=CreateUnit(Player(15),$6E303351,-26560.,-6656.,270.)
set X1=Ub
set Ub=CreateUnit(Player(15),$6E303351,-13440.,-8640.,270.)
set X2=Ub
set Ub=CreateUnit(Player(15),$6E303352,-22912.,-23296.,270.)
set X3=Ub
set Ub=CreateUnit(Player(15),$6E303352,-25536.,-27072.,270.)
set X4=Ub
set Ub=CreateUnit(Player(15),$6E303352,-21312.,-20544.,270.)
set X5=Ub
set Ub=CreateUnit(Player(15),$6E30334A,-18944.,-22272.,270.)
set X6=Ub
set Ub=CreateUnit(Player(15),$6E303353,-19264.,-27520.,270.)
set X7=Ub
set Ub=CreateUnit(Player(15),$6E303353,-13056.,-25920.,270.)
set X8=Ub
set Ub=CreateUnit(Player(15),$6E30334A,-12288.,-27136.,270.)
set X9=Ub
set Ub=CreateUnit(Player(15),$6E303354,-12352.,-22144.,270.)
set YB=Ub
set Ub=CreateUnit(Player(15),$6E303354,-5248.,-19904.,270.)
set YC=Ub
set Ub=CreateUnit(Player(15),$6E303354,-5568.,-23616.,270.)
set YD=Ub
set Ub=CreateUnit(Player(8),$68303436,-17596.2,893.1,37.4)
set Ub=CreateUnit(Player(15),$6E303355,-29760.,-5696.,270.)
set YE=Ub
set Ub=CreateUnit(Player(15),$6E303355,-21696.,-1984.,270.)
set YF=Ub
set Ub=CreateUnit(Player(15),$6E303356,-24000.,1984.,270.)
set YG=Ub
set Ub=CreateUnit(Player(15),$6E303356,-20544.,1344.,270.)
set YH=Ub
set Ub=CreateUnit(Player(15),$6E303357,-21440.,4672.,270.)
set YI=Ub
set Ub=CreateUnit(Player(15),$6E303357,-29504.,6464.,270.)
set YJ=Ub
set Ub=CreateUnit(Player(15),$6E303357,-19520.,5824.,270.)
set YK=Ub
set Ub=CreateUnit(Player(15),$6E30334D,-19904.,12224.,270.)
set YL=Ub
set Ub=CreateUnit(Player(15),$6E303358,-19840.,20992.,270.)
set YM=Ub
set Ub=CreateUnit(Player(15),$6E303359,-18176.,18944.,270.)
set YN=Ub
set Ub=CreateUnit(Player(15),$6E303359,-22272.,18368.,270.)
set YO=Ub
set Ub=CreateUnit(Player(15),$6E303359,-16640.,22592.,270.)
set YP=Ub
set Ub=CreateUnit(Player(15),$6E303359,-20608.,22272.,270.)
set YQ=Ub
set Ub=CreateUnit(Player(15),$45303039,29859.9,-25075.1,221.9)
set YR=Ub
set Ub=CreateUnit(Player(12),$6E30335A,-20066.6,-10640.1,85.6)
set YS=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk8)
set Ub=CreateUnit(Player(11),$65303037,-29125.4,23642.1,270.)
set YT=Ub
set Ub=CreateUnit(Player(11),$65303037,-27956.4,23627.6,270.)
set YU=Ub
set Ub=CreateUnit(Player(8),$68303438,-16068.5,-17988.4,234.6)
set YV=Ub
set Ub=CreateUnit(Player(12),$6E303430,-25426.6,8207.8,180.)
set YW=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function Bk9)
set Ub=CreateUnit(Player(4),$68303441,-29824.,27520.,270.)
set YX=Ub
set Ub=CreateUnit(Player(0),$68303444,787.,26599.1,270.)
set Ub=CreateUnit(Player(11),$75303031,-16896.,-2560.,270.)
set Ub=CreateUnit(Player(11),$6E303437,-13371.3,-3799.6,180.)
set YY=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlB)
set Ub=CreateUnit(Player(9),$6830344B,5528.8,20444.4,282.3)
set Ub=CreateUnit(Player(9),$6830344C,-274.8,18536.4,320.2)
set Ub=CreateUnit(Player(9),$68303254,-172.8,18685.4,305.5)
set Ub=CreateUnit(Player(9),$68303254,-476.7,18515.,299.)
set Ub=CreateUnit(Player(9),$68303254,381.,18646.5,254.6)
set Ub=CreateUnit(Player(9),$68303254,512.5,18493.8,252.5)
set Ub=CreateUnit(Player(9),$68303148,72.8,20095.5,0.)
set Ub=CreateUnit(Player(9),$68303148,76.6,19943.4,345.)
set Ub=CreateUnit(Player(9),$68303148,73.3,19804.2,41.)
set Ub=CreateUnit(Player(9),$68303147,221.2,19674.3,20.4)
set Ub=CreateUnit(Player(9),$68303147,445.2,19676.5,136.9)
set Ub=CreateUnit(Player(9),$68303147,688.5,19681.1,90.)
set Ub=CreateUnit(Player(9),$68303147,888.8,19688.,90.)
set Ub=CreateUnit(Player(9),$68303147,1136.2,19685.7,90.)
set Ub=CreateUnit(Player(9),$68303148,1363.4,19678.8,90.)
set Ub=CreateUnit(Player(9),$68303148,1640.,19685.7,90.)
set Ub=CreateUnit(Player(9),$68303147,1867.8,19694.9,133.1)
set Ub=CreateUnit(Player(9),$68303147,2135.9,19706.5,121.8)
set Ub=CreateUnit(Player(9),$68303147,2354.9,19725.2,118.9)
set Ub=CreateUnit(Player(9),$68303148,2444.4,19943.1,180.)
set Ub=CreateUnit(Player(9),$68303148,2481.4,20251.8,180.)
set Ub=CreateUnit(Player(9),$68303148,2488.6,20532.5,180.)
set Ub=CreateUnit(Player(9),$68303147,2497.2,20384.6,180.)
set Ub=CreateUnit(Player(9),$68303147,2475.4,20098.1,180.)
set Ub=CreateUnit(Player(9),$6830344D,6297.1,20468.6,54.1)
set Ub=CreateUnit(Player(9),$6830344E,1358.4,20449.9,281.1)
set Ub=CreateUnit(Player(9),$6830344F,-23064.5,-20148.3,323.1)
set Ub=CreateUnit(Player(9),$6830344F,-24783.3,-22457.,356.6)
set Ub=CreateUnit(Player(9),$6830344F,-11819.3,-14495.3,89.3)
set Ub=CreateUnit(Player(9),$6830344F,-2794.,-2101.,334.8)
set Ub=CreateUnit(Player(9),$6830344F,-21983.8,-17964.2,306.1)
set Ub=CreateUnit(Player(9),$6830344F,-23131.2,-17824.6,323.3)
set Ub=CreateUnit(Player(9),$68303450,-17363.5,20927.7,59.4)
set Ub=CreateUnit(Player(9),$68303450,-15658.6,7240.8,190.2)
set Ub=CreateUnit(Player(9),$68303450,-22033.8,17645.4,64.7)
set Ub=CreateUnit(Player(9),$68303451,-5714.8,26441.7,210.2)
set Ub=CreateUnit(Player(9),$65303043,5735.6,19292.1,188.1)
set YZ=Ub
set Ub=CreateUnit(Player(12),$6E303439,10893.7,22788.7,0.)
set Ya=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlC)
set Ub=CreateUnit(Player(12),$6E303442,16908.8,24362.6,180.)
set Yb=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlD)
set Ub=CreateUnit(Player(12),$6E303444,16260.1,20863.3,90.)
set Yc=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlE)
set Ub=CreateUnit(Player(15),$6E303445,5056.,20416.,270.)
set Yd=Ub
set Ub=CreateUnit(Player(15),$6E303445,9088.,27456.,270.)
set Ye=Ub
set Ub=CreateUnit(Player(15),$6E303445,10624.,24576.,270.)
set Yf=Ub
set Ub=CreateUnit(Player(15),$6E303445,13440.,26496.,270.)
set Yg=Ub
set Ub=CreateUnit(Player(15),$6E303445,16256.,25792.,270.)
set Yh=Ub
set Ub=CreateUnit(Player(15),$6E303445,17408.,22464.,270.)
set Yi=Ub
set Ub=CreateUnit(Player(15),$6E303445,12992.,21888.,270.)
set Yj=Ub
set Ub=CreateUnit(Player(11),$6E303447,19242.,-26585.8,273.5)
set Yk=Ub
set Ub=CreateUnit(Player(11),$6E303447,19254.8,-26802.4,273.5)
set Yl=Ub
set Ub=CreateUnit(Player(11),$6E303447,19261.6,-27001.8,273.5)
set Ym=Ub
set Ub=CreateUnit(Player(11),$6E303447,19265.3,-27183.5,273.5)
set Yn=Ub
set Ub=CreateUnit(Player(11),$6E303447,19878.9,-26561.8,273.5)
set Yo=Ub
set Ub=CreateUnit(Player(11),$6E303447,19874.6,-26769.3,273.5)
set Yp=Ub
set Ub=CreateUnit(Player(11),$6E303447,19875.3,-26966.6,273.5)
set Yq=Ub
set Ub=CreateUnit(Player(11),$6E303447,19865.2,-27159.4,273.5)
set Yr=Ub
set Ub=CreateUnit(Player(11),$6E303448,19577.4,-26587.,270.)
set Ys=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlF)
set Ub=CreateUnit(Player(15),$6E303445,1152.,18560.,270.)
set Yt=Ub
set Ub=CreateUnit(Player(15),$6E303445,-2176.,20032.,270.)
set Yu=Ub
set Ub=CreateUnit(Player(15),$6E303449,-6208.,-1920.,270.)
set Yv=Ub
set Ub=CreateUnit(Player(15),$6E303449,-5888.,-6720.,270.)
set Yw=Ub
set Ub=CreateUnit(Player(9),$68303453,4928.,22912.,270.)
set Ub=CreateUnit(Player(9),$65303044,4077.6,22085.6,329.3)
set Yx=Ub
set Ub=CreateUnit(Player(9),$68303454,2808.8,16858.9,180.)
set Ub=CreateUnit(Player(9),$68303454,2804.,16447.5,180.)
set Ub=CreateUnit(Player(9),$68303454,2883.4,16802.4,180.)
set Ub=CreateUnit(Player(9),$68303454,2888.1,16482.8,180.)
set Ub=CreateUnit(Player(9),$68303454,3672.8,16928.,270.)
set Ub=CreateUnit(Player(9),$68303454,3690.9,16344.2,90.)
set Ub=CreateUnit(Player(15),$6E30344B,3840.,18368.,270.)
set Ub=CreateUnit(Player(15),$6E30344A,3840.,18752.,270.)
set Ub=CreateUnit(Player(15),$6E30344D,4224.,18368.,270.)
set Ub=CreateUnit(Player(15),$6E30344E,-15296.,18496.,270.)
set Yy=Ub
set Ub=CreateUnit(Player(9),$6830344F,-21078.3,-10533.,323.3)
set Ub=CreateUnit(Player(9),$6830344F,-1462.5,-27638.,323.3)
set Ub=CreateUnit(Player(11),$48303348,-23012.1,26989.2,215.)
set Ub=CreateUnit(Player(12),$6E303451,13815.6,23319.6,163.9)
set Yz=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlG)
set Ub=CreateUnit(Player(12),$6E303452,-1670.9,-1205.9,180.)
set Y0=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlH)
set Ub=CreateUnit(Player(12),$6E303453,-25397.5,20777.2,202.1)
set Y1=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlI)
set Ub=CreateUnit(Player(15),$6E303445,-5568.,21824.,270.)
set Y2=Ub
set Ub=CreateUnit(Player(12),$6E303457,9317.6,17910.6,225.1)
set Y3=Ub
set Ub=CreateUnit(Player(12),$6E303456,11156.4,19822.4,272.7)
set Y4=Ub
set Ub=CreateUnit(Player(8),$68303455,4342.5,20390.1,260.6)
set Ub=CreateUnit(Player(15),$6E303445,9728.,19648.,270.)
set Y5=Ub
set Ub=CreateUnit(Player(11),$6E303458,15357.2,19213.1,270.)
set Y6=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlJ)
set Ub=CreateUnit(Player(9),$65303045,3041.3,16640.1,149.3)
set Y7=Ub
set Ub=CreateUnit(Player(9),$6830344D,5852.1,16844.3,54.1)
set Ub=CreateUnit(Player(9),$6830344D,4610.1,23240.2,54.1)
set Ub=CreateUnit(Player(9),$6830344D,-2245.8,18403.1,54.1)
set Ub=CreateUnit(Player(12),$6E303459,17537.1,27244.2,270.)
set Y8=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlK)
set Ub=CreateUnit(Player(12),$6E303233,-17074.,5561.8,270.)
set Y9=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlL)
set Ub=CreateUnit(Player(12),$6E30345A,-9978.9,-23754.3,270.)
set ZB=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlM)
set Ub=CreateUnit(Player(15),$68303458,-21401.3,-24885.6,125.)
set ZC=Ub
set Ub=CreateUnit(Player(15),$6830345A,-23364.1,-26012.8,166.)
set ZD=Ub
set Ub=CreateUnit(Player(12),$6E303530,-12118.7,-24310.2,355.)
set ZE=Ub
set Ub=CreateUnit(Player(12),$6E303531,-24772.,-14203.6,42.4)
set ZF=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlN)
set Ub=CreateUnit(Player(15),$68303530,-23233.1,-20933.2,185.5)
set ZG=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlO)
set Ub=CreateUnit(Player(0),$6F303030,27418.9,-20948.2,74.1)
set ZH=Ub
set Ub=CreateUnit(Player(15),$6830344F,28450.8,-20968.3,180.)
set Ub=CreateUnit(Player(15),$68303450,28448.5,-20970.4,311.7)
set Ub=CreateUnit(Player(15),$48303535,27548.7,-20010.4,270.)
set ZI=Ub
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(15),$48303544,28448.1,-20478.,193.9)
set ZJ=Ub
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(15),$48303545,26316.3,-21118.,0.)
set ZK=Ub
call SetUnitState(Ub,UNIT_STATE_MANA,150)
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(12),$6E303534,-3737.,-25527.6,275.4)
set ZL=Ub
set Ub=CreateUnit(Player(12),$6E303534,-2999.1,-26006.6,301.4)
set ZM=Ub
set Ub=CreateUnit(Player(12),$6E303534,-2896.5,-25242.4,299.6)
set ZN=Ub
set Ub=CreateUnit(Player(12),$6E303534,-1850.,-25289.4,187.6)
set ZO=Ub
set Ub=CreateUnit(Player(12),$6E303534,-2049.1,-25505.1,294.8)
set ZP=Ub
set Ub=CreateUnit(Player(12),$6E303534,-2031.8,-25830.,5.8)
set ZQ=Ub
set Ub=CreateUnit(Player(12),$6E303534,-1822.,-25997.9,328.3)
set ZR=Ub
set Ub=CreateUnit(Player(12),$6E303535,-1818.,-25696.2,89.4)
set ZS=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlP)
set Ub=CreateUnit(Player(12),$6E303537,-25623.9,-21974.3,270.)
set ZT=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlQ)
set Ub=CreateUnit(Player(12),$6830354D,-5593.7,-25634.8,151.1)
set ZU=Ub
set Ub=CreateUnit(Player(12),$6E303538,-25682.3,-17677.6,149.5)
set ZV=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlR)
set Ub=CreateUnit(Player(12),$6E303539,-25912.9,-17374.5,278.)
set ZW=Ub
set Ub=CreateUnit(Player(12),$6E303539,-26116.6,-17366.4,39.)
set ZX=Ub
set Ub=CreateUnit(Player(12),$6E303539,-26314.3,-17478.2,338.7)
set ZY=Ub
set Ub=CreateUnit(Player(12),$6E303539,-26272.7,-17775.7,176.8)
set ZZ=Ub
set Ub=CreateUnit(Player(12),$6E303539,-26054.,-17845.4,141.7)
set Za=Ub
set Ub=CreateUnit(Player(12),$6E303539,-25853.2,-17800.3,142.6)
set Zb=Ub
set Ub=CreateUnit(Player(15),$48303631,26606.9,1853.4,132.5)
set Zc=Ub
set Ub=CreateUnit(Player(15),$48303632,27085.1,2070.5,90.)
set Zd=Ub
set Ub=CreateUnit(Player(15),$48303633,27060.3,1506.7,311.)
set Ze=Ub
call SetUnitState(Ub,UNIT_STATE_MANA,160)
set Ub=CreateUnit(Player(15),$45303046,27226.8,1632.3,275.)
set Zf=Ub
set Ub=CreateUnit(Player(15),$48303635,27430.5,1790.2,0.)
set Zg=Ub
set Ub=CreateUnit(Player(15),$48303634,27234.6,2012.5,145.)
set Zh=Ub
set Ub=CreateUnit(Player(15),$48303636,26306.,-20908.5,47.)
set Zi=Ub
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(15),$75303035,-24659.4,-26038.5,13.7)
set Ub=CreateUnit(Player(15),$75303035,-9639.7,-25547.9,68.4)
set Ub=CreateUnit(Player(15),$75303035,-7347.9,-28115.6,317.2)
set Ub=CreateUnit(Player(15),$75303035,-19920.8,-20144.1,155.4)
set Ub=CreateUnit(Player(15),$75303035,28288.6,3180.2,56.8)
set Ub=CreateUnit(Player(15),$75303035,-22756.5,-24882.7,178.5)
set Ub=CreateUnit(Player(15),$75303035,-3818.8,-25131.4,128.8)
set Ub=CreateUnit(Player(15),$75303035,-24749.5,-21783.8,272.2)
set Ub=CreateUnit(Player(15),$75303035,-4806.5,-25229.4,186.)
set Ub=CreateUnit(Player(8),$75303037,-12400.8,-24747.9,104.1)
set Zj=Ub
set Ub=CreateUnit(Player(15),$75303035,-21295.2,-17992.3,158.9)
set Ub=CreateUnit(Player(15),$75303035,-26314.3,-17187.4,331.7)
set Zk=Ub
set Ub=CreateUnit(Player(15),$75303035,-13156.7,-13233.6,151.3)
set Ub=CreateUnit(Player(15),$75303035,-16546.3,-16701.5,143.8)
set Zl=Ub
set Ub=CreateUnit(Player(15),$75303035,-18237.8,-10945.4,229.8)
set Zm=Ub
set Ub=CreateUnit(Player(15),$75303035,-19105.9,-16168.9,257.2)
set Ub=CreateUnit(Player(15),$75303035,-29869.7,-17170.2,97.8)
set Ub=CreateUnit(Player(15),$75303035,-10284.2,-17582.2,83.5)
set Ub=CreateUnit(Player(15),$75303035,-28839.7,-16044.4,25.2)
set Ub=CreateUnit(Player(15),$75303035,-21568.9,-14648.1,301.7)
set Ub=CreateUnit(Player(15),$75303035,-4415.1,-23018.5,216.9)
set Ub=CreateUnit(Player(15),$75303035,-6691.,-19009.4,304.3)
set Ub=CreateUnit(Player(15),$75303035,753.5,-21022.7,141.6)
set Ub=CreateUnit(Player(15),$75303035,-3517.7,-21413.6,213.7)
set Zn=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlS)
set Ub=CreateUnit(Player(15),$75303035,-12110.6,-18742.2,4.8)
set Zo=Ub
set Ub=CreateUnit(Player(15),$68303646,-29368.8,-27576.9,257.5)
set Zp=Ub
set Ub=CreateUnit(Player(15),$75303035,-6701.1,-12706.5,158.)
set Ub=CreateUnit(Player(15),$75303035,-10892.3,-10044.4,230.7)
set Ub=CreateUnit(Player(15),$75303035,-9636.7,-10025.2,127.)
set Ub=CreateUnit(Player(15),$75303035,-14152.,-12181.1,169.8)
set Ub=CreateUnit(Player(15),$75303035,-12586.8,-11048.6,99.)
set Ub=CreateUnit(Player(15),$75303035,-25148.4,-3411.2,276.9)
set Ub=CreateUnit(Player(15),$75303035,-20772.7,-11695.2,163.8)
set Ub=CreateUnit(Player(15),$75303035,-23604.,-8350.8,194.5)
set Ub=CreateUnit(Player(15),$75303035,-29835.1,-7993.1,24.1)
set Ub=CreateUnit(Player(15),$75303035,-9393.8,-9528.,71.9)
set Ub=CreateUnit(Player(15),$75303035,-24506.,-10964.2,320.)
set Zq=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlT)
set Ub=CreateUnit(Player(15),$75303035,-9966.3,-5322.9,37.5)
set Ub=CreateUnit(Player(15),$75303035,-8910.3,-850.8,239.7)
set Ub=CreateUnit(Player(15),$75303035,-1821.7,-3890.5,197.3)
set Ub=CreateUnit(Player(15),$75303035,-900.7,-6994.8,141.9)
set Ub=CreateUnit(Player(15),$75303035,2645.6,-7306.7,226.)
set Ub=CreateUnit(Player(15),$75303035,151.8,-9188.4,23.7)
set Ub=CreateUnit(Player(15),$75303035,-3669.7,4436.3,209.1)
set Ub=CreateUnit(Player(15),$75303035,-29483.7,-6994.7,208.8)
set Ub=CreateUnit(Player(15),$75303035,-27213.2,-2112.2,243.2)
set Ub=CreateUnit(Player(15),$75303035,-24643.8,1622.1,38.1)
set Ub=CreateUnit(Player(15),$75303035,-29850.5,4027.7,221.1)
set Ub=CreateUnit(Player(15),$75303035,-24641.7,8248.,204.7)
set Ub=CreateUnit(Player(15),$75303035,-18384.,-1336.1,96.)
set Ub=CreateUnit(Player(15),$75303035,-11595.2,2487.8,208.5)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlU)
set Ub=CreateUnit(Player(15),$75303035,-13869.7,2904.1,206.5)
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlV)
set Ub=CreateUnit(Player(15),$75303035,-23175.3,20129.1,36.2)
set Ub=CreateUnit(Player(15),$75303035,-21726.2,23779.,276.7)
set Ub=CreateUnit(Player(15),$75303035,-18044.3,22211.6,317.5)
set Ub=CreateUnit(Player(15),$6E303542,-20480.,-12608.,270.)
set Zr=Ub
set Ub=CreateUnit(Player(15),$6E303542,-15808.,-13504.,270.)
set Zs=Ub
set Ub=CreateUnit(Player(15),$6E303542,-17472.,-15744.,270.)
set Zt=Ub
set Ub=CreateUnit(Player(8),$68303139,-23547.7,-17402.,155.2)
set Zu=Ub
set Ub=CreateUnit(Player(8),$68303138,-23751.2,-17457.8,225.)
set Zv=Ub
set Ub=CreateUnit(Player(8),$68303138,-23513.5,-17626.2,188.)
set Zw=Ub
set Ub=CreateUnit(Player(8),$68303331,-23488.,-17792.,270.)
set Zx=Ub
set Ub=CreateUnit(Player(8),$68303331,-23488.,-18048.,270.)
set Zy=Ub
set Ub=CreateUnit(Player(15),$68303137,-23661.7,-17813.9,225.)
set Zz=Ub
set Ub=CreateUnit(Player(15),$68303137,-23664.9,-18058.,125.)
set Z0=Ub
set Ub=CreateUnit(Player(15),$68303137,-23802.6,-17937.6,0.)
set Z1=Ub
set Ub=CreateUnit(Player(15),$6E303543,-24000.,-17536.,270.)
set Z2=Ub
set Ub=CreateUnit(Player(15),$48303650,26619.9,-21486.3,222.4)
set Z3=Ub
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(8),$68303458,-23943.1,-18046.7,122.7)
set Z4=Ub
set Ub=CreateUnit(Player(15),$68303653,27001.8,-12070.3,338.4)
set Ub=CreateUnit(Player(8),$68303654,26304.,-10816.,270.)
set Z5=Ub
set Ub=CreateUnit(Player(8),$68303654,27712.,-10816.,270.)
set Z6=Ub
set Ub=CreateUnit(Player(8),$68303654,26304.,-12928.,270.)
set Z7=Ub
set Ub=CreateUnit(Player(8),$68303654,27648.,-12928.,270.)
set Z8=Ub
set Ub=CreateUnit(Player(15),$68303655,25728.,-12032.,180.)
set Z9=Ub
set Ub=CreateUnit(Player(15),$6E303544,-24192.,-18048.,270.)
set aB=Ub
set Ub=CreateUnit(Player(15),$6E303544,29696.,-12352.,270.)
set Ub=CreateUnit(Player(8),$68303458,27003.3,-12015.1,180.)
set aC=Ub
set Ub=CreateUnit(Player(15),$6E303545,27008.,-12352.,270.)
set aD=Ub
set Ub=CreateUnit(Player(8),$6F303030,25933.4,-11763.4,337.9)
set Ub=CreateUnit(Player(9),$6F303030,25957.4,-12068.6,214.3)
set Ub=CreateUnit(Player(11),$6E30354A,25892.6,-11988.1,0.)
set aE=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlW)
set Ub=CreateUnit(Player(15),$6E30354B,28736.,-7360.,270.)
set Ub=CreateUnit(Player(8),$68303656,29082.8,-6945.3,108.4)
set aF=Ub
set Ub=CreateUnit(Player(15),$68303656,-26053.2,-3670.1,99.9)
set aG=Ub
set Ub=CreateUnit(Player(15),$6E30354C,29568.,12416.,270.)
set Ub=CreateUnit(Player(12),$6E30354D,28369.8,614.9,45.)
set aH=Ub
set Tb=CreateTrigger()
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(Tb,Ub,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(Tb,function BlX)
set Ub=CreateUnit(Player(15),$45303047,27457.2,-21797.4,90.)
set aI=Ub
call UnitAddItemToSlotById(Ub,$49303732,0)
call UnitAddItemToSlotById(Ub,$49304C42,1)
set Ub=CreateUnit(Player(15),$48303734,26650.2,-21784.9,180.)
set aJ=Ub
call SetUnitState(Ub,UNIT_STATE_MANA,160)
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(15),$6E303353,-19328.,-21248.,270.)
set aK=Ub
set Ub=CreateUnit(Player(15),$48303739,27300.8,-20025.4,270.)
set aL=Ub
call UnitAddItemToSlotById(Ub,$49303732,0)
set Ub=CreateUnit(Player(15),$6E303445,-28416.,-27264.,270.)
set aM=Ub
set Ub=CreateUnit(Player(15),$6E303445,-27904.,-23680.,270.)
set aN=Ub
set Ub=CreateUnit(Player(15),$6E303445,-28800.,-21376.,270.)
set aO=Ub
set Ub=CreateUnit(Player(15),$6E303445,28544.,2048.,270.)
set aP=Ub
set Ub=CreateUnit(Player(15),$75303041,768.,-24832.,270.)
set aQ=Ub
set Ub=CreateUnit(Player(15),$6E30354E,773.6,-24529.,270.)
set aR=Ub
set Ub=CreateUnit(Player(15),$6E30354F,960.,-24448.,270.)
set aS=Ub
set Ub=CreateUnit(Player(15),$6E303550,785.1,-24943.,270.)
set aT=Ub
endfunction
function Bln takes nothing returns nothing
set BF=Rect(-29248,-27136,-28608,-26752)
set BG=Rect(-28736,-25216,-28672,-25152)
set BH=Rect(-30304,-26400,-30144,-26208)
set BI=Rect(-29024,-24512,-28672,-24352)
set BJ=Rect(-29216,-20704,-29056,-20576)
set BK=Rect(-22624,-27872,-22336,-27744)
set BL=Rect(-22944,-27648,-21984,-27520)
set BM=Rect(-22816,-25568,-22112,-25472)
set BN=Rect(-22816,-25760,-22144,-25312)
set BO=Rect(-29856,-23936,-27840,-22944)
set BP=Rect(-29856,-22304,-28160,-21408)
set BQ=Rect(-29248,-25248,-28608,-24864)
set BR=Rect(-20576,-27936,-20384,-27712)
set BS=Rect(-29792,27072,-29632,27232)
set BT=Rect(-17312,-23488,-17056,-23168)
set BU=Rect(-20512,-25664,-20192,-25376)
set BV=Rect(-24640,-25824,-24288,-25376)
set BW=Rect(-24128,-25728,-23968,-25504)
set BX=Rect(-24416,-25984,-23424,-25216)
set BY=Rect(-17248,-23488,-17120,-23392)
set BZ=Rect(-24832,-27008,-24736,-26912)
set Ba=Rect(-24960,-27072,-24864,-26816)
set Bb=Rect(-29184,-25088,-29120,-25024)
set Bc=Rect(-17312,-23616,-17056,-23520)
set Bd=Rect(-14848,-24896,-14624,-24544)
set Be=Rect(-19488,-21024,-19168,-20672)
set Bf=Rect(-19232,-20928,-19104,-20768)
set Bg=Rect(-19808,-21216,-18848,-20448)
set Bh=Rect(-25312,-23904,-24352,-23808)
set Bi=Rect(-25248,-24096,-24416,-23616)
set Bj=Rect(-23872,-23136,-22624,-22464)
set Bk=Rect(-24384,-23616,-24320,-22368)
set Bl=Rect(-21696,-21088,-20992,-20704)
set Bm=Rect(-29184,-25216,-29120,-25152)
set Bn=Rect(-25600,-26688,-25216,-24640)
set Bo=Rect(-17248,-22304,-17152,-22208)
set Bp=Rect(-19552,-27904,-19424,-27680)
set Bq=Rect(-17344,-22464,-17056,-22336)
set Br=Rect(-19744,-27872,-19616,-27744)
set Bs=Rect(-19648,-22368,-19520,-22240)
set Bt=Rect(-19616,-22496,-19456,-22400)
set Bu=Rect(-24224,-27968,-24128,-27840)
set Bv=Rect(-24384,-27968,-24288,-27872)
set Bw=Rect(-15520,-25344,-15328,-25120)
set Bx=Rect(-29056,-25088,-28992,-25024)
set By=Rect(-10144,-26496,-9632,-25984)
set Bz=Rect(-10560,-26400,-10304,-26048)
set B0=Rect(-11200,-26304,-11008,-26144)
set B1=Rect(-10976,-26784,-9696,-25504)
set B2=Rect(-18752,-26432,-18336,-26336)
set B3=Rect(-18720,-26592,-18400,-26144)
set B4=Rect(-17248,-26272,-17152,-25824)
set B5=Rect(-17536,-26048,-16832,-25856)
set B6=Rect(-16192,-27040,-15808,-26944)
set B7=Rect(-16160,-27328,-15872,-26624)
set B8=Rect(-29056,-25216,-28992,-25152)
set B9=Rect(-15424,-26976,-15040,-26848)
set CB=Rect(-15424,-27264,-15072,-26592)
set CC=Rect(-14688,-27072,-14240,-26976)
set CD=Rect(-14624,-27328,-14336,-26688)
set CE=Rect(-13312,-26656,-13248,-25824)
set CF=Rect(-13184,-26432,-12800,-26112)
set CG=Rect(-9248,-26304,-9088,-26112)
set CH=Rect(-25312,-28064,-25184,-27936)
set CI=Rect(-25984,-25024,-25792,-24384)
set CJ=Rect(-26304,-26112,-26176,-25920)
set CK=Rect(-28896,-25088,-28832,-25024)
set CL=Rect(-26272,-23584,-26176,-23424)
set CM=Rect(-25664,-21440,-25536,-21248)
set CN=Rect(-7168,-26304,-7072,-26176)
set CO=Rect(-26720,-28000,-25472,-27776)
set CP=Rect(-27104,-27488,-26880,-26080)
set CQ=Rect(-26528,-23968,-26208,-23168)
set CR=Rect(-25728,-21920,-25472,-20160)
set CS=Rect(-28896,-25216,-28832,-25152)
set CT=Rect(-28736,-25088,-28672,-25024)
set CU=Rect(-29856,-19008,-29632,-18816)
set CV=Rect(-21856,-18912,-21728,-18784)
set CW=Rect(-21696,-18944,-21600,-18752)
set CX=Rect(-28800,-13056,-28672,-12928)
set CY=Rect(-28800,-13184,-28640,-13088)
set CZ=Rect(-14368,-16192,-14144,-15936)
set Ca=Rect(-15232,-16736,-15104,-16640)
set Cb=Rect(-14624,-17792,-14496,-17568)
set Cc=Rect(-14432,-17728,-14304,-17600)
set Cd=Rect(-14816,-18080,-14656,-17376)
set Ce=Rect(-15008,-16736,-14944,-16640)
set Cf=Rect(-30112,-18816,-29504,-18720)
set Cg=Rect(-17664,-16352,-17568,-16288)
set Ch=Rect(-17664,-16480,-17568,-16416)
set Ci=Rect(-18624,-13952,-18560,-13888)
set Cj=Rect(-18624,-14048,-18560,-14016)
set Ck=Rect(-19200,-12128,-19136,-12096)
set Cl=Rect(-19200,-12288,-19136,-12256)
set Cm=Rect(-16352,-16480,-16128,-16288)
set Cn=Rect(-19744,-11616,-19488,-11392)
set Co=Rect(-21248,-13632,-21152,-12416)
set Cp=Rect(-16256,-13248,-16160,-13152)
set Cq=Rect(-29632,-19232,-29504,-18720)
set Cr=Rect(-15968,-13248,-15872,-13152)
set Cs=Rect(-17472,-14784,-17376,-14688)
set Ct=Rect(-17824,-14784,-17728,-14688)
set Cu=Rect(-16768,-11264,-16512,-10976)
set Cv=Rect(-16736,-11328,-16544,-11232)
set Cw=Rect(-20576,-13504,-20384,-13280)
set Cx=Rect(-14880,-14016,-14752,-13888)
set Cy=Rect(-18144,-18624,-18048,-18528)
set Cz=Rect(-17984,-18624,-17888,-18496)
set C0=Rect(-15008,-14080,-14944,-13856)
set C1=Rect(-25632,-19232,-25536,-19136)
set C2=Rect(-17888,-18336,-17696,-18048)
set C3=Rect(-15936,-19232,-15840,-18560)
set C4=Rect(-16096,-19008,-15968,-18784)
set C5=Rect(-15680,-19840,-13600,-19776)
set C6=Rect(-15424,-20448,-15104,-20192)
set C7=Rect(-13600,-20288,-13312,-20000)
set C8=Rect(-12672,-17760,-12544,-17664)
set C9=Rect(-22016,-12448,-21920,-12320)
set DB=Rect(-13728,-22144,-13536,-21888)
set DC=Rect(-13440,-22432,-13344,-21696)
set DD=Rect(-19712,-24352,-19552,-24224)
set DE=Rect(-15456,-14144,-15136,-13728)
set DF=Rect(-21120,-13120,-21024,-12832)
set DG=Rect(-19872,-12256,-16224,-11456)
set DH=Rect(-16128,-15168,-15648,-11648)
set DI=Rect(-18144,-16448,-16480,-15616)
set DJ=Rect(-18112,-15488,-16160,-12736)
set DK=Rect(-15456,-15936,-14464,-14720)
set DL=Rect(-20320,-13440,-18176,-12736)
set DM=Rect(-18720,-15328,-18528,-15168)
set DN=Rect(-19008,-15840,-18784,-15648)
set DO=Rect(-20992,-22592,-20864,-22496)
set DP=Rect(-12608,-22464,-12544,-21696)
set DQ=Rect(-12800,-22208,-12512,-21760)
set DR=Rect(-10880,-22496,-10816,-21696)
set DS=Rect(-11168,-22208,-10528,-21760)
set DT=Rect(-8352,-22496,-8320,-21696)
set DU=Rect(-8704,-22176,-8448,-21888)
set DV=Rect(-8192,-22240,-8000,-21824)
set DW=Rect(-8160,-22944,-7168,-22880)
set DX=Rect(-6784,-23584,-6240,-22368)
set DY=Rect(-8160,-23968,-7104,-23808)
set DZ=Rect(-21088,-22464,-20768,-22400)
set Da=Rect(-6944,-22144,-6304,-20736)
set Db=Rect(-9440,-21408,-9344,-20544)
set Dc=Rect(-9792,-21216,-8992,-20608)
set Dd=Rect(-11104,-20416,-10272,-20320)
set De=Rect(-10880,-20736,-10464,-19936)
set Df=Rect(-8736,-20288,-8640,-18880)
set Dg=Rect(-9088,-19744,-8256,-19008)
set Dh=Rect(-5664,-20960,-5632,-19776)
set Di=Rect(-5984,-20480,-5408,-19968)
set Dj=Rect(-5600,-22016,-4576,-21952)
set Dk=Rect(-20992,-21824,-20864,-21696)
set Dl=Rect(-5376,-22368,-4736,-21600)
set Dm=Rect(-4960,-24864,-4864,-24128)
set Dn=Rect(-5280,-24672,-4992,-24128)
set Do=Rect(-4416,-24512,-4160,-23520)
set Dp=Rect(-4512,-24224,-4448,-24032)
set Dq=Rect(32,-22208,768,-21408)
set Dr=Rect(-256,-21984,0,-21600)
set Ds=Rect(-896,-21952,-672,-21600)
set Dt=Rect(640,-22368,768,-22272)
set Du=Rect(-21952,-13088,-21760,-12864)
set Dv=Rect(-19488,-24352,-19392,-24192)
set Dw=Rect(-1056,-22272,768,-21056)
set Dx=Rect(-10720,-15840,-10656,-15136)
set Dy=Rect(-10976,-15488,-10752,-15232)
set Dz=Rect(-5376,-27872,-5248,-27776)
set D0=Rect(-5376,-28032,-5248,-27936)
set D1=Rect(-12672,-17952,-12544,-17856)
set D2=Rect(-15200,-17728,-15104,-17568)
set D3=Rect(-23872,-9856,-23008,-8992)
set D4=Rect(-10144,-12416,-9408,-11904)
set D5=Rect(-11200,-12000,-11104,-10976)
set D6=Rect(-11424,-11712,-10880,-11136)
set D7=Rect(-13408,-12608,-13312,-11584)
set D8=Rect(-13664,-12160,-13056,-11776)
set D9=Rect(-14848,-10912,-14080,-10848)
set EB=Rect(-14624,-11232,-14208,-10464)
set EC=Rect(-15552,-10176,-15456,-8864)
set ED=Rect(-15648,-9920,-15264,-8992)
set EE=Rect(-17408,-9408,-17312,-8640)
set EF=Rect(-23008,-9536,-22720,-9312)
set EG=Rect(-17632,-9120,-17088,-8704)
set EH=Rect(-20000,-9792,-19904,-9024)
set EI=Rect(-19840,-9472,-19648,-9088)
set EJ=Rect(-20288,-9600,-20064,-9184)
set EK=Rect(-27008,-4192,-25216,-3328)
set EL=Rect(-24128,-9792,-24032,-9216)
set EM=Rect(-8736,-8704,-8064,-8032)
set EN=Rect(-9024,-8544,-8800,-8256)
set EO=Rect(-11808,-8640,-11552,-8288)
set EP=Rect(-7840,-8800,-7168,-8000)
set EQ=Rect(-12576,-10944,-12224,-10688)
set ER=Rect(-9440,-8512,-9152,-8256)
set ES=Rect(-9376,-8704,-9216,-8576)
set ET=Rect(-9344,-8128,-9248,-8032)
set EU=Rect(-10912,-8544,-10624,-8288)
set EV=Rect(-10816,-8736,-10720,-8608)
set EW=Rect(-10816,-8224,-10720,-8096)
set EX=Rect(-12032,-9536,-7968,-7328)
set EY=Rect(-27264,-10816,-27136,-9248)
set EZ=Rect(-27552,-10464,-26816,-9344)
set Ea=Rect(-29472,-11296,-29312,-9792)
set Eb=Rect(-13152,-11104,-12544,-10720)
set Ec=Rect(-29856,-10912,-28960,-9952)
set Ed=Rect(-28480,-9120,-28352,-7328)
set Ee=Rect(-28928,-8672,-27904,-7680)
set Ef=Rect(-26656,-8608,-26528,-6464)
set Eg=Rect(-27008,-8128,-26208,-6816)
set Eh=Rect(-24480,-7680,-24384,-6048)
set Ei=Rect(-24800,-7296,-24032,-6368)
set Ej=Rect(-21760,-8672,-21696,-7392)
set Ek=Rect(-21984,-8320,-21408,-7712)
set El=Rect(-19712,-8384,-19616,-7488)
set Em=Rect(-9216,-15104,-8448,-15008)
set En=Rect(-19936,-8128,-19392,-7552)
set Eo=Rect(-15552,-8288,-15488,-7104)
set Ep=Rect(-15360,-8000,-15040,-7296)
set Eq=Rect(-15968,-7968,-15616,-7296)
set Er=Rect(-6976,-14464,-6752,-14080)
set Es=Rect(-13600,-7936,-13472,-7808)
set Et=Rect(-26304,-3552,-25792,-3232)
set Eu=Rect(-26144,-3680,-25952,-3584)
set Ev=Rect(-11424,-9280,-9152,-7584)
set Ew=Rect(-9088,-15328,-8544,-14720)
set Ex=Rect(-9472,-13568,-8640,-13504)
set Ey=Rect(-9248,-13792,-8832,-13248)
set Ez=Rect(-9856,-13024,-9760,-11552)
set E0=Rect(-9728,-3520,-9632,-3424)
set E1=Rect(-5824,-4192,-5728,-4096)
set E2=Rect(-23168,-2016,-22496,-768)
set E3=Rect(-22048,2784,-21312,3392)
set E4=Rect(-22016,2208,-21248,2336)
set E5=Rect(-21888,1824,-21152,2080)
set E6=Rect(-21792,2624,-21536,2752)
set E7=Rect(-22304,4064,-22112,5280)
set E8=Rect(-22656,4448,-21792,5024)
set E9=Rect(-25792,4544,-25632,5728)
set FB=Rect(-26112,4960,-25344,5472)
set FC=Rect(-28416,4448,-28256,5728)
set FD=Rect(-5632,-4192,-5536,-4096)
set FE=Rect(-28768,4960,-27872,5504)
set FF=Rect(-28320,5792,-28192,6848)
set FG=Rect(-28576,6144,-27904,6656)
set FH=Rect(-26208,5792,-26112,6816)
set FI=Rect(-26560,6144,-25792,6592)
set FJ=Rect(-24416,5696,-24288,6784)
set FK=Rect(-24832,6048,-23872,6528)
set FL=Rect(-23904,4480,-23776,5408)
set FM=Rect(-24128,4800,-23552,5280)
set FN=Rect(-21696,5216,-21536,6784)
set FO=Rect(-5632,-4544,-5536,-4448)
set FP=Rect(-22048,5696,-21120,6368)
set FQ=Rect(-20320,3328,-19168,3840)
set FR=Rect(-19968,3872,-19584,4032)
set FS=Rect(-20576,4224,-19072,4352)
set FT=Rect(-20384,4384,-19328,4768)
set FU=Rect(-24544,1856,-24448,3168)
set FV=Rect(-24832,2272,-24192,3040)
set FW=Rect(-26528,2176,-26400,3296)
set FX=Rect(-26848,2560,-26112,3104)
set FY=Rect(-28544,2176,-28448,3232)
set FZ=Rect(-5824,-4544,-5728,-4448)
set Fa=Rect(-28800,2496,-28192,3072)
set Fb=Rect(-28064,3456,-27968,4352)
set Fc=Rect(-28320,3840,-27712,4160)
set Fd=Rect(-26304,3424,-26208,4448)
set Fe=Rect(-26528,3744,-25984,4384)
set Ff=Rect(-24256,3424,-24128,4352)
set Fg=Rect(-24480,3744,-23872,4224)
set Fh=Rect(-23232,1568,-22176,1728)
set Fi=Rect(-22976,1216,-22432,2080)
set Fj=Rect(-20512,-1312,-20352,-832)
set Fk=Rect(-4192,-1312,-4096,-1216)
set Fl=Rect(-19360,-896,-19072,-480)
set Fm=Rect(-17280,-1632,-17152,-32)
set Fn=Rect(-17664,-896,-17344,-608)
set Fo=Rect(-4224,-7264,-4096,-7136)
set Fp=Rect(-4352,-7328,-4256,-7104)
set Fq=Rect(15136,-27392,15232,-27264)
set Fr=Rect(15264,-27456,15360,-27200)
set Fs=Rect(15744,-27520,16032,-27136)
set Ft=Rect(15680,-27424,15840,-27232)
set Fu=Rect(-14016,-1344,-13888,-384)
set Fv=Rect(-4288,-1408,-4224,-1344)
set Fw=Rect(-13696,-1056,-13312,-384)
set Fx=Rect(-20096,6720,-19584,6912)
set Fy=Rect(-19840,8416,-19680,8608)
set Fz=Rect(-18560,-1376,-16544,-192)
set F0=Rect(-19936,6208,-19776,6464)
set F1=Rect(-12736,-288,-11520,1440)
set F2=Rect(-11520,1216,-10848,2432)
set F3=Rect(-29728,17632,-29440,18048)
set F4=Rect(-9344,2144,-9216,2304)
set F5=Rect(-27200,17408,-26432,18240)
set F6=Rect(-9280,-1728,-9024,-1504)
set F7=Rect(-27136,18144,-26976,18304)
set F8=Rect(-27136,17344,-26976,17504)
set F9=Rect(-27552,17664,-27424,18016)
set GB=Rect(-29152,17312,-28928,18336)
set GC=Rect(-28832,17728,-28672,17952)
set GD=Rect(-27680,17728,-27552,17920)
set GE=Rect(-26752,17728,-26656,17920)
set GF=Rect(-27680,17920,-27552,18048)
set GG=Rect(-27680,17600,-27552,17728)
set GH=Rect(-26752,17632,-26624,17760)
set GI=Rect(-9568,-928,-9440,-800)
set GJ=Rect(-26752,17888,-26624,18016)
set GK=Rect(-28800,17952,-28672,18080)
set GL=Rect(-28800,17600,-28672,17728)
set GM=Rect(-30016,16864,-26112,18816)
set GN=Rect(-24000,8800,-22624,9696)
set GO=Rect(-19936,7712,-19744,7904)
set GP=Rect(-26720,-16576,-25920,-15648)
set GQ=Rect(-23424,-15808,-22272,-14848)
set GR=Rect(-28736,-14048,-28096,-13344)
set GS=Rect(-25984,-13760,-23872,-12960)
set GT=Rect(-9600,-1056,-9408,-960)
set GU=Rect(-27744,-15424,-26048,-14848)
set GV=Rect(-25952,-25760,-25792,-25152)
set GW=Rect(-25952,-24288,-25792,-23616)
set GX=Rect(-29952,-6880,-29376,-6432)
set GY=Rect(-26272,16928,-26144,17056)
set GZ=Rect(-15776,1440,-15552,1728)
set Ga=Rect(-448,-27968,-352,-27840)
set Gb=Rect(-9056,-3264,-8960,-3168)
set Gc=Rect(-576,-28000,-480,-27808)
set Gd=Rect(-1472,-28160,-640,-27616)
set Ge=Rect(-4864,-2976,-4768,-2880)
set Gf=Rect(-4576,-2976,-4480,-2880)
set Gg=Rect(-4864,-3232,-4768,-3136)
set Gh=Rect(-4576,-3232,-4480,-3136)
set Gi=Rect(2944,-28096,3072,-28000)
set Gj=Rect(2880,-27968,3136,-27904)
set Gk=Rect(-7744,-992,-7616,-896)
set Gl=Rect(-7776,-1120,-7584,-1056)
set Gm=Rect(-9728,-3040,-9632,-2944)
set Gn=Rect(4128,-26496,4416,-26272)
set Go=Rect(-9824,-3040,-8832,-2848)
set Gp=Rect(-9440,-2816,-9184,-2592)
set Gq=Rect(10784,-24256,11424,-24160)
set Gr=Rect(10880,-24512,11264,-23904)
set Gs=Rect(19648,-24896,19744,-23968)
set Gt=Rect(19904,-24608,20256,-24128)
set Gu=Rect(18656,-24672,20352,-24064)
set Gv=Rect(4192,-26528,4352,-26432)
set Gw=Rect(-28384,-28128,-28288,-28032)
set Gx=Rect(-9056,-3744,-8960,-3648)
set Gy=Rect(-8416,-4448,-8192,-4160)
set Gz=Rect(-4352,-5152,-4128,-4864)
set G0=Rect(-7520,-6784,-7360,-6112)
set G1=Rect(-7328,-6528,-7168,-6272)
set G2=Rect(-5472,-64,-4896,32)
set G3=Rect(-5312,-256,-5024,-96)
set G4=Rect(-2912,-3456,-2816,-2528)
set G5=Rect(-3104,-3072,-2976,-2848)
set G6=Rect(-4480,3136,-4416,3776)
set G7=Rect(-4608,3424,-4512,3616)
set G8=Rect(-9728,-3936,-9632,-3840)
set G9=Rect(-5504,1024,-4864,1088)
set HB=Rect(-5792,2400,-5664,2528)
set HC=Rect(-5536,2400,-5408,2528)
set HD=Rect(-5280,2400,-5184,2496)
set HE=Rect(-5088,2400,-4960,2496)
set HF=Rect(-4896,2400,-4768,2496)
set HG=Rect(-5312,1504,-5088,1664)
set HH=Rect(-8160,-6432,-8032,-6304)
set HI=Rect(-8000,-6464,-7872,-6240)
set HJ=Rect(-7264,-3072,-7168,-2976)
set HK=Rect(29728,-27424,29856,-27328)
set HL=Rect(29568,-27520,29696,-27232)
set HM=Rect(26208,-27584,26464,-27264)
set HN=Rect(-4256,-7840,-4128,-7712)
set HO=Rect(-4416,-7872,-4288,-7680)
set HP=Rect(-3552,-7808,-3456,-7680)
set HQ=Rect(-3424,-7904,-3328,-7616)
set HR=Rect(-2528,-8192,-2336,-7296)
set HS=Rect(-3584,-8064,-2304,-7328)
set HT=Rect(-2752,-8160,-2400,-7296)
set HU=Rect(-7264,-3264,-7168,-3168)
set HV=Rect(-7200,-7552,-6912,-7264)
set HW=Rect(-4288,-6752,-4064,-6528)
set HX=Rect(-3296,4032,-3200,4192)
set HY=Rect(-29824,-6880,-29504,-6656)
set HZ=Rect(-30016,-6144,-28800,-6016)
set Ha=Rect(-29728,-6400,-29472,-6176)
set Hb=Rect(-29984,-6848,-29280,-6656)
set Hc=Rect(-30016,-3584,-29088,-3456)
set Hd=Rect(-29920,-4000,-29344,-3040)
set He=Rect(-30016,-1344,-29056,-1184)
set Hf=Rect(-7072,-3072,-6976,-2976)
set Hg=Rect(-29888,-1760,-29312,-800)
set Hh=Rect(-27104,-1568,-25728,-1472)
set Hi=Rect(-26880,-1728,-25952,-1216)
set Hj=Rect(-28256,576,-28096,2016)
set Hk=Rect(-28544,832,-27808,1888)
set Hl=Rect(-26048,544,-25920,1888)
set Hm=Rect(-26272,832,-25664,1760)
set Hn=Rect(-25696,-640,-24384,-512)
set Ho=Rect(-25536,-864,-24576,-256)
set Hp=Rect(-24128,-3168,-24000,-2112)
set Hq=Rect(-7072,-3264,-6976,-3168)
set Hr=Rect(-24320,-2720,-23808,-2304)
set Hs=Rect(-24288,448,-23456,960)
set Ht=Rect(-23968,192,-23712,384)
set Hu=Rect(-24288,32,-23424,128)
set Hv=Rect(-24096,-256,-23520,-32)
set Hw=Rect(-19776,-4000,-19648,-2880)
set Hx=Rect(-20032,-3744,-19360,-3104)
set Hy=Rect(-22624,-3040,-21280,-2912)
set Hz=Rect(-22496,-3360,-21632,-2592)
set H0=Rect(-22880,-2336,-22752,-512)
set H1=Rect(-29600,11040,-29408,11520)
set H2=Rect(-19296,-26816,-19200,-26688)
set H3=Rect(-19456,-26976,-19328,-26592)
set H4=Rect(-12864,-27744,-12736,-27648)
set H5=Rect(-12672,-27808,-12576,-27584)
set H6=Rect(-12128,-28160,-11168,-27360)
set H7=Rect(-11104,-28160,-10144,-27456)
set H8=Rect(-10080,-28160,-9344,-27456)
set H9=Rect(-7328,-27776,-6912,-27424)
set IB=Rect(-3488,-22400,-2592,-21856)
set IC=Rect(-3680,-22912,-2720,-22656)
set ID=Rect(1024,-3136,1152,-3008)
set IE=Rect(-27872,10592,-27744,12224)
set IF=Rect(-28224,10912,-27392,11552)
set IG=Rect(-27680,7296,-26720,9184)
set IH=Rect(-29280,7200,-28320,9216)
set II=Rect(-25376,7808,-25024,8640)
set IJ=Rect(-25440,8192,-25312,8352)
set IK=Rect(-15584,-22368,-15328,-22112)
set IL=Rect(-29600,-15488,-29376,-15232)
set IM=Rect(-27264,-13536,-26368,-12640)
set IN=Rect(-6112,-5952,-5920,-5760)
set IO=Rect(-29248,10176,-29056,12448)
set IP=Rect(-29024,11040,-28704,11584)
set IQ=Rect(-19904,-17760,-19136,-16288)
set IR=Rect(-16288,-24416,-15488,-22912)
set IS=Rect(-17632,-24416,-16352,-22272)
set IT=Rect(-18560,-24416,-17696,-22272)
set IU=Rect(-19616,-24384,-18624,-22464)
set IV=Rect(-30272,-27488,-29440,-26784)
set IW=Rect(-30272,-27968,-29824,-27552)
set IX=Rect(-15712,1568,-15584,1664)
set IY=Rect(-15808,1568,-15744,1664)
set IZ=Rect(-15968,3456,-15840,3584)
set Ia=Rect(-15776,3360,-15648,3712)
set Ib=Rect(-29696,-26720,-28928,-25760)
set Ic=Rect(-28864,-26752,-28128,-25792)
set Id=Rect(-7456,-27680,-7296,-27520)
set Ie=Rect(-21376,-16096,-21184,-15904)
set If=Rect(-14336,-25024,-14144,-24864)
set Ig=Rect(-21184,-14240,-20992,-14048)
set Ih=Rect(-19456,-14624,-19136,-14400)
set Ii=Rect(-18368,-16064,-18144,-15840)
set Ij=Rect(-17216,-11488,-16960,-11168)
set Ik=Rect(-17888,-12256,-17568,-12032)
set Il=Rect(-15712,-16000,-15456,-15648)
set Im=Rect(-14720,-14944,-14400,-14688)
set In=Rect(-21472,-16992,-21440,-16960)
set Io=Rect(-21280,-17120,-21248,-17088)
set Ip=Rect(-21312,-17632,-21280,-17600)
set Iq=Rect(-21472,-17824,-21440,-17792)
set Ir=Rect(-6688,-13152,-6496,-12928)
set Is=Rect(-13344,-9536,-13184,-9312)
set It=Rect(9376,-26400,11616,-25600)
set Iu=Rect(14560,-24768,15584,-23328)
set Iv=Rect(13600,-24992,14464,-24192)
set Iw=Rect(15712,-24224,16224,-22848)
set Ix=Rect(-29056,-3328,-28928,-3168)
set Iy=Rect(-4224,-5856,-4096,-5760)
set Iz=Rect(-30048,-11456,-29600,-11360)
set I0=Rect(-29920,-11200,-29728,-11104)
set I1=Rect(-29440,-12928,-28928,-12608)
set I2=Rect(-28416,-12320,-28288,-12192)
set I3=Rect(-22656,-23360,-22560,-23264)
set I4=Rect(-23328,-21792,-23232,-21728)
set I5=Rect(-23360,-21664,-23200,-21600)
set I6=Rect(-22688,-23232,-22528,-23168)
set I7=Rect(-23936,-21504,-23296,-21024)
set I8=Rect(-24704,-21728,-24032,-21056)
set I9=Rect(-24864,-20480,-24352,-20352)
set JB=Rect(-24800,-20224,-24448,-19872)
set JC=Rect(-24192,-19904,-24096,-19136)
set JD=Rect(-28608,-27424,-28256,-27104)
set JE=Rect(-14976,-16320,-14336,-16288)
set JF=Rect(-23360,-13440,-22528,-12448)
set JG=Rect(-25408,-16832,-24032,-16160)
set JH=Rect(-28608,-15680,-27936,-14272)
set JI=Rect(-27424,-18528,-26880,-16832)
set JJ=Rect(-29920,-17536,-28000,-17152)
set JK=Rect(-28224,-19104,-27840,-17792)
set JL=Rect(-23616,-16832,-23392,-16544)
set JM=Rect(-13984,-23744,-13792,-23520)
set JN=Rect(-14080,-23712,-13952,-23552)
set JO=Rect(-27712,-17952,-27520,-17792)
set JP=Rect(-27744,-17920,-27680,-17824)
set JQ=Rect(-8704,-13280,-8544,-13120)
set JR=Rect(-8672,-13152,-8576,-13056)
set JS=Rect(-8032,-2208,-7872,-2048)
set JT=Rect(-8096,-2176,-8000,-2080)
set JU=Rect(-10688,-17664,-10560,-17568)
set JV=Rect(-10752,-17760,-10496,-17696)
set JW=Rect(-13344,-9632,-13184,-9568)
set JX=Rect(-6784,-13088,-6688,-12992)
set JY=Rect(-4224,-6592,-4096,-6496)
set JZ=Rect(-4352,-6688,-4256,-6560)
set Ja=Rect(-3200,-5792,-3104,-5664)
set Jb=Rect(-3040,-5856,-2976,-5632)
set Jc=Rect(-1248,-5216,-1152,-5120)
set Jd=Rect(-1920,-4672,-1856,-4544)
set Je=Rect(-3520,-3840,-3424,-3744)
set Jf=Rect(-3552,-3968,-3392,-3904)
set Jg=Rect(192,-6592,352,-6496)
set Jh=Rect(-3584,-4704,-3456,-4608)
set Ji=Rect(192,-5824,320,-5728)
set Jj=Rect(256,-5344,352,-5248)
set Jk=Rect(-640,-5344,-544,-5248)
set Jl=Rect(-2720,-4640,-2656,-4544)
set Jm=Rect(-480,-5856,-384,-5760)
set Jn=Rect(2336,-8128,2432,-8032)
set Jo=Rect(-1312,-7392,-1216,-7296)
set Jp=Rect(-1280,-5824,-1152,-5728)
set Jq=Rect(320,-7424,416,-7328)
set Jr=Rect(-640,-6560,-544,-6464)
set Js=Rect(-928,-6944,-832,-6848)
set Jt=Rect(-160,-6976,-64,-6912)
set Ju=Rect(-928,-6208,-832,-6112)
set Jv=Rect(1760,-5824,1856,-5760)
set Jw=Rect(1792,-5376,1888,-5280)
set Jx=Rect(928,-5344,1024,-5280)
set Jy=Rect(1728,-6176,1856,-6112)
set Jz=Rect(2176,-6208,2240,-6112)
set J0=Rect(1344,-5888,1440,-5824)
set J1=Rect(1344,-6368,1472,-6304)
set J2=Rect(1632,-6432,1728,-6368)
set J3=Rect(2432,-5632,2560,-5504)
set J4=Rect(2432,-7392,2592,-7296)
set J5=Rect(2432,-6944,2560,-6848)
set J6=Rect(2400,-7808,2560,-7712)
set J7=Rect(3264,-6464,3328,-6400)
set J8=Rect(3232,-7008,3328,-6944)
set J9=Rect(1984,-6592,2112,-6496)
set KB=Rect(1120,-6944,1216,-6848)
set KC=Rect(1600,-7104,1728,-7008)
set KD=Rect(576,-6976,672,-6848)
set KE=Rect(864,-7328,960,-7232)
set KF=Rect(1472,-8032,1600,-7936)
set KG=Rect(1600,-8288,1664,-8224)
set KH=Rect(1920,-8160,2016,-8032)
set KI=Rect(576,-5920,704,-5856)
set KJ=Rect(576,-5632,704,-5536)
set KK=Rect(576,-6240,704,-6144)
set KL=Rect(-192,-5824,-64,-5696)
set KM=Rect(-192,-6240,-64,-6144)
set KN=Rect(-992,-8096,-896,-8000)
set KO=Rect(-832,-8128,-768,-7968)
set KP=Rect(1312,-7712,1440,-7648)
set KQ=Rect(28928,25824,29024,25920)
set KR=Rect(9376,-27136,11616,-26496)
set KS=Rect(9408,-27616,11840,-27232)
set KT=Rect(12224,-27648,12416,-27584)
set KU=Rect(768,-3808,896,-2400)
set KV=Rect(-5504,-8192,-5376,-8064)
set KW=Rect(-5664,-8288,-5568,-8064)
set KX=Rect(-4256,-6112,-4064,-5984)
set KY=Rect(-24736,-25184,-24576,-25088)
set KZ=Rect(-16896,-21376,-16800,-21248)
set Ka=Rect(-16864,-20480,-16800,-20320)
set Kb=Rect(-16992,-20544,-16928,-20256)
set Kc=Rect(-17024,-21504,-16960,-21184)
set Kd=Rect(-18688,-20256,-18528,-20096)
set Ke=Rect(-8864,-27136,-8704,-26976)
set Kf=Rect(-5440,-27520,-5184,-27328)
set Kg=Rect(-29216,-14208,-29088,-14080)
set Kh=Rect(-29216,-14400,-28960,-14304)
set Ki=Rect(-29504,-14016,-29408,-13696)
set Kj=Rect(-29696,-13856,-29600,-13696)
set Kk=Rect(-25632,-17024,-25504,-16736)
set Kl=Rect(-25664,-16672,-25472,-16576)
set Km=Rect(-28416,-16640,-28288,-16512)
set Kn=Rect(-28544,-16640,-28480,-16512)
set Ko=Rect(-29920,-16448,-29760,-16128)
set Kp=Rect(-29632,-16608,-28800,-16032)
set Kq=Rect(-20608,-12384,-20352,-12032)
set Kr=Rect(-29920,-15712,-29792,-15616)
set Ks=Rect(-12288,-14208,-11744,-13664)
set Kt=Rect(-13952,-13760,-13856,-13632)
set Ku=Rect(-13728,-13824,-13632,-13568)
set Kv=Rect(-29920,-15904,-29856,-15808)
set Kw=Rect(-13152,-14432,-12576,-13472)
set Kx=Rect(-27584,-8832,-27424,-8736)
set Ky=Rect(-27584,-8544,-27392,-8416)
set Kz=Rect(-13792,-12832,-13664,-12672)
set K0=Rect(-14016,-12864,-13888,-12672)
set K1=Rect(-14624,-12320,-14432,-12160)
set K2=Rect(-14400,-12960,-14080,-12224)
set K3=Rect(-12736,-8352,-12544,-8096)
set K4=Rect(-25152,-3456,-25056,-3328)
set K5=Rect(-24448,-3328,-24288,-3200)
set K6=Rect(-24544,-3584,-24320,-3488)
set K7=Rect(-21600,-24256,-20672,-23936)
set K8=Rect(-22496,-24224,-21664,-23968)
set K9=Rect(-24224,9760,-24064,9856)
set LB=Rect(-22656,7520,-22560,7680)
set LC=Rect(-22464,7392,-22368,7776)
set LD=Rect(-19744,-25056,-19616,-24960)
set LE=Rect(-19616,-25280,-19424,-25088)
set LF=Rect(-19808,-24896,-19712,-24544)
set LG=Rect(-18912,-24768,-18848,-24640)
set LH=Rect(-19296,-24800,-19232,-24640)
set LI=Rect(-11872,-13440,-11744,-13312)
set LJ=Rect(-12064,-13504,-11968,-13344)
set LK=Rect(-11584,-14752,-11488,-14656)
set LL=Rect(-11680,-14240,-11360,-14112)
set LM=Rect(-11584,-14496,-11488,-14432)
set LN=Rect(-20992,-17120,-20864,-16992)
set LO=Rect(-21152,-17120,-21088,-16992)
set LP=Rect(-20480,-17216,-20352,-17152)
set LQ=Rect(-20480,-17024,-20352,-16960)
set LR=Rect(-20640,-16832,-20576,-16480)
set LS=Rect(-25376,-14912,-24064,-14048)
set LT=Rect(-23328,-14592,-22336,-13792)
set LU=Rect(-25280,-15936,-24128,-15264)
set LV=Rect(-23072,-10720,-22944,-10592)
set LW=Rect(-23104,-10496,-22880,-10400)
set LX=Rect(-22528,-11424,-22368,-11264)
set LY=Rect(-22272,-11488,-22176,-11104)
set LZ=Rect(-21920,-11680,-20800,-11040)
set La=Rect(-8416,-15744,-8288,-15552)
set Lb=Rect(-8608,-15744,-8544,-15488)
set Lc=Rect(-10624,-10848,-10496,-10688)
set Ld=Rect(-10592,-10528,-10528,-10400)
set Le=Rect(-10496,-10400,-9632,-10048)
set Lf=Rect(-24864,-22496,-24704,-22400)
set Lg=Rect(-11040,-18688,-10208,-17504)
set Lh=Rect(-10688,-18400,-10560,-18272)
set Li=Rect(-29920,-8000,-29792,-7904)
set Lj=Rect(-29920,-8192,-29696,-8096)
set Lk=Rect(-25184,-5120,-25056,-4992)
set Ll=Rect(-25344,-5280,-25248,-4992)
set Lm=Rect(-25888,-5728,-25664,-5632)
set Ln=Rect(-22048,-18048,-21920,-17920)
set Lo=Rect(-22016,-17792,-21888,-17728)
set Lp=Rect(-22624,-17920,-22496,-17792)
set Lq=Rect(-22752,-17920,-22688,-17792)
set Lr=Rect(-23200,-17888,-23040,-17792)
set Ls=Rect(-21152,-10592,-20992,-10464)
set Lt=Rect(-1536,-27680,-1344,-27552)
set Lu=Rect(-11872,-14592,-11744,-14432)
set Lv=Rect(-17056,-8512,-16864,-8416)
set Lw=Rect(-16960,-8864,-16736,-8736)
set Lx=Rect(-9056,-10368,-8928,-10208)
set Ly=Rect(-9280,-10528,-9216,-10304)
set Lz=Rect(-9792,-11168,-9600,-11008)
set L0=Rect(-25920,-8544,-25696,-8416)
set L1=Rect(-25920,-8832,-25664,-8736)
set L2=Rect(-25376,-11904,-25248,-11200)
set L3=Rect(-25088,-11488,-24992,-11360)
set L4=Rect(-23264,-11648,-22912,-11232)
set L5=Rect(-8800,-5472,-8672,-5216)
set L6=Rect(-20544,-3968,-20320,-3712)
set L7=Rect(-21344,-3808,-20928,-3680)
set L8=Rect(-21184,-4064,-21056,-3936)
set L9=Rect(-21920,-4448,-21728,-4192)
set MB=Rect(-24960,8640,-24800,8832)
set MC=Rect(-27872,-28032,-26976,-27136)
set MD=Rect(-14048,2816,-13856,3136)
set ME=Rect(-3584,-7424,-3456,-7328)
set MF=Rect(19456,-23808,19616,-23648)
set MG=Rect(-18816,8608,-18656,8736)
set MH=Rect(-27872,-27136,-27104,-26144)
set MI=Rect(-21760,-28192,-21600,-28064)
set MJ=Rect(64,-9056,448,-9024)
set MK=Rect(32,-8960,480,-8768)
set ML=Rect(-27904,-26080,-27008,-25248)
set MM=Rect(-28512,-27840,-28256,-27584)
set MN=Rect(-27872,-25216,-26688,-24160)
set MO=Rect(-24736,8192,-24544,8352)
set MP=Rect(-24256,7840,-23712,7968)
set MQ=Rect(-24096,7584,-23904,7680)
set MR=Rect(-24832,7936,-24640,8064)
set MS=Rect(-27616,-23840,-27136,-23392)
set MT=Rect(-27744,-23232,-26784,-22336)
set MU=Rect(-5952,-7488,-5600,-7136)
set MV=Rect(-25920,10784,-25792,12000)
set MW=Rect(-26336,11040,-25504,11552)
set MX=Rect(-23072,11008,-22976,12224)
set MY=Rect(-23520,11296,-22528,11776)
set MZ=Rect(-20256,10688,-20160,12288)
set Ma=Rect(-20704,11200,-19680,11808)
set Mb=Rect(-21536,12992,-20480,13664)
set Mc=Rect(-24736,14240,-23680,14848)
set Md=Rect(-20256,15328,-19296,16096)
set Me=Rect(-17632,13152,-17536,14944)
set Mf=Rect(-18240,13472,-17184,14432)
set Mg=Rect(-15648,11872,-13984,12000)
set Mh=Rect(-15360,11296,-14176,12448)
set Mi=Rect(-13472,12512,-11744,12640)
set Mj=Rect(-13152,12032,-12128,13312)
set Mk=Rect(-17152,11008,-16352,11840)
set Ml=Rect(-23296,15904,-22592,16576)
set Mm=Rect(-28608,14240,-27904,14848)
set Mn=Rect(-26880,12864,-26048,13440)
set Mo=Rect(-23968,12160,-23840,13984)
set Mp=Rect(-24480,12992,-24064,13408)
set Mq=Rect(-12288,7744,-11104,8544)
set Mr=Rect(-12288,7392,-11232,7968)
set Ms=Rect(-14496,5568,-13856,6208)
set Mt=Rect(-15968,4896,-15840,7392)
set Mu=Rect(-15616,5760,-15328,6272)
set Mv=Rect(-21760,17376,-19904,17504)
set Mw=Rect(-20960,16864,-20672,17152)
set Mx=Rect(-13536,14368,-13440,15840)
set My=Rect(-16352,17120,-15520,17472)
set Mz=Rect(-16032,16960,-15840,17088)
set M0=Rect(-14528,16224,-14112,16640)
set M1=Rect(-15424,14976,-15040,15136)
set M2=Rect(-16448,16608,-16096,16928)
set M3=Rect(-16224,15328,-15904,15648)
set M4=Rect(-14304,17184,-14016,17600)
set M5=Rect(-15520,17536,-15264,17888)
set M6=Rect(-14208,19296,-13952,19552)
set M7=Rect(-13504,18080,-13216,18304)
set M8=Rect(-14848,19360,-14560,19616)
set M9=Rect(-16064,19392,-15840,19616)
set NB=Rect(-17120,19904,-16896,20160)
set NC=Rect(-17056,16128,-16864,16288)
set ND=Rect(-18240,16448,-18016,16768)
set NE=Rect(-14272,8288,-13504,8800)
set NF=Rect(-12512,8736,-12128,9152)
set NG=Rect(-11968,8768,-11872,8896)
set NH=Rect(-12896,5152,-12800,5312)
set NI=Rect(-16512,19648,-16256,20096)
set NJ=Rect(-17152,19264,-16800,19648)
set NK=Rect(-17984,19904,-17728,20160)
set NL=Rect(-17600,18368,-17216,18560)
set NM=Rect(-18528,18944,-18304,19200)
set NN=Rect(-17440,17408,-17120,17632)
set NO=Rect(-18912,18368,-18656,18592)
set NP=Rect(-18752,17280,-18496,17600)
set NQ=Rect(-14144,19008,-14048,19104)
set NR=Rect(-14560,22592,-14496,22816)
set NS=Rect(-14848,22592,-14688,22752)
set NT=Rect(-14144,-9088,-13984,-8896)
set NU=Rect(-14112,-8736,-13984,-8640)
set NV=Rect(-12608,-9408,-12512,-9280)
set NW=Rect(-12864,-9728,-12768,-9088)
set NX=Rect(-15168,-11872,-14944,-11744)
set NY=Rect(64,-9280,448,-9120)
set NZ=Rect(-13600,18016,-13440,18368)
set Na=Rect(-21024,19616,-20832,19744)
set Nb=Rect(-21088,19360,-20736,19424)
set Nc=Rect(-22816,18144,-22688,18272)
set Nd=Rect(-22912,18368,-22592,18432)
set Ne=Rect(-20960,22048,-20832,22176)
set Nf=Rect(-21024,22304,-20800,22336)
set Ng=Rect(-17024,22240,-16896,22368)
set Nh=Rect(-17120,22496,-16800,22560)
set Ni=Rect(-23008,13152,-22880,13280)
set Nj=Rect(-23232,13088,-23200,13376)
set Nk=Rect(-16384,8448,-16256,8544)
set Nl=Rect(-16544,8352,-16480,8672)
set Nm=Rect(-13792,22976,-13632,23136)
set Nn=Rect(-17728,6880,-16864,7328)
set No=Rect(-22336,19904,-22144,20160)
set Np=Rect(-13952,15744,-13824,15904)
set Nq=Rect(-16352,24064,-16192,24224)
set Nr=Rect(-2816,-2144,-2720,-2048)
set Ns=Rect(-15648,-24608,-15456,-24480)
set Nt=Rect(-21216,-26176,-21056,-26080)
set Nu=Rect(-23552,-24096,-23456,-23936)
set Nv=Rect(-22272,-13504,-22144,-13344)
set Nw=Rect(-22528,-16416,-22400,-16288)
set Nx=Rect(-28064,-17568,-27936,-17440)
set Ny=Rect(8160,-26784,8256,-26656)
set Nz=Rect(14496,-24928,14560,-24800)
set N0=Rect(-12768,14272,-12640,14400)
set N1=Rect(-20384,16288,-20256,16448)
set N2=Rect(-25600,13248,-25504,13376)
set N3=Rect(-13856,8032,-13728,8160)
set N4=Rect(-15456,17216,-15328,17344)
set N5=Rect(-29600,20800,-29472,20928)
set N6=Rect(-29088,23168,-27904,24288)
set N7=Rect(-28640,22912,-28320,23232)
set N8=Rect(-30016,21024,-29024,21152)
set N9=Rect(-29664,22560,-27776,22848)
set OB=Rect(-29568,23904,-29376,24192)
set OC=Rect(-27648,23968,-27520,24192)
set OD=Rect(-29088,24768,-27936,25568)
set OE=Rect(-28800,22464,-28480,22912)
set OF=Rect(-13600,14816,-13312,15040)
set OG=Rect(-8704,-14208,-8576,-14112)
set OH=Rect(-11712,-11328,-11616,-11200)
set OI=Rect(-21952,-9408,-21824,-9312)
set OJ=Rect(-13792,-8640,-13632,-8416)
set OK=Rect(-26240,-6720,-26112,-6560)
set OL=Rect(-26272,-9248,-26112,-9120)
set OM=Rect(-19104,-11680,-18784,-11328)
set ON=Rect(-20032,-12032,-19872,-11680)
set OO=Rect(-25344,-27136,-25248,-27008)
set OP=Rect(-22976,-23072,-22880,-22944)
set OQ=Rect(-21056,-20672,-20992,-20544)
set OR=Rect(-19264,-22336,-19168,-22208)
set OS=Rect(-12384,-27520,-12288,-27392)
set OT=Rect(-22112,17536,-21984,17728)
set OU=Rect(-17440,20896,-17312,21056)
set OV=Rect(-5632,-23904,-5536,-23840)
set OW=Rect(-5280,-20224,-5184,-20096)
set OX=Rect(-12160,-22176,-12064,-22080)
set OY=Rect(-15744,7200,-15616,7296)
set OZ=Rect(-17504,864,-17376,1024)
set Oa=Rect(-22048,-2144,-21920,-1984)
set Ob=Rect(-29536,-5760,-29440,-5632)
set Oc=Rect(-20896,1280,-20800,1440)
set Od=Rect(-23776,1888,-23648,2016)
set Oe=Rect(-19840,5728,-19712,5888)
set Of=Rect(-29600,6080,-29472,6208)
set Og=Rect(-21760,4576,-21632,4704)
set Oh=Rect(-19712,12160,-19584,12320)
set Oi=Rect(-18880,20832,-18752,20992)
set Oj=Rect(-19104,20704,-19008,21088)
set Ok=Rect(-18208,16736,-18048,16864)
set Ol=Rect(-17984,16672,-17888,16928)
set Om=Rect(-18016,19040,-17920,19168)
set On=Rect(-20704,23840,-20480,24032)
set Oo=Rect(-11040,-10016,-10848,-9792)
set Op=Rect(-21856,23712,-21664,23872)
set Oq=Rect(-22784,13504,-22624,13600)
set Os=Rect(-18272,-10560,-18176,-10016)
set Ot=Rect(-18624,-10336,-18432,-10144)
set Ou=Rect(-20928,-17920,-20832,-17696)
set Ov=Rect(-21120,-17696,-21056,-17600)
set Ow=Rect(-17344,23488,-16576,23904)
set Ox=Rect(29472,-24928,29920,-24512)
set Oy=Rect(-18784,-21152,-18592,-20480)
set Oz=Rect(-17184,-14272,-16448,-13824)
set O0=Rect(-21632,-4448,-20992,-3968)
set O1=Rect(-18912,8064,-18688,8256)
set O2=Rect(-16192,-18080,-15968,-17888)
set O3=Rect(-16864,-23232,-16736,-23136)
set O4=Rect(-16864,-23616,-16736,-23520)
set O5=Rect(-17632,-23616,-17504,-23520)
set O6=Rect(-17632,-23200,-17536,-23104)
set O7=Rect(-29440,-27872,-29376,-27808)
set O8=Rect(192,26080,1344,26784)
set O9=Rect(704,25760,832,25888)
set PB=Rect(-8480,-5344,-8352,-5152)
set PC=Rect(-8480,-5056,-8352,-4992)
set PD=Rect(-23360,-5728,-23264,-5376)
set PE=Rect(-23552,-5600,-23424,-5504)
set PF=Rect(-22720,-5952,-22656,-5216)
set PG=Rect(-22912,-5856,-22464,-5312)
set PH=Rect(-21152,-6496,-19904,-5120)
set PI=Rect(-19104,-5792,-18880,-5536)
set PJ=Rect(-6720,-6112,-6432,-5760)
set PK=Rect(-22144,-5984,-21408,-5216)
set PL=Rect(-30688,-26016,-29856,-25248)
set PM=Rect(-30656,-25088,-30304,-24800)
set PN=Rect(-19008,-6368,-18848,-6272)
set PO=Rect(-17568,-6240,-17440,-6080)
set PP=Rect(-17312,-6368,-17216,-5984)
set PQ=Rect(-19168,-6304,-19072,-6176)
set PR=Rect(-17600,-5568,-16640,-4864)
set PS=Rect(-16384,-5600,-15616,-4896)
set PT=Rect(-17248,-4320,-16064,-3488)
set PU=Rect(-16960,-3520,-16768,-3328)
set PV=Rect(-17184,-3168,-16640,-3072)
set PW=Rect(-16960,-2816,-16832,-2720)
set PX=Rect(-17088,-2976,-16672,-2944)
set PY=Rect(-14528,-3872,-14400,-3776)
set PZ=Rect(-14304,-4000,-14208,-3680)
set Pa=Rect(-13792,-4640,-13664,-3040)
set Pb=Rect(-30496,-24064,-30016,-23680)
set Pc=Rect(-29376,-26944,-29280,-26848)
set Pd=Rect(6112,19488,6304,20704)
set Pe=Rect(-28576,24224,-28416,24320)
set Pf=Rect(7008,19936,7136,20192)
set Pg=Rect(5312,20256,5728,20640)
set Ph=Rect(288,18432,608,18720)
set Pi=Rect(800,20160,1888,20736)
set Pj=Rect(8832,24736,9824,25472)
set Pk=Rect(5568,19168,5888,19488)
set Pl=Rect(11872,24992,12768,25664)
set Pm=Rect(10752,22528,11552,23136)
set Pn=Rect(10752,22720,10976,22912)
set Po=Rect(14336,24224,14624,24544)
set Pp=Rect(16672,23968,17024,24448)
set Pq=Rect(-29440,-28064,-29376,-28000)
set Pr=Rect(16000,20928,16608,21184)
set Ps=Rect(16224,20800,16352,20896)
set Pt=Rect(14688,21984,15040,22304)
set Pu=Rect(4832,20160,5280,20608)
set Pv=Rect(8864,27232,9312,27584)
set Pw=Rect(10368,24352,10880,24800)
set Px=Rect(13184,26272,13696,26592)
set Py=Rect(16032,25536,16480,26016)
set Pz=Rect(17152,22240,17664,22688)
set P0=Rect(12736,21696,13216,22112)
set P1=Rect(-24800,-23168,-23712,-22560)
set P2=Rect(-23840,-23104,-22720,-22496)
set P3=Rect(-25568,-24480,-24512,-24064)
set P4=Rect(-15040,-12992,-14848,-12768)
set P5=Rect(-13184,-11360,-12992,-11040)
set P6=Rect(15936,-27200,16032,-27136)
set P7=Rect(17760,-27936,17920,-27712)
set P8=Rect(17568,-27904,17696,-27712)
set P9=Rect(-5152,-4416,-4896,-4128)
set QB=Rect(-7040,-4512,-6688,-4256)
set QC=Rect(20064,-28096,20192,-28000)
set QD=Rect(18848,-26144,18976,-26048)
set QE=Rect(20064,-26144,20192,-26048)
set QF=Rect(896,18368,1376,18784)
set QG=Rect(-2400,19744,-1952,20256)
set QH=Rect(-7712,-4320,-7360,-4096)
set QI=Rect(-7712,-7136,-7520,-6912)
set QJ=Rect(-7680,-6400,-7584,-6304)
set QK=Rect(-2560,-1248,-2432,-1152)
set QL=Rect(-2368,-1344,-2272,-1088)
set QM=Rect(-1824,-1536,-1536,-896)
set QN=Rect(-5696,-6816,-5568,-6624)
set QO=Rect(-6016,-1984,-5888,-1856)
set QP=Rect(4704,22176,4896,22304)
set QQ=Rect(4512,21984,5024,22080)
set QR=Rect(1696,16608,1824,16736)
set QS=Rect(1920,16512,1984,16832)
set QT=Rect(2784,16192,2816,16960)
set QU=Rect(2560,16576,2624,16736)
set QV=Rect(3936,21952,4224,22240)
set QW=Rect(20448,20768,21472,21600)
set QX=Rect(10048,24448,10144,25792)
set QY=Rect(-23456,26432,-23296,26560)
set QZ=Rect(-23392,27488,-23296,27584)
set Qa=Rect(-23104,26912,-22912,27104)
set Qb=Rect(-23200,26944,-23136,27072)
set Qc=Rect(4928,21536,5088,21696)
set Qd=Rect(4736,21536,4832,21760)
set Qe=Rect(7232,26976,7392,27136)
set Qf=Rect(7488,26848,7552,27232)
set Qg=Rect(4032,21888,4160,21984)
set Qh=Rect(12800,22816,13760,23680)
set Qi=Rect(-13664,17568,-13568,17664)
set Qj=Rect(-25856,20704,-25696,20832)
set Qk=Rect(-25632,20576,-25568,20896)
set Ql=Rect(-13952,17472,-13888,17632)
set Qm=Rect(-25152,20768,-24992,21120)
set Qn=Rect(1280,22112,1376,22176)
set Qo=Rect(-4480,21440,-4384,21536)
set Qp=Rect(-4480,22176,-4384,22240)
set Qq=Rect(-5600,21440,-5504,21536)
set Qr=Rect(-5600,22176,-5504,22240)
set Qs=Rect(-5024,22176,-4896,22304)
set Qt=Rect(-5120,22016,-4800,22080)
set Qu=Rect(1152,21920,1472,21984)
set Qv=Rect(9088,21344,9216,21472)
set Qw=Rect(8928,21152,9376,21216)
set Qx=Rect(8544,20448,9824,21024)
set Qy=Rect(7616,27520,7744,27616)
set Qz=Rect(7520,27392,7872,27456)
set Q0=Rect(-5760,21632,-5376,21984)
set Q1=Rect(9152,20288,9248,20384)
set Q2=Rect(9056,20416,9344,20544)
set Q3=Rect(8672,19744,8832,19840)
set Q4=Rect(8608,19584,8960,19648)
set Q5=Rect(10272,19136,11296,19872)
set Q6=Rect(8704,18016,10144,18528)
set Q7=Rect(9216,17888,9440,17984)
set Q8=Rect(11072,19776,11264,19936)
set Q9=Rect(4288,20224,4416,20320)
set RB=Rect(9472,19360,9984,19872)
set RC=Rect(12832,18464,13152,19008)
set RD=Rect(13376,18080,13504,18176)
set RE=Rect(13312,18272,13568,18368)
set RF=Rect(15264,18080,15392,18208)
set RG=Rect(15200,18304,15488,18336)
set RH=Rect(14688,18880,16064,19040)
set RI=Rect(14624,17984,16064,19520)
set RJ=Rect(5664,16064,5792,16160)
set RK=Rect(5920,16064,5984,16288)
set RL=Rect(4416,16736,4512,16864)
set RM=Rect(4192,16704,4224,16928)
set RN=Rect(-29440,-27776,-29376,-27712)
set RO=Rect(-11712,-26592,-11680,-25856)
set RP=Rect(-12256,-8800,-12192,-8160)
set RQ=Rect(4032,22048,4128,22144)
set RR=Rect(17472,26432,17600,26528)
set RS=Rect(17408,26656,17696,26688)
set RT=Rect(-14624,-28160,-14496,-28064)
set RU=Rect(-23392,-26784,-23296,-26656)
set RV=Rect(-17440,5696,-17312,5792)
set RW=Rect(-16160,-28160,-16000,-28064)
set RX=Rect(-12160,-24512,-11776,-24128)
set RY=Rect(-11744,-24384,-11680,-24256)
set RZ=Rect(-21536,-24992,-21280,-24832)
set Ra=Rect(-23136,-19968,-23008,-19456)
set Rb=Rect(-19072,-21024,-18848,-20640)
set Rc=Rect(-7232,-27840,-7136,-27360)
set Rd=Rect(-9696,-26848,-9600,-26720)
set Re=Rect(-10048,-26368,-9952,-26112)
set Rf=Rect(-23456,-19680,-23360,-19584)
set Rg=Rect(-10016,-24544,-9920,-24448)
set Rh=Rect(-10080,-24384,-9856,-24352)
set Ri=Rect(-10240,-23904,-9696,-23552)
set Rj=Rect(-21472,-25056,-21344,-24960)
set Rk=Rect(-23488,-26112,-23296,-25888)
set Rl=Rect(-29952,-22720,-29856,-22624)
set Rm=Rect(-11424,-24416,-11296,-24256)
set Rn=Rect(-11200,-24384,-11104,-24256)
set Ro=Rect(-23392,-21088,-23136,-20832)
set Rp=Rect(-22784,-28160,-22176,-28064)
set Rq=Rect(-29216,-20992,-29024,-20864)
set Rr=Rect(-28352,-26976,-28256,-26848)
set Rs=Rect(-28480,-27008,-28416,-26848)
set Rt=Rect(-4480,-26016,-4384,-25888)
set Ru=Rect(-4640,-26048,-4576,-25856)
set Rv=Rect(-5408,-26080,-5280,-25568)
set Rw=Rect(-12448,-23936,-12320,-23808)
set Rx=Rect(28416,-21888,28512,-21792)
set Ry=Rect(27392,-20640,27456,-20576)
set Rz=Rect(-29120,-27552,-28800,-27488)
set R0=Rect(-30144,-26560,-30112,-26528)
set R1=Rect(-30144,-26656,-30112,-26624)
set R2=Rect(-30720,-22560,-29696,-21504)
set R3=Rect(-30720,-22816,-29696,-21760)
set R4=Rect(-30720,-23072,-29696,-22016)
set R5=Rect(-5408,-26432,-4320,-25152)
set R6=Rect(-29920,-24192,-29824,-24128)
set R7=Rect(-27648,-21504,-26624,-20480)
set R8=Rect(-27840,-24160,-27712,-23968)
set R9=Rect(-3872,-27008,-3040,-26848)
set SB=Rect(-3712,-28160,-3232,-28064)
set SC=Rect(-3552,-27904,-3360,-27744)
set SD=Rect(-28064,-24192,-27968,-23968)
set SE=Rect(-1248,-25824,-928,-25184)
set SF=Rect(-15616,-22432,-15488,-22304)
set SG=Rect(-23360,-21120,-23232,-20992)
set SH=Rect(-3968,-27360,-2944,-27264)
set SI=Rect(-30688,-20736,-30240,-20352)
set SJ=Rect(-30048,-20672,-29856,-20480)
set SK=Rect(-29856,-20480,-29792,-19904)
set SL=Rect(-25472,-12448,-25344,-12352)
set SM=Rect(-25536,-12576,-25280,-12512)
set SN=Rect(-25280,-17760,-25184,-17664)
set SO=Rect(-25408,-17824,-25376,-17568)
set SP=Rect(-26336,-17792,-25824,-17376)
set SQ=Rect(26912,1984,27008,2048)
set SR=Rect(-29536,-24704,-28160,-24672)
set SS=Rect(26368,-20864,26400,-20832)
set ST=Rect(26368,-20992,26400,-20960)
set SU=Rect(26080,-21120,26528,-20672)
set SV=Rect(-28960,-28192,-28768,-28128)
set SW=Rect(-28896,-28096,-28832,-28064)
set SX=Rect(29728,1568,29856,2432)
set SY=Rect(29568,1696,29632,1856)
set SZ=Rect(28192,1440,28320,1984)
set Sa=Rect(-12224,-19200,-12064,-19040)
set Sb=Rect(-18272,-11328,-18112,-11072)
set Sc=Rect(-18304,-11424,-18080,-11360)
set Sd=Rect(-18144,-11264,-18080,-11136)
set Se=Rect(-18304,-11264,-18240,-11136)
set Sf=Rect(-19136,-15488,-18752,-15136)
set Sg=Rect(-18464,-15648,-18176,-15392)
set Sh=Rect(26528,-20896,26592,-20832)
set Si=Rect(26624,-20768,26656,-20736)
set Sj=Rect(26624,-20960,26656,-20928)
set Sk=Rect(26688,-20864,26720,-20832)
set Sl=Rect(26688,-21056,26752,-20992)
set Sm=Rect(-20544,-12896,-20448,-12800)
set Sn=Rect(-15904,-13856,-15808,-13760)
set So=Rect(-17536,-16032,-17440,-15936)
set Sp=Rect(-13696,-10336,-13600,-10272)
set Sq=Rect(-24864,-17920,-24800,-17760)
set Sr=Rect(-24768,-17888,-24704,-17824)
set Ss=Rect(-26912,-19200,-26848,-19104)
set St=Rect(-26976,-19072,-26912,-19008)
set Su=Rect(-23680,-17568,-23424,-17280)
set Sv=Rect(-2208,-1696,-2144,-832)
set Sw=Rect(26400,-21216,26432,-21184)
set Sx=Rect(-29920,-19200,-29824,-19104)
set Sy=Rect(-25024,-28160,-24928,-27808)
set Sz=Rect(-7360,-26304,-7296,-26176)
set S0=Rect(-25664,-19488,-25504,-19392)
set S1=Rect(-26144,7424,-25056,9120)
set S2=Rect(-3872,-26112,-1792,-25056)
set S3=Rect(-24096,-18272,-23808,-17888)
set S4=Rect(-29952,-7104,-29312,-6976)
set S5=Rect(-3520,3936,-3392,4288)
set S6=Rect(29408,-12160,29632,-11936)
set S7=Rect(-24416,-17920,-24288,-17792)
set S8=Rect(26752,-12256,27264,-11776)
set S9=Rect(25760,-12672,25984,-11072)
set TB=Rect(-29856,20480,-29120,20576)
set TC=Rect(29824,-11456,29920,-11360)
set TD=Rect(29760,-7616,29920,-6976)
set TE=Rect(29440,-7616,29568,-7008)
set TF=Rect(28416,-7776,29248,-6976)
set TG=Rect(-29952,11040,-29824,11488)
set TH=Rect(26624,-12256,26880,-11776)
set TI=Rect(-14016,-22144,-13920,-21920)
set TJ=Rect(28288,512,28416,640)
set TK=Rect(26592,1536,26784,2048)
set TL=Rect(27616,-21760,27744,-21664)
set TM=Rect(27136,-21824,27328,-21632)
set TN=Rect(27136,-21536,27808,-21376)
set TO=Rect(27776,-21728,27840,-21664)
set TP=Rect(26624,-23232,28224,-21984)
set TQ=Rect(-10848,-24768,-9088,-23200)
set TR=Rect(-14624,-4576,-12512,-3040)
set TS=Rect(704,-25952,832,-25856)
set TT=Rect(640,-25728,896,-25632)
set TU=Rect(-23424,-28160,-23328,-28064)
set TV=Rect(-23712,-28096,-23616,-27936)
set TW=Rect(512,-24672,1024,-24320)
endfunction
function Blo takes nothing returns nothing
endfunction
function Blp takes nothing returns nothing
call SetUnitLifePercentBJ(GetEnumUnit(),100)
endfunction
function Blq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"一些指令","-sx 查看相关属性                                     -sx2 查看相关属性                                    -sc 10秒后删除地上一些可从敌人处重复获得的物品","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CinematicModeBJ(true,GetPlayersAll())
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,0.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
call PanCameraToTimed(GetRectCenterX(Ry),GetRectCenterY(Ry),.01)
call DisableTrigger(ix)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function Blp)
call StopMusic(true)
call PlayMusicBJ(B)
call RemoveUnit(W7)
call RemoveUnit(U7)
call RemoveUnit(Zc)
call RemoveUnit(Zd)
call RemoveUnit(Zh)
call RemoveUnit(Zg)
call RemoveUnit(Zf)
call RemoveUnit(Ze)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,5.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"",null,"加载本地游戏函数..提示:请在180秒内双击选择使用英雄，否则将无法选择，同时需在30秒内聊天信息输入选择“-普通”“-困难”“-噩梦”难度，到期默认为普通难度.",bj_TIMETYPE_SET,2.5,true)
call CinematicModeBJ(false,GetPlayersAll())
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303033,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BP),bj_UNIT_FACING)
call CreateItemLoc($49303750,GetRectCenter(Gw))
call ExecuteFunc("Bmw")
call StartTimerBJ(eo,false,180.)
call CreateTimerDialogBJ(eo,"选择英雄时间")
set i1=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true,GetLastCreatedTimerDialogBJ())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"请任意玩家输入 “-普通”或“-困难”或“-噩梦” 来选择难度...若超过30秒不选择难度即默认为普通难度...（同时需要在180秒内选择使用英雄，否则到期无法选择）")
call EnableTrigger(i2)
call EnableTrigger(i3)
call EnableTrigger(i4)
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(i2)
call DisableTrigger(i3)
call DisableTrigger(i4)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bS==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call DisplayTimedTextToForce(GetPlayersAll(),15.,"选择难度的时间已超过...视为选择普通难度...")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Blr takes nothing returns nothing
set iv=CreateTrigger()
call TriggerRegisterTimerEventSingle(iv,.01)
call TriggerAddAction(iv,function Blq)
endfunction
function Bls takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyTimer(eo)
call TimerDialogDisplayBJ(false,i1)
call DestroyTimerDialog(i1)
call RemoveUnit(ZH)
endfunction
function Blt takes nothing returns nothing
set i5=CreateTrigger()
call TriggerRegisterTimerExpireEvent(i5,eo)
call TriggerAddAction(i5,function Bls)
endfunction
function Blu takes nothing returns nothing
call DisableTrigger(iv)
endfunction
function Blv takes nothing returns nothing
set i6=CreateTrigger()
call TriggerAddAction(i6,function Blu)
endfunction
function Blw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CinematicModeBJ(true,GetPlayersAll())
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,0.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
call PanCameraToTimed(GetRectCenterX(KQ),GetRectCenterY(KQ),.01)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"",null,"任意玩家按下ESC跳过剧情",bj_TIMETYPE_SET,3.5,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call PlayMusicBJ(N)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"",null,"历史带给人们的教训是什么呢？",bj_TIMETYPE_SET,4.5,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"",null,"就是人们从未在历史中吸取教训",bj_TIMETYPE_SET,5.,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,5.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"在这里看不到外面的天气情况呢...",bj_TIMETYPE_SET,4.8,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"以前在这种时候，我都会把被子拿出去晒一晒..",bj_TIMETYPE_SET,5.8,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"然后把脸贴在晒过的被子上...",bj_TIMETYPE_SET,5.,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"那种感觉......真是让我欲罢不能呢.....",bj_TIMETYPE_SET,5.4,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"你觉得呢？我忠诚的骑士.",bj_TIMETYPE_SET,4.,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????",null,"确实呢...",bj_TIMETYPE_SET,3.5,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????",null,"但这不是废话嘛，我们现在还处在被封印的内部..",bj_TIMETYPE_SET,5.5,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????",null,"我的圣魔大人，您是不是被封印太久..出现了点问题？",bj_TIMETYPE_SET,5.5,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,".........",bj_TIMETYPE_SET,3.8,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"我只是想说....",bj_TIMETYPE_SET,4.8,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"现在有比这更让我上瘾的事情了......",bj_TIMETYPE_SET,5.2,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"我们马上...",bj_TIMETYPE_SET,2.7,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),null,"????????",null,"就能出去了...",bj_TIMETYPE_SET,2.7,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,5.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call Biy(5.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopMusic(true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,5.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
call PanCameraToTimed(GetRectCenterX(SQ),GetRectCenterY(SQ),.01)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zc,"妮雅娜",null,"..........",bj_TIMETYPE_SET,2.8,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
set i8=GetUnitLoc(Zd)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Andt\\Andt.mdl")
call RemoveLocation(i8)
call Bjl(5.,bj_lastCreatedEffect)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zd,"西菲尔",null,"找到距离最近的方向了",bj_TIMETYPE_SET,3.8,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zd,"西菲尔",null,"但这条路需要我们通过一个奇怪的遗迹，或许会冒一些风险",bj_TIMETYPE_SET,5.2,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zc,"妮雅娜",null,"我感应到封印的力量在减弱...",bj_TIMETYPE_SET,4.,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zc,"妮雅娜",null,"我们时间不多了...",bj_TIMETYPE_SET,3.5,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Ze,"圣雷锤之主",null,"孩子，或许不用那么着急，我们应该在路上多找点宝物先充实自己",bj_TIMETYPE_SET,5.2,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zf,"莉尔娅-鹰眼",null,"请相信月精灵一族把守封印外围的力量...",bj_TIMETYPE_SET,4.2,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),Zc,"妮雅娜",null,"希望吧......",bj_TIMETYPE_SET,4.,true)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,5.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call Biy(7.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if cT==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call ConditionalTriggerExecute(iv)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Blx takes nothing returns nothing
set i7=CreateTrigger()
call TriggerAddAction(i7,function Blw)
endfunction
function Bly takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set cT=true
call StopMusic(true)
call ConditionalTriggerExecute(iv)
endfunction
function Blz takes nothing returns nothing
set ix=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(ix,Player(0))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(1))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(2))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(3))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(4))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(5))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(6))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(7))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(8))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(9))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(10))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(11))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(12))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(13))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(14))
call TriggerRegisterPlayerEventEndCinematic(ix,Player(15))
call TriggerAddAction(ix,function Bly)
endfunction
function Bl0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call Cheat("greedisgood 999999")
endfunction
function Bl1 takes nothing returns nothing
set jE=CreateTrigger()
call TriggerAddAction(jE,function Bl0)
endfunction
function Bl2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetPlayerState(Player(0),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(1),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(2),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(3),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(4),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(5),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(6),PLAYER_STATE_RESOURCE_LUMBER)>=999999 or GetPlayerState(Player(7),PLAYER_STATE_RESOURCE_LUMBER)>=999999 then
call CustomDefeatBJ(Player(0),"请在局域网进行游戏")
call CustomDefeatBJ(Player(1),"请在局域网进行游戏")
call CustomDefeatBJ(Player(2),"请在局域网进行游戏")
call CustomDefeatBJ(Player(3),"请在局域网进行游戏")
call CustomDefeatBJ(Player(4),"请在局域网进行游戏")
call CustomDefeatBJ(Player(5),"请在局域网进行游戏")
call CustomDefeatBJ(Player(6),"请在局域网进行游戏")
call CustomDefeatBJ(Player(7),"请在局域网进行游戏")
else
endif
endfunction
function Bl3 takes nothing returns nothing
set jF=CreateTrigger()
call TriggerRegisterTimerEventSingle(jF,.1)
call TriggerAddAction(jF,function Bl2)
endfunction
function Bl4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerStateBJ(Player(0),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(1),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(2),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(3),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(4),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(5),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(6),PLAYER_STATE_RESOURCE_GOLD,2000)
call SetPlayerStateBJ(Player(7),PLAYER_STATE_RESOURCE_GOLD,2000)
call UnitAddAbilityBJ($41304F43,Ud)
endfunction
function Bl5 takes nothing returns nothing
set jG=CreateTrigger()
call TriggerRegisterTimerEventSingle(jG,.1)
call TriggerAddAction(jG,function Bl4)
endfunction
function Bl6 takes nothing returns boolean
return IsUnitInGroup(GetFilterUnit(),bJ)==true
endfunction
function Bl7 takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),bJ)
call RemoveUnit(GetEnumUnit())
endfunction
function Bl8 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetPlayerName(GetTriggerPlayer())+"已经离开了游戏")
call ForGroupBJ(Bis(GetTriggerPlayer(),Condition(function Bl6)),function Bl7)
endfunction
function Bl9 takes nothing returns nothing
set jH=CreateTrigger()
call TriggerRegisterPlayerEventLeave(jH,Player(0))
call TriggerRegisterPlayerEventLeave(jH,Player(1))
call TriggerRegisterPlayerEventLeave(jH,Player(2))
call TriggerRegisterPlayerEventLeave(jH,Player(3))
call TriggerRegisterPlayerEventLeave(jH,Player(4))
call TriggerRegisterPlayerEventLeave(jH,Player(5))
call TriggerRegisterPlayerEventLeave(jH,Player(6))
call TriggerRegisterPlayerEventLeave(jH,Player(7))
call TriggerRegisterPlayerEventLeave(jH,Player(8))
call TriggerRegisterPlayerEventLeave(jH,Player(9))
call TriggerRegisterPlayerEventLeave(jH,Player(10))
call TriggerRegisterPlayerEventLeave(jH,Player(11))
call TriggerRegisterPlayerEventLeave(jH,Player(12))
call TriggerRegisterPlayerEventLeave(jH,Player(13))
call TriggerRegisterPlayerEventLeave(jH,Player(14))
call TriggerRegisterPlayerEventLeave(jH,Player(15))
call TriggerAddAction(jH,function Bl8)
endfunction
function BmB takes nothing returns boolean
return GetItemType(GetManipulatedItem())==ITEM_TYPE_PURCHASABLE
endfunction
function BmC takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetManipulatedItem()!=UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex) and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) and GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))+GetItemCharges(GetManipulatedItem())<=10 then
call SetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex),GetItemCharges(GetManipulatedItem())+GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex)))
call RemoveItem(GetManipulatedItem())
exitwhen true
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BmD takes nothing returns nothing
set jM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(jM,Condition(function BmB))
call TriggerAddAction(jM,function BmC)
endfunction
function BmE takes nothing returns nothing
if IsUnitAliveBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())])==true then
set jP[GetConvertedPlayerId(GetTriggerPlayer())+10]=UnitItemInSlotBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())],1)
set jP[GetConvertedPlayerId(GetTriggerPlayer())+20]=UnitItemInSlotBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())],2)
set jP[GetConvertedPlayerId(GetTriggerPlayer())+30]=UnitItemInSlotBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())],3)
set jP[GetConvertedPlayerId(GetTriggerPlayer())+40]=UnitItemInSlotBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())],4)
set jP[GetConvertedPlayerId(GetTriggerPlayer())+50]=UnitItemInSlotBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())],5)
set jP[GetConvertedPlayerId(GetTriggerPlayer())+60]=UnitItemInSlotBJ(jO[GetConvertedPlayerId(GetTriggerPlayer())],6)
set jQ[3]=GetRectCenter(BF)
call UnitRemoveItemSwapped(jP[GetConvertedPlayerId(GetTriggerPlayer())+10],jO[GetConvertedPlayerId(GetTriggerPlayer())])
call SetItemPositionLoc(bj_lastRemovedItem,jQ[3])
call SetItemVisible(bj_lastRemovedItem,false)
call UnitRemoveItemSwapped(jP[GetConvertedPlayerId(GetTriggerPlayer())+20],jO[GetConvertedPlayerId(GetTriggerPlayer())])
call SetItemPositionLoc(bj_lastRemovedItem,jQ[3])
call SetItemVisible(bj_lastRemovedItem,false)
call UnitRemoveItemSwapped(jP[GetConvertedPlayerId(GetTriggerPlayer())+30],jO[GetConvertedPlayerId(GetTriggerPlayer())])
call SetItemPositionLoc(bj_lastRemovedItem,jQ[3])
call SetItemVisible(bj_lastRemovedItem,false)
call UnitRemoveItemSwapped(jP[GetConvertedPlayerId(GetTriggerPlayer())+40],jO[GetConvertedPlayerId(GetTriggerPlayer())])
call SetItemPositionLoc(bj_lastRemovedItem,jQ[3])
call SetItemVisible(bj_lastRemovedItem,false)
call UnitRemoveItemSwapped(jP[GetConvertedPlayerId(GetTriggerPlayer())+50],jO[GetConvertedPlayerId(GetTriggerPlayer())])
call SetItemPositionLoc(bj_lastRemovedItem,jQ[3])
call SetItemVisible(bj_lastRemovedItem,false)
call UnitRemoveItemSwapped(jP[GetConvertedPlayerId(GetTriggerPlayer())+60],jO[GetConvertedPlayerId(GetTriggerPlayer())])
call SetItemPositionLoc(bj_lastRemovedItem,jQ[3])
call SetItemVisible(bj_lastRemovedItem,false)
call RemoveLocation(jQ[3])
set jP[GetConvertedPlayerId(GetTriggerPlayer())+510]=jP[GetConvertedPlayerId(GetTriggerPlayer())+410]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+520]=jP[GetConvertedPlayerId(GetTriggerPlayer())+420]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+530]=jP[GetConvertedPlayerId(GetTriggerPlayer())+430]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+540]=jP[GetConvertedPlayerId(GetTriggerPlayer())+440]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+550]=jP[GetConvertedPlayerId(GetTriggerPlayer())+450]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+560]=jP[GetConvertedPlayerId(GetTriggerPlayer())+460]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+410]=jP[GetConvertedPlayerId(GetTriggerPlayer())+310]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+420]=jP[GetConvertedPlayerId(GetTriggerPlayer())+320]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+430]=jP[GetConvertedPlayerId(GetTriggerPlayer())+330]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+440]=jP[GetConvertedPlayerId(GetTriggerPlayer())+340]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+450]=jP[GetConvertedPlayerId(GetTriggerPlayer())+350]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+460]=jP[GetConvertedPlayerId(GetTriggerPlayer())+360]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+310]=jP[GetConvertedPlayerId(GetTriggerPlayer())+210]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+320]=jP[GetConvertedPlayerId(GetTriggerPlayer())+220]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+330]=jP[GetConvertedPlayerId(GetTriggerPlayer())+230]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+340]=jP[GetConvertedPlayerId(GetTriggerPlayer())+240]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+350]=jP[GetConvertedPlayerId(GetTriggerPlayer())+250]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+360]=jP[GetConvertedPlayerId(GetTriggerPlayer())+260]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+210]=jP[GetConvertedPlayerId(GetTriggerPlayer())+110]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+220]=jP[GetConvertedPlayerId(GetTriggerPlayer())+120]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+230]=jP[GetConvertedPlayerId(GetTriggerPlayer())+130]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+240]=jP[GetConvertedPlayerId(GetTriggerPlayer())+140]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+250]=jP[GetConvertedPlayerId(GetTriggerPlayer())+150]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+260]=jP[GetConvertedPlayerId(GetTriggerPlayer())+160]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+110]=jP[GetConvertedPlayerId(GetTriggerPlayer())+10]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+120]=jP[GetConvertedPlayerId(GetTriggerPlayer())+20]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+130]=jP[GetConvertedPlayerId(GetTriggerPlayer())+30]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+140]=jP[GetConvertedPlayerId(GetTriggerPlayer())+40]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+150]=jP[GetConvertedPlayerId(GetTriggerPlayer())+50]
set jP[GetConvertedPlayerId(GetTriggerPlayer())+160]=jP[GetConvertedPlayerId(GetTriggerPlayer())+60]
call SetItemVisible(jP[GetConvertedPlayerId(GetTriggerPlayer())+510],true)
call SetItemVisible(jP[GetConvertedPlayerId(GetTriggerPlayer())+520],true)
call SetItemVisible(jP[GetConvertedPlayerId(GetTriggerPlayer())+530],true)
call SetItemVisible(jP[GetConvertedPlayerId(GetTriggerPlayer())+540],true)
call SetItemVisible(jP[GetConvertedPlayerId(GetTriggerPlayer())+550],true)
call SetItemVisible(jP[GetConvertedPlayerId(GetTriggerPlayer())+560],true)
call UnitAddItem(jO[GetConvertedPlayerId(GetTriggerPlayer())],jP[GetConvertedPlayerId(GetTriggerPlayer())+510])
call UnitAddItem(jO[GetConvertedPlayerId(GetTriggerPlayer())],jP[GetConvertedPlayerId(GetTriggerPlayer())+520])
call UnitAddItem(jO[GetConvertedPlayerId(GetTriggerPlayer())],jP[GetConvertedPlayerId(GetTriggerPlayer())+530])
call UnitAddItem(jO[GetConvertedPlayerId(GetTriggerPlayer())],jP[GetConvertedPlayerId(GetTriggerPlayer())+540])
call UnitAddItem(jO[GetConvertedPlayerId(GetTriggerPlayer())],jP[GetConvertedPlayerId(GetTriggerPlayer())+550])
call UnitAddItem(jO[GetConvertedPlayerId(GetTriggerPlayer())],jP[GetConvertedPlayerId(GetTriggerPlayer())+560])
else
call DoNothing()
endif
endfunction
function BmF takes nothing returns nothing
set jN=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(jN,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(1),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(jN,Player(7),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerAddAction(jN,function BmE)
endfunction
function BmG takes nothing returns nothing
call DisableTrigger(jN)
endfunction
function BmH takes nothing returns nothing
set jR=CreateTrigger()
call TriggerAddAction(jR,function BmG)
endfunction
function BmI takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(1),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(2),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(3),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(4),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(5),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(6),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(7),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(0),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(1),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(2),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(3),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(4),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(5),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(6),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(7),bj_ALLIANCE_ALLIED)
endfunction
function BmJ takes nothing returns nothing
set jS=CreateTrigger()
call TriggerAddAction(jS,function BmI)
endfunction
function BmK takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(1),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(2),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(3),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(4),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(5),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(6),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(7),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(0),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(1),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(2),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(3),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(4),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(5),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(6),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(7),bj_ALLIANCE_ALLIED)
endfunction
function BmL takes nothing returns nothing
set jT=CreateTrigger()
call TriggerAddAction(jT,function BmK)
endfunction
function BmM takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(1),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(2),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(3),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(4),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(5),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(6),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(7),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(0),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(1),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(2),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(3),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(4),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(5),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(6),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(7),bj_ALLIANCE_ALLIED)
endfunction
function BmN takes nothing returns nothing
set jU=CreateTrigger()
call TriggerAddAction(jU,function BmM)
endfunction
function BmO takes nothing returns nothing
if IsUnitAlly(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true then
call IssueImmediateOrder(GetAttacker(),"stop")
else
call DoNothing()
endif
endfunction
function BmP takes nothing returns nothing
set jV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(jV,function BmO)
endfunction
function BmQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(i3)
call DisableTrigger(i4)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"选择普通难度成功...当前为普通难度....")
set bS=true
endfunction
function BmR takes nothing returns nothing
set i2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(i2,Player(0),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(1),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(2),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(3),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(4),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(5),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(6),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(7),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(8),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(9),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(10),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(11),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(12),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(13),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(14),"-普通",true)
call TriggerRegisterPlayerChatEvent(i2,Player(15),"-普通",true)
call TriggerAddAction(i2,function BmQ)
endfunction
function BmS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(i2)
call DisableTrigger(i4)
set bS=true
call DisplayTimedTextToForce(GetPlayersAll(),10.,"选择困难难度成功...当前为困难难度....玩家初始现金提高至600")
call CreateNUnitsAtLoc(1,$68303135,Player(11),GetRectCenter(BS),bj_UNIT_FACING)
set jW=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,$68303135,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(BS),bj_UNIT_FACING)
set jW=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call AdjustPlayerStateBJ(1000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddAbilityBJ($41303950,U6)
call UnitAddAbilityBJ($41303951,Wf)
call UnitAddAbilityBJ($41303952,Wn)
call UnitAddAbilityBJ($41303953,VK)
call UnitAddAbilityBJ($41303953,VJ)
call UnitAddAbilityBJ($41304945,Xu)
endfunction
function BmT takes nothing returns nothing
set i3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(i3,Player(0),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(1),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(2),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(3),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(4),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(5),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(6),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(7),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(8),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(9),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(10),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(11),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(12),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(13),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(14),"-困难",true)
call TriggerRegisterPlayerChatEvent(i3,Player(15),"-困难",true)
call TriggerAddAction(i3,function BmS)
endfunction
function BmU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(i2)
call DisableTrigger(i3)
set bS=true
call DisplayTimedTextToForce(GetPlayersAll(),10.,"选择噩梦难度成功...当前为噩梦难度....玩家初始现金提高至1000")
call CreateNUnitsAtLoc(1,$68303136,Player(11),GetRectCenter(BS),bj_UNIT_FACING)
set jX=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,$68303136,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(BS),bj_UNIT_FACING)
set jX=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call AdjustPlayerStateBJ(1000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddAbilityBJ($41303954,U6)
call UnitAddAbilityBJ($41303955,Wf)
call UnitAddAbilityBJ($41303956,Wn)
call UnitAddAbilityBJ($41303957,VK)
call UnitAddAbilityBJ($41303957,VJ)
call UnitAddAbilityBJ($41304946,Xu)
endfunction
function BmV takes nothing returns nothing
set i4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(i4,Player(0),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(1),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(2),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(3),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(4),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(5),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(6),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(7),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(8),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(9),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(10),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(11),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(12),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(13),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(14),"-噩梦",true)
call TriggerRegisterPlayerChatEvent(i4,Player(15),"-噩梦",true)
call TriggerAddAction(i4,function BmU)
endfunction
function BmW takes nothing returns nothing
call DisableTrigger(i2)
call DisableTrigger(i3)
call DisableTrigger(i4)
endfunction
function BmX takes nothing returns nothing
set jY=CreateTrigger()
call TriggerAddAction(jY,function BmW)
endfunction
function BmY takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(9),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(10),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(8),Player(10),bj_ALLIANCE_ALLIED)
endfunction
function BmZ takes nothing returns nothing
set jZ=CreateTrigger()
call TriggerAddAction(jZ,function BmY)
endfunction
function Bma takes nothing returns nothing
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Player(11))
endfunction
function Bmb takes nothing returns nothing
set ja=CreateTrigger()
call TriggerAddAction(ja,function Bma)
endfunction
function Bmc takes nothing returns boolean
return GetSpellAbilityId()==$41304C57
endfunction
function Bmd takes nothing returns nothing
if IsItemVisible(GetEnumItem())==true and R2I(GetItemLifeBJ(GetEnumItem()))>0 then
call UnitAddItemSwapped(GetEnumItem(),GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function Bme takes nothing returns nothing
call MoveRectToLoc(PM,GetUnitLoc(GetTriggerUnit()))
call EnumItemsInRectBJ(PM,function Bmd)
endfunction
function Bmf takes nothing returns nothing
set jb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(jb,Condition(function Bmc))
call TriggerAddAction(jb,function Bme)
endfunction
function Bmg takes nothing returns nothing
call ExecuteFunc("B5V")
call ExecuteFunc("B5S")
call DisableTrigger(jm)
call ExecuteFunc("B5Y")
call DisableTrigger(jl)
call ExecuteFunc("B5d")
call DisableTrigger(jn)
call ExecuteFunc("B5g")
call DisableTrigger(jo)
call ExecuteFunc("B5j")
call DisableTrigger(jp)
call ExecuteFunc("B5m")
call ExecuteFunc("CCG")
call ExecuteFunc("CCJ")
call ExecuteFunc("CCM")
call ExecuteFunc("CCP")
call ExecuteFunc("Dhp")
call ExecuteFunc("Dhs")
call ExecuteFunc("Dhv")
call ExecuteFunc("Dhy")
call ExecuteFunc("Dh0")
call ExecuteFunc("Dh3")
call ExecuteFunc("Dh5")
call ExecuteFunc("Dh8")
call ExecuteFunc("DiC")
call ExecuteFunc("CLU")
call ExecuteFunc("CLW")
call ExecuteFunc("CLZ")
call ExecuteFunc("CLc")
call ExecuteFunc("DiF")
call ExecuteFunc("DiI")
call ExecuteFunc("DiL")
call ExecuteFunc("DiO")
call ExecuteFunc("DiQ")
call ExecuteFunc("DiV")
call ExecuteFunc("DM9")
call ExecuteFunc("DND")
call ExecuteFunc("DNG")
call ExecuteFunc("DNJ")
call ExecuteFunc("DNM")
call ExecuteFunc("DNP")
call ExecuteFunc("DNS")
call ExecuteFunc("DNV")
call ExecuteFunc("DNY")
call ExecuteFunc("Cvg")
call ExecuteFunc("DNa")
call ExecuteFunc("DNd")
call ExecuteFunc("DNg")
call ExecuteFunc("DNj")
call ExecuteFunc("DNo")
call ExecuteFunc("DNt")
call ExecuteFunc("DNv")
call ExecuteFunc("DNx")
call ExecuteFunc("DN0")
call ExecuteFunc("DN2")
call ExecuteFunc("DN5")
call ExecuteFunc("DN7")
call ExecuteFunc("DOB")
call ExecuteFunc("Cvj")
call ExecuteFunc("DOE")
call ExecuteFunc("DOH")
call ExecuteFunc("DOK")
call ExecuteFunc("DOM")
call ExecuteFunc("DOR")
call ExecuteFunc("DOU")
call ExecuteFunc("DOX")
call ExecuteFunc("DOa")
call ExecuteFunc("DOd")
call ExecuteFunc("DiY")
call ExecuteFunc("Dia")
call ExecuteFunc("Did")
call ExecuteFunc("Dig")
call ExecuteFunc("Dij")
call ExecuteFunc("DWT")
call ExecuteFunc("DWW")
call ExecuteFunc("DWZ")
call ExecuteFunc("DMR")
call ExecuteFunc("CZh")
call ExecuteFunc("CZj")
call ExecuteFunc("CZl")
call ExecuteFunc("CZo")
call ExecuteFunc("DR8")
call ExecuteFunc("DTd")
call ExecuteFunc("DMZ")
call ExecuteFunc("DMc")
call ExecuteFunc("DMe")
call ExecuteFunc("DMh")
call ExecuteFunc("DMk")
call ExecuteFunc("DMn")
call ExecuteFunc("DMq")
call ExecuteFunc("DMt")
call ExecuteFunc("DMy")
call ExecuteFunc("DM1")
call ExecuteFunc("DM3")
call ExecuteFunc("DM7")
call ExecuteFunc("CGq")
call ExecuteFunc("B0e")
call ExecuteFunc("CDx")
call ExecuteFunc("CD0")
call ExecuteFunc("CD3")
call ExecuteFunc("CEs")
call ExecuteFunc("CDU")
call ExecuteFunc("CEv")
call ExecuteFunc("CEy")
call ExecuteFunc("CE1")
call ExecuteFunc("CE4")
call ExecuteFunc("CE7")
call ExecuteFunc("CFB")
call ExecuteFunc("CFE")
call ExecuteFunc("CFG")
call ExecuteFunc("CFJ")
call ExecuteFunc("CFM")
call ExecuteFunc("CFP")
call ExecuteFunc("CDX")
call ExecuteFunc("CDa")
call ExecuteFunc("CDd")
call ExecuteFunc("CDg")
call ExecuteFunc("CDj")
call ExecuteFunc("CDm")
call ExecuteFunc("CDo")
call ExecuteFunc("CDr")
call ExecuteFunc("CDu")
call ExecuteFunc("DCQ")
call ExecuteFunc("DCT")
call ExecuteFunc("B0h")
call ExecuteFunc("DHy")
call ExecuteFunc("DH1")
call ExecuteFunc("C0a")
call ExecuteFunc("C0d")
call ExecuteFunc("Byj")
call ExecuteFunc("Bym")
call ExecuteFunc("DBj")
call ExecuteFunc("DBm")
call ExecuteFunc("Byp")
call ExecuteFunc("C0u")
call ExecuteFunc("CF3")
call ExecuteFunc("CF6")
call ExecuteFunc("C3p")
call ExecuteFunc("C3r")
call ExecuteFunc("C3u")
call ExecuteFunc("C3x")
call ExecuteFunc("C30")
call ExecuteFunc("C33")
call ExecuteFunc("C36")
call ExecuteFunc("C39")
call ExecuteFunc("C4D")
call ExecuteFunc("C4G")
call ExecuteFunc("C4J")
call ExecuteFunc("C4M")
call ExecuteFunc("C4P")
call ExecuteFunc("C4R")
call ExecuteFunc("C4W")
call ExecuteFunc("C4a")
call ExecuteFunc("C0w")
call ExecuteFunc("C0y")
call ExecuteFunc("C01")
call ExecuteFunc("C04")
call ExecuteFunc("C07")
call ExecuteFunc("C1B")
call ExecuteFunc("C1E")
call ExecuteFunc("C1H")
call ExecuteFunc("C1K")
call ExecuteFunc("C1N")
call ExecuteFunc("C1P")
call ExecuteFunc("C7u")
call ExecuteFunc("C7z")
call ExecuteFunc("C71")
call ExecuteFunc("C1S")
call ExecuteFunc("CF9")
call ExecuteFunc("CGD")
call ExecuteFunc("CGG")
call ExecuteFunc("CGz")
call ExecuteFunc("CG2")
call ExecuteFunc("CG5")
call ExecuteFunc("C0K")
call ExecuteFunc("C0N")
call ExecuteFunc("C0P")
call ExecuteFunc("BnO")
call ExecuteFunc("BnR")
call ExecuteFunc("BnU")
call ExecuteFunc("BnX")
call ExecuteFunc("Bna")
call ExecuteFunc("Bnd")
call ExecuteFunc("Bng")
call ExecuteFunc("Bnj")
call ExecuteFunc("Bnm")
call ExecuteFunc("Bnp")
call ExecuteFunc("Bns")
call ExecuteFunc("Bnv")
call ExecuteFunc("Bny")
call ExecuteFunc("Bn1")
call ExecuteFunc("Bn4")
call ExecuteFunc("C2v")
call ExecuteFunc("BoR")
call ExecuteFunc("BoU")
call ExecuteFunc("Cob")
call ExecuteFunc("Coe")
call ExecuteFunc("Coh")
call ExecuteFunc("Cok")
call ExecuteFunc("Con")
call ExecuteFunc("Coq")
call ExecuteFunc("Cou")
call ExecuteFunc("Cox")
call ExecuteFunc("Co0")
call ExecuteFunc("Co3")
call ExecuteFunc("Co5")
call ExecuteFunc("Co7")
call ExecuteFunc("CpB")
call ExecuteFunc("CpE")
call ExecuteFunc("CoY")
endfunction
function Bmh takes nothing returns nothing
set jc=CreateTrigger()
call TriggerRegisterTimerEventSingle(jc,5.)
call TriggerAddAction(jc,function Bmg)
endfunction
function Bmi takes nothing returns nothing
call ExecuteFunc("CCS")
call ExecuteFunc("CCV")
call ExecuteFunc("CCY")
call ExecuteFunc("CCb")
call ExecuteFunc("CCe")
call ExecuteFunc("CCg")
call ExecuteFunc("CCl")
call ExecuteFunc("CCo")
call ExecuteFunc("CCr")
call ExecuteFunc("CCu")
call ExecuteFunc("CCx")
call ExecuteFunc("CCz")
call ExecuteFunc("CC2")
call ExecuteFunc("CC4")
call ExecuteFunc("CC7")
call ExecuteFunc("CC9")
call ExecuteFunc("CDF")
call ExecuteFunc("CDI")
call ExecuteFunc("CDL")
call ExecuteFunc("CDO")
call ExecuteFunc("CDR")
call ExecuteFunc("CD6")
call ExecuteFunc("CD9")
call ExecuteFunc("CED")
call ExecuteFunc("CEG")
call ExecuteFunc("CEJ")
call ExecuteFunc("CEL")
call ExecuteFunc("CEO")
call ExecuteFunc("CER")
call ExecuteFunc("CQj")
call ExecuteFunc("CQl")
call ExecuteFunc("CQq")
call ExecuteFunc("CQu")
call ExecuteFunc("CWM")
call ExecuteFunc("CWP")
call ExecuteFunc("CWR")
call ExecuteFunc("CWV")
call ExecuteFunc("CWZ")
call ExecuteFunc("CWb")
call ExecuteFunc("CWe")
call ExecuteFunc("CYm")
call ExecuteFunc("CZr")
call ExecuteFunc("CZu")
call ExecuteFunc("CZw")
call ExecuteFunc("CZz")
call ExecuteFunc("C0B")
call ExecuteFunc("C5w")
call ExecuteFunc("C5z")
call ExecuteFunc("B3f")
call ExecuteFunc("C2p")
call ExecuteFunc("Ccg")
call ExecuteFunc("C2y")
call ExecuteFunc("C21")
call ExecuteFunc("C24")
call ExecuteFunc("C28")
call ExecuteFunc("C3B")
call ExecuteFunc("Cal")
call ExecuteFunc("Can")
call ExecuteFunc("Caq")
call ExecuteFunc("Cax")
call ExecuteFunc("Caz")
call ExecuteFunc("Ca2")
call ExecuteFunc("Ca5")
call ExecuteFunc("Ca8")
call ExecuteFunc("CbB")
call ExecuteFunc("CbD")
call ExecuteFunc("CbF")
call ExecuteFunc("CbI")
call ExecuteFunc("Cdz")
call ExecuteFunc("Cd3")
call ExecuteFunc("CeJ")
call ExecuteFunc("CeM")
call ExecuteFunc("CeQ")
call ExecuteFunc("CeU")
call ExecuteFunc("CeX")
call ExecuteFunc("Cef")
call ExecuteFunc("Cei")
call ExecuteFunc("Cer")
call ExecuteFunc("Ce0")
call ExecuteFunc("Ce3")
call ExecuteFunc("Ce6")
call ExecuteFunc("Ce9")
call ExecuteFunc("CfD")
call ExecuteFunc("CfG")
call ExecuteFunc("BoD")
call ExecuteFunc("BoF")
call ExecuteFunc("BoI")
call ExecuteFunc("BoL")
call ExecuteFunc("CfN")
call ExecuteFunc("CfS")
call ExecuteFunc("CfW")
call ExecuteFunc("CfZ")
call ExecuteFunc("B1g")
call ExecuteFunc("B1l")
call ExecuteFunc("Cfc")
call ExecuteFunc("Cff")
call ExecuteFunc("Cfi")
call ExecuteFunc("ClY")
call ExecuteFunc("Clc")
call ExecuteFunc("Clf")
call ExecuteFunc("Cll")
call ExecuteFunc("Clo")
call ExecuteFunc("Cls")
call ExecuteFunc("Clv")
call ExecuteFunc("Cly")
call ExecuteFunc("Cl2")
call ExecuteFunc("Cl6")
call ExecuteFunc("Cl9")
call ExecuteFunc("CmK")
call ExecuteFunc("CmD")
call ExecuteFunc("CmN")
call ExecuteFunc("CmH")
call ExecuteFunc("CmQ")
call ExecuteFunc("CmT")
call ExecuteFunc("CmY")
call ExecuteFunc("Cmb")
call ExecuteFunc("Cme")
call ExecuteFunc("Cmg")
call ExecuteFunc("Cmj")
call ExecuteFunc("Cmm")
call ExecuteFunc("Cmp")
call ExecuteFunc("Cmr")
call ExecuteFunc("Cmt")
call ExecuteFunc("Cmw")
call ExecuteFunc("Cmz")
call ExecuteFunc("Cel")
call ExecuteFunc("Ceo")
call ExecuteFunc("BoX")
call ExecuteFunc("Boa")
call ExecuteFunc("Bod")
call ExecuteFunc("Bog")
call ExecuteFunc("Boj")
call ExecuteFunc("Bom")
call ExecuteFunc("BoO")
call ExecuteFunc("Cdw")
call ExecuteFunc("BvE")
call ExecuteFunc("DWl")
call ExecuteFunc("CZ6")
call ExecuteFunc("CZ9")
call ExecuteFunc("CaE")
call ExecuteFunc("CaJ")
call ExecuteFunc("CaL")
call ExecuteFunc("CMx")
call ExecuteFunc("C1b")
call ExecuteFunc("C1e")
call ExecuteFunc("C1h")
call ExecuteFunc("C1j")
call ExecuteFunc("C1m")
call ExecuteFunc("C1p")
call ExecuteFunc("C1u")
call ExecuteFunc("C1w")
call ExecuteFunc("C1z")
call ExecuteFunc("C12")
call ExecuteFunc("C15")
call ExecuteFunc("Bop")
call ExecuteFunc("Bos")
call ExecuteFunc("DSB")
call ExecuteFunc("Bqn")
call ExecuteFunc("Bqq")
call ExecuteFunc("Bqt")
call ExecuteFunc("Bqw")
call ExecuteFunc("C18")
call ExecuteFunc("C0r")
call ExecuteFunc("C2B")
call ExecuteFunc("C1V")
call ExecuteFunc("ClS")
call ExecuteFunc("ClV")
call ExecuteFunc("CPC")
call ExecuteFunc("CPF")
call ExecuteFunc("CPI")
call ExecuteFunc("Bov")
call ExecuteFunc("Boy")
call ExecuteFunc("BrO")
call ExecuteFunc("BrR")
call ExecuteFunc("BpK")
call ExecuteFunc("BpN")
call ExecuteFunc("BpQ")
call ExecuteFunc("BpT")
call ExecuteFunc("BqD")
call ExecuteFunc("BqG")
call ExecuteFunc("BqJ")
call ExecuteFunc("BqM")
call ExecuteFunc("BsH")
call ExecuteFunc("BsK")
call ExecuteFunc("BsN")
call ExecuteFunc("BsQ")
call ExecuteFunc("BsT")
call ExecuteFunc("BsW")
call ExecuteFunc("BsZ")
call ExecuteFunc("Bsc")
call ExecuteFunc("Bsf")
call ExecuteFunc("Bsi")
call ExecuteFunc("Br4")
call ExecuteFunc("Br7")
call ExecuteFunc("BsB")
call ExecuteFunc("BsE")
call ExecuteFunc("Bsl")
call ExecuteFunc("Bso")
call ExecuteFunc("Bsr")
call ExecuteFunc("Bsu")
call ExecuteFunc("Bsx")
call ExecuteFunc("Bs0")
call ExecuteFunc("Bs3")
call ExecuteFunc("Bs6")
call ExecuteFunc("Bs9")
call ExecuteFunc("BtD")
call ExecuteFunc("BtG")
call ExecuteFunc("BtJ")
call ExecuteFunc("BrU")
call ExecuteFunc("BrX")
call ExecuteFunc("Bra")
call ExecuteFunc("Brd")
call ExecuteFunc("BtM")
call ExecuteFunc("BtP")
call ExecuteFunc("BtS")
call ExecuteFunc("BtV")
call ExecuteFunc("BtY")
call ExecuteFunc("Btb")
call ExecuteFunc("Bte")
call ExecuteFunc("Bth")
call ExecuteFunc("Btk")
call ExecuteFunc("Btn")
call ExecuteFunc("Bqz")
call ExecuteFunc("Bq2")
call ExecuteFunc("Btq")
call ExecuteFunc("Btt")
call ExecuteFunc("Btw")
call ExecuteFunc("Btz")
call ExecuteFunc("BqP")
call ExecuteFunc("BqS")
call ExecuteFunc("Bqh")
call ExecuteFunc("Bqk")
call ExecuteFunc("Bt2")
call ExecuteFunc("Bt5")
call ExecuteFunc("Bt8")
call ExecuteFunc("BuC")
call ExecuteFunc("Bq5")
call ExecuteFunc("Bq8")
call ExecuteFunc("BrC")
call ExecuteFunc("BrF")
call ExecuteFunc("BpW")
call ExecuteFunc("BpZ")
call ExecuteFunc("Bpc")
call ExecuteFunc("Bpf")
call ExecuteFunc("Bpi")
call ExecuteFunc("Bpl")
call ExecuteFunc("Bpo")
call ExecuteFunc("Bpr")
call ExecuteFunc("BqV")
call ExecuteFunc("BqY")
call ExecuteFunc("Bpu")
call ExecuteFunc("Bpx")
call ExecuteFunc("Bqb")
call ExecuteFunc("Bqe")
call ExecuteFunc("BuF")
call ExecuteFunc("BuI")
call ExecuteFunc("BuL")
call ExecuteFunc("BuO")
call ExecuteFunc("BuR")
call ExecuteFunc("BuU")
call ExecuteFunc("Brg")
call ExecuteFunc("Brj")
call ExecuteFunc("BuX")
call ExecuteFunc("Bua")
call ExecuteFunc("BrI")
call ExecuteFunc("BrL")
call ExecuteFunc("B1S")
call ExecuteFunc("Brm")
call ExecuteFunc("Brp")
call ExecuteFunc("B1V")
call ExecuteFunc("B1X")
call ExecuteFunc("B1a")
call ExecuteFunc("B1d")
call ExecuteFunc("Brs")
call ExecuteFunc("Brv")
call ExecuteFunc("B1C")
call ExecuteFunc("B1F")
call ExecuteFunc("B1I")
call ExecuteFunc("B1K")
call ExecuteFunc("B1P")
call ExecuteFunc("CPL")
call ExecuteFunc("Bp6")
call ExecuteFunc("Bp9")
call ExecuteFunc("CPO")
call ExecuteFunc("Bo1")
call ExecuteFunc("Bo4")
call ExecuteFunc("B0k")
call ExecuteFunc("B0n")
call ExecuteFunc("B0q")
call ExecuteFunc("B0s")
call ExecuteFunc("B0v")
call ExecuteFunc("B0x")
call ExecuteFunc("Bp0")
call ExecuteFunc("Bp3")
call ExecuteFunc("Bud")
call ExecuteFunc("Bug")
call ExecuteFunc("Bup")
call ExecuteFunc("Bus")
call ExecuteFunc("Buv")
call ExecuteFunc("Buy")
call ExecuteFunc("Bu1")
call ExecuteFunc("Bu4")
call ExecuteFunc("Bu7")
call ExecuteFunc("BvB")
call ExecuteFunc("B00")
call ExecuteFunc("B03")
call ExecuteFunc("B05")
call ExecuteFunc("B08")
call ExecuteFunc("CPR")
call ExecuteFunc("Bo7")
call ExecuteFunc("BpB")
call ExecuteFunc("Bmt")
call ExecuteFunc("Cq8")
call ExecuteFunc("CrC")
call ExecuteFunc("CrE")
call ExecuteFunc("CrH")
call ExecuteFunc("CrK")
call ExecuteFunc("CrN")
call ExecuteFunc("CrQ")
call ExecuteFunc("CrT")
call ExecuteFunc("CrW")
call ExecuteFunc("CrZ")
call ExecuteFunc("Cre")
call ExecuteFunc("DWc")
call ExecuteFunc("DWf")
call ExecuteFunc("DWi")
call ExecuteFunc("Crg")
call ExecuteFunc("Crj")
call ExecuteFunc("Cr7")
call ExecuteFunc("CsB")
call ExecuteFunc("Csh")
call ExecuteFunc("CsE")
call ExecuteFunc("CsH")
call ExecuteFunc("CsK")
call ExecuteFunc("Crm")
call ExecuteFunc("Crp")
call ExecuteFunc("Crs")
call ExecuteFunc("Crv")
call ExecuteFunc("Cry")
call ExecuteFunc("Cr1")
call ExecuteFunc("Cr4")
call ExecuteFunc("CsN")
call ExecuteFunc("CG8")
call ExecuteFunc("CHC")
call ExecuteFunc("Cqc")
call ExecuteFunc("Cti")
call ExecuteFunc("Ctl")
call ExecuteFunc("Cto")
call ExecuteFunc("CGJ")
call ExecuteFunc("CGM")
call ExecuteFunc("CGP")
call ExecuteFunc("CGS")
call ExecuteFunc("C9e")
call ExecuteFunc("C9h")
call ExecuteFunc("CHF")
call ExecuteFunc("CGV")
call ExecuteFunc("CGY")
call ExecuteFunc("CGb")
call ExecuteFunc("CHI")
call ExecuteFunc("CHL")
call ExecuteFunc("CHO")
call ExecuteFunc("CHR")
call ExecuteFunc("CHU")
call ExecuteFunc("C4p")
call ExecuteFunc("C4r")
call ExecuteFunc("C4u")
call ExecuteFunc("C4x")
call ExecuteFunc("C40")
call ExecuteFunc("CsQ")
call ExecuteFunc("CsT")
call ExecuteFunc("Csj")
call ExecuteFunc("CsW")
call ExecuteFunc("CsZ")
call ExecuteFunc("Csc")
call ExecuteFunc("Csf")
call ExecuteFunc("Cm2")
call ExecuteFunc("Cm5")
call ExecuteFunc("Cm8")
call ExecuteFunc("CNI")
call ExecuteFunc("CNL")
call ExecuteFunc("CnC")
call ExecuteFunc("CnF")
call ExecuteFunc("CnI")
call ExecuteFunc("CnL")
call ExecuteFunc("CnO")
call ExecuteFunc("CnR")
call ExecuteFunc("CnU")
call ExecuteFunc("Cnc")
call ExecuteFunc("Cno")
call ExecuteFunc("Cnr")
call ExecuteFunc("Cnu")
call ExecuteFunc("Cnx")
call ExecuteFunc("Cnz")
call ExecuteFunc("Cn6")
call ExecuteFunc("Cn9")
call ExecuteFunc("CoD")
call ExecuteFunc("Cnf")
call ExecuteFunc("Cni")
call ExecuteFunc("Cnl")
call ExecuteFunc("B68")
call ExecuteFunc("CYp")
call ExecuteFunc("CYs")
call ExecuteFunc("Cfl")
call ExecuteFunc("Cfo")
call ExecuteFunc("Cfq")
call ExecuteFunc("C1Y")
call ExecuteFunc("C74")
call ExecuteFunc("C2E")
call ExecuteFunc("C76")
call ExecuteFunc("C78")
call ExecuteFunc("C8B")
call ExecuteFunc("C8E")
call ExecuteFunc("Ctr")
call ExecuteFunc("Ctu")
call ExecuteFunc("C8H")
call ExecuteFunc("C8K")
call ExecuteFunc("C8M")
call ExecuteFunc("C8O")
call ExecuteFunc("C8Q")
call ExecuteFunc("C8S")
call ExecuteFunc("C8Z")
call ExecuteFunc("C8c")
call ExecuteFunc("C8e")
call ExecuteFunc("DhZ")
call ExecuteFunc("C8h")
call ExecuteFunc("C8k")
call ExecuteFunc("Dhc")
call ExecuteFunc("CHZ")
call ExecuteFunc("Dbh")
call ExecuteFunc("Csv")
call ExecuteFunc("Cis")
call ExecuteFunc("Civ")
call ExecuteFunc("Ciy")
call ExecuteFunc("Ci1")
call ExecuteFunc("Ci4")
call ExecuteFunc("Ci7")
call ExecuteFunc("Cip")
call ExecuteFunc("CjB")
call ExecuteFunc("CjE")
call ExecuteFunc("CiN")
call ExecuteFunc("CiQ")
call ExecuteFunc("C4d")
call ExecuteFunc("Cim")
call ExecuteFunc("C4g")
call ExecuteFunc("CjH")
call ExecuteFunc("CjK")
call ExecuteFunc("DZB")
call ExecuteFunc("CjN")
call ExecuteFunc("CjQ")
call ExecuteFunc("Cvm")
call ExecuteFunc("Cvp")
call ExecuteFunc("Cvs")
call ExecuteFunc("Cvv")
call ExecuteFunc("Cvy")
call ExecuteFunc("Cv1")
call ExecuteFunc("Cv4")
call ExecuteFunc("Cv7")
call ExecuteFunc("CwB")
call ExecuteFunc("CwE")
call ExecuteFunc("CwH")
call ExecuteFunc("CwK")
call ExecuteFunc("CwN")
call ExecuteFunc("CwQ")
call ExecuteFunc("CwT")
call ExecuteFunc("CwW")
call ExecuteFunc("CwZ")
call ExecuteFunc("Cwc")
call ExecuteFunc("Cwf")
call ExecuteFunc("Cwi")
call ExecuteFunc("Cwl")
call ExecuteFunc("Cwo")
call ExecuteFunc("Cwr")
call ExecuteFunc("Cwu")
call ExecuteFunc("Cwx")
call ExecuteFunc("Cw0")
call ExecuteFunc("Cw3")
call ExecuteFunc("Cw6")
call ExecuteFunc("Cw9")
call ExecuteFunc("CxD")
call ExecuteFunc("CxG")
call ExecuteFunc("CxJ")
call ExecuteFunc("CxM")
call ExecuteFunc("CxP")
call ExecuteFunc("CxS")
call ExecuteFunc("CxV")
call ExecuteFunc("CxY")
call ExecuteFunc("Cxb")
call ExecuteFunc("Cxe")
call ExecuteFunc("Cxh")
call ExecuteFunc("Cxk")
call ExecuteFunc("Cxn")
call ExecuteFunc("Cxq")
call ExecuteFunc("Cxt")
call ExecuteFunc("Cxw")
call ExecuteFunc("Cxz")
call ExecuteFunc("Cx2")
call ExecuteFunc("Cx5")
call ExecuteFunc("C4j")
call ExecuteFunc("C4m")
call ExecuteFunc("DDc")
call ExecuteFunc("DDf")
call ExecuteFunc("BpE")
call ExecuteFunc("BpH")
call ExecuteFunc("Bry")
call ExecuteFunc("Br1")
call ExecuteFunc("B_l")
call ExecuteFunc("C3E")
call ExecuteFunc("C3H")
call ExecuteFunc("C3J")
call ExecuteFunc("C3M")
call ExecuteFunc("C3P")
call ExecuteFunc("B_o")
call ExecuteFunc("CJt")
call ExecuteFunc("C3S")
call ExecuteFunc("C3V")
call ExecuteFunc("C3Y")
call ExecuteFunc("C3b")
call ExecuteFunc("C3d")
call ExecuteFunc("C3g")
call ExecuteFunc("C3j")
call ExecuteFunc("C3m")
call ExecuteFunc("CiX")
call ExecuteFunc("Cia")
call ExecuteFunc("Cid")
call ExecuteFunc("Cig")
call ExecuteFunc("Cij")
call ExecuteFunc("ChR")
call ExecuteFunc("ChU")
call ExecuteFunc("ChX")
call ExecuteFunc("Cha")
call ExecuteFunc("Chr")
call ExecuteFunc("Chu")
call ExecuteFunc("Chx")
call ExecuteFunc("Ch0")
call ExecuteFunc("Ch4")
call ExecuteFunc("Ch7")
call ExecuteFunc("Ch9")
call ExecuteFunc("CiK")
call ExecuteFunc("Chd")
call ExecuteFunc("Chg")
call ExecuteFunc("Chj")
call ExecuteFunc("Chm")
call ExecuteFunc("Cho")
call ExecuteFunc("ChD")
call ExecuteFunc("ChG")
call ExecuteFunc("ChJ")
call ExecuteFunc("ChL")
call ExecuteFunc("ChO")
call ExecuteFunc("Cg2")
call ExecuteFunc("Cg4")
call ExecuteFunc("Cg9")
call ExecuteFunc("Cgx")
call ExecuteFunc("Cgz")
call ExecuteFunc("Cgk")
call ExecuteFunc("Cgn")
call ExecuteFunc("Cgp")
call ExecuteFunc("Cgu")
call ExecuteFunc("Cgb")
call ExecuteFunc("Cge")
call ExecuteFunc("Cgh")
call ExecuteFunc("Cgr")
call ExecuteFunc("Csm")
call ExecuteFunc("Csp")
call ExecuteFunc("Css")
call ExecuteFunc("CoG")
call ExecuteFunc("CoJ")
call ExecuteFunc("CoL")
call ExecuteFunc("CoQ")
call ExecuteFunc("CoV")
call ExecuteFunc("Cjl")
call ExecuteFunc("Cjn")
call ExecuteFunc("CgY")
call ExecuteFunc("Cjq")
call ExecuteFunc("Cjt")
call ExecuteFunc("Cjw")
call ExecuteFunc("Cjz")
call ExecuteFunc("Cj2")
call ExecuteFunc("Cj5")
call ExecuteFunc("Cj8")
call ExecuteFunc("CkC")
call ExecuteFunc("CkF")
call ExecuteFunc("CkI")
call ExecuteFunc("CkL")
call ExecuteFunc("CkO")
call ExecuteFunc("CkR")
call ExecuteFunc("CkU")
call ExecuteFunc("CkX")
call ExecuteFunc("CkZ")
call ExecuteFunc("Ckc")
call ExecuteFunc("Ckx")
call ExecuteFunc("Ck0")
call ExecuteFunc("Ck3")
call ExecuteFunc("Ck6")
call ExecuteFunc("Ck9")
call ExecuteFunc("ClD")
call ExecuteFunc("ClG")
call ExecuteFunc("ClJ")
call ExecuteFunc("ClM")
call ExecuteFunc("ClP")
call ExecuteFunc("Ckf")
call ExecuteFunc("Cki")
call ExecuteFunc("Ckl")
call ExecuteFunc("Cko")
call ExecuteFunc("Ckr")
call ExecuteFunc("Cku")
call ExecuteFunc("Cjf")
call ExecuteFunc("Cji")
call ExecuteFunc("CjZ")
call ExecuteFunc("Cjc")
call ExecuteFunc("CjT")
call ExecuteFunc("CjW")
call ExecuteFunc("CgO")
call ExecuteFunc("CgT")
call ExecuteFunc("CgV")
call ExecuteFunc("CgB")
call ExecuteFunc("CgE")
call ExecuteFunc("CgL")
call ExecuteFunc("Cft")
call ExecuteFunc("Cfx")
call ExecuteFunc("Cf0")
call ExecuteFunc("Cf3")
call ExecuteFunc("Cf7")
call ExecuteFunc("CqH")
call ExecuteFunc("CqJ")
call ExecuteFunc("CqM")
call ExecuteFunc("CqR")
call ExecuteFunc("CqU")
call ExecuteFunc("CqX")
call ExecuteFunc("CqZ")
call ExecuteFunc("Cqf")
call ExecuteFunc("Cqi")
call ExecuteFunc("Cqk")
call ExecuteFunc("Cqn")
call ExecuteFunc("Cqq")
call ExecuteFunc("Cqt")
call ExecuteFunc("Cqw")
call ExecuteFunc("Cqz")
call ExecuteFunc("Cq2")
call ExecuteFunc("Cq5")
call ExecuteFunc("Cpm")
call ExecuteFunc("Cpp")
call ExecuteFunc("Cps")
call ExecuteFunc("Cpv")
call ExecuteFunc("Cpy")
call ExecuteFunc("Cp1")
call ExecuteFunc("Cp3")
call ExecuteFunc("Cp6")
call ExecuteFunc("Cp9")
call ExecuteFunc("CqE")
call ExecuteFunc("Cpj")
call ExecuteFunc("Cph")
call ExecuteFunc("CpH")
call ExecuteFunc("CpK")
call ExecuteFunc("CpN")
call ExecuteFunc("CpR")
call ExecuteFunc("CpW")
call ExecuteFunc("Cpb")
call ExecuteFunc("Cpe")
call ExecuteFunc("CnX")
call ExecuteFunc("CnZ")
call ExecuteFunc("B20")
endfunction
function Bmj takes nothing returns nothing
set oj=CreateTrigger()
call TriggerRegisterTimerEventSingle(oj,6.)
call TriggerAddAction(oj,function Bmi)
endfunction
function Bmk takes nothing returns nothing
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)+300.,0)
endfunction
function Bml takes nothing returns nothing
set BCZ=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BCZ,Player(0),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(1),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(2),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(3),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(4),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(5),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(6),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(7),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(8),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(9),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(10),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(11),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(12),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(13),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(14),"+",true)
call TriggerRegisterPlayerChatEvent(BCZ,Player(15),"+",true)
call TriggerAddAction(BCZ,function Bmk)
endfunction
function Bmm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Bmn takes nothing returns nothing
if GetHeroLevel(GetTriggerUnit())==1 or GetHeroLevel(GetTriggerUnit())==2 or GetHeroLevel(GetTriggerUnit())==3 or GetHeroLevel(GetTriggerUnit())==4 or GetHeroLevel(GetTriggerUnit())==6 or GetHeroLevel(GetTriggerUnit())==8 or GetHeroLevel(GetTriggerUnit())==10 or GetHeroLevel(GetTriggerUnit())==11 or GetHeroLevel(GetTriggerUnit())==12 or GetHeroLevel(GetTriggerUnit())==13 or GetHeroLevel(GetTriggerUnit())==14 or GetHeroLevel(GetTriggerUnit())==16 or GetHeroLevel(GetTriggerUnit())==18 or GetHeroLevel(GetTriggerUnit())==20 or GetHeroLevel(GetTriggerUnit())==21 or GetHeroLevel(GetTriggerUnit())==22 or GetHeroLevel(GetTriggerUnit())==23 or GetHeroLevel(GetTriggerUnit())==24 or GetHeroLevel(GetTriggerUnit())==26 or GetHeroLevel(GetTriggerUnit())==28 or GetHeroLevel(GetTriggerUnit())==30 or GetHeroLevel(GetTriggerUnit())==31 or GetHeroLevel(GetTriggerUnit())==32 or GetHeroLevel(GetTriggerUnit())==33 or GetHeroLevel(GetTriggerUnit())==34 or GetHeroLevel(GetTriggerUnit())==36 or GetHeroLevel(GetTriggerUnit())==38 or GetHeroLevel(GetTriggerUnit())==40 or GetHeroLevel(GetTriggerUnit())==41 or GetHeroLevel(GetTriggerUnit())==42 or GetHeroLevel(GetTriggerUnit())==43 or GetHeroLevel(GetTriggerUnit())==44 or GetHeroLevel(GetTriggerUnit())==45 or GetHeroLevel(GetTriggerUnit())==46 or GetHeroLevel(GetTriggerUnit())==47 or GetHeroLevel(GetTriggerUnit())==48 or GetHeroLevel(GetTriggerUnit())==49 or GetHeroLevel(GetTriggerUnit())==50 or GetHeroLevel(GetTriggerUnit())>50 then
call DoNothing()
else
call UnitModifySkillPoints(GetTriggerUnit(),-1)
endif
endfunction
function Bmo takes nothing returns nothing
set BCa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCa,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BCa,Condition(function Bmm))
call TriggerAddAction(BCa,function Bmn)
endfunction
function Bmp takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"游戏流程目前版本到此结束，180秒后结束游戏")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"游戏流程目前版本到此结束，180秒后结束游戏")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"游戏流程目前版本到此结束，180秒后结束游戏")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"游戏流程目前版本到此结束，180秒后结束游戏")
call Biy(180.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CustomVictoryBJ(Player(0),true,true)
call CustomVictoryBJ(Player(1),true,true)
call CustomVictoryBJ(Player(2),true,true)
call CustomVictoryBJ(Player(3),true,true)
call CustomVictoryBJ(Player(4),true,true)
call CustomVictoryBJ(Player(5),true,true)
call CustomVictoryBJ(Player(6),true,true)
call CustomVictoryBJ(Player(7),true,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Bmq takes nothing returns nothing
set BCb=CreateTrigger()
call TriggerRegisterUnitEvent(BCb,Xu,EVENT_UNIT_DEATH)
call TriggerAddAction(BCb,function Bmp)
endfunction
function Bmr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Bms takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),6.,"主线任务：抵达月精灵圣都-玛嘉达斯，探究封印实情")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"主要任务","抵达月精灵圣都-玛嘉达斯，探究封印实情","ReplaceableTextures\\CommandButtons\\BTNHuntersHall.blp")
endfunction
function Bmt takes nothing returns nothing
set uz=CreateTrigger()
call Bi7(uz,SR)
call TriggerAddCondition(uz,Condition(function Bmr))
call TriggerAddAction(uz,function Bms)
endfunction
function Bmu takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Bmv takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ForGroupBJ(ei,function Bmu)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
if GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING then
set hF=hF+1
else
call DoNothing()
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"选择英雄时间结束")
call SetUnitState(U6,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,U6)+20000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(U6,100)
call SetUnitState(ZB,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,ZB)+20000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(ZB,100)
call SetUnitState(Wf,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Wf)+25000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(Wf,100)
call SetUnitState(XL,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,XL)+5000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(XL,100)
call SetUnitState(Wn,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Wn)+30000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(Wn,100)
call SetUnitState(VK,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,VK)+80000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(VK,100)
call SetUnitState(VJ,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,VJ)+65000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(VJ,100)
call SetUnitState(Xu,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Xu)+50000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(Xu,100)
call SetUnitState(YT,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,YT)+50000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(YT,100)
call SetUnitState(YU,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,YU)+50000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(YU,100)
call SetUnitState(Xv,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Xv)+50000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(Xv,100)
call SetUnitState(Xw,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Xw)+50000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(Xw,100)
call SetUnitState(aE,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,aE)+60000.*(I2R(hF)-1.)+0)
call SetUnitLifePercentBJ(aE,100)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Bmw takes nothing returns nothing
set i0=CreateTrigger()
call TriggerRegisterTimerEventSingle(i0,180.)
call TriggerAddAction(i0,function Bmv)
endfunction
function Bmx takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bmy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Bmz takes nothing returns nothing
set BCc=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCc,Player(0),true)
call TriggerAddCondition(BCc,Condition(function Bmx))
call TriggerAddAction(BCc,function Bmy)
endfunction
function Bm0 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bm1 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Bm2 takes nothing returns nothing
set BCe=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCe,Player(1),true)
call TriggerAddCondition(BCe,Condition(function Bm0))
call TriggerAddAction(BCe,function Bm1)
endfunction
function Bm3 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bm4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Bm5 takes nothing returns nothing
set BCf=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCf,Player(2),true)
call TriggerAddCondition(BCf,Condition(function Bm3))
call TriggerAddAction(BCf,function Bm4)
endfunction
function Bm6 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bm7 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Bm8 takes nothing returns nothing
set BCg=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCg,Player(3),true)
call TriggerAddCondition(BCg,Condition(function Bm6))
call TriggerAddAction(BCg,function Bm7)
endfunction
function Bm9 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BnC takes nothing returns nothing
set BCh=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCh,Player(4),true)
call TriggerAddCondition(BCh,Condition(function Bm9))
call TriggerAddAction(BCh,function BnB)
endfunction
function BnD takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnE takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BnF takes nothing returns nothing
set BCi=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCi,Player(5),true)
call TriggerAddCondition(BCi,Condition(function BnD))
call TriggerAddAction(BCi,function BnE)
endfunction
function BnG takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnH takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BnI takes nothing returns nothing
set BCj=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCj,Player(6),true)
call TriggerAddCondition(BCj,Condition(function BnG))
call TriggerAddAction(BCj,function BnH)
endfunction
function BnJ takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if BCd[GetPlayerId(GetTriggerPlayer())]==GetTriggerUnit() then
call DisableTrigger(GetTriggeringTrigger())
call GroupRemoveUnitSimple(GetTriggerUnit(),ei)
call GroupAddUnitSimple(GetTriggerUnit(),bJ)
call CreateNUnitsAtLoc(1,$6F303031,GetTriggerPlayer(),GetRectCenter(Rx),bj_UNIT_FACING)
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BF))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetRectCenter(BF),0)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
set BCd[GetPlayerId(GetTriggerPlayer())]=null
set gM[GetPlayerId(GetTriggerPlayer())]=10
set gN[GetPlayerId(GetTriggerPlayer())]=300.
else
set BCd[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCd[GetPlayerId(GetTriggerPlayer())]=null
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BnL takes nothing returns nothing
set BCk=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(BCk,Player(7),true)
call TriggerAddCondition(BCk,Condition(function BnJ))
call TriggerAddAction(BCk,function BnK)
endfunction
function BnM takes nothing returns boolean
return GetTriggerUnit()==Uc and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnN takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"红莲之子-妮雅娜
探索难度：极极极难
强度：根据个人探索完成度而定（探索完全则本作T0）
注：不建议新人玩家选择，建议在对游戏流程有基本了解再选择使用，拥有本图最丰富的个人支线以及个人物品探索。")
endfunction
function BnO takes nothing returns nothing
set nz=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(nz,Player(15),true)
call TriggerAddCondition(nz,Condition(function BnM))
call TriggerAddAction(nz,function BnN)
endfunction
function BnP takes nothing returns boolean
return GetTriggerUnit()==Ud and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnQ takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"大圣裁者-西菲尔
探索难度：极难
强度：战士，AOE输出能力强
注：大圣裁者，擅长使用审判的力量惩戒敌人，能力全面，有着不少个人支线任务和个人物品探索。")
endfunction
function BnR takes nothing returns nothing
set n0=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n0,Player(15),true)
call TriggerAddCondition(n0,Condition(function BnP))
call TriggerAddAction(n0,function BnQ)
endfunction
function BnS takes nothing returns boolean
return GetTriggerUnit()==Uj and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnT takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"莉尔娅-鹰眼
探索难度：稍难
强度：射手，灵活，单点物理输出强
注：月精灵一族大祭祀，是一名既有着不俗的单体输出并还十分灵活的射手，在月精灵一族的相关区域有较多的个人物品探索。")
endfunction
function BnU takes nothing returns nothing
set n1=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n1,Player(15),true)
call TriggerAddCondition(n1,Condition(function BnS))
call TriggerAddAction(n1,function BnT)
endfunction
function BnV takes nothing returns boolean
return GetTriggerUnit()==Ue and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnW takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"哈尔尼根-胡须
探索难度：正常
强度：坦克，控制                                     注：人族中矮人一脉的强者，有着不错的坦度和一定的控制能力")
endfunction
function BnX takes nothing returns nothing
set n2=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n2,Player(15),true)
call TriggerAddCondition(n2,Condition(function BnV))
call TriggerAddAction(n2,function BnW)
endfunction
function BnY takes nothing returns boolean
return GetTriggerUnit()==Uf and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function BnZ takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"莱昂纳
探索难度：稍难
强度：战士                                           
注：荒野猎手，为追求禁忌之力而冒险。")
endfunction
function Bna takes nothing returns nothing
set n3=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n3,Player(15),true)
call TriggerAddCondition(n3,Condition(function BnY))
call TriggerAddAction(n3,function BnZ)
endfunction
function Bnb takes nothing returns boolean
return GetTriggerUnit()==Ug and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bnc takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"罗米尔
探索难度：简单
强度：战士，输出
注：人族中一名步兵小队长，梦想是成为传闻中的驭龙骑士")
endfunction
function Bnd takes nothing returns nothing
set n4=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n4,Player(15),true)
call TriggerAddCondition(n4,Condition(function Bnb))
call TriggerAddAction(n4,function Bnc)
endfunction
function Bne takes nothing returns boolean
return GetTriggerUnit()==Uh and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bnf takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"艾布茹
探索难度：正常
强度：奶妈 
注：人族圣教城中一只不起眼的小牧师，有着不错的团队恢复能力。")
endfunction
function Bng takes nothing returns nothing
set n5=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n5,Player(15),true)
call TriggerAddCondition(n5,Condition(function Bne))
call TriggerAddAction(n5,function Bnf)
endfunction
function Bnh takes nothing returns boolean
return GetTriggerUnit()==Ui and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bni takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"筱芙娜-卡梅伦
探索难度：正常
强度：法师，召唤                                    注：海族的公主，不知因什么原因参与到了这次旅途，有着不错的法术输出能力")
endfunction
function Bnj takes nothing returns nothing
set n6=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n6,Player(15),true)
call TriggerAddCondition(n6,Condition(function Bnh))
call TriggerAddAction(n6,function Bni)
endfunction
function Bnk takes nothing returns boolean
return GetTriggerUnit()==ZI and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bnl takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"阿拉斯凯奇
探索难度：正常
强度：战士，灵活，物理输出
注：剑圣，为追求更高超的剑艺而踏上征程，有着灵活的身姿，运用镜像搭配技能将能打出不俗的物理输出。")
endfunction
function Bnm takes nothing returns nothing
set n7=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n7,Player(15),true)
call TriggerAddCondition(n7,Condition(function Bnk))
call TriggerAddAction(n7,function Bnl)
endfunction
function Bnn takes nothing returns boolean
return GetTriggerUnit()==ZJ and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bno takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"神奇的摩鲁尼
探索难度：简单
强度：辅助，肉盾，有一定治疗能力
注：一名老练的圣骑士，擅长保护队友和吸引火力，拥有不错的辅助能力")
endfunction
function Bnp takes nothing returns nothing
set n8=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n8,Player(15),true)
call TriggerAddCondition(n8,Condition(function Bnn))
call TriggerAddAction(n8,function Bno)
endfunction
function Bnq takes nothing returns boolean
return GetTriggerUnit()==ZK and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bnr takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"普通人
探索难度：大道万千
强度：？？？
注：不建议新手选择。")
endfunction
function Bns takes nothing returns nothing
set n9=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(n9,Player(15),true)
call TriggerAddCondition(n9,Condition(function Bnq))
call TriggerAddAction(n9,function Bnr)
endfunction
function Bnt takes nothing returns boolean
return GetTriggerUnit()==Zi and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bnu takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"莎妮
探索难度：难
强度：个人相关专属任务完成度而定
注：一只虚弱的小残魂。")
endfunction
function Bnv takes nothing returns nothing
set oB=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(oB,Player(15),true)
call TriggerAddCondition(oB,Condition(function Bnt))
call TriggerAddAction(oB,function Bnu)
endfunction
function Bnw takes nothing returns boolean
return GetTriggerUnit()==Z3 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bnx takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"海族武姬-赛琳娜
探索难度：难
强度：根据个人探索完成度而定
注：赛琳娜是海族巫女最坚实的后盾，为巫女的安全保驾护航。赛琳娜将逐渐揭开自己与水精灵之间的神秘联系，成为海族中最耀眼的战士。")
endfunction
function Bny takes nothing returns nothing
set oC=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(oC,Player(15),true)
call TriggerAddCondition(oC,Condition(function Bnw))
call TriggerAddAction(oC,function Bnx)
endfunction
function Bnz takes nothing returns boolean
return GetTriggerUnit()==aI and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bn0 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"时枪咏者-艾薇拉
探索难度：中等
强度：远程物理输出，熟悉的话战术灵活多样
注：时枪咏者掌握着操控时间流动的能力，在战斗中，时枪咏者能够利用时间的力量，创造出令人惊叹的战术和效果。")
endfunction
function Bn1 takes nothing returns nothing
set oD=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(oD,Player(15),true)
call TriggerAddCondition(oD,Condition(function Bnz))
call TriggerAddAction(oD,function Bn0)
endfunction
function Bn2 takes nothing returns boolean
return GetTriggerUnit()==aJ and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitInGroup(GetTriggerUnit(),ei)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)==0
endfunction
function Bn3 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"鱼护卫-奈卫德
探索难度：简单
强度：肉盾，控制
注：肉盾，控制")
endfunction
function Bn4 takes nothing returns nothing
set oE=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(oE,Player(15),true)
call TriggerAddCondition(oE,Condition(function Bn2))
call TriggerAddAction(oE,function Bn3)
endfunction
function Bn8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true
endfunction
function Bn9 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if gM[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=1 then
set gM[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gM[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"当前复活次数还剩余"+I2S(gM[GetPlayerId(GetTriggerPlayer())]))
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ReviveHeroLoc(GetTriggerUnit(),GetUnitLoc(GetTriggerUnit()),true)
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
call SetUnitManaPercentBJ(GetTriggerUnit(),100)
else
if gM[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<=0 then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"你已没有复活次数，请让队友到牧师处帮你复活")
else
call DoNothing()
endif
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BoB takes nothing returns nothing
set BCl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCl,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BCl,Condition(function Bn8))
call TriggerAddAction(BCl,function Bn9)
endfunction
function BoC takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"当前复活次数"+I2S(gM[GetPlayerId(GetTriggerPlayer())]))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"当前攻击间隔"+R2S(GetUnitStateSwap(ConvertUnitState(37),jO[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"当前攻击速度（最高为5）"+R2S(GetUnitStateSwap(ConvertUnitState(81),jO[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"物理伤害加成"+(R2S(100.*fF[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"物理暴击概率"+(R2S(100.*f5[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"物理暴伤加成（初始为150%）"+(R2S(150.+100.*f6[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"百分比护甲穿透数值（最高90%）"+(R2S(100.*ez[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"固定护甲穿透数值"+R2S(e3[GetPlayerId(GetTriggerPlayer())]))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"物理伤害吸血"+(R2S(100.*fI[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"法术伤害加成"+(R2S(100.*fE[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"法术暴击概率"+(R2S(100.*f7[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"法术暴伤加成（初始为150%）"+(R2S(150.+100.*f8[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"百分比法术穿透数值（最高50%）"+(R2S(100.*e8[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"固定法术穿透数值"+R2S(fC[GetPlayerId(GetTriggerPlayer())]))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"法术伤害吸血"+(R2S(100.*fJ[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"伤害闪避（最高为70%）"+(R2S(fK[GetPlayerId(GetTriggerPlayer())])+"%"))
endfunction
function BoD takes nothing returns nothing
set qg=CreateTrigger()
call TriggerRegisterPlayerChatEvent(qg,Player(0),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(1),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(2),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(3),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(4),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(5),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(6),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(7),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(8),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(9),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(10),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(11),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(12),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(13),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(14),"-sx",true)
call TriggerRegisterPlayerChatEvent(qg,Player(15),"-sx",true)
call TriggerAddAction(qg,function BoC)
endfunction
function BoE takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"魔抗（最高90%）"+(R2S(100.*gC[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"百分比伤害减免"+(R2S(100.*gF[GetPlayerId(GetTriggerPlayer())])+"%"))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"固定伤害减免"+R2S(gG[GetPlayerId(GetTriggerPlayer())]))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"当前移动速度（最高522）"+R2S(GetUnitMoveSpeed(jO[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"时枪咏者全技能伤害系数+"+R2S(ip[GetPlayerId(GetTriggerPlayer())]))
endfunction
function BoF takes nothing returns nothing
set qh=CreateTrigger()
call TriggerRegisterPlayerChatEvent(qh,Player(0),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(1),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(2),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(3),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(4),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(5),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(6),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(7),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(8),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(9),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(10),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(11),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(12),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(13),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(14),"-sx2",true)
call TriggerRegisterPlayerChatEvent(qh,Player(15),"-sx2",true)
call TriggerAddAction(qh,function BoE)
endfunction
function BoG takes nothing returns boolean
return (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_HERO==ConvertAttackType(EXGetEventDamageData(qk))==true) or (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_CHAOS==ConvertAttackType(EXGetEventDamageData(qk))==true) or (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_MELEE==ConvertAttackType(EXGetEventDamageData(qk))==true) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and IsUnitInGroup(GetEventDamageSource(),bJ)==true
endfunction
function BoH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set ex=GetUnitStateSwap(ConvertUnitState(32),GetTriggerUnit())
set ey=GetEventDamage()
if ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]>.9 then
set e0=ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
set ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=.9
if ex>=0. then
set e1=ey/(1.-(.02*ex/(.02*ex+1.)+0)+0)+0
set e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=ex*(1.-ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])-e3[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
if e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=0. then
if GetRandomReal(0,1.)<f5[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]/(1.+.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]))*(1.5+f6[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ("物爆！"+R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0.,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
set ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e0
else
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]/(1.+.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]))+0
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0.,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
set ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e0
endif
else
if GetRandomReal(0,1.)<f5[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(2.-Pow(.98,RAbsBJ(e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])))*(1.5+f6[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ("物爆！"+R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
set ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e0
else
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(2.-Pow(.98,RAbsBJ(e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])))+0
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
set ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e0
endif
endif
else
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(GetEventDamage()*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(GetEventDamage()),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
set ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e0
endif
else
if ex>=0. then
set e1=ey/(1.-(.02*ex/(.02*ex+1.)+0)+0)+0
set e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=ex*(1.-ez[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])-e3[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
if e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=0. then
if GetRandomReal(0,1)<f5[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]/(1.+.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]))*(1.5+f6[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ("物爆！"+R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]/(1.+.02*e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]))+0
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0.,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
else
if GetRandomReal(0,1)<f5[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(2.-Pow(.98,RAbsBJ(e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])))*(1.5+f6[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ("物爆！"+R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
set e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e1*(1.+fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(2.-Pow(.98,RAbsBJ(e2[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])))+0
call EXSetEventDamage(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(e4[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
else
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(GetEventDamage()*fI[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(GetEventDamage()),GetTriggerUnit(),0,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BoI takes nothing returns nothing
set qi=CreateTrigger()
call Bi3(qi)
call TriggerAddCondition(qi,Condition(function BoG))
call TriggerAddAction(qi,function BoH)
endfunction
function BoJ takes nothing returns boolean
return (DAMAGE_TYPE_ENHANCED==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_NORMAL==ConvertAttackType(EXGetEventDamageData(qk))==true) or (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_MAGIC==ConvertAttackType(EXGetEventDamageData(qk))==true) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and IsUnitInGroup(GetEventDamageSource(),bJ)==true
endfunction
function BoK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set e5=GetEventDamage()
set e6=BfX(GetTriggerUnit(),$41303351,1,109)+BfX(GetTriggerUnit(),$41303534,1,109)+(BfX(GetTriggerUnit(),$41303556,1,109)+BfX(GetTriggerUnit(),$41303846,1,109)+(BfX(GetTriggerUnit(),$41304D54,1,109)+BfX(GetTriggerUnit(),$41303942,1,109)+BfX(GetTriggerUnit(),$41304D53,1,109)))+(BfX(GetTriggerUnit(),$41305056,1,109)+BfX(GetTriggerUnit(),$41305057,1,109)+BfX(GetTriggerUnit(),$41305058,1,109))+0
set e7=e5/(1.-e6)+0
if e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]>.5 then
if GetRandomReal(0,1)<f7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
set e9=e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
set e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=.5
set fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=0.+(e6-e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]-fC[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*(.01*.01))+0
set fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e7*(1.+fE[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.5+f8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
call EXSetEventDamage(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fJ[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
set e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e9
call CreateTextTagUnitBJ("法爆！"+R2S(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),125.,10.,0.,0.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
set e9=e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
set e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=.5
set fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=0.+(e6-e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]-fC[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*(.01*.01))+0
set fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e7*(1.+fE[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])+0
call EXSetEventDamage(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fJ[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
set e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e9
call CreateTextTagUnitBJ(R2S(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),125.,10.,0.,0.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
else
if GetRandomReal(0,1)<f7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
set fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=0.+(e6-e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]-fC[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*(.01*.01))+0
set fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e7*(1.+fE[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.5+f8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
call EXSetEventDamage(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fJ[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ("法爆！"+R2S(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),125.,10.,0.,0.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
set fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=0.+(e6-e8[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]-fC[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*(.01*.01))+0
set fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=e7*(1.+fE[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])*(1.-fB[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])+0
call EXSetEventDamage(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]*fJ[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+0))
call CreateTextTagUnitBJ(R2S(fD[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]),GetTriggerUnit(),125.,10.,0.,0.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BoL takes nothing returns nothing
set qm=CreateTrigger()
call Bi3(qm)
call TriggerAddCondition(qm,Condition(function BoJ))
call TriggerAddAction(qm,function BoK)
endfunction
function BoM takes nothing returns boolean
return IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function BoN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>70. then
set fL[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=70.
if GetRandomReal(1.,100.)<=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] then
call EXSetEventDamage(0.*1.)
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fL[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call CreateTextTagUnitBJ("闪避！",GetTriggerUnit(),0.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetTriggerUnit(),"overhead"))
else
if ATTACK_TYPE_NORMAL==ConvertAttackType(EXGetEventDamageData(qk))==true then
set gB=GetEventDamage()
if gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>.9 then
set gD[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=.9
set gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(gB-gG[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])+0+0
if gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0. then
call EXSetEventDamage(0.*1.)
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call CreateTextTagUnitBJ("所受法伤为0",GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
call EXSetEventDamage(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]*1.)
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call CreateTextTagUnitBJ("所受法伤为"+R2S(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
else
set gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(gB-gG[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])+0+0
if gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0. then
call EXSetEventDamage(0.*1.)
call CreateTextTagUnitBJ("所受法伤为0",GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
call EXSetEventDamage(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]*1.)
call CreateTextTagUnitBJ("所受法伤为"+R2S(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
else
set gH=GetEventDamage()
set gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gH*(1.-gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])+0+0+0
if gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0. then
call EXSetEventDamage(0.*1.)
call CreateTextTagUnitBJ("所受伤害值为0",GetTriggerUnit(),0.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
call EXSetEventDamage(gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]*1.)
call CreateTextTagUnitBJ("所受伤害值为"+R2S(gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetTriggerUnit(),0.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
endif
else
if GetRandomReal(1.,100.)<=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] then
call EXSetEventDamage(0.*1.)
call CreateTextTagUnitBJ("闪避！",GetTriggerUnit(),0.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetTriggerUnit(),"overhead"))
else
if ATTACK_TYPE_NORMAL==ConvertAttackType(EXGetEventDamageData(qk))==true then
set gB=GetEventDamage()
if gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>.9 then
set gD[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=.9
set gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(gB-gG[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])+0+0
if gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0. then
call EXSetEventDamage(0.*1.)
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call CreateTextTagUnitBJ("所受法伤为0",GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
call EXSetEventDamage(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]*1.)
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call CreateTextTagUnitBJ("所受法伤为"+R2S(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
else
set gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(gB-gG[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])*(1.-gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])+0+0
if gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0. then
call EXSetEventDamage(0.*1.)
call CreateTextTagUnitBJ("所受法伤为0",GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
call EXSetEventDamage(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]*1.)
call CreateTextTagUnitBJ("所受法伤为"+R2S(gE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetTriggerUnit(),125.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
else
set gH=GetEventDamage()
set gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gH*(1.-gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])+0+0+0
if gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0. then
call EXSetEventDamage(0.*1.)
call CreateTextTagUnitBJ("所受伤害值为0",GetTriggerUnit(),0.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
else
call EXSetEventDamage(gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]*1.)
call CreateTextTagUnitBJ("所受伤害值为"+R2S(gI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetTriggerUnit(),0.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
endif
endif
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BoO takes nothing returns nothing
set rr=CreateTrigger()
call Bi3(rr)
call TriggerAddCondition(rr,Condition(function BoM))
call TriggerAddAction(rr,function BoN)
endfunction
function BoP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303648
endfunction
function BoQ takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
endfunction
function BoR takes nothing returns nothing
set oG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(oG,Condition(function BoP))
call TriggerAddAction(oG,function BoQ)
endfunction
function BoS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303648
endfunction
function BoT takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
endfunction
function BoU takes nothing returns nothing
set oH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(oH,Condition(function BoS))
call TriggerAddAction(oH,function BoT)
endfunction
function BoV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930365A
endfunction
function BoW takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.04
endfunction
function BoX takes nothing returns nothing
set rl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rl,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(rl,Condition(function BoV))
call TriggerAddAction(rl,function BoW)
endfunction
function BoY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930365A
endfunction
function BoZ takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.04
endfunction
function Boa takes nothing returns nothing
set rm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rm,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(rm,Condition(function BoY))
call TriggerAddAction(rm,function BoZ)
endfunction
function Bob takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930414E
endfunction
function Boc takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Bod takes nothing returns nothing
set rn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(rn,Condition(function Bob))
call TriggerAddAction(rn,function Boc)
endfunction
function Boe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930414E
endfunction
function Bof takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function Bog takes nothing returns nothing
set ro=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ro,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ro,Condition(function Boe))
call TriggerAddAction(ro,function Bof)
endfunction
function Boh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304451
endfunction
function Boi takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.06
endfunction
function Boj takes nothing returns nothing
set rp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(rp,Condition(function Boh))
call TriggerAddAction(rp,function Boi)
endfunction
function Bok takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304451
endfunction
function Bol takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.06
endfunction
function Bom takes nothing returns nothing
set rq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rq,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(rq,Condition(function Bok))
call TriggerAddAction(rq,function Bol)
endfunction
function Bon takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A39
endfunction
function Boo takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
endfunction
function Bop takes nothing returns nothing
set sE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sE,Condition(function Bon))
call TriggerAddAction(sE,function Boo)
endfunction
function Boq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A39
endfunction
function Bor takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
endfunction
function Bos takes nothing returns nothing
set sF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sF,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sF,Condition(function Boq))
call TriggerAddAction(sF,function Bor)
endfunction
function Bot takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4C or GetItemTypeId(GetManipulatedItem())==$49304B34 or GetItemTypeId(GetManipulatedItem())==$49304B35
endfunction
function Bou takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
endfunction
function Bov takes nothing returns nothing
set sf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sf,Condition(function Bot))
call TriggerAddAction(sf,function Bou)
endfunction
function Bow takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4C or GetItemTypeId(GetManipulatedItem())==$49304B34 or GetItemTypeId(GetManipulatedItem())==$49304B35
endfunction
function Box takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
endfunction
function Boy takes nothing returns nothing
set sg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sg,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sg,Condition(function Bow))
call TriggerAddAction(sg,function Box)
endfunction
function Boz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B36
endfunction
function Bo0 takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.04
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.1)
endfunction
function Bo1 takes nothing returns nothing
set uX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uX,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uX,Condition(function Boz))
call TriggerAddAction(uX,function Bo0)
endfunction
function Bo2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B36
endfunction
function Bo3 takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.04
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())+.1)
endfunction
function Bo4 takes nothing returns nothing
set uY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uY,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uY,Condition(function Bo2))
call TriggerAddAction(uY,function Bo3)
endfunction
function Bo5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B44
endfunction
function Bo6 takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Bo7 takes nothing returns nothing
set ux=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ux,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ux,Condition(function Bo5))
call TriggerAddAction(ux,function Bo6)
endfunction
function Bo8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B44
endfunction
function Bo9 takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
set gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function BpB takes nothing returns nothing
set uy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uy,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uy,Condition(function Bo8))
call TriggerAddAction(uy,function Bo9)
endfunction
function BpC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4B
endfunction
function BpD takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01*.3
endfunction
function BpE takes nothing returns nothing
set yI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(yI,Condition(function BpC))
call TriggerAddAction(yI,function BpD)
endfunction
function BpF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4B
endfunction
function BpG takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01*.3
endfunction
function BpH takes nothing returns nothing
set yJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yJ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(yJ,Condition(function BpF))
call TriggerAddAction(yJ,function BpG)
endfunction
function BpI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4D
endfunction
function BpJ takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.
endfunction
function BpK takes nothing returns nothing
set sj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sj,Condition(function BpI))
call TriggerAddAction(sj,function BpJ)
endfunction
function BpL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4D
endfunction
function BpM takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1.
endfunction
function BpN takes nothing returns nothing
set sk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sk,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sk,Condition(function BpL))
call TriggerAddAction(sk,function BpM)
endfunction
function BpO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4E
endfunction
function BpP takes nothing returns nothing
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.
endfunction
function BpQ takes nothing returns nothing
set sl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sl,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sl,Condition(function BpO))
call TriggerAddAction(sl,function BpP)
endfunction
function BpR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4E
endfunction
function BpS takes nothing returns nothing
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1.
endfunction
function BpT takes nothing returns nothing
set sm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sm,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sm,Condition(function BpR))
call TriggerAddAction(sm,function BpS)
endfunction
function BpU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930455A or GetItemTypeId(GetManipulatedItem())==$49304B43
endfunction
function BpV takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
endfunction
function BpW takes nothing returns nothing
set to=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(to,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(to,Condition(function BpU))
call TriggerAddAction(to,function BpV)
endfunction
function BpX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930455A or GetItemTypeId(GetManipulatedItem())==$49304B43
endfunction
function BpY takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.08
endfunction
function BpZ takes nothing returns nothing
set tp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tp,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tp,Condition(function BpX))
call TriggerAddAction(tp,function BpY)
endfunction
function Bpa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303531
endfunction
function Bpb takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
endfunction
function Bpc takes nothing returns nothing
set tq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tq,Condition(function Bpa))
call TriggerAddAction(tq,function Bpb)
endfunction
function Bpd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303531
endfunction
function Bpe takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function Bpf takes nothing returns nothing
set tr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tr,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tr,Condition(function Bpd))
call TriggerAddAction(tr,function Bpe)
endfunction
function Bpg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304153
endfunction
function Bph takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
endfunction
function Bpi takes nothing returns nothing
set ts=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ts,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ts,Condition(function Bpg))
call TriggerAddAction(ts,function Bph)
endfunction
function Bpj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304153
endfunction
function Bpk takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function Bpl takes nothing returns nothing
set tt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tt,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tt,Condition(function Bpj))
call TriggerAddAction(tt,function Bpk)
endfunction
function Bpm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930394E or GetItemTypeId(GetManipulatedItem())==$49304157 or GetItemTypeId(GetManipulatedItem())==$49304351 or GetItemTypeId(GetManipulatedItem())==$49304551 or GetItemTypeId(GetManipulatedItem())==$4930374E or GetItemTypeId(GetManipulatedItem())==$49303433 or GetItemTypeId(GetManipulatedItem())==$49304842 or GetItemTypeId(GetManipulatedItem())==$49303452
endfunction
function Bpn takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bpo takes nothing returns nothing
set tu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tu,Condition(function Bpm))
call TriggerAddAction(tu,function Bpn)
endfunction
function Bpp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930394E or GetItemTypeId(GetManipulatedItem())==$49304157 or GetItemTypeId(GetManipulatedItem())==$49304351 or GetItemTypeId(GetManipulatedItem())==$49304551 or GetItemTypeId(GetManipulatedItem())==$4930374E or GetItemTypeId(GetManipulatedItem())==$49303433 or GetItemTypeId(GetManipulatedItem())==$49304842 or GetItemTypeId(GetManipulatedItem())==$49303452
endfunction
function Bpq takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bpr takes nothing returns nothing
set tv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tv,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tv,Condition(function Bpp))
call TriggerAddAction(tv,function Bpq)
endfunction
function Bps takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304235
endfunction
function Bpt takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function Bpu takes nothing returns nothing
set ty=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ty,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ty,Condition(function Bps))
call TriggerAddAction(ty,function Bpt)
endfunction
function Bpv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304235
endfunction
function Bpw takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function Bpx takes nothing returns nothing
set tz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tz,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tz,Condition(function Bpv))
call TriggerAddAction(tz,function Bpw)
endfunction
function Bpy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B39
endfunction
function Bpz takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Bp0 takes nothing returns nothing
set uf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uf,Condition(function Bpy))
call TriggerAddAction(uf,function Bpz)
endfunction
function Bp1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B39
endfunction
function Bp2 takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function Bp3 takes nothing returns nothing
set ug=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ug,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ug,Condition(function Bp1))
call TriggerAddAction(ug,function Bp2)
endfunction
function Bp4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B33
endfunction
function Bp5 takes nothing returns nothing
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bp6 takes nothing returns nothing
set uU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uU,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uU,Condition(function Bp4))
call TriggerAddAction(uU,function Bp5)
endfunction
function Bp7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B33
endfunction
function Bp8 takes nothing returns nothing
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bp9 takes nothing returns nothing
set uV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uV,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uV,Condition(function Bp7))
call TriggerAddAction(uV,function Bp8)
endfunction
function BqB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A50
endfunction
function BqC takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.
endfunction
function BqD takes nothing returns nothing
set sn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sn,Condition(function BqB))
call TriggerAddAction(sn,function BqC)
endfunction
function BqE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A50
endfunction
function BqF takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1.
endfunction
function BqG takes nothing returns nothing
set so=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(so,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(so,Condition(function BqE))
call TriggerAddAction(so,function BqF)
endfunction
function BqH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4F
endfunction
function BqI takes nothing returns nothing
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.
endfunction
function BqJ takes nothing returns nothing
set sp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sp,Condition(function BqH))
call TriggerAddAction(sp,function BqI)
endfunction
function BqK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A4F
endfunction
function BqL takes nothing returns nothing
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1.
endfunction
function BqM takes nothing returns nothing
set sq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sq,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sq,Condition(function BqK))
call TriggerAddAction(sq,function BqL)
endfunction
function BqN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930494F
endfunction
function BqO takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function BqP takes nothing returns nothing
set tc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tc,Condition(function BqN))
call TriggerAddAction(tc,function BqO)
endfunction
function BqQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930494F
endfunction
function BqR takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function BqS takes nothing returns nothing
set td=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(td,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(td,Condition(function BqQ))
call TriggerAddAction(td,function BqR)
endfunction
function BqT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304745 or GetItemTypeId(GetManipulatedItem())==$杖LV5 or GetItemTypeId(GetManipulatedItem())==$法书LV5
endfunction
function BqU takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function BqV takes nothing returns nothing
set tw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tw,Condition(function BqT))
call TriggerAddAction(tw,function BqU)
endfunction
function BqW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304745 or GetItemTypeId(GetManipulatedItem())==$杖LV5 or GetItemTypeId(GetManipulatedItem())==$法书LV5
endfunction
function BqX takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function BqY takes nothing returns nothing
set tx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tx,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tx,Condition(function BqW))
call TriggerAddAction(tx,function BqX)
endfunction
function BqZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304236
endfunction
function Bqa takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bqb takes nothing returns nothing
set t0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t0,Condition(function BqZ))
call TriggerAddAction(t0,function Bqa)
endfunction
function Bqc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304236
endfunction
function Bqd takes nothing returns nothing
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bqe takes nothing returns nothing
set t1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t1,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t1,Condition(function Bqc))
call TriggerAddAction(t1,function Bqd)
endfunction
function Bqf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A45 or GetItemTypeId(GetManipulatedItem())==$49304558
endfunction
function Bqg takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bqh takes nothing returns nothing
set te=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(te,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(te,Condition(function Bqf))
call TriggerAddAction(te,function Bqg)
endfunction
function Bqi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A45 or GetItemTypeId(GetManipulatedItem())==$49304558
endfunction
function Bqj takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bqk takes nothing returns nothing
set tf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tf,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tf,Condition(function Bqi))
call TriggerAddAction(tf,function Bqj)
endfunction
function Bql takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A36
endfunction
function Bqm takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bqn takes nothing returns nothing
set sH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sH,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sH,Condition(function Bql))
call TriggerAddAction(sH,function Bqm)
endfunction
function Bqo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A36
endfunction
function Bqp takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bqq takes nothing returns nothing
set sI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sI,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sI,Condition(function Bqo))
call TriggerAddAction(sI,function Bqp)
endfunction
function Bqr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A36
endfunction
function Bqs takes nothing returns nothing
set fC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50.
endfunction
function Bqt takes nothing returns nothing
set sJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sJ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sJ,Condition(function Bqr))
call TriggerAddAction(sJ,function Bqs)
endfunction
function Bqu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A36
endfunction
function Bqv takes nothing returns nothing
set fC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50.
endfunction
function Bqw takes nothing returns nothing
set sK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sK,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sK,Condition(function Bqu))
call TriggerAddAction(sK,function Bqv)
endfunction
function Bqx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304745
endfunction
function Bqy takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bqz takes nothing returns nothing
set tW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tW,Condition(function Bqx))
call TriggerAddAction(tW,function Bqy)
endfunction
function Bq0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304745
endfunction
function Bq1 takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bq2 takes nothing returns nothing
set tX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tX,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tX,Condition(function Bq0))
call TriggerAddAction(tX,function Bq1)
endfunction
function Bq3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303950
endfunction
function Bq4 takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function Bq5 takes nothing returns nothing
set tk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tk,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tk,Condition(function Bq3))
call TriggerAddAction(tk,function Bq4)
endfunction
function Bq6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303950
endfunction
function Bq7 takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function Bq8 takes nothing returns nothing
set tl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tl,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tl,Condition(function Bq6))
call TriggerAddAction(tl,function Bq7)
endfunction
function Bq9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$倩女之袍 or GetItemTypeId(GetManipulatedItem())==$杖LV5 or GetItemTypeId(GetManipulatedItem())==$杖LV4 or GetItemTypeId(GetManipulatedItem())==$法书LV5
endfunction
function BrB takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function BrC takes nothing returns nothing
set tm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tm,Condition(function Bq9))
call TriggerAddAction(tm,function BrB)
endfunction
function BrD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$倩女之袍 or GetItemTypeId(GetManipulatedItem())==$杖LV5 or GetItemTypeId(GetManipulatedItem())==$杖LV4 or GetItemTypeId(GetManipulatedItem())==$法书LV5
endfunction
function BrE takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function BrF takes nothing returns nothing
set tn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tn,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tn,Condition(function BrD))
call TriggerAddAction(tn,function BrE)
endfunction
function BrG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$沙硕手环
endfunction
function BrH takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function BrI takes nothing returns nothing
set uD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uD,Condition(function BrG))
call TriggerAddAction(uD,function BrH)
endfunction
function BrJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$沙硕手环
endfunction
function BrK takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function BrL takes nothing returns nothing
set uE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uE,Condition(function BrJ))
call TriggerAddAction(uE,function BrK)
endfunction
function BrM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304950
endfunction
function BrN takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
endfunction
function BrO takes nothing returns nothing
set sh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sh,Condition(function BrM))
call TriggerAddAction(sh,function BrN)
endfunction
function BrP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304950
endfunction
function BrQ takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
endfunction
function BrR takes nothing returns nothing
set si=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(si,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(si,Condition(function BrP))
call TriggerAddAction(si,function BrQ)
endfunction
function BrS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303746
endfunction
function BrT takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
endfunction
function BrU takes nothing returns nothing
set tI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tI,Condition(function BrS))
call TriggerAddAction(tI,function BrT)
endfunction
function BrV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303746
endfunction
function BrW takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
endfunction
function BrX takes nothing returns nothing
set tJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tJ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tJ,Condition(function BrV))
call TriggerAddAction(tJ,function BrW)
endfunction
function BrY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303950
endfunction
function BrZ takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
endfunction
function Bra takes nothing returns nothing
set tK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tK,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tK,Condition(function BrY))
call TriggerAddAction(tK,function BrZ)
endfunction
function Brb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303950
endfunction
function Brc takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
endfunction
function Brd takes nothing returns nothing
set tL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tL,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tL,Condition(function Brb))
call TriggerAddAction(tL,function Brc)
endfunction
function Bre takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A53
endfunction
function Brf takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Brg takes nothing returns nothing
set t8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t8,Condition(function Bre))
call TriggerAddAction(t8,function Brf)
endfunction
function Brh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A53
endfunction
function Bri takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function Brj takes nothing returns nothing
set t9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t9,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t9,Condition(function Brh))
call TriggerAddAction(t9,function Bri)
endfunction
function Brk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A57
endfunction
function Brl takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5.
endfunction
function Brm takes nothing returns nothing
set uG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uG,Condition(function Brk))
call TriggerAddAction(uG,function Brl)
endfunction
function Brn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A57
endfunction
function Bro takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5.
endfunction
function Brp takes nothing returns nothing
set uH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uH,Condition(function Brn))
call TriggerAddAction(uH,function Bro)
endfunction
function Brq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A58
endfunction
function Brr takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8.
set e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Brs takes nothing returns nothing
set uM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uM,Condition(function Brq))
call TriggerAddAction(uM,function Brr)
endfunction
function Brt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A58
endfunction
function Bru takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8.
set e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function Brv takes nothing returns nothing
set uN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uN,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uN,Condition(function Brt))
call TriggerAddAction(uN,function Bru)
endfunction
function Brw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4C
endfunction
function Brx takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01*.3
endfunction
function Bry takes nothing returns nothing
set yK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yK,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(yK,Condition(function Brw))
call TriggerAddAction(yK,function Brx)
endfunction
function Brz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4C
endfunction
function Br0 takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01*.3
endfunction
function Br1 takes nothing returns nothing
set yL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yL,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(yL,Condition(function Brz))
call TriggerAddAction(yL,function Br0)
endfunction
function Br2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A52
endfunction
function Br3 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Br4 takes nothing returns nothing
set s1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(s1,Condition(function Br2))
call TriggerAddAction(s1,function Br3)
endfunction
function Br5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A52
endfunction
function Br6 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Br7 takes nothing returns nothing
set s2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s2,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(s2,Condition(function Br5))
call TriggerAddAction(s2,function Br6)
endfunction
function Br8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A51
endfunction
function Br9 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.
endfunction
function BsB takes nothing returns nothing
set s3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(s3,Condition(function Br8))
call TriggerAddAction(s3,function Br9)
endfunction
function BsC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A51
endfunction
function BsD takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1.
endfunction
function BsE takes nothing returns nothing
set s4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s4,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(s4,Condition(function BsC))
call TriggerAddAction(s4,function BsD)
endfunction
function BsF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304858
endfunction
function BsG takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function BsH takes nothing returns nothing
set sr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sr,Condition(function BsF))
call TriggerAddAction(sr,function BsG)
endfunction
function BsI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304858
endfunction
function BsJ takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function BsK takes nothing returns nothing
set ss=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ss,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ss,Condition(function BsI))
call TriggerAddAction(ss,function BsJ)
endfunction
function BsL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304857
endfunction
function BsM takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function BsN takes nothing returns nothing
set st=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(st,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(st,Condition(function BsL))
call TriggerAddAction(st,function BsM)
endfunction
function BsO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304857
endfunction
function BsP takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function BsQ takes nothing returns nothing
set su=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(su,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(su,Condition(function BsO))
call TriggerAddAction(su,function BsP)
endfunction
function BsR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A31 or GetItemTypeId(GetManipulatedItem())==$49304B4D
endfunction
function BsS takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
endfunction
function BsT takes nothing returns nothing
set sv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sv,Condition(function BsR))
call TriggerAddAction(sv,function BsS)
endfunction
function BsU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A31 or GetItemTypeId(GetManipulatedItem())==$49304B4D
endfunction
function BsV takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.12
endfunction
function BsW takes nothing returns nothing
set sw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sw,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sw,Condition(function BsU))
call TriggerAddAction(sw,function BsV)
endfunction
function BsX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304547 or GetItemTypeId(GetManipulatedItem())==$49304B4F
endfunction
function BsY takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function BsZ takes nothing returns nothing
set sx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sx,Condition(function BsX))
call TriggerAddAction(sx,function BsY)
endfunction
function Bsa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304547 or GetItemTypeId(GetManipulatedItem())==$49304B4F
endfunction
function Bsb takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function Bsc takes nothing returns nothing
set sy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sy,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(sy,Condition(function Bsa))
call TriggerAddAction(sy,function Bsb)
endfunction
function Bsd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304136
endfunction
function Bse takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
endfunction
function Bsf takes nothing returns nothing
set sz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sz,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sz,Condition(function Bsd))
call TriggerAddAction(sz,function Bse)
endfunction
function Bsg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304136
endfunction
function Bsh takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.12
endfunction
function Bsi takes nothing returns nothing
set s0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s0,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(s0,Condition(function Bsg))
call TriggerAddAction(s0,function Bsh)
endfunction
function Bsj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$49304131
endfunction
function Bsk takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function Bsl takes nothing returns nothing
set s5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(s5,Condition(function Bsj))
call TriggerAddAction(s5,function Bsk)
endfunction
function Bsm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$49304131
endfunction
function Bsn takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function Bso takes nothing returns nothing
set s6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s6,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(s6,Condition(function Bsm))
call TriggerAddAction(s6,function Bsn)
endfunction
function Bsp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$49304254
endfunction
function Bsq takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.18
endfunction
function Bsr takes nothing returns nothing
set s7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(s7,Condition(function Bsp))
call TriggerAddAction(s7,function Bsq)
endfunction
function Bss takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$49304254
endfunction
function Bst takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.18
endfunction
function Bsu takes nothing returns nothing
set s8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s8,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(s8,Condition(function Bss))
call TriggerAddAction(s8,function Bst)
endfunction
function Bsv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B4E or GetItemTypeId(GetManipulatedItem())==$49304935
endfunction
function Bsw takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
endfunction
function Bsx takes nothing returns nothing
set s9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(s9,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(s9,Condition(function Bsv))
call TriggerAddAction(s9,function Bsw)
endfunction
function Bsy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B4E or GetItemTypeId(GetManipulatedItem())==$49304935
endfunction
function Bsz takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.12
endfunction
function Bs0 takes nothing returns nothing
set tB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tB,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tB,Condition(function Bsy))
call TriggerAddAction(tB,function Bsz)
endfunction
function Bs1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B4C or GetItemTypeId(GetManipulatedItem())==$4930485A
endfunction
function Bs2 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Bs3 takes nothing returns nothing
set tC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tC,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tC,Condition(function Bs1))
call TriggerAddAction(tC,function Bs2)
endfunction
function Bs4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B4C or GetItemTypeId(GetManipulatedItem())==$4930485A
endfunction
function Bs5 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Bs6 takes nothing returns nothing
set tD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tD,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tD,Condition(function Bs4))
call TriggerAddAction(tD,function Bs5)
endfunction
function Bs7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930334E
endfunction
function Bs8 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Bs9 takes nothing returns nothing
set tE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tE,Condition(function Bs7))
call TriggerAddAction(tE,function Bs8)
endfunction
function BtB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930334E
endfunction
function BtC takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function BtD takes nothing returns nothing
set tF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tF,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tF,Condition(function BtB))
call TriggerAddAction(tF,function BtC)
endfunction
function BtE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$49304343
endfunction
function BtF takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
endfunction
function BtG takes nothing returns nothing
set tG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tG,Condition(function BtE))
call TriggerAddAction(tG,function BtF)
endfunction
function BtH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$49304343
endfunction
function BtI takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.12
endfunction
function BtJ takes nothing returns nothing
set tH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tH,Condition(function BtH))
call TriggerAddAction(tH,function BtI)
endfunction
function BtK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetItemTypeId(GetManipulatedItem())==$4930434C
endfunction
function BtL takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function BtM takes nothing returns nothing
set tM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tM,Condition(function BtK))
call TriggerAddAction(tM,function BtL)
endfunction
function BtN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetItemTypeId(GetManipulatedItem())==$4930434C
endfunction
function BtO takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function BtP takes nothing returns nothing
set tN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tN,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tN,Condition(function BtN))
call TriggerAddAction(tN,function BtO)
endfunction
function BtQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetItemTypeId(GetManipulatedItem())==$49303838 or GetItemTypeId(GetManipulatedItem())==$49303536
endfunction
function BtR takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function BtS takes nothing returns nothing
set tO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tO,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tO,Condition(function BtQ))
call TriggerAddAction(tO,function BtR)
endfunction
function BtT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetItemTypeId(GetManipulatedItem())==$49303838 or GetItemTypeId(GetManipulatedItem())==$49303536
endfunction
function BtU takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function BtV takes nothing returns nothing
set tP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tP,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tP,Condition(function BtT))
call TriggerAddAction(tP,function BtU)
endfunction
function BtW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304946
endfunction
function BtX takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function BtY takes nothing returns nothing
set tQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tQ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tQ,Condition(function BtW))
call TriggerAddAction(tQ,function BtX)
endfunction
function BtZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304946
endfunction
function Bta takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function Btb takes nothing returns nothing
set tR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tR,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tR,Condition(function BtZ))
call TriggerAddAction(tR,function Bta)
endfunction
function Btc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304959
endfunction
function Btd takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
endfunction
function Bte takes nothing returns nothing
set tS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tS,Condition(function Btc))
call TriggerAddAction(tS,function Btd)
endfunction
function Btf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304959
endfunction
function Btg takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.08
endfunction
function Bth takes nothing returns nothing
set tT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tT,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tT,Condition(function Btf))
call TriggerAddAction(tT,function Btg)
endfunction
function Bti takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304856
endfunction
function Btj takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
endfunction
function Btk takes nothing returns nothing
set tU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tU,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tU,Condition(function Bti))
call TriggerAddAction(tU,function Btj)
endfunction
function Btl takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304856
endfunction
function Btm takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.08
endfunction
function Btn takes nothing returns nothing
set tV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tV,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tV,Condition(function Btl))
call TriggerAddAction(tV,function Btm)
endfunction
function Bto takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304933
endfunction
function Btp takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Btq takes nothing returns nothing
set tY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tY,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tY,Condition(function Bto))
call TriggerAddAction(tY,function Btp)
endfunction
function Btr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304933
endfunction
function Bts takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
endfunction
function Btt takes nothing returns nothing
set tZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tZ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tZ,Condition(function Btr))
call TriggerAddAction(tZ,function Bts)
endfunction
function Btu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304859
endfunction
function Btv takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function Btw takes nothing returns nothing
set ta=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ta,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ta,Condition(function Btu))
call TriggerAddAction(ta,function Btv)
endfunction
function Btx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304859
endfunction
function Bty takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function Btz takes nothing returns nothing
set tb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tb,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tb,Condition(function Btx))
call TriggerAddAction(tb,function Bty)
endfunction
function Bt0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304549
endfunction
function Bt1 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
endfunction
function Bt2 takes nothing returns nothing
set tg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(tg,Condition(function Bt0))
call TriggerAddAction(tg,function Bt1)
endfunction
function Bt3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304549
endfunction
function Bt4 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function Bt5 takes nothing returns nothing
set th=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(th,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(th,Condition(function Bt3))
call TriggerAddAction(th,function Bt4)
endfunction
function Bt6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetItemTypeId(GetManipulatedItem())==$49304636
endfunction
function Bt7 takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
endfunction
function Bt8 takes nothing returns nothing
set ti=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ti,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ti,Condition(function Bt6))
call TriggerAddAction(ti,function Bt7)
endfunction
function Bt9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetItemTypeId(GetManipulatedItem())==$49304636
endfunction
function BuB takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function BuC takes nothing returns nothing
set tj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tj,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(tj,Condition(function Bt9))
call TriggerAddAction(tj,function BuB)
endfunction
function BuD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304931 or GetItemTypeId(GetManipulatedItem())==$49304932
endfunction
function BuE takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
endfunction
function BuF takes nothing returns nothing
set t2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t2,Condition(function BuD))
call TriggerAddAction(t2,function BuE)
endfunction
function BuG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304931 or GetItemTypeId(GetManipulatedItem())==$49304932
endfunction
function BuH takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.05
endfunction
function BuI takes nothing returns nothing
set t3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t3,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t3,Condition(function BuG))
call TriggerAddAction(t3,function BuH)
endfunction
function BuJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303252 or GetItemTypeId(GetManipulatedItem())==$49304B42
endfunction
function BuK takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
endfunction
function BuL takes nothing returns nothing
set t4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t4,Condition(function BuJ))
call TriggerAddAction(t4,function BuK)
endfunction
function BuM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303252 or GetItemTypeId(GetManipulatedItem())==$49304B42
endfunction
function BuN takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.08
endfunction
function BuO takes nothing returns nothing
set t5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t5,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t5,Condition(function BuM))
call TriggerAddAction(t5,function BuN)
endfunction
function BuP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303430
endfunction
function BuQ takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
endfunction
function BuR takes nothing returns nothing
set t6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t6,Condition(function BuP))
call TriggerAddAction(t6,function BuQ)
endfunction
function BuS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303430
endfunction
function BuT takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.12
endfunction
function BuU takes nothing returns nothing
set t7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t7,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t7,Condition(function BuS))
call TriggerAddAction(t7,function BuT)
endfunction
function BuV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A54
endfunction
function BuW takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3.
endfunction
function BuX takes nothing returns nothing
set uB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uB,Condition(function BuV))
call TriggerAddAction(uB,function BuW)
endfunction
function BuY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304A54
endfunction
function BuZ takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3.
endfunction
function Bua takes nothing returns nothing
set uC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uC,Condition(function BuY))
call TriggerAddAction(uC,function BuZ)
endfunction
function Bub takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B42 or GetItemTypeId(GetManipulatedItem())==$49304136 or GetItemTypeId(GetManipulatedItem())==$49304547
endfunction
function Buc takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8.
endfunction
function Bud takes nothing returns nothing
set uh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uh,Condition(function Bub))
call TriggerAddAction(uh,function Buc)
endfunction
function Bue takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B42 or GetItemTypeId(GetManipulatedItem())==$49304136 or GetItemTypeId(GetManipulatedItem())==$49304547
endfunction
function Buf takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8.
endfunction
function Bug takes nothing returns nothing
set ui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ui,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ui,Condition(function Bue))
call TriggerAddAction(ui,function Buf)
endfunction
function Buh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303333
endfunction
function Bui takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-125.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-125.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-125.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Buj takes nothing returns nothing
set BCm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCm,Condition(function Buh))
call TriggerAddAction(BCm,function Bui)
endfunction
function Buk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303333
endfunction
function Bul takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+125.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+125.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+125.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Bum takes nothing returns nothing
set BCn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCn,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BCn,Condition(function Buk))
call TriggerAddAction(BCn,function Bul)
endfunction
function Bun takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304549 or GetItemTypeId(GetManipulatedItem())==$49304B42 or GetItemTypeId(GetManipulatedItem())==$49304B38 or GetItemTypeId(GetManipulatedItem())==$49304858 or GetItemTypeId(GetManipulatedItem())==$49304857 or GetItemTypeId(GetManipulatedItem())==$49304945 or GetItemTypeId(GetManipulatedItem())==$49304942 or GetItemTypeId(GetManipulatedItem())==$4930485A or GetItemTypeId(GetManipulatedItem())==$49304950
endfunction
function Buo takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Bup takes nothing returns nothing
set uj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uj,Condition(function Bun))
call TriggerAddAction(uj,function Buo)
endfunction
function Buq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304549 or GetItemTypeId(GetManipulatedItem())==$49304B42 or GetItemTypeId(GetManipulatedItem())==$49304B38 or GetItemTypeId(GetManipulatedItem())==$49304858 or GetItemTypeId(GetManipulatedItem())==$49304857 or GetItemTypeId(GetManipulatedItem())==$49304945 or GetItemTypeId(GetManipulatedItem())==$49304942 or GetItemTypeId(GetManipulatedItem())==$4930485A or GetItemTypeId(GetManipulatedItem())==$49304950
endfunction
function Bur takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-100.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-100.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-100.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Bus takes nothing returns nothing
set uk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uk,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uk,Condition(function Buq))
call TriggerAddAction(uk,function Bur)
endfunction
function But takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304136 or GetItemTypeId(GetManipulatedItem())==$49304547 or GetItemTypeId(GetManipulatedItem())==$49304856 or GetItemTypeId(GetManipulatedItem())==$49304941 or GetItemTypeId(GetManipulatedItem())==$49304859 or GetItemTypeId(GetManipulatedItem())==$49304943 or GetItemTypeId(GetManipulatedItem())==$49304930 or GetItemTypeId(GetManipulatedItem())==$49304734 or GetItemTypeId(GetManipulatedItem())==$49304652
endfunction
function Buu takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+75.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+75.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+75.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Buv takes nothing returns nothing
set ul=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ul,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ul,Condition(function But))
call TriggerAddAction(ul,function Buu)
endfunction
function Buw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304136 or GetItemTypeId(GetManipulatedItem())==$49304547 or GetItemTypeId(GetManipulatedItem())==$49304856 or GetItemTypeId(GetManipulatedItem())==$49304941 or GetItemTypeId(GetManipulatedItem())==$49304859 or GetItemTypeId(GetManipulatedItem())==$49304943 or GetItemTypeId(GetManipulatedItem())==$49304930 or GetItemTypeId(GetManipulatedItem())==$49304734 or GetItemTypeId(GetManipulatedItem())==$49304652
endfunction
function Bux takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-75.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-75.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-75.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Buy takes nothing returns nothing
set um=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(um,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(um,Condition(function Buw))
call TriggerAddAction(um,function Bux)
endfunction
function Buz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304455 or GetItemTypeId(GetManipulatedItem())==$49303847 or GetItemTypeId(GetManipulatedItem())==$49304937 or GetItemTypeId(GetManipulatedItem())==$49304939 or GetItemTypeId(GetManipulatedItem())==$49304854 or GetItemTypeId(GetManipulatedItem())==$49304855 or GetItemTypeId(GetManipulatedItem())==$49304853 or GetItemTypeId(GetManipulatedItem())==$49303844 or GetItemTypeId(GetManipulatedItem())==$49304459 or GetItemTypeId(GetManipulatedItem())==$49303435
endfunction
function Bu0 takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Bu1 takes nothing returns nothing
set un=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(un,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(un,Condition(function Buz))
call TriggerAddAction(un,function Bu0)
endfunction
function Bu2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304455 or GetItemTypeId(GetManipulatedItem())==$49303847 or GetItemTypeId(GetManipulatedItem())==$49304937 or GetItemTypeId(GetManipulatedItem())==$49304939 or GetItemTypeId(GetManipulatedItem())==$49304854 or GetItemTypeId(GetManipulatedItem())==$49304855 or GetItemTypeId(GetManipulatedItem())==$49304853 or GetItemTypeId(GetManipulatedItem())==$49303844 or GetItemTypeId(GetManipulatedItem())==$49304459 or GetItemTypeId(GetManipulatedItem())==$49303435
endfunction
function Bu3 takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Bu4 takes nothing returns nothing
set uo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uo,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uo,Condition(function Bu2))
call TriggerAddAction(uo,function Bu3)
endfunction
function Bu5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303137
endfunction
function Bu6 takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function Bu7 takes nothing returns nothing
set up=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(up,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(up,Condition(function Bu5))
call TriggerAddAction(up,function Bu6)
endfunction
function Bu8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49303137
endfunction
function Bu9 takes nothing returns nothing
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function BvB takes nothing returns nothing
set uq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uq,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(uq,Condition(function Bu8))
call TriggerAddAction(uq,function Bu9)
endfunction
function BvC takes nothing returns nothing
if GetItemTypeId(GetEnumItem())==$49303542 or GetItemTypeId(GetEnumItem())==$49303541 or GetItemTypeId(GetEnumItem())==$49303555 or GetItemTypeId(GetEnumItem())==$49303556 or GetItemTypeId(GetEnumItem())==$49303554 or GetItemTypeId(GetEnumItem())==$49303138 or GetItemTypeId(GetEnumItem())==$49303631 or GetItemTypeId(GetEnumItem())==$49303630 or GetItemTypeId(GetEnumItem())==$4930355A or GetItemTypeId(GetEnumItem())==$4930454D or GetItemTypeId(GetEnumItem())==$4930454E or GetItemTypeId(GetEnumItem())==$49303634 or GetItemTypeId(GetEnumItem())==$49303635 or GetItemTypeId(GetEnumItem())==$49303637 or GetItemTypeId(GetEnumItem())==$49303636 or GetItemTypeId(GetEnumItem())==$49303747 or GetItemTypeId(GetEnumItem())==$49303745 or GetItemTypeId(GetEnumItem())==$49303743 or GetItemTypeId(GetEnumItem())==$49303744 or GetItemTypeId(GetEnumItem())==$49303545 or GetItemTypeId(GetEnumItem())==$49303546 or GetItemTypeId(GetEnumItem())==$49303739 or GetItemTypeId(GetEnumItem())==$49303738 or GetItemTypeId(GetEnumItem())==$49303758 or GetItemTypeId(GetEnumItem())==$4930374C or GetItemTypeId(GetEnumItem())==$4930374D or GetItemTypeId(GetEnumItem())==$49304641 or GetItemTypeId(GetEnumItem())==$49304642 or GetItemTypeId(GetEnumItem())==$49304639 or GetItemTypeId(GetEnumItem())==$49304637 or GetItemTypeId(GetEnumItem())==$49304638 or GetItemTypeId(GetEnumItem())==$4930464E or GetItemTypeId(GetEnumItem())==$4930464D or GetItemTypeId(GetEnumItem())==$4930464C or GetItemTypeId(GetEnumItem())==$49304645 or GetItemTypeId(GetEnumItem())==$49304644 or GetItemTypeId(GetEnumItem())==$49303944 or GetItemTypeId(GetEnumItem())==$49303946 or GetItemTypeId(GetEnumItem())==$49303945 or GetItemTypeId(GetEnumItem())==$49303941 or GetItemTypeId(GetEnumItem())==$49303942 or GetItemTypeId(GetEnumItem())==$49303939 or GetItemTypeId(GetEnumItem())==$49304658 or GetItemTypeId(GetEnumItem())==$49304659 or GetItemTypeId(GetEnumItem())==$4930465A or GetItemTypeId(GetEnumItem())==$49304730 or GetItemTypeId(GetEnumItem())==$49304731 or GetItemTypeId(GetEnumItem())==$49304732 or GetItemTypeId(GetEnumItem())==$49304735 or GetItemTypeId(GetEnumItem())==$49304734 or GetItemTypeId(GetEnumItem())==$49304733 or GetItemTypeId(GetEnumItem())==$49304836 or GetItemTypeId(GetEnumItem())==$49304837 or GetItemTypeId(GetEnumItem())==$49304838 or GetItemTypeId(GetEnumItem())==$49304839 then
call RemoveItem(GetEnumItem())
else
call DoNothing()
endif
endfunction
function BvD takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),5.,"10秒后删除地图上一些可从敌人处重复获得的物品。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnumItemsInRectBJ(GetPlayableMapRect(),function BvC)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BvE takes nothing returns nothing
set rt=CreateTrigger()
call TriggerRegisterPlayerChatEvent(rt,Player(0),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(1),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(2),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(3),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(4),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(5),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(6),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(7),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(8),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(9),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(10),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(11),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(12),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(13),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(14),"-sc",true)
call TriggerRegisterPlayerChatEvent(rt,Player(15),"-sc",true)
call TriggerAddAction(rt,function BvD)
endfunction
function BvF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetHeroLevel(GetTriggerUnit())>=100
endfunction
function BvG takes nothing returns nothing
call SuspendHeroXPBJ(false,GetTriggerUnit())
endfunction
function BvH takes nothing returns nothing
set BCo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCo,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BCo,Condition(function BvF))
call TriggerAddAction(BCo,function BvG)
endfunction
function BvI takes nothing returns nothing
call GroupAddUnitSimple(Uc,ei)
call GroupAddUnitSimple(Ud,ei)
call GroupAddUnitSimple(Ue,ei)
call GroupAddUnitSimple(Uj,ei)
call GroupAddUnitSimple(Ui,ei)
call GroupAddUnitSimple(Uh,ei)
call GroupAddUnitSimple(Ug,ei)
call GroupAddUnitSimple(Uf,ei)
call GroupAddUnitSimple(ZI,ei)
call GroupAddUnitSimple(ZJ,ei)
call GroupAddUnitSimple(ZK,ei)
call GroupAddUnitSimple(Zi,ei)
call GroupAddUnitSimple(Z3,ei)
call GroupAddUnitSimple(aI,ei)
call GroupAddUnitSimple(aJ,ei)
call GroupAddUnitSimple(Uc,bK)
call GroupAddUnitSimple(Ud,bL)
call GroupAddUnitSimple(Ue,bM)
call GroupAddUnitSimple(Uj,bN)
call GroupAddUnitSimple(Ui,bO)
call GroupAddUnitSimple(Uh,bP)
call GroupAddUnitSimple(Ug,bQ)
call GroupAddUnitSimple(Uf,bR)
endfunction
function BvJ takes nothing returns nothing
set BCp=CreateTrigger()
call TriggerAddAction(BCp,function BvI)
endfunction
function BvK takes nothing returns nothing
call GroupAddUnitSimple(We,cL)
call GroupAddUnitSimple(W5,cL)
call GroupAddUnitSimple(Wm,cL)
call GroupAddUnitSimple(U8,cL)
call GroupAddUnitSimple(VB,cL)
call GroupAddUnitSimple(XC,cL)
call GroupAddUnitSimple(VE,cL)
call GroupAddUnitSimple(XE,cL)
call GroupAddUnitSimple(Wd,cL)
call GroupAddUnitSimple(U6,cL)
call GroupAddUnitSimple(Wf,cL)
call GroupAddUnitSimple(Wn,cL)
call GroupAddUnitSimple(VI,cL)
call GroupAddUnitSimple(VH,cL)
call GroupAddUnitSimple(VG,cL)
call GroupAddUnitSimple(VF,cL)
call GroupAddUnitSimple(VN,cL)
call GroupAddUnitSimple(VK,cL)
call GroupAddUnitSimple(VJ,cL)
call GroupAddUnitSimple(VD,cL)
call GroupAddUnitSimple(VL,cL)
call GroupAddUnitSimple(XL,cL)
call GroupAddUnitSimple(ZF,cL)
call GroupAddUnitSimple(XF,cL)
call GroupAddUnitSimple(Xu,cL)
call GroupAddUnitSimple(Xv,cL)
call GroupAddUnitSimple(Xw,cL)
call GroupAddUnitSimple(Y6,cL)
call GroupAddUnitSimple(Yz,cL)
call GroupAddUnitSimple(YY,cL)
call GroupAddUnitSimple(ZB,cL)
endfunction
function BvL takes nothing returns nothing
set BCq=CreateTrigger()
call TriggerRegisterTimerEventSingle(BCq,.1)
call TriggerAddAction(BCq,function BvK)
endfunction
function BvM takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303047)==true and Bi9(GetTriggerUnit(),$49303048)==true
endfunction
function BvN takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303047))
call RemoveItem(Bio(GetTriggerUnit(),$49303048))
call UnitAddItemByIdSwapped($49303049,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BvO takes nothing returns nothing
set BCr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCr,Condition(function BvM))
call TriggerAddAction(BCr,function BvN)
endfunction
function BvP takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304D)==true and Bi9(GetTriggerUnit(),$49303046)==true
endfunction
function BvQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveItem(Bio(GetTriggerUnit(),$4930304D))
call RemoveItem(Bio(GetTriggerUnit(),$49303046))
call UnitAddItemByIdSwapped($4930304E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(45.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BCt)
call SetDoodadAnimationRectBJ("show",$594F7466,DD)
call SetDoodadAnimationRectBJ("show",$594F7466,Dk)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function BvR takes nothing returns nothing
set BCs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCs,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCs,Condition(function BvP))
call TriggerAddAction(BCs,function BvQ)
endfunction
function BvS takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303135)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303135))==6
endfunction
function BvT takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call UnitAddItemByIdSwapped($49303136,GetTriggerUnit())
endfunction
function BvU takes nothing returns nothing
set BCu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCu,Condition(function BvS))
call TriggerAddAction(BCu,function BvT)
endfunction
function BvV takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303138)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303138))>=5
endfunction
function BvW takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call RemoveItem(Bio(GetTriggerUnit(),$49303138))
call UnitAddItemByIdSwapped($49303141,GetTriggerUnit())
endfunction
function BvX takes nothing returns nothing
set BCv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCv,Condition(function BvV))
call TriggerAddAction(BCv,function BvW)
endfunction
function BvY takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303146)==true and Bi9(GetTriggerUnit(),$49303147)==true
endfunction
function BvZ takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303147))
call RemoveItem(Bio(GetTriggerUnit(),$49303146))
call UnitAddItemByIdSwapped($49303149,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bva takes nothing returns nothing
set BCw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCw,Condition(function BvY))
call TriggerAddAction(BCw,function BvZ)
endfunction
function Bvb takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304D)==true and Bi9(GetTriggerUnit(),$49303148)==true
endfunction
function Bvc takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930304D))
call RemoveItem(Bio(GetTriggerUnit(),$49303148))
call UnitAddItemByIdSwapped($4930314A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvd takes nothing returns nothing
set BCx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCx,Condition(function Bvb))
call TriggerAddAction(BCx,function Bvc)
endfunction
function Bve takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304E)==true and Bi9(GetTriggerUnit(),$49303148)==true
endfunction
function Bvf takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930304E))
call RemoveItem(Bio(GetTriggerUnit(),$49303148))
call UnitAddItemByIdSwapped($4930314B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvg takes nothing returns nothing
set BCy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCy,Condition(function Bve))
call TriggerAddAction(BCy,function Bvf)
endfunction
function Bvh takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930314E)==true and Bi9(GetTriggerUnit(),$4930314D)==true and Bi9(GetTriggerUnit(),$4930314C)==true
endfunction
function Bvi takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930314C))
call RemoveItem(Bio(GetTriggerUnit(),$4930314D))
call RemoveItem(Bio(GetTriggerUnit(),$4930314E))
call UnitAddItemByIdSwapped($4930314F,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvj takes nothing returns nothing
set BCz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCz,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BCz,Condition(function Bvh))
call TriggerAddAction(BCz,function Bvi)
endfunction
function Bvk takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930314F)==true and Bi9(GetTriggerUnit(),$49303154)==true
endfunction
function Bvl takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303154))
call RemoveItem(Bio(GetTriggerUnit(),$4930314F))
call UnitAddItemByIdSwapped($49303155,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvm takes nothing returns nothing
set BC0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC0,Condition(function Bvk))
call TriggerAddAction(BC0,function Bvl)
endfunction
function Bvn takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303230)==true and Bi9(GetTriggerUnit(),$4930315A)==true and Bi9(GetTriggerUnit(),$49303159)==true
endfunction
function Bvo takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303230))
call RemoveItem(Bio(GetTriggerUnit(),$4930315A))
call RemoveItem(Bio(GetTriggerUnit(),$49303159))
call UnitAddItemByIdSwapped($49303231,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvp takes nothing returns nothing
set BC1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC1,Condition(function Bvn))
call TriggerAddAction(BC1,function Bvo)
endfunction
function Bvq takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303243)==true and Bi9(GetTriggerUnit(),$49303242)==true
endfunction
function Bvr takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303243))
call RemoveItem(Bio(GetTriggerUnit(),$49303242))
call UnitAddItemByIdSwapped($49303244,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvs takes nothing returns nothing
set BC2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC2,Condition(function Bvq))
call TriggerAddAction(BC2,function Bvr)
endfunction
function Bvt takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930324D)==true and Bi9(GetTriggerUnit(),$4930324F)==true and Bi9(GetTriggerUnit(),$4930324E)==true
endfunction
function Bvu takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930324D))
call RemoveItem(Bio(GetTriggerUnit(),$4930324F))
call RemoveItem(Bio(GetTriggerUnit(),$4930324E))
call UnitAddItemByIdSwapped($49303250,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvv takes nothing returns nothing
set BC3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC3,Condition(function Bvt))
call TriggerAddAction(BC3,function Bvu)
endfunction
function Bvw takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303155)==true and Bi9(GetTriggerUnit(),$4930324B)==true
endfunction
function Bvx takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930324B))
call RemoveItem(Bio(GetTriggerUnit(),$49303155))
call UnitAddItemByIdSwapped($49303251,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bvy takes nothing returns nothing
set BC4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC4,Condition(function Bvw))
call TriggerAddAction(BC4,function Bvx)
endfunction
function Bvz takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303253)==true and Bi9(GetTriggerUnit(),$49303254)==true
endfunction
function Bv0 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303253))
call RemoveItem(Bio(GetTriggerUnit(),$49303254))
call UnitAddItemByIdSwapped($49303255,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bv1 takes nothing returns nothing
set BC5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC5,Condition(function Bvz))
call TriggerAddAction(BC5,function Bv0)
endfunction
function Bv2 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303255)==true and Bi9(GetTriggerUnit(),$49303254)==true
endfunction
function Bv3 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303255))
call RemoveItem(Bio(GetTriggerUnit(),$49303254))
call UnitAddItemByIdSwapped($49303256,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bv4 takes nothing returns nothing
set BC6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC6,Condition(function Bv2))
call TriggerAddAction(BC6,function Bv3)
endfunction
function Bv5 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303256)==true and Bi9(GetTriggerUnit(),$49303254)==true
endfunction
function Bv6 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303256))
call RemoveItem(Bio(GetTriggerUnit(),$49303254))
call UnitAddItemByIdSwapped($49303257,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bv7 takes nothing returns nothing
set BC7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC7,Condition(function Bv5))
call TriggerAddAction(BC7,function Bv6)
endfunction
function Bv8 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303257)==true and Bi9(GetTriggerUnit(),$49303254)==true
endfunction
function Bv9 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303257))
call RemoveItem(Bio(GetTriggerUnit(),$49303254))
call UnitAddItemByIdSwapped($49303258,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwB takes nothing returns nothing
set BC8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC8,Condition(function Bv8))
call TriggerAddAction(BC8,function Bv9)
endfunction
function BwC takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303258)==true and Bi9(GetTriggerUnit(),$49303254)==true
endfunction
function BwD takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303258))
call RemoveItem(Bio(GetTriggerUnit(),$49303254))
call UnitAddItemByIdSwapped($49303259,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwE takes nothing returns nothing
set BC9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BC9,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BC9,Condition(function BwC))
call TriggerAddAction(BC9,function BwD)
endfunction
function BwF takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303336)==true and Bi9(GetTriggerUnit(),$49303337)==true
endfunction
function BwG takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303336))
call RemoveItem(Bio(GetTriggerUnit(),$49303337))
call UnitAddItemByIdSwapped($49303338,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwH takes nothing returns nothing
set BDB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDB,Condition(function BwF))
call TriggerAddAction(BDB,function BwG)
endfunction
function BwI takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303251)==true and Bi9(GetTriggerUnit(),$49303343)==true
endfunction
function BwJ takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303343))
call RemoveItem(Bio(GetTriggerUnit(),$49303251))
call UnitAddItemByIdSwapped($49303344,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwK takes nothing returns nothing
set BDC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDC,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDC,Condition(function BwI))
call TriggerAddAction(BDC,function BwJ)
endfunction
function BwL takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303347)==true and Bi9(GetTriggerUnit(),$49303346)==true
endfunction
function BwM takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303347))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call UnitAddItemByIdSwapped($49303348,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwN takes nothing returns nothing
set BDD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDD,Condition(function BwL))
call TriggerAddAction(BDD,function BwM)
endfunction
function BwO takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303348)==true and Bi9(GetTriggerUnit(),$49303346)==true
endfunction
function BwP takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303348))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call UnitAddItemByIdSwapped($49303349,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwQ takes nothing returns nothing
set BDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDE,Condition(function BwO))
call TriggerAddAction(BDE,function BwP)
endfunction
function BwR takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303349)==true and Bi9(GetTriggerUnit(),$49303346)==true
endfunction
function BwS takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303349))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call UnitAddItemByIdSwapped($4930334A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwT takes nothing returns nothing
set BDF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDF,Condition(function BwR))
call TriggerAddAction(BDF,function BwS)
endfunction
function BwU takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930334A)==true and Bi9(GetTriggerUnit(),$49303346)==true
endfunction
function BwV takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930334A))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call UnitAddItemByIdSwapped($4930334B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwW takes nothing returns nothing
set BDG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDG,Condition(function BwU))
call TriggerAddAction(BDG,function BwV)
endfunction
function BwX takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930334B)==true and Bi9(GetTriggerUnit(),$49303346)==true
endfunction
function BwY takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930334B))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call UnitAddItemByIdSwapped($4930334C,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BwZ takes nothing returns nothing
set BDH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDH,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDH,Condition(function BwX))
call TriggerAddAction(BDH,function BwY)
endfunction
function Bwa takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930334C)==true and Bi9(GetTriggerUnit(),$4930334D)==true and Bi9(GetTriggerUnit(),$49303731)==true
endfunction
function Bwb takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930334C))
call RemoveItem(Bio(GetTriggerUnit(),$4930334D))
call RemoveItem(Bio(GetTriggerUnit(),$49303731))
call UnitAddItemByIdSwapped($4930334E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwc takes nothing returns nothing
set BDI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDI,Condition(function Bwa))
call TriggerAddAction(BDI,function Bwb)
endfunction
function Bwd takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303358)==true and Bi9(GetTriggerUnit(),$49303359)==true
endfunction
function Bwe takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303358))
call RemoveItem(Bio(GetTriggerUnit(),$49303359))
call UnitAddItemByIdSwapped($4930335A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwf takes nothing returns nothing
set BDJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDJ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDJ,Condition(function Bwd))
call TriggerAddAction(BDJ,function Bwe)
endfunction
function Bwg takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303431)==true and Bi9(GetTriggerUnit(),$49303432)==true
endfunction
function Bwh takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303431))
call RemoveItem(Bio(GetTriggerUnit(),$49303432))
call UnitAddItemByIdSwapped($49303433,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwi takes nothing returns nothing
set BDK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDK,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDK,Condition(function Bwg))
call TriggerAddAction(BDK,function Bwh)
endfunction
function Bwj takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303441)==true and Bi9(GetTriggerUnit(),$49303439)==true
endfunction
function Bwk takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303441))
call RemoveItem(Bio(GetTriggerUnit(),$49303439))
call UnitAddItemByIdSwapped($49303442,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwl takes nothing returns nothing
set BDL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDL,Condition(function Bwj))
call TriggerAddAction(BDL,function Bwk)
endfunction
function Bwm takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303441)==true and Bi9(GetTriggerUnit(),$49303444)==true
endfunction
function Bwn takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303441))
call RemoveItem(Bio(GetTriggerUnit(),$49303444))
call UnitAddItemByIdSwapped($49303443,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwo takes nothing returns nothing
set BDM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDM,Condition(function Bwm))
call TriggerAddAction(BDM,function Bwn)
endfunction
function Bwp takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303442)==true and Bi9(GetTriggerUnit(),$49303444)==true
endfunction
function Bwq takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303442))
call RemoveItem(Bio(GetTriggerUnit(),$49303444))
call UnitAddItemByIdSwapped($49303443,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwr takes nothing returns nothing
set BDN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDN,Condition(function Bwp))
call TriggerAddAction(BDN,function Bwq)
endfunction
function Bws takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303445)==true and Bi9(GetTriggerUnit(),$49303344)==true
endfunction
function Bwt takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303344))
call RemoveItem(Bio(GetTriggerUnit(),$49303445))
call UnitAddItemByIdSwapped($49303446,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwu takes nothing returns nothing
set BDO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDO,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDO,Condition(function Bws))
call TriggerAddAction(BDO,function Bwt)
endfunction
function Bwv takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344F)==true and Bi9(GetTriggerUnit(),$49303450)==true and Bi9(GetTriggerUnit(),$49303451)==true
endfunction
function Bww takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930344F))
call RemoveItem(Bio(GetTriggerUnit(),$49303450))
call RemoveItem(Bio(GetTriggerUnit(),$49303451))
call UnitAddItemByIdSwapped($49303452,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bwx takes nothing returns nothing
set BDP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDP,Condition(function Bwv))
call TriggerAddAction(BDP,function Bww)
endfunction
function Bwy takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303452)==true and Bi9(GetTriggerUnit(),$49303530)==true
endfunction
function Bwz takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303452))
call RemoveItem(Bio(GetTriggerUnit(),$49303530))
call UnitAddItemByIdSwapped($49303531,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bw0 takes nothing returns nothing
set BDQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDQ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDQ,Condition(function Bwy))
call TriggerAddAction(BDQ,function Bwz)
endfunction
function Bw1 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303533)==true and Bi9(GetTriggerUnit(),$49303534)==true
endfunction
function Bw2 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303534))
call RemoveItem(Bio(GetTriggerUnit(),$49303533))
call UnitAddItemByIdSwapped($49303535,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bw3 takes nothing returns nothing
set BDR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDR,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDR,Condition(function Bw1))
call TriggerAddAction(BDR,function Bw2)
endfunction
function Bw4 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303541)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303541))==10
endfunction
function Bw5 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call RemoveItem(Bio(GetTriggerUnit(),$49303541))
call UnitAddItemByIdSwapped($49303542,GetTriggerUnit())
endfunction
function Bw6 takes nothing returns nothing
set BDS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDS,Condition(function Bw4))
call TriggerAddAction(BDS,function Bw5)
endfunction
function Bw7 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303545)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303545))==10
endfunction
function Bw8 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call RemoveItem(Bio(GetTriggerUnit(),$49303545))
call UnitAddItemByIdSwapped($49303546,GetTriggerUnit())
endfunction
function Bw9 takes nothing returns nothing
set BDT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDT,Condition(function Bw7))
call TriggerAddAction(BDT,function Bw8)
endfunction
function BxB takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303547)==true and Bi9(GetTriggerUnit(),$49303139)==true and Bi9(GetTriggerUnit(),$49303141)==true
endfunction
function BxC takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303547))
call RemoveItem(Bio(GetTriggerUnit(),$49303139))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call UnitAddItemByIdSwapped($49303543,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxD takes nothing returns nothing
set BDU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDU,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDU,Condition(function BxB))
call TriggerAddAction(BDU,function BxC)
endfunction
function BxE takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303546)==true and Bi9(GetTriggerUnit(),$49303633)==true and Bi9(GetTriggerUnit(),$49303548)==true and Bi9(GetTriggerUnit(),$49303543)==true
endfunction
function BxF takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303548))
call RemoveItem(Bio(GetTriggerUnit(),$49303546))
call RemoveItem(Bio(GetTriggerUnit(),$49303633))
call RemoveItem(Bio(GetTriggerUnit(),$49303543))
call UnitAddItemByIdSwapped($49303544,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxG takes nothing returns nothing
set BDV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDV,Condition(function BxE))
call TriggerAddAction(BDV,function BxF)
endfunction
function BxH takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303549)==true and Bi9(GetTriggerUnit(),$49303339)==true and Bi9(GetTriggerUnit(),$49303341)==true and Bi9(GetTriggerUnit(),$49303342)==true
endfunction
function BxI takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303549))
call RemoveItem(Bio(GetTriggerUnit(),$49303339))
call RemoveItem(Bio(GetTriggerUnit(),$49303341))
call RemoveItem(Bio(GetTriggerUnit(),$49303342))
call UnitAddItemByIdSwapped($4930354A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxJ takes nothing returns nothing
set BDW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDW,Condition(function BxH))
call TriggerAddAction(BDW,function BxI)
endfunction
function BxK takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930354A)==true and Bi9(GetTriggerUnit(),$4930335A)==true
endfunction
function BxL takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930335A))
call RemoveItem(Bio(GetTriggerUnit(),$4930354A))
call UnitAddItemByIdSwapped($4930354B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxM takes nothing returns nothing
set BDX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDX,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDX,Condition(function BxK))
call TriggerAddAction(BDX,function BxL)
endfunction
function BxN takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930354E)==true and Bi9(GetTriggerUnit(),$49303434)==true and Bi9(GetTriggerUnit(),$49303151)==true
endfunction
function BxO takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930354E))
call RemoveItem(Bio(GetTriggerUnit(),$49303434))
call RemoveItem(Bio(GetTriggerUnit(),$49303151))
call UnitAddItemByIdSwapped($4930354D,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxP takes nothing returns nothing
set BDY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDY,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDY,Condition(function BxN))
call TriggerAddAction(BDY,function BxO)
endfunction
function BxQ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303550)==true and Bi9(GetTriggerUnit(),$4930354F)==true and Bi9(GetTriggerUnit(),$49303436)==true
endfunction
function BxR takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303550))
call RemoveItem(Bio(GetTriggerUnit(),$4930354F))
call RemoveItem(Bio(GetTriggerUnit(),$49303436))
call UnitAddItemByIdSwapped($49303551,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxS takes nothing returns nothing
set BDZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDZ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDZ,Condition(function BxQ))
call TriggerAddAction(BDZ,function BxR)
endfunction
function BxT takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303544)==true and Bi9(GetTriggerUnit(),$49304159)==true
endfunction
function BxU takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303544))
call RemoveItem(Bio(GetTriggerUnit(),$49304159))
call UnitAddItemByIdSwapped($49303553,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxV takes nothing returns nothing
set BDa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDa,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDa,Condition(function BxT))
call TriggerAddAction(BDa,function BxU)
endfunction
function BxW takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303555)==true and Bi9(GetTriggerUnit(),$49303556)==true and Bi9(GetTriggerUnit(),$49303554)==true
endfunction
function BxX takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303555))
call RemoveItem(Bio(GetTriggerUnit(),$49303556))
call RemoveItem(Bio(GetTriggerUnit(),$49303554))
call UnitAddItemByIdSwapped($49303557,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function BxY takes nothing returns nothing
set BDb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDb,Condition(function BxW))
call TriggerAddAction(BDb,function BxX)
endfunction
function BxZ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303557)==true and Bi9(GetTriggerUnit(),$49303052)==true
endfunction
function Bxa takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303557))
call RemoveItem(Bio(GetTriggerUnit(),$49303052))
call UnitAddItemByIdSwapped($49303558,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxb takes nothing returns nothing
set BDc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDc,Condition(function BxZ))
call TriggerAddAction(BDc,function Bxa)
endfunction
function Bxc takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303630)==true and Bi9(GetTriggerUnit(),$49303157)==true and Bi9(GetTriggerUnit(),$4930355A)==true and Bi9(GetTriggerUnit(),$49303631)==true
endfunction
function Bxd takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303630))
call RemoveItem(Bio(GetTriggerUnit(),$49303157))
call RemoveItem(Bio(GetTriggerUnit(),$4930355A))
call RemoveItem(Bio(GetTriggerUnit(),$49303631))
call UnitAddItemByIdSwapped($49303632,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxe takes nothing returns nothing
set BDd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDd,Condition(function Bxc))
call TriggerAddAction(BDd,function Bxd)
endfunction
function Bxf takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303639)==true and Bi9(GetTriggerUnit(),$49303635)==true and Bi9(GetTriggerUnit(),$49303637)==true and Bi9(GetTriggerUnit(),$49303636)==true
endfunction
function Bxg takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303639))
call RemoveItem(Bio(GetTriggerUnit(),$49303637))
call RemoveItem(Bio(GetTriggerUnit(),$49303636))
call RemoveItem(Bio(GetTriggerUnit(),$49303635))
call UnitAddItemByIdSwapped($49303638,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxh takes nothing returns nothing
set BDe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDe,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDe,Condition(function Bxf))
call TriggerAddAction(BDe,function Bxg)
endfunction
function Bxi takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303646)==true and Bi9(GetTriggerUnit(),$49303645)==true and Bi9(GetTriggerUnit(),$49303032)==true
endfunction
function Bxj takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303646))
call RemoveItem(Bio(GetTriggerUnit(),$49303645))
call RemoveItem(Bio(GetTriggerUnit(),$49303032))
call UnitAddItemByIdSwapped($49303647,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxk takes nothing returns nothing
set BDf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDf,Condition(function Bxi))
call TriggerAddAction(BDf,function Bxj)
endfunction
function Bxl takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303634)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303634))>=5
endfunction
function Bxm takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303634))
call UnitAddItemByIdSwapped($4930364A,GetTriggerUnit())
endfunction
function Bxn takes nothing returns nothing
set BDg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDg,Condition(function Bxl))
call TriggerAddAction(BDg,function Bxm)
endfunction
function Bxo takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303232)==true and Bi9(GetTriggerUnit(),$49303046)==true and Bi9(GetTriggerUnit(),$49303546)==true
endfunction
function Bxp takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303232))
call RemoveItem(Bio(GetTriggerUnit(),$49303046))
call RemoveItem(Bio(GetTriggerUnit(),$49303546))
call UnitAddItemByIdSwapped($49303659,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxq takes nothing returns nothing
set BDh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDh,Condition(function Bxo))
call TriggerAddAction(BDh,function Bxp)
endfunction
function Bxr takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303648)==true and Bi9(GetTriggerUnit(),$49303659)==true
endfunction
function Bxs takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303648))
call RemoveItem(Bio(GetTriggerUnit(),$49303659))
call UnitAddItemByIdSwapped($4930365A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxt takes nothing returns nothing
set BDi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDi,Condition(function Bxr))
call TriggerAddAction(BDi,function Bxs)
endfunction
function Bxu takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303638)==true and Bi9(GetTriggerUnit(),$49303649)==true
endfunction
function Bxv takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303638))
call RemoveItem(Bio(GetTriggerUnit(),$49303649))
call UnitAddItemByIdSwapped($49303730,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxw takes nothing returns nothing
set BDj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDj,Condition(function Bxu))
call TriggerAddAction(BDj,function Bxv)
endfunction
function Bxx takes nothing returns boolean
return Bi9(GetTriggerUnit(),$尖锐之石)==true and Bi9(GetTriggerUnit(),$49303730)==true
endfunction
function Bxy takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$尖锐之石))
call RemoveItem(Bio(GetTriggerUnit(),$49303730))
call UnitAddItemByIdSwapped($49303830,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bxz takes nothing returns nothing
set BDk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDk,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDk,Condition(function Bxx))
call TriggerAddAction(BDk,function Bxy)
endfunction
function Bx0 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303954)==true and Bi9(GetTriggerUnit(),$49303955)==true
endfunction
function Bx1 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303955))
call RemoveItem(Bio(GetTriggerUnit(),$49303954))
call UnitAddItemByIdSwapped($49303956,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bx2 takes nothing returns nothing
set BDl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDl,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDl,Condition(function Bx0))
call TriggerAddAction(BDl,function Bx1)
endfunction
function Bx3 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304137)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304137))==6
endfunction
function Bx4 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49304137))
call RemoveItem(Bio(GetTriggerUnit(),$49304137))
call RemoveItem(Bio(GetTriggerUnit(),$49304137))
call RemoveItem(Bio(GetTriggerUnit(),$49304137))
call RemoveItem(Bio(GetTriggerUnit(),$49304137))
call RemoveItem(Bio(GetTriggerUnit(),$49304137))
call UnitAddItemByIdSwapped($49304138,GetTriggerUnit())
endfunction
function Bx5 takes nothing returns nothing
set BDm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDm,Condition(function Bx3))
call TriggerAddAction(BDm,function Bx4)
endfunction
function Bx6 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303558)==true and Bi9(GetTriggerUnit(),$4930414A)==true
endfunction
function Bx7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930414A))
call RemoveItem(Bio(GetTriggerUnit(),$49303558))
call UnitAddItemByIdSwapped($4930414B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bx8 takes nothing returns nothing
set BDn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDn,Condition(function Bx6))
call TriggerAddAction(BDn,function Bx7)
endfunction
function Bx9 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303553)==true and Bi9(GetTriggerUnit(),$4930415A)==true
endfunction
function ByB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303553))
call RemoveItem(Bio(GetTriggerUnit(),$4930415A))
call UnitAddItemByIdSwapped($49304230,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function ByC takes nothing returns nothing
set BDo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDo,Condition(function Bx9))
call TriggerAddAction(BDo,function ByB)
endfunction
function ByD takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303156)==true and Bi9(GetTriggerUnit(),$4930344B)==true and Bi9(GetTriggerUnit(),$49304233)==true
endfunction
function ByE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303156))
call RemoveItem(Bio(GetTriggerUnit(),$4930344B))
call RemoveItem(Bio(GetTriggerUnit(),$49304233))
call UnitAddItemByIdSwapped($49304234,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你得到了善意碎片的祝福，全属性+25")
call UnitAddAbilityBJ($4130474A,GetTriggerUnit())
endfunction
function ByF takes nothing returns nothing
set BDp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDp,Condition(function ByD))
call TriggerAddAction(BDp,function ByE)
endfunction
function ByG takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304138
endfunction
function ByH takes nothing returns nothing
set cz=0
set BDr=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set cz=cz+1
if cz==2 then
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call UnitAddItemByIdSwapped($4930434E,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function ByI takes nothing returns nothing
set BDq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDq,Condition(function ByG))
call TriggerAddAction(BDq,function ByH)
endfunction
function ByJ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303759)==true and Bi9(GetTriggerUnit(),$49303333)==true
endfunction
function ByK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303333))
call RemoveItem(Bio(GetTriggerUnit(),$49303759))
call CreateItemLoc($4930434F,GetUnitLoc(GetTriggerUnit()))
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function ByL takes nothing returns nothing
set BDs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDs,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDs,Condition(function ByJ))
call TriggerAddAction(BDs,function ByK)
endfunction
function ByM takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303958)==true and Bi9(GetTriggerUnit(),$49304352)==true and Bi9(GetTriggerUnit(),$49303957)==true
endfunction
function ByN takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303958))
call RemoveItem(Bio(GetTriggerUnit(),$49303957))
call RemoveItem(Bio(GetTriggerUnit(),$49304352))
call UnitAddItemByIdSwapped($49304351,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function ByO takes nothing returns nothing
set BDt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDt,Condition(function ByM))
call TriggerAddAction(BDt,function ByN)
endfunction
function ByP takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304236)==true and Bi9(GetTriggerUnit(),$49304235)==true and Bi9(GetTriggerUnit(),$49304342)==true and Bi9(GetTriggerUnit(),$49304439)==true
endfunction
function ByQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304144))
call RemoveItem(Bio(GetTriggerUnit(),$49304235))
call RemoveItem(Bio(GetTriggerUnit(),$49304236))
call RemoveItem(Bio(GetTriggerUnit(),$49304342))
call RemoveItem(Bio(GetTriggerUnit(),$49304439))
call UnitAddItemByIdSwapped($49304441,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function ByR takes nothing returns nothing
set BDu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDu,Condition(function ByP))
call TriggerAddAction(BDu,function ByQ)
endfunction
function ByS takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304442)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function ByT takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930434E))
call RemoveItem(Bio(GetTriggerUnit(),$49304442))
call UnitAddItemByIdSwapped($49304448,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisableTrigger(BDw)
endfunction
function ByU takes nothing returns nothing
set BDv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDv,Condition(function ByS))
call TriggerAddAction(BDv,function ByT)
endfunction
function ByV takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304554)==true and Bi9(GetTriggerUnit(),$49304555)==true and Bi9(GetTriggerUnit(),$49304553)==true
endfunction
function ByW takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49304554))
call RemoveItem(Bio(GetTriggerUnit(),$49304555))
call RemoveItem(Bio(GetTriggerUnit(),$49304553))
call UnitAddItemByIdSwapped($49304556,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function ByX takes nothing returns nothing
set BDx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDx,Condition(function ByV))
call TriggerAddAction(BDx,function ByW)
endfunction
function ByY takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304150)==true and Bi9(GetTriggerUnit(),$49304557)==true
endfunction
function ByZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304150))
call RemoveItem(Bio(GetTriggerUnit(),$49304557))
call UnitAddItemByIdSwapped($49304558,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bya takes nothing returns nothing
set BDy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDy,Condition(function ByY))
call TriggerAddAction(BDy,function ByZ)
endfunction
function Byb takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304643)==true and Bi9(GetTriggerUnit(),$49304649)==true and Bi9(GetTriggerUnit(),$49303850)==true
endfunction
function Byc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303850))
call RemoveItem(Bio(GetTriggerUnit(),$49304649))
call RemoveItem(Bio(GetTriggerUnit(),$49304643))
call UnitAddItemByIdSwapped($4930464B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Byd takes nothing returns nothing
set BDz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDz,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BDz,Condition(function Byb))
call TriggerAddAction(BDz,function Byc)
endfunction
function Bye takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930464E)==true and Bi9(GetTriggerUnit(),$4930464C)==true and Bi9(GetTriggerUnit(),$4930464D)==true and Bi9(GetTriggerUnit(),$49304650)==true
endfunction
function Byf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930464E))
call RemoveItem(Bio(GetTriggerUnit(),$4930464D))
call RemoveItem(Bio(GetTriggerUnit(),$4930464C))
call RemoveItem(Bio(GetTriggerUnit(),$49304650))
call UnitAddItemByIdSwapped($4930464F,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Byg takes nothing returns nothing
set BD0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BD0,Condition(function Bye))
call TriggerAddAction(BD0,function Byf)
endfunction
function Byh takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304937)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$49304934)==true and Bi9(GetTriggerUnit(),$49303141)==true and Bi9(GetTriggerUnit(),$4930454D)==true and Bi9(GetTriggerUnit(),$4930454E)==true
endfunction
function Byi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304937))
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call RemoveItem(Bio(GetTriggerUnit(),$49304934))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call RemoveItem(Bio(GetTriggerUnit(),$4930454E))
call RemoveItem(Bio(GetTriggerUnit(),$4930454D))
call UnitAddItemByIdSwapped($49304939,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Byj takes nothing returns nothing
set m7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(m7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(m7,Condition(function Byh))
call TriggerAddAction(m7,function Byi)
endfunction
function Byk takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304939)==true and Bi9(GetTriggerUnit(),$49303759)==true and Bi9(GetTriggerUnit(),$49303337)==true
endfunction
function Byl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304939))
call RemoveItem(Bio(GetTriggerUnit(),$49303759))
call RemoveItem(Bio(GetTriggerUnit(),$49303337))
call UnitAddItemByIdSwapped($49304941,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bym takes nothing returns nothing
set m8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(m8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(m8,Condition(function Byk))
call TriggerAddAction(m8,function Byl)
endfunction
function Byn takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304942)==true and Bi9(GetTriggerUnit(),$49304944)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function Byo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304942))
call RemoveItem(Bio(GetTriggerUnit(),$49304944))
call RemoveItem(Bio(GetTriggerUnit(),$4930434E))
call UnitAddItemByIdSwapped($49304945,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Byp takes nothing returns nothing
set nD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nD,Condition(function Byn))
call TriggerAddAction(nD,function Byo)
endfunction
function Byq takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303537)==true and Bi9(GetTriggerUnit(),$49303652)==true and Bi9(GetTriggerUnit(),$49303552)==true
endfunction
function Byr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303537))
call RemoveItem(Bio(GetTriggerUnit(),$49303652))
call RemoveItem(Bio(GetTriggerUnit(),$49303552))
call UnitAddItemByIdSwapped($49303751,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Bys takes nothing returns nothing
set BD1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BD1,Condition(function Byq))
call TriggerAddAction(BD1,function Byr)
endfunction
function Byt takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930334E
endfunction
function Byu takes nothing returns nothing
call UnitAddAbilityBJ($41303735,GetTriggerUnit())
endfunction
function Byv takes nothing returns nothing
set BD2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BD2,Condition(function Byt))
call TriggerAddAction(BD2,function Byu)
endfunction
function Byw takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930334E
endfunction
function Byx takes nothing returns nothing
call UnitRemoveAbilityBJ($41303735,GetTriggerUnit())
endfunction
function Byy takes nothing returns nothing
set BD3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD3,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BD3,Condition(function Byw))
call TriggerAddAction(BD3,function Byx)
endfunction
function Byz takes nothing returns boolean
return Bi9(GetEventDamageSource(),$4930334E)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function By0 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function By1 takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetEventDamageSource(),true))*1.+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function By2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function By3 takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))*1.+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function By4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function By5 takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*1.+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function By6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function By0))
call ForGroupBJ(fP,function By1)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function By2))
call ForGroupBJ(fP,function By3)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function By4))
call ForGroupBJ(fP,function By5)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function By7 takes nothing returns nothing
set BD4=CreateTrigger()
call Bi3(BD4)
call TriggerAddCondition(BD4,Condition(function Byz))
call TriggerAddAction(BD4,function By6)
endfunction
function By8 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930354B
endfunction
function By9 takes nothing returns nothing
call UnitAddAbilityBJ($41304255,GetTriggerUnit())
endfunction
function BzB takes nothing returns nothing
set BD5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BD5,Condition(function By8))
call TriggerAddAction(BD5,function By9)
endfunction
function BzC takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930354B
endfunction
function BzD takes nothing returns nothing
call UnitRemoveAbilityBJ($41304255,GetTriggerUnit())
endfunction
function BzE takes nothing returns nothing
set BD6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD6,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BD6,Condition(function BzC))
call TriggerAddAction(BD6,function BzD)
endfunction
function BzF takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303553
endfunction
function BzG takes nothing returns nothing
call UnitAddAbilityBJ($4130414C,GetTriggerUnit())
endfunction
function BzH takes nothing returns nothing
set BD7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BD7,Condition(function BzF))
call TriggerAddAction(BD7,function BzG)
endfunction
function BzI takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303553
endfunction
function BzJ takes nothing returns nothing
call UnitRemoveAbilityBJ($4130414C,GetTriggerUnit())
endfunction
function BzK takes nothing returns nothing
set BD8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BD8,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BD8,Condition(function BzI))
call TriggerAddAction(BD8,function BzJ)
endfunction
function BzL takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49303558)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function BzM takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function BzN takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))*1.+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEventDamageSource())*.1,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function BzO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(275.,i8,Condition(function BzM))
call ForGroupBJ(fP,function BzN)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetEventDamageSource())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BzP takes nothing returns nothing
set BD9=CreateTrigger()
call Bi3(BD9)
call TriggerAddCondition(BD9,Condition(function BzL))
call TriggerAddAction(BD9,function BzO)
endfunction
function BzQ takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49303746)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function BzR takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function BzS takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetEventDamageSource(),true))*2.+200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function BzT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function BzR))
call ForGroupBJ(fP,function BzS)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BzU takes nothing returns nothing
set BEB=CreateTrigger()
call Bi3(BEB)
call TriggerAddCondition(BEB,Condition(function BzQ))
call TriggerAddAction(BEB,function BzT)
endfunction
function BzV takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303754 and GetTriggerUnit()==Ud
endfunction
function BzW takes nothing returns nothing
call UnitAddAbilityBJ($41304444,GetTriggerUnit())
endfunction
function BzX takes nothing returns nothing
set BEC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEC,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEC,Condition(function BzV))
call TriggerAddAction(BEC,function BzW)
endfunction
function BzY takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303754 and GetTriggerUnit()==Ud
endfunction
function BzZ takes nothing returns nothing
call UnitRemoveAbilityBJ($41304444,GetTriggerUnit())
endfunction
function Bza takes nothing returns nothing
set BED=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BED,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BED,Condition(function BzY))
call TriggerAddAction(BED,function BzZ)
endfunction
function Bzb takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303755 and GetTriggerUnit()==Ud
endfunction
function Bzc takes nothing returns nothing
call UnitAddAbilityBJ($41304445,GetTriggerUnit())
endfunction
function Bzd takes nothing returns nothing
set BEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEE,Condition(function Bzb))
call TriggerAddAction(BEE,function Bzc)
endfunction
function Bze takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303755 and GetTriggerUnit()==Ud
endfunction
function Bzf takes nothing returns nothing
call UnitRemoveAbilityBJ($41304445,GetTriggerUnit())
endfunction
function Bzg takes nothing returns nothing
set BEF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEF,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEF,Condition(function Bze))
call TriggerAddAction(BEF,function Bzf)
endfunction
function Bzh takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303756 and GetTriggerUnit()==Ud
endfunction
function Bzi takes nothing returns nothing
call UnitAddAbilityBJ($41304446,GetTriggerUnit())
endfunction
function Bzj takes nothing returns nothing
set BEG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEG,Condition(function Bzh))
call TriggerAddAction(BEG,function Bzi)
endfunction
function Bzk takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303756 and GetTriggerUnit()==Ud
endfunction
function Bzl takes nothing returns nothing
call UnitRemoveAbilityBJ($41304446,GetTriggerUnit())
endfunction
function Bzm takes nothing returns nothing
set BEH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEH,Condition(function Bzk))
call TriggerAddAction(BEH,function Bzl)
endfunction
function Bzn takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303757 and GetTriggerUnit()==Ud
endfunction
function Bzo takes nothing returns nothing
call UnitAddAbilityBJ($41304448,GetTriggerUnit())
call UnitAddAbilityBJ($4130444A,GetTriggerUnit())
endfunction
function Bzp takes nothing returns nothing
set BEI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEI,Condition(function Bzn))
call TriggerAddAction(BEI,function Bzo)
endfunction
function Bzq takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303757 and GetTriggerUnit()==Ud
endfunction
function Bzr takes nothing returns nothing
call UnitRemoveAbilityBJ($41304448,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130444A,GetTriggerUnit())
endfunction
function Bzs takes nothing returns nothing
set BEJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEJ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEJ,Condition(function Bzq))
call TriggerAddAction(BEJ,function Bzr)
endfunction
function Bzt takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303834 and GetTriggerUnit()==Uj
endfunction
function Bzu takes nothing returns nothing
call UnitAddAbilityBJ($4130444F,GetTriggerUnit())
call UnitAddAbilityBJ($41304450,GetTriggerUnit())
endfunction
function Bzv takes nothing returns nothing
set BEK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEK,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEK,Condition(function Bzt))
call TriggerAddAction(BEK,function Bzu)
endfunction
function Bzw takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303834 and GetTriggerUnit()==Uj
endfunction
function Bzx takes nothing returns nothing
call UnitRemoveAbilityBJ($4130444F,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304450,GetTriggerUnit())
endfunction
function Bzy takes nothing returns nothing
set BEL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEL,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEL,Condition(function Bzw))
call TriggerAddAction(BEL,function Bzx)
endfunction
function Bzz takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303838 or GetItemTypeId(GetManipulatedItem())==$49303536 and GetTriggerUnit()==Uj
endfunction
function Bz0 takes nothing returns nothing
call UnitAddAbilityBJ($41304453,GetTriggerUnit())
endfunction
function Bz1 takes nothing returns nothing
set BEM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEM,Condition(function Bzz))
call TriggerAddAction(BEM,function Bz0)
endfunction
function Bz2 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303838 or GetItemTypeId(GetManipulatedItem())==$49303536 and GetTriggerUnit()==Uj
endfunction
function Bz3 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304453,GetTriggerUnit())
endfunction
function Bz4 takes nothing returns nothing
set BEN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEN,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEN,Condition(function Bz2))
call TriggerAddAction(BEN,function Bz3)
endfunction
function Bz5 takes nothing returns boolean
return Bi9(GetEventDamageSource(),$4930414B)==true or Bi9(GetEventDamageSource(),$4930484E)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Bz6 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Bz7 takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))*5.+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEventDamageSource())*.1,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Bz8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(375.,i8,Condition(function Bz6))
call ForGroupBJ(fP,function Bz7)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetEventDamageSource())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Bz9 takes nothing returns nothing
set BEO=CreateTrigger()
call Bi3(BEO)
call TriggerAddCondition(BEO,Condition(function Bz5))
call TriggerAddAction(BEO,function Bz8)
endfunction
function B0B takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304230
endfunction
function B0C takes nothing returns nothing
call UnitAddAbilityBJ($41304747,GetTriggerUnit())
endfunction
function B0D takes nothing returns nothing
set BEP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEP,Condition(function B0B))
call TriggerAddAction(BEP,function B0C)
endfunction
function B0E takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304230
endfunction
function B0F takes nothing returns nothing
call UnitRemoveAbilityBJ($41304747,GetTriggerUnit())
endfunction
function B0G takes nothing returns nothing
set BEQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEQ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEQ,Condition(function B0E))
call TriggerAddAction(BEQ,function B0F)
endfunction
function B0H takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304441
endfunction
function B0I takes nothing returns nothing
call UnitAddAbilityBJ($41304858,GetTriggerUnit())
call UnitAddAbilityBJ($41304859,GetTriggerUnit())
endfunction
function B0J takes nothing returns nothing
set BER=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BER,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BER,Condition(function B0H))
call TriggerAddAction(BER,function B0I)
endfunction
function B0K takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304441
endfunction
function B0L takes nothing returns nothing
call UnitRemoveAbilityBJ($41304858,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304859,GetTriggerUnit())
endfunction
function B0M takes nothing returns nothing
set BES=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BES,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BES,Condition(function B0K))
call TriggerAddAction(BES,function B0L)
endfunction
function B0N takes nothing returns boolean
return GetSpellAbilityId()==$4130314D and Bi9(GetTriggerUnit(),$49304550)==true and dK!=true
endfunction
function B0O takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set dJ=GetUnitAbilityLevelSwapped($4130314D,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130314D,GetTriggerUnit())
call UnitAddAbilityBJ($4130314D,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($4130314D,GetTriggerUnit(),dJ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B0P takes nothing returns nothing
set BET=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BET,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BET,Condition(function B0N))
call TriggerAddAction(BET,function B0O)
endfunction
function B0Q takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930464B
endfunction
function B0R takes nothing returns nothing
call UnitAddAbilityBJ($41304D32,GetTriggerUnit())
call UnitAddAbilityBJ($41304D33,GetTriggerUnit())
endfunction
function B0S takes nothing returns nothing
set BEU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEU,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEU,Condition(function B0Q))
call TriggerAddAction(BEU,function B0R)
endfunction
function B0T takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930464B
endfunction
function B0U takes nothing returns nothing
call UnitRemoveAbilityBJ($41304D32,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304D33,GetTriggerUnit())
endfunction
function B0V takes nothing returns nothing
set BEV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEV,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEV,Condition(function B0T))
call TriggerAddAction(BEV,function B0U)
endfunction
function B0W takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930464F
endfunction
function B0X takes nothing returns nothing
call UnitAddAbilityBJ($41304D36,GetTriggerUnit())
call UnitAddAbilityBJ($41304D35,GetTriggerUnit())
call UnitAddAbilityBJ($41304D37,GetTriggerUnit())
endfunction
function B0Y takes nothing returns nothing
set BEW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEW,Condition(function B0W))
call TriggerAddAction(BEW,function B0X)
endfunction
function B0Z takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930464F
endfunction
function B0a takes nothing returns nothing
call UnitRemoveAbilityBJ($41304D36,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304D35,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304D37,GetTriggerUnit())
endfunction
function B0b takes nothing returns nothing
set BEX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEX,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BEX,Condition(function B0Z))
call TriggerAddAction(BEX,function B0a)
endfunction
function B0c takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304850)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B0d takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))*1.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B0e takes nothing returns nothing
set mX=CreateTrigger()
call Bi3(mX)
call TriggerAddCondition(mX,Condition(function B0c))
call TriggerAddAction(mX,function B0d)
endfunction
function B0f takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304933)==true or Bi9(GetTriggerUnit(),$49304935)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B0g takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.25+0+0)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B0h takes nothing returns nothing
set m1=CreateTrigger()
call Bi3(m1)
call TriggerAddCondition(m1,Condition(function B0f))
call TriggerAddAction(m1,function B0g)
endfunction
function B0i takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B0j takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(SO))
endfunction
function B0k takes nothing returns nothing
set uZ=CreateTrigger()
call Bi7(uZ,SL)
call TriggerAddCondition(uZ,Condition(function B0i))
call TriggerAddAction(uZ,function B0j)
endfunction
function B0l takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B0m takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(SM))
endfunction
function B0n takes nothing returns nothing
set ua=CreateTrigger()
call Bi7(ua,SN)
call TriggerAddCondition(ua,Condition(function B0l))
call TriggerAddAction(ua,function B0m)
endfunction
function B0o takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B0p takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"你感受到附近有很浓烈的杀气..")
endfunction
function B0q takes nothing returns nothing
set ub=CreateTrigger()
call Bi7(ub,SP)
call TriggerAddCondition(ub,Condition(function B0o))
call TriggerAddAction(ub,function B0p)
endfunction
function B0r takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(ZV,false)
call ShowUnit(ZW,false)
call ShowUnit(ZX,false)
call ShowUnit(ZY,false)
call ShowUnit(ZZ,false)
call ShowUnit(Za,false)
call ShowUnit(Zb,false)
endfunction
function B0s takes nothing returns nothing
set uc=CreateTrigger()
call TriggerRegisterTimerEventSingle(uc,1.3)
call TriggerAddAction(uc,function B0r)
endfunction
function B0t takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetManipulatedItem()==UZ
endfunction
function B0u takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(uZ)
call DisableTrigger(ua)
call ShowUnit(ZV,true)
call ShowUnit(ZW,true)
call ShowUnit(ZX,true)
call ShowUnit(ZY,true)
call ShowUnit(ZZ,true)
call ShowUnit(Za,true)
call ShowUnit(Zb,true)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"荒漠强盗头子：嘻嘻嘻嘻...一个破甲居然还能钓到人，出口入口都被我封了，你就别想走了，这个甲你也别想要了")
call RemoveItem(UZ)
set lG=GetUnitLoc(ZV)
set qH=GetUnitLoc(GetTriggerUnit())
call AddLightningLoc("FORK",lG,qH)
call Bjn(.5,GetLastCreatedLightningBJ())
call RemoveLocation(lG)
call RemoveLocation(qH)
set qH=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(qH,"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(qH)
call UnitDamageTargetBJ(ZV,GetTriggerUnit(),2750.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function B0v takes nothing returns nothing
set ud=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ud,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ud,Condition(function B0t))
call TriggerAddAction(ud,function B0u)
endfunction
function B0w takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(uZ)
call EnableTrigger(ua)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"荒漠强盗头子：啊啊啊啊！！不！！~")
endfunction
function B0x takes nothing returns nothing
set ue=CreateTrigger()
call TriggerRegisterUnitEvent(ue,ZV,EVENT_UNIT_DEATH)
call TriggerAddAction(ue,function B0w)
endfunction
function B0y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304B37)==true and gO==true
endfunction
function B0z takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：等等..你身上这件荒漠甲..")
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：这不是我当初不小心在漠尔镇外丢了的那件甲吗..居然在你手上")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：不过这件甲要修复起来也很麻烦，需要找差不多类型的材料才行..")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：你如果能找到相关的材料过来，我可以帮你修复..")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务“荒漠行者甲的修复”开启")
call EnableTrigger(us)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"荒漠行者甲的修复","请凑齐蝎爪、蝎冠、蝎甲后，再携带这件不知名的荒漠甲交给莫斯修复（材料在修复后会消失）","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set ut=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B00 takes nothing returns nothing
set ur=CreateTrigger()
call Bi7(ur,O2)
call TriggerAddCondition(ur,Condition(function B0y))
call TriggerAddAction(ur,function B0z)
endfunction
function B01 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304B37)==true and Bi9(GetTriggerUnit(),$49303745)==true and Bi9(GetTriggerUnit(),$49303743)==true and Bi9(GetTriggerUnit(),$49303744)==true
endfunction
function B02 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B37))
call RemoveItem(Bio(GetTriggerUnit(),$49303745))
call RemoveItem(Bio(GetTriggerUnit(),$49303743))
call RemoveItem(Bio(GetTriggerUnit(),$49303744))
call UnitAddItemByIdSwapped($49304B41,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：这些材料确实是能用来修复..但是这件甲实在是损坏的太厉害了.")
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：你需要再找到一件更好的材料，我才能帮你继续修复")
call EnableTrigger(uu)
call QuestSetDescription(ut,"另寻其他更好的材料继续修复这件荒漠甲吧..（携带荒漠靴和蝎王瑟卡德之核、铠、爪三选一后，再将这件荒漠甲带到莫斯处进行修复，修复材料会消失）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B03 takes nothing returns nothing
set us=CreateTrigger()
call Bi7(us,O2)
call TriggerAddCondition(us,Condition(function B01))
call TriggerAddAction(us,function B02)
endfunction
function B04 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(us)
call DisableTrigger(uu)
endfunction
function B05 takes nothing returns nothing
set uv=CreateTrigger()
call TriggerRegisterTimerEventSingle(uv,1.3)
call TriggerAddAction(uv,function B04)
endfunction
function B06 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304B41)==true and Bi9(GetTriggerUnit(),$49304B38)==true and Bi9(GetTriggerUnit(),$49304B43)==true or Bi9(GetTriggerUnit(),$49303749)==true or Bi9(GetTriggerUnit(),$4930374A)==true
endfunction
function B07 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B41))
call RemoveItem(Bio(GetTriggerUnit(),$49304B38))
call UnitAddItemByIdSwapped($49304B42,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：哈哈..看来我很适合当一个修复师啊")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：虽然说这件甲本来就是我的，算了，看在材料都是你找来的，就送给你了")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务“荒漠行者甲的修复”完成")
call QuestSetCompleted(ut,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B08 takes nothing returns nothing
set uu=CreateTrigger()
call Bi7(uu,O2)
call TriggerAddCondition(uu,Condition(function B06))
call TriggerAddAction(uu,function B07)
endfunction
function B09 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B32)==true and Bi9(GetTriggerUnit(),$49304A5A)==true and Bi9(GetTriggerUnit(),$49304A59)==true and Bi9(GetTriggerUnit(),$49304B30)==true
endfunction
function B1B takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B32))
call RemoveItem(Bio(GetTriggerUnit(),$49304A5A))
call RemoveItem(Bio(GetTriggerUnit(),$49304A59))
call RemoveItem(Bio(GetTriggerUnit(),$49304B30))
call UnitAddItemByIdSwapped($49304B31,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B1C takes nothing returns nothing
set uO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uO,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uO,Condition(function B09))
call TriggerAddAction(uO,function B1B)
endfunction
function B1D takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B31)==true and Bi9(GetTriggerUnit(),$4930364A)==true
endfunction
function B1E takes nothing returns nothing
if gL>=3 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雷蜥剑已从电蜥蜴的唾液中吸收足够的能量，请在“电蜥之精华”的辅助下得到进一步提升")
call RemoveItem(Bio(GetTriggerUnit(),$4930364A))
call EnableTrigger(uQ)
else
call RemoveItem(Bio(GetTriggerUnit(),$4930364A))
set gL=gL+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"雷蜥剑吸收程度"+I2S(25*gL)+"%")
endif
endfunction
function B1F takes nothing returns nothing
set uP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uP,Condition(function B1D))
call TriggerAddAction(uP,function B1E)
endfunction
function B1G takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B31)==true and Bi9(GetTriggerUnit(),$49303638)==true
endfunction
function B1H takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雷蜥剑成功得到进阶！")
call RemoveItem(Bio(GetTriggerUnit(),$49304B31))
call RemoveItem(Bio(GetTriggerUnit(),$49303638))
call UnitAddItemByIdSwapped($49304B33,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B1I takes nothing returns nothing
set uQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uQ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uQ,Condition(function B1G))
call TriggerAddAction(uQ,function B1H)
endfunction
function B1J takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(uQ)
endfunction
function B1K takes nothing returns nothing
set uR=CreateTrigger()
call TriggerRegisterTimerEventSingle(uR,1.3)
call TriggerAddAction(uR,function B1J)
endfunction
function B1L takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304B33)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B1M takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B1N takes nothing returns nothing
set lG=GetUnitLoc(GetEventDamageSource())
set qH=GetUnitLoc(GetEnumUnit())
call AddLightningLoc("FORK",lG,qH)
call Bjn(.5,GetLastCreatedLightningBJ())
call RemoveLocation(lG)
call RemoveLocation(qH)
set qH=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(qH,"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(qH)
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),200.+I2R(GetHeroAgi(GetEventDamageSource(),true))*2.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function B1O takes nothing returns nothing
if GetRandomInt(1,100)<=25 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(750.,i8,Condition(function B1M))
set fQ=BjB(5,fP)
call ForGroupBJ(fQ,function B1N)
call DestroyGroup(fP)
call DestroyGroup(fQ)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function B1P takes nothing returns nothing
set uS=CreateTrigger()
call Bi3(uS)
call TriggerAddCondition(uS,Condition(function B1L))
call TriggerAddAction(uS,function B1O)
endfunction
function B1Q takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304A56)==true and Bi9(GetTriggerUnit(),$49304A53)==true and Bi9(GetTriggerUnit(),$沙硕手环)==true and Bi9(GetTriggerUnit(),$49304A54)==true
endfunction
function B1R takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A56))
call RemoveItem(Bio(GetTriggerUnit(),$49304A53))
call RemoveItem(Bio(GetTriggerUnit(),$沙硕手环))
call RemoveItem(Bio(GetTriggerUnit(),$49304A54))
call UnitAddItemByIdSwapped($49304A57,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B1S takes nothing returns nothing
set uF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uF,Condition(function B1Q))
call TriggerAddAction(uF,function B1R)
endfunction
function B1T takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303046 or GetUnitTypeId(GetDyingUnit())==$6E303157 and Bi9(GetKillingUnitBJ(),$49304A57)==true
endfunction
function B1U takes nothing returns nothing
if gJ>=33 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒漠之息已饱吸此类孱弱的小怪，欲求更为强大的土元素之力.")
call EnableTrigger(uJ)
else
set gJ=gJ+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"荒漠之息吸收程度"+I2S(3*gJ)+"%")
endif
endfunction
function B1V takes nothing returns nothing
set uI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(uI,Condition(function B1T))
call TriggerAddAction(uI,function B1U)
endfunction
function B1W takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(uJ)
call DisableTrigger(uL)
endfunction
function B1X takes nothing returns nothing
set uK=CreateTrigger()
call TriggerRegisterTimerEventSingle(uK,1.3)
call TriggerAddAction(uK,function B1W)
endfunction
function B1Y takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303047 or GetUnitTypeId(GetDyingUnit())==$6E303247 and Bi9(GetKillingUnitBJ(),$49304A57)==true
endfunction
function B1Z takes nothing returns nothing
if gK>=4 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒漠之息已饱吸此类野怪，欲求此处最为强大的土元素之力")
call EnableTrigger(uL)
else
set gK=gK+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"荒漠之息吸收程度"+I2S(20*gK)+"%")
endif
endfunction
function B1a takes nothing returns nothing
set uJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uJ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(uJ,Condition(function B1Y))
call TriggerAddAction(uJ,function B1Z)
endfunction
function B1b takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303531 and Bi9(GetKillingUnitBJ(),$49304A57)==true
endfunction
function B1c takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒漠之息饱汲土元素之力，跃升至全新境界！")
call RemoveItem(Bio(GetKillingUnitBJ(),$49304A57))
call UnitAddItemByIdSwapped($49304A58,GetKillingUnitBJ())
set js=GetUnitLoc(GetKillingUnitBJ())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetKillingUnitBJ())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetKillingUnitBJ())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetKillingUnitBJ())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetKillingUnitBJ())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B1d takes nothing returns nothing
set uL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uL,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(uL,Condition(function B1b))
call TriggerAddAction(uL,function B1c)
endfunction
function B1e takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303036
endfunction
function B1f takes nothing returns nothing
set fO=0
set qw=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set fO=fO+1
if fO==5 then
call RemoveItem(Bio(GetTriggerUnit(),$49303036))
call RemoveItem(Bio(GetTriggerUnit(),$49303036))
call RemoveItem(Bio(GetTriggerUnit(),$49303036))
call RemoveItem(Bio(GetTriggerUnit(),$49303036))
call RemoveItem(Bio(GetTriggerUnit(),$49303036))
call RemoveItem(Bio(GetTriggerUnit(),$49303036))
call UnitAddItemByIdSwapped($49304A34,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B1g takes nothing returns nothing
set qv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(qv,Condition(function B1e))
call TriggerAddAction(qv,function B1f)
endfunction
function B1h takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304A34)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and 0!=EXGetEventDamageData(mY)==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B1i takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B1j takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),80.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function B1k takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function B1i))
call ForGroupBJ(fP,function B1j)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B1l takes nothing returns nothing
set qx=CreateTrigger()
call Bi3(qx)
call TriggerAddCondition(qx,Condition(function B1h))
call TriggerAddAction(qx,function B1k)
endfunction
function B1m takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303146
endfunction
function B1n takes nothing returns nothing
set cx=0
set BEZ=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set cx=cx+1
if cx==5 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304344,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有的人被奖励了1000点最大生命值")
call UnitAddAbilityBJ($41304845,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B1o takes nothing returns nothing
set BEY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEY,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEY,Condition(function B1m))
call TriggerAddAction(BEY,function B1n)
endfunction
function B1p takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303147
endfunction
function B1q takes nothing returns nothing
set cy=0
set BEb=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set cy=cy+1
if cy==5 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304345,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有的人被奖励了500点最大魔法值")
call UnitAddAbilityBJ($41304846,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B1r takes nothing returns nothing
set BEa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEa,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEa,Condition(function B1p))
call TriggerAddAction(BEa,function B1q)
endfunction
function B1s takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304344)==true and Bi9(GetTriggerUnit(),$49303534)==true
endfunction
function B1t takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304344))
call RemoveItem(Bio(GetTriggerUnit(),$49303534))
call UnitAddItemByIdSwapped($49304346,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B1u takes nothing returns nothing
set BEc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEc,Condition(function B1s))
call TriggerAddAction(BEc,function B1t)
endfunction
function B1v takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304345)==true and Bi9(GetTriggerUnit(),$49303533)==true
endfunction
function B1w takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304345))
call RemoveItem(Bio(GetTriggerUnit(),$49303533))
call UnitAddItemByIdSwapped($49304347,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B1x takes nothing returns nothing
set BEd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEd,Condition(function B1v))
call TriggerAddAction(BEd,function B1w)
endfunction
function B1y takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303137)==true
endfunction
function B1z takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BEf)
endfunction
function B10 takes nothing returns nothing
set BEe=CreateTrigger()
call Bi7(BEe,CU)
call TriggerAddCondition(BEe,Condition(function B1y))
call TriggerAddAction(BEe,function B1z)
endfunction
function B11 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303137)==true
endfunction
function B12 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BEg)
endfunction
function B13 takes nothing returns nothing
set BEf=CreateTrigger()
call Bi7(BEf,LN)
call TriggerAddCondition(BEf,Condition(function B11))
call TriggerAddAction(BEf,function B12)
endfunction
function B14 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303137)==true
endfunction
function B15 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BEh)
endfunction
function B16 takes nothing returns nothing
set BEg=CreateTrigger()
call Bi7(BEg,Ig)
call TriggerAddCondition(BEg,Condition(function B14))
call TriggerAddAction(BEg,function B15)
endfunction
function B17 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303137)==true
endfunction
function B18 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BEi)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你穿着普通的鞋在漠尔沙漠中走了很多地方，这鞋子越来越坚韧，如果能再结合遗迹大精华，应该会有新的变化。")
endfunction
function B19 takes nothing returns nothing
set BEh=CreateTrigger()
call Bi7(BEh,Ks)
call TriggerAddCondition(BEh,Condition(function B17))
call TriggerAddAction(BEh,function B18)
endfunction
function B2B takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303137)==true and Bi9(GetTriggerUnit(),$49303542)==true
endfunction
function B2C takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303137))
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call UnitAddItemByIdSwapped($49304459,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B2D takes nothing returns nothing
set BEi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BEi,Condition(function B2B))
call TriggerAddAction(BEi,function B2C)
endfunction
function B2E takes nothing returns nothing
call DisableTrigger(BEf)
call DisableTrigger(BEg)
call DisableTrigger(BEh)
call DisableTrigger(BEi)
endfunction
function B2F takes nothing returns nothing
set BEj=CreateTrigger()
call TriggerAddAction(BEj,function B2E)
endfunction
function B2G takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303241)==true and Bi9(GetTriggerUnit(),$49303546)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$49304459)==true and c4==true
endfunction
function B2H takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304459))
call RemoveItem(Bio(GetTriggerUnit(),$49303546))
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在烈焰的灼烧、魔核核心、遗迹大精华能量灌输下，以及炎能之心的赋予，通用之鞋焕发了炎的力量，成为了你自身的一部分，妮雅娜获得全属性+20，护甲+20，生命+750，攻击力+200，生命恢复速度+20。（通用之鞋-炎不占物品栏）")
call UnitAddAbilityBJ($41304953,Uc)
call UnitAddAbilityBJ($41304958,Uc)
call UnitAddAbilityBJ($41304957,Uc)
call UnitAddAbilityBJ($41304954,Uc)
call UnitAddAbilityBJ($41304955,Uc)
endfunction
function B2I takes nothing returns nothing
set BEk=CreateTrigger()
call Bi7(BEk,D2)
call TriggerAddCondition(BEk,Condition(function B2G))
call TriggerAddAction(BEk,function B2H)
endfunction
function B2J takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303754)==true and Bi9(GetTriggerUnit(),$49303233)==true
endfunction
function B2K takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if RectContainsUnit(Oy,Ud)==true and Bi9(GetTriggerUnit(),$49303053)==true then
call ModifyHeroStat(bj_HEROSTAT_STR,Ud,bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_AGI,Ud,bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_INT,Ud,bj_MODIFYMETHOD_ADD,10)
call EnableTrigger(BEm)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：我在这里似乎感受到了一丝制裁之力痕迹的流动。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔全属性增加10点（白字属性）。")
else
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：我在附近感受到了制裁之力的痕迹...再找找应该能发现..")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B2L takes nothing returns nothing
set BEl=CreateTrigger()
call Bi7(BEl,Oy)
call TriggerAddCondition(BEl,Condition(function B2J))
call TriggerAddAction(BEl,function B2K)
endfunction
function B2M takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303754)==true and Bi9(GetTriggerUnit(),$49303233)==true
endfunction
function B2N takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if RectContainsUnit(By,Ud)==true and Bi9(GetTriggerUnit(),$49303053)==true then
call UnitAddAbilityBJ($41304B49,GetTriggerUnit())
call EnableTrigger(BEn)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：这里也存在着制裁之力的痕迹。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔全属性增加10点（绿字属性）。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：我应该有资格寻找“制裁之力”了。")
else
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：我在附近感受到了制裁之力的痕迹...再找找应该能发现..")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B2O takes nothing returns nothing
set BEm=CreateTrigger()
call Bi7(BEm,By)
call TriggerAddCondition(BEm,Condition(function B2M))
call TriggerAddAction(BEm,function B2N)
endfunction
function B2P takes nothing returns boolean
return GetKillingUnitBJ()==Ud and Bi9(GetKillingUnitBJ(),$49303757)==true and Bi9(GetKillingUnitBJ(),$49303155)==true and Bi9(GetKillingUnitBJ(),$49303638)==true and Bi9(GetKillingUnitBJ(),$49303236)==true and GetUnitTypeId(GetDyingUnit())==$6E303049
endfunction
function B2Q takes nothing returns nothing
set c8=c8+1
if c8==16 then
call DisableTrigger(GetTriggeringTrigger())
set c9=0
call ShowUnitShow(YS)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雷霆蜥蜴领主在某个地方出现了")
call EnableTrigger(BEo)
call EnableTrigger(BEp)
else
endif
endfunction
function B2R takes nothing returns nothing
set BEn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEn,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BEn,Condition(function B2P))
call TriggerAddAction(BEn,function B2Q)
endfunction
function B2S takes nothing returns nothing
call ShowUnitHide(YS)
call DisableTrigger(BEn)
call DisableTrigger(BEo)
call DisableTrigger(BEp)
call DisableTrigger(BEm)
endfunction
function B2T takes nothing returns nothing
set BEq=CreateTrigger()
call TriggerAddAction(BEq,function B2S)
endfunction
function B2U takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B2V takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ot))
endfunction
function B2W takes nothing returns nothing
set BEo=CreateTrigger()
call Bi7(BEo,Ou)
call TriggerAddCondition(BEo,Condition(function B2U))
call TriggerAddAction(BEo,function B2V)
endfunction
function B2X takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B2Y takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ov))
endfunction
function B2Z takes nothing returns nothing
set BEp=CreateTrigger()
call Bi7(BEp,Os)
call TriggerAddCondition(BEp,Condition(function B2X))
call TriggerAddAction(BEp,function B2Y)
endfunction
function B2a takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雷霆蜥蜴领主死亡，西菲尔获得制裁之力，全属性增加30点，攻击力增加200点。")
call UnitAddAbilityBJ($41304B38,Ud)
call UnitAddAbilityBJ($41304B37,Ud)
endfunction
function B2b takes nothing returns nothing
set BEr=CreateTrigger()
call TriggerRegisterUnitEvent(BEr,YS,EVENT_UNIT_DEATH)
call TriggerAddAction(BEr,function B2a)
endfunction
function B2c takes nothing returns boolean
return GetKillingUnitBJ()==Ud and Bi9(GetKillingUnitBJ(),$49303237)==true and Bi9(GetKillingUnitBJ(),$49303757)==true and Bi9(GetKillingUnitBJ(),$49304545)==true and GetUnitTypeId(GetDyingUnit())==$6E303333
endfunction
function B2d takes nothing returns nothing
set c9=c9+1
if c9==30 then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304546,GetKillingUnitBJ())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雷摄之饰出现了")
else
endif
endfunction
function B2e takes nothing returns nothing
set BEs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BEs,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BEs,Condition(function B2c))
call TriggerAddAction(BEs,function B2d)
endfunction
function B2f takes nothing returns nothing
call SetDoodadAnimationRectBJ("hide",$584F6D72,LD)
call DisableTrigger(BEu)
call DisableTrigger(BEv)
call DisableTrigger(BEw)
call DisableTrigger(BEx)
endfunction
function B2g takes nothing returns nothing
set BEt=CreateTrigger()
call TriggerAddAction(BEt,function B2f)
endfunction
function B2h takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true
endfunction
function B2i takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"1.Let")
endfunction
function B2j takes nothing returns nothing
set BEu=CreateTrigger()
call Bi7(BEu,O6)
call TriggerAddCondition(BEu,Condition(function B2h))
call TriggerAddAction(BEu,function B2i)
endfunction
function B2k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true
endfunction
function B2l takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"2.the")
endfunction
function B2m takes nothing returns nothing
set BEv=CreateTrigger()
call Bi7(BEv,O3)
call TriggerAddCondition(BEv,Condition(function B2k))
call TriggerAddAction(BEv,function B2l)
endfunction
function B2n takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true
endfunction
function B2o takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"3.light")
endfunction
function B2p takes nothing returns nothing
set BEw=CreateTrigger()
call Bi7(BEw,O4)
call TriggerAddCondition(BEw,Condition(function B2n))
call TriggerAddAction(BEw,function B2o)
endfunction
function B2q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true
endfunction
function B2r takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"4.shine")
endfunction
function B2s takes nothing returns nothing
set BEx=CreateTrigger()
call Bi7(BEx,O5)
call TriggerAddCondition(BEx,Condition(function B2q))
call TriggerAddAction(BEx,function B2r)
endfunction
function B2t takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BEz)
call DisableTrigger(BE0)
call SetDoodadAnimationRectBJ("hide",$594F6C62,LD)
endfunction
function B2u takes nothing returns nothing
set BEy=CreateTrigger()
call TriggerRegisterTimerEventSingle(BEy,.1)
call TriggerAddAction(BEy,function B2t)
endfunction
function B2v takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true
endfunction
function B2w takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LG))
endfunction
function B2x takes nothing returns nothing
set BEz=CreateTrigger()
call Bi7(BEz,LD)
call TriggerAddCondition(BEz,Condition(function B2v))
call TriggerAddAction(BEz,function B2w)
endfunction
function B2y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and hX==true
endfunction
function B2z takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"请按顺序分别输入4个咒语开启机关")
endfunction
function B20 takes nothing returns nothing
set BCY=CreateTrigger()
call Bi7(BCY,LD)
call TriggerAddCondition(BCY,Condition(function B2y))
call TriggerAddAction(BCY,function B2z)
endfunction
function B21 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B22 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LE))
endfunction
function B23 takes nothing returns nothing
set BE1=CreateTrigger()
call Bi7(BE1,LF)
call TriggerAddCondition(BE1,Condition(function B21))
call TriggerAddAction(BE1,function B22)
endfunction
function B24 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true
endfunction
function B25 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303754,GetRectCenter(LH))
call Biy(8.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：此处遗迹还有两处地方残留着制裁之力的痕迹，如果能寻找到，将大有益处，我想兔足应该能带给我幸运。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B26 takes nothing returns nothing
set BE0=CreateTrigger()
call Bi7(BE0,LD)
call TriggerAddCondition(BE0,Condition(function B24))
call TriggerAddAction(BE0,function B25)
endfunction
function B27 takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Ud))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B28 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BE3)
endfunction
function B29 takes nothing returns nothing
set BE2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BE2,Player(0),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(1),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(2),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(3),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(4),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(5),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(6),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(7),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(8),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(9),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(10),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(11),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(12),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(13),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(14),"Let",true)
call TriggerRegisterPlayerChatEvent(BE2,Player(15),"Let",true)
call TriggerAddCondition(BE2,Condition(function B27))
call TriggerAddAction(BE2,function B28)
endfunction
function B3B takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BE2)
endfunction
function B3C takes nothing returns nothing
set BE4=CreateTrigger()
call TriggerRegisterTimerEventSingle(BE4,.1)
call TriggerAddAction(BE4,function B3B)
endfunction
function B3D takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Ud))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B3E takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BE5)
endfunction
function B3F takes nothing returns nothing
set BE3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BE3,Player(0),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(1),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(2),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(3),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(4),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(5),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(6),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(7),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(8),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(9),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(10),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(11),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(12),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(13),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(14),"the",true)
call TriggerRegisterPlayerChatEvent(BE3,Player(15),"the",true)
call TriggerAddCondition(BE3,Condition(function B3D))
call TriggerAddAction(BE3,function B3E)
endfunction
function B3G takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BE3)
endfunction
function B3H takes nothing returns nothing
set BE6=CreateTrigger()
call TriggerRegisterTimerEventSingle(BE6,.1)
call TriggerAddAction(BE6,function B3G)
endfunction
function B3I takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Ud))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B3J takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BE7)
endfunction
function B3K takes nothing returns nothing
set BE5=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BE5,Player(0),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(1),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(2),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(3),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(4),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(5),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(6),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(7),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(8),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(9),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(10),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(11),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(12),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(13),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(14),"light",true)
call TriggerRegisterPlayerChatEvent(BE5,Player(15),"light",true)
call TriggerAddCondition(BE5,Condition(function B3I))
call TriggerAddAction(BE5,function B3J)
endfunction
function B3L takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BE5)
endfunction
function B3M takes nothing returns nothing
set BE8=CreateTrigger()
call TriggerRegisterTimerEventSingle(BE8,.1)
call TriggerAddAction(BE8,function B3L)
endfunction
function B3N takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Ud))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B3O takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("show",$594F6C62,LD)
call EnableTrigger(BEz)
call EnableTrigger(BE0)
endfunction
function B3P takes nothing returns nothing
set BE7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BE7,Player(0),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(1),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(2),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(3),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(4),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(5),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(6),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(7),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(8),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(9),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(10),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(11),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(12),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(13),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(14),"shine",true)
call TriggerRegisterPlayerChatEvent(BE7,Player(15),"shine",true)
call TriggerAddCondition(BE7,Condition(function B3N))
call TriggerAddAction(BE7,function B3O)
endfunction
function B3Q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BE7)
endfunction
function B3R takes nothing returns nothing
set BE9=CreateTrigger()
call TriggerRegisterTimerEventSingle(BE9,.1)
call TriggerAddAction(BE9,function B3Q)
endfunction
function B3S takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BFC)
call DisableTrigger(BFD)
endfunction
function B3T takes nothing returns nothing
set BFB=CreateTrigger()
call TriggerRegisterTimerEventSingle(BFB,.1)
call TriggerAddAction(BFB,function B3S)
endfunction
function B3U takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303153)==true and Bi9(GetTriggerUnit(),$49303754)==true
endfunction
function B3V takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LK))
endfunction
function B3W takes nothing returns nothing
set BFC=CreateTrigger()
call Bi7(BFC,LI)
call TriggerAddCondition(BFC,Condition(function B3U))
call TriggerAddAction(BFC,function B3V)
endfunction
function B3X takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B3Y takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LJ))
endfunction
function B3Z takes nothing returns nothing
set BFE=CreateTrigger()
call Bi7(BFE,LL)
call TriggerAddCondition(BFE,Condition(function B3X))
call TriggerAddAction(BFE,function B3Y)
endfunction
function B3a takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303153)==true and Bi9(GetTriggerUnit(),$49303754)==true
endfunction
function B3b takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303755,GetRectCenter(LM))
endfunction
function B3c takes nothing returns nothing
set BFD=CreateTrigger()
call Bi7(BFD,LI)
call TriggerAddCondition(BFD,Condition(function B3a))
call TriggerAddAction(BFD,function B3b)
endfunction
function B3d takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B3e takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔...以及两样雷属性相关的物品")
call TriggerSleepAction(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B3f takes nothing returns nothing
set pj=CreateTrigger()
call Bi7(pj,LI)
call TriggerAddCondition(pj,Condition(function B3d))
call TriggerAddAction(pj,function B3e)
endfunction
function B3g takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303153)==true and Bi9(GetTriggerUnit(),$49303754)==true
endfunction
function B3h takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BFC)
call EnableTrigger(BFD)
endfunction
function B3i takes nothing returns nothing
set BFF=CreateTrigger()
call Bi7(BFF,LI)
call TriggerAddCondition(BFF,Condition(function B3g))
call TriggerAddAction(BFF,function B3h)
endfunction
function B3j takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BFH)
call DisableTrigger(BFI)
call SetDoodadAnimationRectBJ("hide",$594F6C62,LN)
endfunction
function B3k takes nothing returns nothing
set BFG=CreateTrigger()
call TriggerRegisterTimerEventSingle(BFG,.1)
call TriggerAddAction(BFG,function B3j)
endfunction
function B3l takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303153)==true and Bi9(GetTriggerUnit(),$49303755)==true and Bi9(GetTriggerUnit(),$49303638)==true and Bi9(GetTriggerUnit(),$49303754)==true
endfunction
function B3m takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LP))
endfunction
function B3n takes nothing returns nothing
set BFH=CreateTrigger()
call Bi7(BFH,LN)
call TriggerAddCondition(BFH,Condition(function B3l))
call TriggerAddAction(BFH,function B3m)
endfunction
function B3o takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B3p takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LO))
endfunction
function B3q takes nothing returns nothing
set BFJ=CreateTrigger()
call Bi7(BFJ,LR)
call TriggerAddCondition(BFJ,Condition(function B3o))
call TriggerAddAction(BFJ,function B3p)
endfunction
function B3r takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303153)==true and Bi9(GetTriggerUnit(),$49303755)==true and Bi9(GetTriggerUnit(),$49303638)==true and Bi9(GetTriggerUnit(),$49303754)==true
endfunction
function B3s takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303756,GetRectCenter(LQ))
endfunction
function B3t takes nothing returns nothing
set BFI=CreateTrigger()
call Bi7(BFI,LN)
call TriggerAddCondition(BFI,Condition(function B3r))
call TriggerAddAction(BFI,function B3s)
endfunction
function B3u takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303153)==true and Bi9(GetTriggerUnit(),$49303755)==true and Bi9(GetTriggerUnit(),$49303638)==true and Bi9(GetTriggerUnit(),$49303754)==true
endfunction
function B3v takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BFH)
call EnableTrigger(BFI)
call SetDoodadAnimationRectBJ("show",$594F6C62,LN)
endfunction
function B3w takes nothing returns nothing
set BFK=CreateTrigger()
call Bi7(BFK,LN)
call TriggerAddCondition(BFK,Condition(function B3u))
call TriggerAddAction(BFK,function B3v)
endfunction
function B3x takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303754)==true and Bi9(GetTriggerUnit(),$49303755)==true and Bi9(GetTriggerUnit(),$49303756)==true
endfunction
function B3y takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303754))
call RemoveItem(Bio(GetTriggerUnit(),$49303755))
call RemoveItem(Bio(GetTriggerUnit(),$49303756))
call UnitAddItemByIdSwapped($49303757,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
set c8=0
endfunction
function B3z takes nothing returns nothing
set BFL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFL,Condition(function B3x))
call TriggerAddAction(BFL,function B3y)
endfunction
function B30 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303757)==true and Bi9(GetTriggerUnit(),$49304148)==true and Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304134)==true and Bi9(GetTriggerUnit(),$49304454)==true
endfunction
function B31 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303757))
call UnitAddItemByIdSwapped($49304453,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在雷霆咆哮、镰刀LV5、雷霆花芯-特殊、净化之源的共鸣下，雷翼套装进阶了。")
endfunction
function B32 takes nothing returns nothing
set BFM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFM,Condition(function B30))
call TriggerAddAction(BFM,function B31)
endfunction
function B33 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304453 and GetTriggerUnit()==Ud
endfunction
function B34 takes nothing returns nothing
call UnitAddAbilityBJ($41304938,GetTriggerUnit())
call UnitAddAbilityBJ($41304939,GetTriggerUnit())
endfunction
function B35 takes nothing returns nothing
set BFN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFN,Condition(function B33))
call TriggerAddAction(BFN,function B34)
endfunction
function B36 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304453 and GetTriggerUnit()==Ud
endfunction
function B37 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304938,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304939,GetTriggerUnit())
endfunction
function B38 takes nothing returns nothing
set BFO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFO,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BFO,Condition(function B36))
call TriggerAddAction(BFO,function B37)
endfunction
function B39 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F6C62,L5)
endfunction
function B4B takes nothing returns nothing
set BFP=CreateTrigger()
call TriggerRegisterTimerEventSingle(BFP,.1)
call TriggerAddAction(BFP,function B39)
endfunction
function B4C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303757)==true and Bi9(GetTriggerUnit(),$49303638)==true
endfunction
function B4D takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("show",$594F6C62,L5)
call CreateItemLoc($49303844,GetRectCenter(L5))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：司掌真正的雷霆制裁之力，还有很长一段路要走呢。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B4E takes nothing returns nothing
set BFQ=CreateTrigger()
call Bi7(BFQ,L5)
call TriggerAddCondition(BFQ,Condition(function B4C))
call TriggerAddAction(BFQ,function B4D)
endfunction
function B4F takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F6C62,L9)
endfunction
function B4G takes nothing returns nothing
set BFR=CreateTrigger()
call TriggerRegisterTimerEventSingle(BFR,.1)
call TriggerAddAction(BFR,function B4F)
endfunction
function B4H takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303757)==true and Bi9(GetTriggerUnit(),$49303453)==true and Bi9(GetTriggerUnit(),$49303638)==true
endfunction
function B4I takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("show",$594F6C62,L9)
call CreateItemLoc($49303845,GetRectCenter(L9))
endfunction
function B4J takes nothing returns nothing
set BFS=CreateTrigger()
call Bi7(BFS,L9)
call TriggerAddCondition(BFS,Condition(function B4H))
call TriggerAddAction(BFS,function B4I)
endfunction
function B4K takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303757)==true and Bi9(GetTriggerUnit(),$49303453)==true
endfunction
function B4L takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(L8))
endfunction
function B4M takes nothing returns nothing
set BFT=CreateTrigger()
call Bi7(BFT,L6)
call TriggerAddCondition(BFT,Condition(function B4K))
call TriggerAddAction(BFT,function B4L)
endfunction
function B4N takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B4O takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Hx))
endfunction
function B4P takes nothing returns nothing
set BFU=CreateTrigger()
call Bi7(BFU,L7)
call TriggerAddCondition(BFU,Condition(function B4N))
call TriggerAddAction(BFU,function B4O)
endfunction
function B4Q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F6C62,MB)
endfunction
function B4R takes nothing returns nothing
set BFV=CreateTrigger()
call TriggerRegisterTimerEventSingle(BFV,.1)
call TriggerAddAction(BFV,function B4Q)
endfunction
function B4S takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303757)==true and Bi9(GetTriggerUnit(),$49303453)==true and Bi9(GetTriggerUnit(),$49303638)==true
endfunction
function B4T takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("show",$594F6C62,MB)
call CreateItemLoc($49303846,GetRectCenter(MB))
endfunction
function B4U takes nothing returns nothing
set BFW=CreateTrigger()
call Bi7(BFW,MB)
call TriggerAddCondition(BFW,Condition(function B4S))
call TriggerAddAction(BFW,function B4T)
endfunction
function B4V takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303844)==true and Bi9(GetTriggerUnit(),$49303846)==true and Bi9(GetTriggerUnit(),$49303845)==true
endfunction
function B4W takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303844))
call RemoveItem(Bio(GetTriggerUnit(),$49303845))
call RemoveItem(Bio(GetTriggerUnit(),$49303846))
call UnitAddItemByIdSwapped($49303847,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：看来我已经初步掌握了雷霆制裁之力。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔获得雷霆制裁之力-闪电链，攻击敌人时25%概率对周围600范围敌人施加额外一次闪电链攻击。")
call EnableTrigger(BFY)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B4X takes nothing returns nothing
set BFX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFX,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFX,Condition(function B4V))
call TriggerAddAction(BFX,function B4W)
endfunction
function B4Y takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303847 and GetTriggerUnit()==Ud
endfunction
function B4Z takes nothing returns nothing
call UnitAddAbilityBJ($4130445A,GetTriggerUnit())
call UnitAddAbilityBJ($41304458,GetTriggerUnit())
call UnitAddAbilityBJ($41304459,GetTriggerUnit())
call UnitAddAbilityBJ($41304530,GetTriggerUnit())
endfunction
function B4a takes nothing returns nothing
set BFZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFZ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFZ,Condition(function B4Y))
call TriggerAddAction(BFZ,function B4Z)
endfunction
function B4b takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303847 and GetTriggerUnit()==Ud
endfunction
function B4c takes nothing returns nothing
call UnitRemoveAbilityBJ($41304530,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304459,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304458,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130445A,GetTriggerUnit())
endfunction
function B4d takes nothing returns nothing
set BFa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFa,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BFa,Condition(function B4b))
call TriggerAddAction(BFa,function B4c)
endfunction
function B4e takes nothing returns boolean
return GetEventDamageSource()==Ud and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B4f takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B4g takes nothing returns nothing
set lG=GetUnitLoc(GetEventDamageSource())
call MoveRectToLoc(MC,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(MC)
call CreateNUnitsAtLoc(1,$68303346,GetOwningPlayer(GetEventDamageSource()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BFb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetEnumUnit())
endfunction
function B4h takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(600.,i8,Condition(function B4f))
call ForGroupBJ(fP,function B4g)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B4i takes nothing returns nothing
set BFY=CreateTrigger()
call Bi3(BFY)
call TriggerAddCondition(BFY,Condition(function B4e))
call TriggerAddAction(BFY,function B4h)
endfunction
function B4j takes nothing returns nothing
call DisableTrigger(BFY)
endfunction
function B4k takes nothing returns nothing
set BFc=CreateTrigger()
call TriggerAddAction(BFc,function B4j)
endfunction
function B4l takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303847)==true and Bi9(GetTriggerUnit(),$49304148)==true and Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304134)==true and Bi9(GetTriggerUnit(),$49304454)==true
endfunction
function B4m takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303847))
call UnitAddItemByIdSwapped($49304455,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在雷霆咆哮、镰刀LV5、雷霆花芯-特殊、净化之源的共鸣下，锐电套装进阶了。")
endfunction
function B4n takes nothing returns nothing
set BFd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFd,Condition(function B4l))
call TriggerAddAction(BFd,function B4m)
endfunction
function B4o takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304455 and GetTriggerUnit()==Ud
endfunction
function B4p takes nothing returns nothing
call UnitAddAbilityBJ($41304941,GetTriggerUnit())
call UnitAddAbilityBJ($41304942,GetTriggerUnit())
call UnitAddAbilityBJ($41304943,GetTriggerUnit())
call UnitAddAbilityBJ($41304944,GetTriggerUnit())
endfunction
function B4q takes nothing returns nothing
set BFe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFe,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFe,Condition(function B4o))
call TriggerAddAction(BFe,function B4p)
endfunction
function B4r takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304455 and GetTriggerUnit()==Ud
endfunction
function B4s takes nothing returns nothing
call UnitRemoveAbilityBJ($41304941,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304944,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304942,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304943,GetTriggerUnit())
endfunction
function B4t takes nothing returns nothing
set BFf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFf,Condition(function B4r))
call TriggerAddAction(BFf,function B4s)
endfunction
function B4u takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and dB==true and dC==true and Bi9(GetTriggerUnit(),$49304453)==true and Bi9(GetTriggerUnit(),$49304455)==true and Bi9(GetTriggerUnit(),$49304545)==true and Bi9(GetTriggerUnit(),$49303638)==true and Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304546)==true
endfunction
function B4v takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303638))
call RemoveItem(Bio(GetTriggerUnit(),$49304545))
call UnitAddItemByIdSwapped($49304548,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"“远古之力-雷”诞生")
endfunction
function B4w takes nothing returns nothing
set BFg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFg,Condition(function B4u))
call TriggerAddAction(BFg,function B4v)
endfunction
function B4x takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49304453)==true and Bi9(GetTriggerUnit(),$49304455)==true and Bi9(GetTriggerUnit(),$49304546)==true and Bi9(GetTriggerUnit(),$49304548)==true and Bi9(GetTriggerUnit(),$4930434E)==true and Bi9(GetTriggerUnit(),$49304446)==true
endfunction
function B4y takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304548))
call RemoveItem(Bio(GetTriggerUnit(),$49304453))
call RemoveItem(Bio(GetTriggerUnit(),$49304455))
call RemoveItem(Bio(GetTriggerUnit(),$49304546))
call RemoveItem(Bio(GetTriggerUnit(),$4930434E))
call RemoveItem(Bio(GetTriggerUnit(),$49304446))
call UnitAddItemByIdSwapped($49304549,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雷霆圣王凯诞生了，你感受到了雷霆圣王的力量")
endfunction
function B4z takes nothing returns nothing
set BFh=CreateTrigger()
call Bi7(BFh,Ow)
call TriggerAddCondition(BFh,Condition(function B4x))
call TriggerAddAction(BFh,function B4y)
endfunction
function B40 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304549 and GetTriggerUnit()==Ud
endfunction
function B41 takes nothing returns nothing
call UnitAddAbilityBJ($41304B44,GetTriggerUnit())
call UnitAddAbilityBJ($41304B43,GetTriggerUnit())
call UnitAddAbilityBJ($41304B42,GetTriggerUnit())
endfunction
function B42 takes nothing returns nothing
set BFi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFi,Condition(function B40))
call TriggerAddAction(BFi,function B41)
endfunction
function B43 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304549 and GetTriggerUnit()==Ud
endfunction
function B44 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304B44,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304B43,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304B42,GetTriggerUnit())
endfunction
function B45 takes nothing returns nothing
set BFj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFj,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BFj,Condition(function B43))
call TriggerAddAction(BFj,function B44)
endfunction
function B46 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49304135)==true and Bi9(GetTriggerUnit(),$49304134)==true
endfunction
function B47 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：这把镰刀和净化之源....看来你已经找到了我曾经隐藏的那片圣域了...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：你的造诣将远远超过我....我这个风驰翡翠就赠与你了")
call UnitAddAbilityBJ($4130464D,Ud)
call UnitAddItemByIdSwapped($49304136,GetTriggerUnit())
call EnableTrigger(BFl)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B48 takes nothing returns nothing
set BFk=CreateTrigger()
call Bi7(BFk,HM)
call TriggerAddCondition(BFk,Condition(function B46))
call TriggerAddAction(BFk,function B47)
endfunction
function B49 takes nothing returns nothing
call DisableTrigger(BFk)
endfunction
function B5B takes nothing returns nothing
set BFm=CreateTrigger()
call TriggerAddAction(BFm,function B49)
endfunction
function B5C takes nothing returns boolean
return GetTriggerUnit()==Ud and GetItemTypeId(GetManipulatedItem())==$49304136 or GetItemTypeId(GetManipulatedItem())==$49304547
endfunction
function B5D takes nothing returns nothing
call UnitAddAbilityBJ($4130464E,GetTriggerUnit())
call UnitAddAbilityBJ($4130464F,GetTriggerUnit())
endfunction
function B5E takes nothing returns nothing
set BFn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFn,Condition(function B5C))
call TriggerAddAction(BFn,function B5D)
endfunction
function B5F takes nothing returns boolean
return GetTriggerUnit()==Ud and GetItemTypeId(GetManipulatedItem())==$49304136 or GetItemTypeId(GetManipulatedItem())==$49304547
endfunction
function B5G takes nothing returns nothing
call UnitRemoveAbilityBJ($4130464E,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130464F,GetTriggerUnit())
endfunction
function B5H takes nothing returns nothing
set BFo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFo,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BFo,Condition(function B5F))
call TriggerAddAction(BFo,function B5G)
endfunction
function B5I takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Ud))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B5J takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在镰刀LV4与风驰翡翠加持下，西菲尔的咒语使自身得到了强化，全属性+30。")
call UnitAddAbilityBJ($41304854,Ud)
endfunction
function B5K takes nothing returns nothing
set BFl=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BFl,Player(0),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(1),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(2),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(3),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(4),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(5),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(6),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(7),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(8),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(9),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(10),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(11),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(12),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(13),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(14),"For the Sliver",true)
call TriggerRegisterPlayerChatEvent(BFl,Player(15),"For the Sliver",true)
call TriggerAddCondition(BFl,Condition(function B5I))
call TriggerAddAction(BFl,function B5J)
endfunction
function B5L takes nothing returns nothing
call DisableTrigger(BFl)
endfunction
function B5M takes nothing returns nothing
set BFp=CreateTrigger()
call TriggerAddAction(BFp,function B5L)
endfunction
function B5N takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49304148)==true and Bi9(GetTriggerUnit(),$49304134)==true and Bi9(GetTriggerUnit(),$49304136)==true and Bi9(GetTriggerUnit(),$49304457)==true
endfunction
function B5O takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304136))
call UnitAddItemByIdSwapped($49304547,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"风驰翡翠进阶了。")
endfunction
function B5P takes nothing returns nothing
set BFq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFq,Condition(function B5N))
call TriggerAddAction(BFq,function B5O)
endfunction
function B5Q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303447)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function B5R takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetItemVisibleBJ(true,US)
endfunction
function B5S takes nothing returns nothing
set jm=CreateTrigger()
call Bi7(jm,QC)
call TriggerAddCondition(jm,Condition(function B5Q))
call TriggerAddAction(jm,function B5R)
endfunction
function B5T takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49304743)==true and Bi9(GetTriggerUnit(),$4930354F)==true and Bi9(GetTriggerUnit(),$49303447)==true or Bi9(GetTriggerUnit(),$49303457)==true
endfunction
function B5U takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930354F))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑与盾牌的溶解下，吸纳之瓶对这里的红色能量进行了吸收...应该还有着其他红色能量能够进行吸取...")
call EnableTrigger(jl)
endfunction
function B5V takes nothing returns nothing
set jd=CreateTrigger()
call Bi7(jd,Hs)
call TriggerAddCondition(jd,Condition(function B5T))
call TriggerAddAction(jd,function B5U)
endfunction
function B5W takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49304743)==true and Bi9(GetTriggerUnit(),$49304645)==true and Bi9(GetTriggerUnit(),$49303447)==true or Bi9(GetTriggerUnit(),$49303457)==true
endfunction
function B5X takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304645))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑与这颗球的溶解下，吸纳之瓶对这里的红色能量进行了吸收...应该还有着其他红色能量能够进行吸取...")
call EnableTrigger(jn)
endfunction
function B5Y takes nothing returns nothing
set jl=CreateTrigger()
call Bi7(jl,E3)
call TriggerAddCondition(jl,Condition(function B5W))
call TriggerAddAction(jl,function B5X)
endfunction
function B5b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49304743)==true and Bi9(GetTriggerUnit(),$4930374F)==true and Bi9(GetTriggerUnit(),$49303456)==true and Bi9(GetTriggerUnit(),$49304644)==true and Bi9(GetTriggerUnit(),$49304645)==true
endfunction
function B5c takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304645))
call RemoveItem(Bio(GetTriggerUnit(),$49304644))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑与这三个石头以及这件甲的溶解下，吸纳之瓶对这里的红色能量进行了吸收...吸纳之瓶似乎在渴求着更强大、更浓厚的烈焰..")
call EnableTrigger(jo)
endfunction
function B5d takes nothing returns nothing
set jn=CreateTrigger()
call Bi7(jn,FQ)
call TriggerAddCondition(jn,Condition(function B5b))
call TriggerAddAction(jn,function B5c)
endfunction
function B5e takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303139 and GetKillingUnitBJ()==Uc and Bi9(GetKillingUnitBJ(),$49303457)==true and Bi9(GetKillingUnitBJ(),$49304743)==true
endfunction
function B5f takes nothing returns nothing
if eL>=10 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"吸纳之瓶获得了它渴求的力量...但似乎还差一步...（需要巨大红色能量球来解开它的封印）")
call EnableTrigger(jp)
else
set eL=eL+1
endif
endfunction
function B5g takes nothing returns nothing
set jo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jo,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(jo,Condition(function B5e))
call TriggerAddAction(jo,function B5f)
endfunction
function B5h takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303346
endfunction
function B5i takes nothing returns nothing
set d6=0
set jq=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set d6=d6+1
if d6==5 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call RemoveItem(Bio(GetTriggerUnit(),$49303346))
call UnitAddItemByIdSwapped($49304749,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B5j takes nothing returns nothing
set jp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(jp,Condition(function B5h))
call TriggerAddAction(jp,function B5i)
endfunction
function B5k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49304743)==true and Bi9(GetTriggerUnit(),$49304749)==true
endfunction
function B5l takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304743))
call RemoveItem(Bio(GetTriggerUnit(),$49304749))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在巨大红色能量球的帮助下，吸纳之瓶解开了它的封印，妮雅娜获得了“统凰火莲”的力量...")
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在统凰火莲的帮助下，妮雅娜获得了如下能力：最大生命值增加2000点，生命恢复速度增加100点，攻击力增加400点，全属性提高50点..")
call UnitAddAbilityBJ($41304E45,GetTriggerUnit())
call UnitAddAbilityBJ($41304E42,GetTriggerUnit())
call UnitAddAbilityBJ($41304E43,GetTriggerUnit())
call UnitAddAbilityBJ($41304E44,GetTriggerUnit())
set d7=true
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这是司掌圣焰的力量之一..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获得了解锁“圣焰岩溶套”和“圣焰烈皇盾”的条件之一..（除此之外还需要“浴火之体”、“圣焰之心”）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B5m takes nothing returns nothing
set jr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(jr,Condition(function B5k))
call TriggerAddAction(jr,function B5l)
endfunction
function B5n takes nothing returns nothing
call SetDoodadAnimationRectBJ("hide",$594F7466,Oo)
endfunction
function B5o takes nothing returns nothing
set BFr=CreateTrigger()
call TriggerAddAction(BFr,function B5n)
endfunction
function B5p takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303241)==true and c6==true
endfunction
function B5q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("show",$594F7466,Oo)
call UnitAddItemByIdSwapped($4930445A,GetTriggerUnit())
endfunction
function B5r takes nothing returns nothing
set BFs=CreateTrigger()
call Bi7(BFs,Oo)
call TriggerAddCondition(BFs,Condition(function B5p))
call TriggerAddAction(BFs,function B5q)
endfunction
function B5s takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$4930445A)==true and Bi9(GetTriggerUnit(),$49303832)==true and Bi9(GetTriggerUnit(),$49303241)==true and c6==true
endfunction
function B5t takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在灾厄之石、火焰之剑的刺激下，加之你对浴火之体的初步掌握，山谷火种似乎化为了另外一种形态。")
call RemoveItem(Bio(GetTriggerUnit(),$4930445A))
call UnitAddItemByIdSwapped($49304530,GetTriggerUnit())
endfunction
function B5u takes nothing returns nothing
set BFt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFt,Condition(function B5s))
call TriggerAddAction(BFt,function B5t)
endfunction
function B5v takes nothing returns boolean
return GetKillingUnitBJ()==Uc and Bi9(GetKillingUnitBJ(),$49304530)==true
endfunction
function B5w takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304530))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"焰焱意志获取到了其渴求的强大灵魂，产生了新的形态-凤焰之心，妮雅娜全属性+35，生命+1500，生命恢复速度+30，攻击+200..（凤焰之心不占用物品栏）")
call UnitAddAbilityBJ($4130495A,Uc)
call UnitAddAbilityBJ($41304A30,Uc)
call UnitAddAbilityBJ($41304959,Uc)
call UnitAddAbilityBJ($41304A31,Uc)
set c7=true
endfunction
function B5x takes nothing returns nothing
set BFu=CreateTrigger()
call TriggerRegisterUnitEvent(BFu,Wn,EVENT_UNIT_DEATH)
call TriggerAddCondition(BFu,Condition(function B5v))
call TriggerAddAction(BFu,function B5w)
endfunction
function B5y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303130)==true and Bi9(GetTriggerUnit(),$49303736)==true and Bi9(GetTriggerUnit(),$49303546)==true and Bi9(GetTriggerUnit(),$49303046)==true
endfunction
function B5z takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BFw)
call SetDoodadAnimationRectBJ("hide",$594F7466,Do)
call RemoveItem(Bio(GetTriggerUnit(),$49303546))
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜在火焰之剑LV1、焰灵项链LV2、金属石、魔化核心的加持下吸收了烈焰，获取炎能之心，增加生命1000点，增加生命回复速度20点，增加全属性20点。")
call UnitAddAbilityBJ($4130494A,Uc)
call UnitAddAbilityBJ($4130494B,Uc)
call UnitAddAbilityBJ($4130494C,Uc)
set c4=true
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：炎能之心...还有更强的力量在呼唤我..")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获取了解锁“浴火之体”的条件")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B50 takes nothing returns nothing
set BFv=CreateTrigger()
call Bi7(BFv,Do)
call TriggerAddCondition(BFv,Condition(function B5y))
call TriggerAddAction(BFv,function B5z)
endfunction
function B51 takes nothing returns boolean
return c5==true and c4==true and IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303241)==true and Bi9(GetTriggerUnit(),$4930384C)==true and Bi9(GetTriggerUnit(),$49303741)==true and Bi9(GetTriggerUnit(),$4930395A)==true
endfunction
function B52 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call AddHeroXPSwapped(500,Uc,true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜在丛丛烈焰的考验下，获取浴火之体，增加生命值1000点，护甲30点，生命恢复速度30点，全属性20点，攻击力200点，魔抗10%，并免疫4%的物理伤害。")
call UnitAddAbilityBJ($41304950,Uc)
call UnitAddAbilityBJ($41304951,Uc)
call UnitAddAbilityBJ($4130494D,Uc)
call UnitAddAbilityBJ($4130494F,Uc)
call UnitAddAbilityBJ($4130494E,Uc)
call UnitAddAbilityBJ($41304952,Uc)
set c6=true
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：浴火之体...这让我想起了一件名为“烈皇盾”的御体装备..感应的方向是在..色尔根要塞么..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：还有凤焰之心...感应的方向是在...色尔根山谷..现在的山谷似乎发生了很大变化..这应该跟山谷的异变有关..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜解锁了获取“凤焰之心”和“烈皇盾”的条件")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B53 takes nothing returns nothing
set BFx=CreateTrigger()
call Bi7(BFx,D2)
call TriggerAddCondition(BFx,Condition(function B51))
call TriggerAddAction(BFx,function B52)
endfunction
function B54 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303959)==true and Bi9(GetTriggerUnit(),$4930314B)==true and Bi9(GetTriggerUnit(),$49303141)==true and Bi9(GetTriggerUnit(),$4930364A)==true and Bi9(GetTriggerUnit(),$49303747)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303747))==10 and Bi9(GetTriggerUnit(),$49303130)==true or Bi9(GetTriggerUnit(),$49303241)==true
endfunction
function B55 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930314B))
call RemoveItem(Bio(GetTriggerUnit(),$4930364A))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call UnitAddItemByIdSwapped($49304358,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"10个唾液，10个土石，10个蝎尾，精钢套-增强，配合炎焚与烈焰之力，你打造了炎土甲。")
endfunction
function B56 takes nothing returns nothing
set BFy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BFy,Condition(function B54))
call TriggerAddAction(BFy,function B55)
endfunction
function B57 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$4930395A)==true and Bi9(GetTriggerUnit(),$49303231)==true and Bi9(GetTriggerUnit(),$49303741)==true or Bi9(GetTriggerUnit(),$49303736)==true and Bi9(GetTriggerUnit(),$4930314A)==true or Bi9(GetTriggerUnit(),$4930314B)==true
endfunction
function B58 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303231))
call RemoveItem(Bio(GetTriggerUnit(),$4930314A))
call UnitAddItemByIdSwapped($49304359,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在炎焚与烈焰之力的烤验下，并在精钢的淬炼中，狼皮护套获得了炎的力量。")
endfunction
function B59 takes nothing returns nothing
set BFz=CreateTrigger()
call Bi7(BFz,D2)
call TriggerAddCondition(BFz,Condition(function B57))
call TriggerAddAction(BFz,function B58)
endfunction
function B6B takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Uc))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B6C takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304853,Uc)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得烈焰魔衣后，在火焰之剑咒语加持下，妮雅娜全属性增加20点")
call EnableTrigger(BF1)
endfunction
function B6D takes nothing returns nothing
set BF0=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BF0,Player(0),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(1),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(2),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(3),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(4),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(5),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(6),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(7),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(8),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(9),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(10),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(11),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(12),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(13),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(14),"火掣莒来",true)
call TriggerRegisterPlayerChatEvent(BF0,Player(15),"火掣莒来",true)
call TriggerAddCondition(BF0,Condition(function B6B))
call TriggerAddAction(BF0,function B6C)
endfunction
function B6E takes nothing returns nothing
call DisableTrigger(BF0)
endfunction
function B6F takes nothing returns nothing
set BF2=CreateTrigger()
call TriggerAddAction(BF2,function B6E)
endfunction
function B6G takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49304359)==true and Bi9(GetTriggerUnit(),$49304358)==true and Bi9(GetTriggerUnit(),$49304657)==true
endfunction
function B6H takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304359))
call RemoveItem(Bio(GetTriggerUnit(),$49304358))
call RemoveItem(Bio(GetTriggerUnit(),$49304657))
call UnitAddItemByIdSwapped($4930384C,GetTriggerUnit())
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call EnableTrigger(BF0)
endfunction
function B6I takes nothing returns nothing
set BF3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BF3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BF3,Condition(function B6G))
call TriggerAddAction(BF3,function B6H)
endfunction
function B6J takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303447)==true and Bi9(GetTriggerUnit(),$4930374E)==true or Bi9(GetTriggerUnit(),$49303741)==true
endfunction
function B6K takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49303849,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：烈焰火炬...与烈焰魔衣似乎存在着一定联系")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B6L takes nothing returns nothing
set BF4=CreateTrigger()
call Bi7(BF4,ME)
call TriggerAddCondition(BF4,Condition(function B6J))
call TriggerAddAction(BF4,function B6K)
endfunction
function B6M takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303447)==true and Bi9(GetTriggerUnit(),$49303849)==true and Bi9(GetTriggerUnit(),$49303731)==true and Bi9(GetTriggerUnit(),$4930374E)==true or Bi9(GetTriggerUnit(),$49303741)==true
endfunction
function B6N takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($4930384A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B6O takes nothing returns nothing
set BF5=CreateTrigger()
call Bi7(BF5,MF)
call TriggerAddCondition(BF5,Condition(function B6M))
call TriggerAddAction(BF5,function B6N)
endfunction
function B6P takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$49303849)==true and Bi9(GetTriggerUnit(),$4930384A)==true and Bi9(GetTriggerUnit(),$4930374E)==true or Bi9(GetTriggerUnit(),$49303741)==true
endfunction
function B6Q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($4930384B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B6R takes nothing returns nothing
set BF6=CreateTrigger()
call Bi7(BF6,MG)
call TriggerAddCondition(BF6,Condition(function B6P))
call TriggerAddAction(BF6,function B6Q)
endfunction
function B6S takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303849)==true and Bi9(GetTriggerUnit(),$4930384B)==true and Bi9(GetTriggerUnit(),$4930384A)==true and Bi9(GetTriggerUnit(),$49304657)==true
endfunction
function B6T takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303849))
call RemoveItem(Bio(GetTriggerUnit(),$4930384B))
call RemoveItem(Bio(GetTriggerUnit(),$4930384A))
call RemoveItem(Bio(GetTriggerUnit(),$49304657))
call UnitAddItemByIdSwapped($4930384C,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：烈焰魔衣..不止这么简单..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获得500点经验值成长")
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B6U takes nothing returns nothing
set BF7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BF7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BF7,Condition(function B6S))
call TriggerAddAction(BF7,function B6T)
endfunction
function B6V takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930384C and GetTriggerUnit()==Uc
endfunction
function B6W takes nothing returns nothing
call UnitAddAbilityBJ($41304533,GetTriggerUnit())
call UnitAddAbilityBJ($41304535,GetTriggerUnit())
endfunction
function B6X takes nothing returns nothing
set BF8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BF8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BF8,Condition(function B6V))
call TriggerAddAction(BF8,function B6W)
endfunction
function B6Y takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930384C and GetTriggerUnit()==Uc
endfunction
function B6Z takes nothing returns nothing
call UnitRemoveAbilityBJ($41304533,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304535,GetTriggerUnit())
endfunction
function B6a takes nothing returns nothing
set BF9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BF9,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BF9,Condition(function B6Y))
call TriggerAddAction(BF9,function B6Z)
endfunction
function B6b takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304151 and GetTriggerUnit()==Uc
endfunction
function B6c takes nothing returns nothing
call UnitAddAbilityBJ($41304734,GetTriggerUnit())
call UnitAddAbilityBJ($41304735,GetTriggerUnit())
endfunction
function B6d takes nothing returns nothing
set BGB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGB,Condition(function B6b))
call TriggerAddAction(BGB,function B6c)
endfunction
function B6e takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304151 and GetTriggerUnit()==Uc
endfunction
function B6f takes nothing returns nothing
call UnitRemoveAbilityBJ($41304734,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304735,GetTriggerUnit())
endfunction
function B6g takes nothing returns nothing
set BGC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BGC,Condition(function B6e))
call TriggerAddAction(BGC,function B6f)
endfunction
function B6h takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930384C
endfunction
function B6i takes nothing returns nothing
set c0=0
set BGE=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set c0=c0+1
if c0==1 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930384C))
call RemoveItem(Bio(GetTriggerUnit(),$4930384C))
call RemoveItem(Bio(GetTriggerUnit(),$4930384C))
call RemoveItem(Bio(GetTriggerUnit(),$4930384C))
call RemoveItem(Bio(GetTriggerUnit(),$4930384C))
call RemoveItem(Bio(GetTriggerUnit(),$4930384C))
call UnitAddItemByIdSwapped($49304151,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B6j takes nothing returns nothing
set BGD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGD,Condition(function B6h))
call TriggerAddAction(BGD,function B6i)
endfunction
function B6k takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304151)==true and Bi9(GetTriggerUnit(),$49304149)==true
endfunction
function B6l takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304151))
call RemoveItem(Bio(GetTriggerUnit(),$49304149))
call UnitAddItemByIdSwapped($4930435A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B6m takes nothing returns nothing
set BGF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGF,Condition(function B6k))
call TriggerAddAction(BGF,function B6l)
endfunction
function B6n takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930435A and GetTriggerUnit()==Uc
endfunction
function B6o takes nothing returns nothing
call UnitAddAbilityBJ($41304734,GetTriggerUnit())
call UnitAddAbilityBJ($41304735,GetTriggerUnit())
endfunction
function B6p takes nothing returns nothing
set BGG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGG,Condition(function B6n))
call TriggerAddAction(BGG,function B6o)
endfunction
function B6q takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930435A and GetTriggerUnit()==Uc
endfunction
function B6r takes nothing returns nothing
call UnitRemoveAbilityBJ($41304734,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304735,GetTriggerUnit())
endfunction
function B6s takes nothing returns nothing
set BGH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BGH,Condition(function B6q))
call TriggerAddAction(BGH,function B6r)
endfunction
function B6t takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BGJ)
call SetDoodadAnimationRectBJ("hide",$594F7232,KY)
call ShowUnitHide(XH)
endfunction
function B6u takes nothing returns nothing
set BGI=CreateTrigger()
call TriggerRegisterTimerEventSingle(BGI,.1)
call TriggerAddAction(BGI,function B6t)
endfunction
function B6v takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B6w takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kc))
endfunction
function B6x takes nothing returns nothing
set BGK=CreateTrigger()
call Bi7(BGK,KY)
call TriggerAddCondition(BGK,Condition(function B6v))
call TriggerAddAction(BGK,function B6w)
endfunction
function B6y takes nothing returns nothing
call DisableTrigger(BGK)
endfunction
function B6z takes nothing returns nothing
set BGL=CreateTrigger()
call TriggerAddAction(BGL,function B6y)
endfunction
function B60 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B61 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BW))
endfunction
function B62 takes nothing returns nothing
set BGM=CreateTrigger()
call Bi7(BGM,KZ)
call TriggerAddCondition(BGM,Condition(function B60))
call TriggerAddAction(BGM,function B61)
endfunction
function B63 takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Uc))==GetPlayerColor(GetTriggerPlayer())
endfunction
function B64 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BGK)
call SetDoodadAnimationRectBJ("show",$594F7232,KY)
call ShowUnitShow(XH)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有一处地方的开关开启了。")
call EnableTrigger(BGK)
set hU=true
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set hU=false
if hT==true then
call UnitAddItemByIdSwapped($49303046,Uc)
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B65 takes nothing returns nothing
set BGJ=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BGJ,Player(0),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(1),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(2),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(3),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(4),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(5),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(6),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(7),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(8),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(9),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(10),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(11),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(12),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(13),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(14),"焰灵孕生",true)
call TriggerRegisterPlayerChatEvent(BGJ,Player(15),"焰灵孕生",true)
call TriggerAddCondition(BGJ,Condition(function B63))
call TriggerAddAction(BGJ,function B64)
endfunction
function B66 takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Uc))==GetPlayerColor(GetTriggerPlayer()) and hU==true
endfunction
function B67 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set hT=true
endfunction
function B68 takes nothing returns nothing
set wb=CreateTrigger()
call TriggerRegisterPlayerChatEvent(wb,Player(0),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(1),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(2),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(3),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(4),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(5),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(6),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(7),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(8),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(9),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(10),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(11),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(12),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(13),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(14),"y",true)
call TriggerRegisterPlayerChatEvent(wb,Player(15),"y",true)
call TriggerAddCondition(wb,Condition(function B66))
call TriggerAddAction(wb,function B67)
endfunction
function B69 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BGO)
call SetDoodadAnimationRectBJ("show",$594F7232,Kd)
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(XI)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B7B takes nothing returns nothing
set BGN=CreateTrigger()
call TriggerRegisterUnitEvent(BGN,XH,EVENT_UNIT_DEATH)
call TriggerAddAction(BGN,function B69)
endfunction
function B7C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303733)==true
endfunction
function B7D takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kb))
endfunction
function B7E takes nothing returns nothing
set BGP=CreateTrigger()
call Bi7(BGP,Kd)
call TriggerAddCondition(BGP,Condition(function B7C))
call TriggerAddAction(BGP,function B7D)
endfunction
function B7F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B7G takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bf))
endfunction
function B7H takes nothing returns nothing
set BGQ=CreateTrigger()
call Bi7(BGQ,Ka)
call TriggerAddCondition(BGQ,Condition(function B7F))
call TriggerAddAction(BGQ,function B7G)
endfunction
function B7I takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303733)==false
endfunction
function B7J takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你没有资格进入。")
endfunction
function B7K takes nothing returns nothing
set BGO=CreateTrigger()
call Bi7(BGO,Kd)
call TriggerAddCondition(BGO,Condition(function B7I))
call TriggerAddAction(BGO,function B7J)
endfunction
function B7L takes nothing returns nothing
call DisableTrigger(BGO)
call ShowUnitHide(XI)
call SetDoodadAnimationRectBJ("hide",$594F7232,Kd)
call SetDoodadAnimationRectBJ("hide",$594F6632,Ke)
endfunction
function B7M takes nothing returns nothing
set BGR=CreateTrigger()
call TriggerRegisterTimerEventSingle(BGR,.1)
call TriggerAddAction(BGR,function B7L)
endfunction
function B7N takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303733)==true and Bi9(GetTriggerUnit(),$49303735)==true
endfunction
function B7O takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303733))
call RemoveItem(Bio(GetTriggerUnit(),$49303735))
call UnitAddItemByIdSwapped($49303736,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call SetDoodadAnimationRectBJ("show",$594F6632,Ke)
endfunction
function B7P takes nothing returns nothing
set BGS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGS,Condition(function B7N))
call TriggerAddAction(BGS,function B7O)
endfunction
function B7Q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303736)==true
endfunction
function B7R takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"你获得了米克尔的祝福，全属性绿字+10")
call UnitAddAbilityBJ($41304354,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B7S takes nothing returns nothing
set BGT=CreateTrigger()
call Bi7(BGT,Ke)
call TriggerAddCondition(BGT,Condition(function B7Q))
call TriggerAddAction(BGT,function B7R)
endfunction
function B7T takes nothing returns boolean
return GetDyingUnit()==BGV
endfunction
function B7U takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BGW)
call EnableTrigger(BGX)
call ShowUnit(XJ,true)
call SetDoodadAnimationRectBJ("show",$594F6632,Kg)
endfunction
function B7V takes nothing returns nothing
set BGU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGU,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BGU,Condition(function B7T))
call TriggerAddAction(BGU,function B7U)
endfunction
function B7W takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BGW)
call DisableTrigger(BGX)
call SetDoodadAnimationRectBJ("hide",$594F6632,Kg)
call ShowUnitHide(XJ)
endfunction
function B7X takes nothing returns nothing
set BGY=CreateTrigger()
call TriggerRegisterTimerEventSingle(BGY,.1)
call TriggerAddAction(BGY,function B7W)
endfunction
function B7Y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303736)==true or Bi9(GetTriggerUnit(),$49303741)==true or Bi9(GetTriggerUnit(),$4930374E)==true
endfunction
function B7Z takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kj))
endfunction
function B7a takes nothing returns nothing
set BGW=CreateTrigger()
call Bi7(BGW,Kg)
call TriggerAddCondition(BGW,Condition(function B7Y))
call TriggerAddAction(BGW,function B7Z)
endfunction
function B7b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B7c takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kh))
endfunction
function B7d takes nothing returns nothing
set BGZ=CreateTrigger()
call Bi7(BGZ,Ki)
call TriggerAddCondition(BGZ,Condition(function B7b))
call TriggerAddAction(BGZ,function B7c)
endfunction
function B7e takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303736)==false
endfunction
function B7f takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你没有资格进入。。")
endfunction
function B7g takes nothing returns nothing
set BGX=CreateTrigger()
call Bi7(BGX,Kg)
call TriggerAddCondition(BGX,Condition(function B7e))
call TriggerAddAction(BGX,function B7f)
endfunction
function B7h takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303736)==true and Bi9(GetTriggerUnit(),$49303742)==true
endfunction
function B7i takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303736))
call RemoveItem(Bio(GetTriggerUnit(),$49303742))
call UnitAddItemByIdSwapped($49303741,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B7j takes nothing returns nothing
set BGa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGa,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGa,Condition(function B7h))
call TriggerAddAction(BGa,function B7i)
endfunction
function B7k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303741)==true
endfunction
function B7l takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(K6))
endfunction
function B7m takes nothing returns nothing
set BGb=CreateTrigger()
call Bi7(BGb,K4)
call TriggerAddCondition(BGb,Condition(function B7k))
call TriggerAddAction(BGb,function B7l)
endfunction
function B7n takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B7o takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(EK))
endfunction
function B7p takes nothing returns nothing
set BGc=CreateTrigger()
call Bi7(BGc,K5)
call TriggerAddCondition(BGc,Condition(function B7n))
call TriggerAddAction(BGc,function B7o)
endfunction
function B7q takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303741)==true and Bi9(GetTriggerUnit(),$4930374F)==true
endfunction
function B7r takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303741))
call RemoveItem(Bio(GetTriggerUnit(),$4930374F))
call UnitAddItemByIdSwapped($4930374E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call UnitAddAbilityBJ($41304439,GetTriggerUnit())
endfunction
function B7s takes nothing returns nothing
set BGd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGd,Condition(function B7q))
call TriggerAddAction(BGd,function B7r)
endfunction
function B7t takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930374E)==true and Bi9(GetTriggerUnit(),$49304149)==true
endfunction
function B7u takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在焰灵项链LV4和天罡烈焰石的催化下，出现了个东西。")
call UnitAddItemByIdSwapped($49304152,GetTriggerUnit())
endfunction
function B7v takes nothing returns nothing
set BGe=CreateTrigger()
call Bi7(BGe,Nm)
call TriggerAddCondition(BGe,Condition(function B7t))
call TriggerAddAction(BGe,function B7u)
endfunction
function B7w takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930374E)==true and Bi9(GetTriggerUnit(),$49304152)==true
endfunction
function B7x takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930374E))
call RemoveItem(Bio(GetTriggerUnit(),$49304152))
call UnitAddItemByIdSwapped($49304153,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B7y takes nothing returns nothing
set BGf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGf,Condition(function B7w))
call TriggerAddAction(BGf,function B7x)
endfunction
function B7z takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$4930374E)==true and Bi9(GetTriggerUnit(),$49303530)==true and Bi9(GetTriggerUnit(),$49304151)==true
endfunction
function B70 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($4930384E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：圣焰之心..获取远古圣焰之力应该与它有关..感应的方向是在...艾瑞镇..而且有两件..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获得了解锁“圣焰岩溶套”和“圣焰烈皇盾”的条件之一..（除此之外还需要“浴火之体”、“统凰火莲”）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B71 takes nothing returns nothing
set BGg=CreateTrigger()
call Bi7(BGg,HN)
call TriggerAddCondition(BGg,Condition(function B7z))
call TriggerAddAction(BGg,function B70)
endfunction
function B72 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303157)==true and Bi9(GetTriggerUnit(),$49303130)==true and Bi9(GetTriggerUnit(),$49303736)==true and Bi9(GetTriggerUnit(),$49303046)==true
endfunction
function B73 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49303959,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑、焰灵项链、金属石的共同作用下，土傀儡首领的头颅里分化出了一个头骨形状的东西。
")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：看来这土傀儡....曾经说不定也是人类....到底经受了何种残酷魔法")
call UnitAddAbilityBJ($41304645,Uc)
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B74 takes nothing returns nothing
set BGh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGh,Condition(function B72))
call TriggerAddAction(BGh,function B73)
endfunction
function B75 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303959)==true and Bi9(GetTriggerUnit(),$4930374A)==true and Bi9(GetTriggerUnit(),$49303241)==true and Bi9(GetTriggerUnit(),$49303741)==true
endfunction
function B76 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303959))
call RemoveItem(Bio(GetTriggerUnit(),$4930374A))
call UnitAddItemByIdSwapped($4930395A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在LV2火焰之剑、LV3焰灵项链和蝎王核心的作用下，头骨升级了")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这个东西似乎很喜欢我的火焰，还有强大的核心。")
call UnitAddAbilityBJ($41304646,Uc)
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B77 takes nothing returns nothing
set BGi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGi,Condition(function B75))
call TriggerAddAction(BGi,function B76)
endfunction
function B78 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930395A)==true and Bi9(GetTriggerUnit(),$49303850)==true and Bi9(GetTriggerUnit(),$4930374E)==true and Bi9(GetTriggerUnit(),$49303447)==true or Bi9(GetTriggerUnit(),$49303457)==true
endfunction
function B79 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930395A))
call UnitAddItemByIdSwapped($49304130,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑、LV4焰灵项链的烈焰和恶意之力的灌输下，头骨升级了")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：我感受到了强大的力量。")
call UnitAddAbilityBJ($41304647,Uc)
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获得第一阶炎焚之力，攻击敌人25%概率给予烈焰风暴，在500范围内对敌人造成合计5倍敏捷+1000的法术伤害。")
call EnableTrigger(BGk)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B8B takes nothing returns nothing
set BGj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGj,Condition(function B78))
call TriggerAddAction(BGj,function B79)
endfunction
function B8C takes nothing returns boolean
return GetEventDamageSource()==Uc and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B8D takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B8E takes nothing returns nothing
call UnitDamageTargetBJ(Uc,GetEnumUnit(),5.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true))+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function B8F takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$68303431,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BGl=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function B8D))
call ForGroupBJ(fP,function B8E)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B8G takes nothing returns nothing
set BGk=CreateTrigger()
call Bi3(BGk)
call TriggerAddCondition(BGk,Condition(function B8C))
call TriggerAddAction(BGk,function B8F)
endfunction
function B8H takes nothing returns nothing
call DisableTrigger(BGk)
endfunction
function B8I takes nothing returns nothing
set BGm=CreateTrigger()
call TriggerAddAction(BGm,function B8H)
endfunction
function B8J takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304130)==true and Bi9(GetTriggerUnit(),$49304153)==true and Bi9(GetTriggerUnit(),$4930394E)==true and Bi9(GetTriggerUnit(),$49303939)==true
endfunction
function B8K takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304130))
call RemoveItem(Bio(GetTriggerUnit(),$49303939))
call UnitAddItemByIdSwapped($49304156,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在LV5火焰之剑、LV5焰灵项链和巨力意志的作用下，头骨升级了")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：我感受到自己愈发强大了")
call UnitAddAbilityBJ($41304738,Uc)
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B8L takes nothing returns nothing
set BGn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGn,Condition(function B8J))
call TriggerAddAction(BGn,function B8K)
endfunction
function B8M takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303249 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B8N takes nothing returns nothing
set c3=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set c3=c3+1
if c3==5 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call UnitAddItemByIdSwapped($49304458,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B8O takes nothing returns nothing
set BF1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BF1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BF1,Condition(function B8M))
call TriggerAddAction(BF1,function B8N)
endfunction
function B8P takes nothing returns nothing
call DisableTrigger(BF1)
call DisableTrigger(BGp)
endfunction
function B8Q takes nothing returns nothing
set BGo=CreateTrigger()
call TriggerAddAction(BGo,function B8P)
endfunction
function B8R takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304458)==true and Bi9(GetTriggerUnit(),$4930395A)==true and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B8S takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304458))
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在炎焚之下，你让手套获得了原本不应具有的力量-炎焚手套。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获得全属性+20，攻击力+200，同时妮雅娜的天生能力第二项增强为每次物理攻击对周围300范围的敌人造成250+1倍敏捷的法术伤害。（炎焚手套不占物品格）")
call UnitAddAbilityBJ($41304947,Uc)
call UnitAddAbilityBJ($41304948,Uc)
call DisableTrigger(pa)
call DestroyTrigger(pa)
call EnableTrigger(BGp)
set c5=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B8T takes nothing returns nothing
set BGq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGq,Condition(function B8R))
call TriggerAddAction(BGq,function B8S)
endfunction
function B8U takes nothing returns boolean
return GetEventDamageSource()==Uc and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B8V takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B8W takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),250.+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function B8X takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function B8V))
call ForGroupBJ(fP,function B8W)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B8Y takes nothing returns nothing
set BGp=CreateTrigger()
call Bi3(BGp)
call TriggerAddCondition(BGp,Condition(function B8U))
call TriggerAddAction(BGp,function B8X)
endfunction
function B8Z takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304131 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B8a takes nothing returns nothing
call UnitAddAbilityBJ($4130464B,GetTriggerUnit())
endfunction
function B8b takes nothing returns nothing
set BGr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGr,Condition(function B8Z))
call TriggerAddAction(BGr,function B8a)
endfunction
function B8c takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304131 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B8d takes nothing returns nothing
call UnitRemoveAbilityBJ($4130464B,GetTriggerUnit())
endfunction
function B8e takes nothing returns nothing
set BGs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGs,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BGs,Condition(function B8c))
call TriggerAddAction(BGs,function B8d)
endfunction
function B8f takes nothing returns boolean
return c6==true and IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$4930374E)==true and Bi9(GetTriggerUnit(),$49304151)==true and Bi9(GetTriggerUnit(),$4930384E)==true and Bi9(GetTriggerUnit(),$4930334E)==true and Bi9(GetTriggerUnit(),$4930334D)==true
endfunction
function B8g takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930334D))
call UnitAddItemByIdSwapped($49304131,GetTriggerUnit())
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：烈皇盾...终于找到了..此物还有继续进阶的空间")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B8h takes nothing returns nothing
set BGt=CreateTrigger()
call Bi7(BGt,Gt)
call TriggerAddCondition(BGt,Condition(function B8f))
call TriggerAddAction(BGt,function B8g)
endfunction
function B8i takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304254 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B8j takes nothing returns nothing
call UnitAddAbilityBJ($41304832,GetTriggerUnit())
call UnitAddAbilityBJ($41304834,GetTriggerUnit())
call UnitAddAbilityBJ($41304833,GetTriggerUnit())
endfunction
function B8k takes nothing returns nothing
set BGu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGu,Condition(function B8i))
call TriggerAddAction(BGu,function B8j)
endfunction
function B8l takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304254 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B8m takes nothing returns nothing
call UnitRemoveAbilityBJ($41304832,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304834,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304833,GetTriggerUnit())
endfunction
function B8n takes nothing returns nothing
set BGv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGv,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BGv,Condition(function B8l))
call TriggerAddAction(BGv,function B8m)
endfunction
function B8o takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and c7==true and Bi9(GetTriggerUnit(),$4930394E)==true and Bi9(GetTriggerUnit(),$4930384E)==true and Bi9(GetTriggerUnit(),$49304131)==true and Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304235)==true and Bi9(GetTriggerUnit(),$49304236)==true
endfunction
function B8p takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304255,GetTriggerUnit())
call AddHeroXPSwapped(500,Uc,true)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑LV5、圣焰之心、烈皇盾与三件远古装备的提炼下，你获得了远古之力。")
endfunction
function B8q takes nothing returns nothing
set BGw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGw,Condition(function B8o))
call TriggerAddAction(BGw,function B8p)
endfunction
function B8r takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and c7==true and d7==true and Bi9(GetTriggerUnit(),$4930394E)==true and Bi9(GetTriggerUnit(),$4930384E)==true and Bi9(GetTriggerUnit(),$49304131)==true and Bi9(GetTriggerUnit(),$49304255)==true
endfunction
function B8s takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304255))
call RemoveItem(Bio(GetTriggerUnit(),$49304131))
call UnitAddItemByIdSwapped($49304254,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在远古之力、圣焰之心、火焰之剑LV5的提炼下，烈皇盾有了飞跃一般的进阶。")
set eB=true
endfunction
function B8t takes nothing returns nothing
set BGx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BGx,Condition(function B8r))
call TriggerAddAction(BGx,function B8s)
endfunction
function B8u takes nothing returns nothing
call DisableTrigger(BGt)
endfunction
function B8v takes nothing returns nothing
set BGy=CreateTrigger()
call TriggerAddAction(BGy,function B8u)
endfunction
function B8w takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$4930374E)==true and Bi9(GetTriggerUnit(),$4930334E)==true
endfunction
function B8x takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if RectContainsUnit(O1,Uc)==true and Bi9(GetTriggerUnit(),$49303053)==true and Bi9(GetTriggerUnit(),$4930334D)==true and Bi9(GetTriggerUnit(),$4930354F)==true and Bi9(GetTriggerUnit(),$4930324D)==true and Bi9(GetTriggerUnit(),$49304130)==true then
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,10)
call EnableTrigger(BGt)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：烈皇盾...在呼唤我（妮雅娜白字全属性+10，并获得寻找烈皇盾的资格）")
else
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：有一股能量在呼唤我...到底在哪里呢..")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B8y takes nothing returns nothing
set BGz=CreateTrigger()
call Bi7(BGz,O1)
call TriggerAddCondition(BGz,Condition(function B8w))
call TriggerAddAction(BGz,function B8x)
endfunction
function B8z takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$4930394E)==true and Bi9(GetTriggerUnit(),$4930384E)==true and Bi9(GetTriggerUnit(),$49304254)==true and Bi9(GetTriggerUnit(),$4930334E)==true and Bi9(GetTriggerUnit(),$49304342)==true
endfunction
function B80 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304255,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在火焰之剑LV5、圣焰之心、圣焰烈皇盾、岩溶套的提炼下，远古之力具有了炎的能量。")
endfunction
function B81 takes nothing returns nothing
set BG0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BG0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BG0,Condition(function B8z))
call TriggerAddAction(BG0,function B80)
endfunction
function B82 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and dB==true and dC==true and d7==true and Bi9(GetTriggerUnit(),$4930394E)==true and Bi9(GetTriggerUnit(),$4930384E)==true and Bi9(GetTriggerUnit(),$49304255)==true and Bi9(GetTriggerUnit(),$4930334E)==true
endfunction
function B83 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304255))
call RemoveItem(Bio(GetTriggerUnit(),$4930334E))
call UnitAddItemByIdSwapped($49304343,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"庞大的炎热能量汇聚在这个地方，加上火焰之剑LV5、圣焰之心和圣焰烈皇盾-远古之力的提炼，岩溶套也具有了圣焰远古的力量。")
set eC=true
endfunction
function B84 takes nothing returns nothing
set BG1=CreateTrigger()
call Bi7(BG1,Nm)
call TriggerAddCondition(BG1,Condition(function B82))
call TriggerAddAction(BG1,function B83)
endfunction
function B85 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304343 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B86 takes nothing returns nothing
call UnitAddAbilityBJ($41304839,GetTriggerUnit())
call UnitAddAbilityBJ($41304838,GetTriggerUnit())
endfunction
function B87 takes nothing returns nothing
set BG2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BG2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BG2,Condition(function B85))
call TriggerAddAction(BG2,function B86)
endfunction
function B88 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304343 and IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function B89 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304839,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304838,GetTriggerUnit())
endfunction
function B9B takes nothing returns nothing
set BG3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BG3,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BG3,Condition(function B88))
call TriggerAddAction(BG3,function B89)
endfunction
function B9C takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304343)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B9D takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B9E takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetEventDamageSource(),true))*2.+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function B9F takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B9G takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*2.+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function B9H takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B9I takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))*2.+1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function B9J takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B9K takes nothing returns nothing
call AddSpecialEffectLocBJ(lG,"Units\\NightElf\\Wisp\\WispExplode.mdl")
endfunction
function B9L takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function B9D))
call ForGroupBJ(fP,function B9E)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function B9F))
call ForGroupBJ(fP,function B9G)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function B9H))
call ForGroupBJ(fP,function B9I)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetUnitLoc(GetEnumUnit())
set fP=Biq(400.,i8,Condition(function B9J))
call ForGroupBJ(fP,function B9K)
call DestroyGroup(fP)
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B9M takes nothing returns nothing
set BG4=CreateTrigger()
call Bi3(BG4)
call TriggerAddCondition(BG4,Condition(function B9C))
call TriggerAddAction(BG4,function B9L)
endfunction
function B9N takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303559)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function B9O takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ll))
endfunction
function B9P takes nothing returns nothing
set BG5=CreateTrigger()
call Bi7(BG5,Li)
call TriggerAddCondition(BG5,Condition(function B9N))
call TriggerAddAction(BG5,function B9O)
endfunction
function B9Q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B9R takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Lj))
endfunction
function B9S takes nothing returns nothing
set BG6=CreateTrigger()
call Bi7(BG6,Lk)
call TriggerAddCondition(BG6,Condition(function B9Q))
call TriggerAddAction(BG6,function B9R)
endfunction
function B9T takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303559)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function B9U takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303559))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你身上某个东西似乎变了个样子。")
call UnitAddItemByIdSwapped($49303833,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B9V takes nothing returns nothing
set BG7=CreateTrigger()
call Bi7(BG7,Lm)
call TriggerAddCondition(BG7,Condition(function B9T))
call TriggerAddAction(BG7,function B9U)
endfunction
function B9W takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303833)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function B9X takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303833))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你身上某个东西似乎又变了个样子。")
call UnitAddItemByIdSwapped($49303848,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B9Y takes nothing returns nothing
set BG8=CreateTrigger()
call Bi7(BG8,MD)
call TriggerAddCondition(BG8,Condition(function B9W))
call TriggerAddAction(BG8,function B9X)
endfunction
function B9Z takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303848)==true and Bi9(GetTriggerUnit(),$4930394A)==true and Bi9(GetTriggerUnit(),$49303949)==true and Bi9(GetTriggerUnit(),$4930394B)==true and Bi9(GetTriggerUnit(),$49303751)==true
endfunction
function B9a takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303848))
call RemoveItem(Bio(GetTriggerUnit(),$4930394B))
call RemoveItem(Bio(GetTriggerUnit(),$49303949))
call RemoveItem(Bio(GetTriggerUnit(),$4930394A))
call UnitAddItemByIdSwapped($49304350,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在拉摩尔碎片123黑能量的注入下，以及三件不明物品的融合下，这个宝珠再次得到了升级")
endfunction
function B9b takes nothing returns nothing
set BG9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BG9,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BG9,Condition(function B9Z))
call TriggerAddAction(BG9,function B9a)
endfunction
function B9c takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function B9d takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if Bi9(GetTriggerUnit(),$49303834)==true and Bi9(GetTriggerUnit(),$49303835)==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49303838,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：又找到一件月精灵一族的装备，这件铠甲似乎会在下一个区域得到晋升，指出的方位是.....人族要塞的某个藏角")
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：又是一处月鹰标记...这里的标记在告诉我...需要月之宝石（残缺）以及弓LV1")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B9e takes nothing returns nothing
set BHB=CreateTrigger()
call Bi7(BHB,Lu)
call TriggerAddCondition(BHB,Condition(function B9c))
call TriggerAddAction(BHB,function B9d)
endfunction
function B9f takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49303838)==true
endfunction
function B9g takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303838))
call UnitAddItemByIdSwapped($49303536,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月之护甲升级了，下一次需要晋升的条件是...获得与月精灵相关的并具备相应等级的四件物品，两件与弓有关，一件与护甲有关，一件与特殊植物有关")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B9h takes nothing returns nothing
set BHC=CreateTrigger()
call Bi7(BHC,Nr)
call TriggerAddCondition(BHC,Condition(function B9f))
call TriggerAddAction(BHC,function B9g)
endfunction
function B9i takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304256)==true and Bi9(GetTriggerUnit(),$49304251)==true and Bi9(GetTriggerUnit(),$49303536)==true and Bi9(GetTriggerUnit(),$49303958)==true and Bi9(GetTriggerUnit(),$49304232)==true
endfunction
function B9j takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303958))
call RemoveItem(Bio(GetTriggerUnit(),$49303536))
call UnitAddItemByIdSwapped($4930434A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在生命草能量和月能量的注入以及艾瑞护甲的融合下，月之护甲升级了。下一次晋升条件是....获得祝福月石与该护甲进行融合..祝福月石的获得条件似乎需要艾瑞镇内能获得的特指的六样物品进行提炼..找找看吧")
endfunction
function B9k takes nothing returns nothing
set BHD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHD,Condition(function B9i))
call TriggerAddAction(BHD,function B9j)
endfunction
function B9l takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930434B)==true and Bi9(GetTriggerUnit(),$4930434A)==true
endfunction
function B9m takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930434B))
call RemoveItem(Bio(GetTriggerUnit(),$4930434A))
call UnitAddItemByIdSwapped($4930434C,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在祝福月石镶嵌下，月之护甲升级了...下一次晋升条件在..与月精灵圣都-玛嘉达斯内的圣月宝凯结合")
endfunction
function B9n takes nothing returns nothing
set BHE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHE,Condition(function B9l))
call TriggerAddAction(BHE,function B9m)
endfunction
function B9o takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304256)==true and Bi9(GetTriggerUnit(),$49304251)==true and Bi9(GetTriggerUnit(),$49304232)==true and Bi9(GetTriggerUnit(),$49304138)==true and Bi9(GetTriggerUnit(),$49303954)==true and Bi9(GetTriggerUnit(),$4930354D)==true
endfunction
function B9p takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call RemoveItem(Bio(GetTriggerUnit(),$49303954))
call RemoveItem(Bio(GetTriggerUnit(),$4930354D))
call UnitAddItemByIdSwapped($4930434B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在艾瑞灵水-大、艾瑞生命草、生命符和月能量灌输下，智慧宝珠转化为了祝福月石。")
endfunction
function B9q takes nothing returns nothing
set BHF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHF,Condition(function B9o))
call TriggerAddAction(BHF,function B9p)
endfunction
function B9r takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930434C and GetTriggerUnit()==Uj
endfunction
function B9s takes nothing returns nothing
call UnitAddAbilityBJ($41304931,GetTriggerUnit())
endfunction
function B9t takes nothing returns nothing
set BHG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHG,Condition(function B9r))
call TriggerAddAction(BHG,function B9s)
endfunction
function B9u takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930434C and GetTriggerUnit()==Uj
endfunction
function B9v takes nothing returns nothing
call UnitRemoveAbilityBJ($41304931,GetTriggerUnit())
endfunction
function B9w takes nothing returns nothing
set BHH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHH,Condition(function B9u))
call TriggerAddAction(BHH,function B9v)
endfunction
function B9x takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304256)==true and Bi9(GetTriggerUnit(),$49304251)==true and Bi9(GetTriggerUnit(),$49303834)==true
endfunction
function B9y takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303834))
call UnitAddItemByIdSwapped($49304258,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"下一次月之宝石的晋升条件...与两把相应等级的弓还有一株特殊植物有关...而且要在艾瑞镇的某个月能量充足的藏角进行提升")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B9z takes nothing returns nothing
set BHI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHI,Condition(function B9x))
call TriggerAddAction(BHI,function B9y)
endfunction
function B90 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304258 and GetTriggerUnit()==Uj
endfunction
function B91 takes nothing returns nothing
call UnitAddAbilityBJ($4130444F,GetTriggerUnit())
call UnitAddAbilityBJ($41304450,GetTriggerUnit())
endfunction
function B92 takes nothing returns nothing
set BHJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHJ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHJ,Condition(function B90))
call TriggerAddAction(BHJ,function B91)
endfunction
function B93 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304258 and GetTriggerUnit()==Uj
endfunction
function B94 takes nothing returns nothing
call UnitRemoveAbilityBJ($4130444F,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304450,GetTriggerUnit())
endfunction
function B95 takes nothing returns nothing
set BHK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHK,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHK,Condition(function B93))
call TriggerAddAction(BHK,function B94)
endfunction
function B96 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304348 and GetTriggerUnit()==Uj
endfunction
function B97 takes nothing returns nothing
call UnitAddAbilityBJ($4130444F,GetTriggerUnit())
call UnitAddAbilityBJ($41304450,GetTriggerUnit())
endfunction
function B98 takes nothing returns nothing
set BHL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHL,Condition(function B96))
call TriggerAddAction(BHL,function B97)
endfunction
function B99 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304348 and GetTriggerUnit()==Uj
endfunction
function B_B takes nothing returns nothing
call UnitRemoveAbilityBJ($4130444F,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304450,GetTriggerUnit())
endfunction
function B_C takes nothing returns nothing
set BHM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHM,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHM,Condition(function B99))
call TriggerAddAction(BHM,function B_B)
endfunction
function B_D takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304349 and GetTriggerUnit()==Uj
endfunction
function B_E takes nothing returns nothing
call UnitAddAbilityBJ($41304847,GetTriggerUnit())
call UnitAddAbilityBJ($41304848,GetTriggerUnit())
endfunction
function B_F takes nothing returns nothing
set BHN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHN,Condition(function B_D))
call TriggerAddAction(BHN,function B_E)
endfunction
function B_G takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304349 and GetTriggerUnit()==Uj
endfunction
function B_H takes nothing returns nothing
call UnitRemoveAbilityBJ($41304847,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304848,GetTriggerUnit())
endfunction
function B_I takes nothing returns nothing
set BHO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHO,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHO,Condition(function B_G))
call TriggerAddAction(BHO,function B_H)
endfunction
function B_J takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49304256)==true and Bi9(GetTriggerUnit(),$49304251)==true and Bi9(GetTriggerUnit(),$49304258)==true and Bi9(GetTriggerUnit(),$49304232)==true
endfunction
function B_K takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304258))
call UnitAddItemByIdSwapped($49304348,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在生命草和月能量的倾泄下，你的月之宝石得到了升级...下次晋升条件...与两件相应等级的弓和两件与生命相关的物品进行融合..并要到艾瑞镇里的某个藏角进行提炼...")
endfunction
function B_L takes nothing returns nothing
set BHP=CreateTrigger()
call Bi7(BHP,OT)
call TriggerAddCondition(BHP,Condition(function B_J))
call TriggerAddAction(BHP,function B_K)
endfunction
function B_M takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49304256)==true and Bi9(GetTriggerUnit(),$49304251)==true and Bi9(GetTriggerUnit(),$49304348)==true and Bi9(GetTriggerUnit(),$49304232)==true and Bi9(GetTriggerUnit(),$49303954)==true
endfunction
function B_N takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304348))
call RemoveItem(Bio(GetTriggerUnit(),$49303954))
call UnitAddItemByIdSwapped($49304349,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在大量生命能量和月之能量的提炼下，你的月之宝石得到了升级...下一次晋升条件在...玛嘉达斯")
endfunction
function B_O takes nothing returns nothing
set BHQ=CreateTrigger()
call Bi7(BHQ,OU)
call TriggerAddCondition(BHQ,Condition(function B_M))
call TriggerAddAction(BHQ,function B_N)
endfunction
function B_P takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930434D)==true
endfunction
function B_Q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304356,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在LV5弓的感应下，你在这里找到了一个箭袋。")
call AddItemToStockBJ($4930444D,XV,0,1)
call AddItemToStockBJ($49304450,XV,0,1)
endfunction
function B_R takes nothing returns nothing
set BHR=CreateTrigger()
call Bi7(BHR,OY)
call TriggerAddCondition(BHR,Condition(function B_P))
call TriggerAddAction(BHR,function B_Q)
endfunction
function B_S takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304356)==true and Bi9(GetTriggerUnit(),$4930444D)==true
endfunction
function B_T takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930444D))
call RemoveItem(Bio(GetTriggerUnit(),$49304356))
call UnitAddItemByIdSwapped($4930444E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B_U takes nothing returns nothing
set BHS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHS,Condition(function B_S))
call TriggerAddAction(BHS,function B_T)
endfunction
function B_V takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930444E)==true and Bi9(GetTriggerUnit(),$49304450)==true
endfunction
function B_W takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930444E))
call RemoveItem(Bio(GetTriggerUnit(),$49304450))
call UnitAddItemByIdSwapped($4930444F,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B_X takes nothing returns nothing
set BHT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHT,Condition(function B_V))
call TriggerAddAction(BHT,function B_W)
endfunction
function B_Y takes nothing returns boolean
return Bi9(GetEventDamageSource(),$4930444F)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function B_Z takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=50 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*2.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Units\\NightElf\\Wisp\\WispExplode.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function B_a takes nothing returns nothing
set BHU=CreateTrigger()
call Bi3(BHU)
call TriggerAddCondition(BHU,Condition(function B_Y))
call TriggerAddAction(BHU,function B_Z)
endfunction
function B_b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B_c takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(O9))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"此等神圣的区域，你没有资格踏入。")
endfunction
function B_d takes nothing returns nothing
set BHV=CreateTrigger()
call Bi7(BHV,O8)
call TriggerAddCondition(BHV,Condition(function B_b))
call TriggerAddAction(BHV,function B_c)
endfunction
function B_e takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304636 and GetTriggerUnit()==Uj
endfunction
function B_f takes nothing returns nothing
call UnitAddAbilityBJ($41304C53,GetTriggerUnit())
endfunction
function B_g takes nothing returns nothing
set BHW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHW,Condition(function B_e))
call TriggerAddAction(BHW,function B_f)
endfunction
function B_h takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304636 and GetTriggerUnit()==Uj
endfunction
function B_i takes nothing returns nothing
call UnitRemoveAbilityBJ($41304C53,GetTriggerUnit())
endfunction
function B_j takes nothing returns nothing
set BHX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHX,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHX,Condition(function B_h))
call TriggerAddAction(BHX,function B_i)
endfunction
function B_k takes nothing returns nothing
set i8=GetRandomLocInRect(MI)
call Bjl(1.,AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",i8))
call RemoveLocation(i8)
endfunction
function B_l takes nothing returns nothing
set yM=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(yM,1.)
call TriggerAddAction(yM,function B_k)
endfunction
function B_m takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B_n takes nothing returns nothing
if Bi9(GetTriggerUnit(),$49303053)==false or Bi9(GetTriggerUnit(),$49303647)==false then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"圣光闪烁的区域，究竟藏着什么呢.（请携带竹制法套+兔足到此处）")
else
call DoNothing()
endif
endfunction
function B_o takes nothing returns nothing
set yS=CreateTrigger()
call Bi7(yS,MI)
call TriggerAddCondition(yS,Condition(function B_m))
call TriggerAddAction(yS,function B_n)
endfunction
function B_p takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303053)==true and Bi9(GetTriggerUnit(),$49303647)==true
endfunction
function B_q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(yM)
call DisableTrigger(yS)
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call RemoveItem(Bio(GetTriggerUnit(),$49303647))
call UnitAddItemByIdSwapped($4930384D,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl",GetTriggerUnit(),"chest"))
endfunction
function B_r takes nothing returns nothing
set BHY=CreateTrigger()
call Bi7(BHY,MI)
call TriggerAddCondition(BHY,Condition(function B_p))
call TriggerAddAction(BHY,function B_q)
endfunction
function B_s takes nothing returns boolean
return GetSpellAbilityId()==$41304D5A and IsUnitInGroup(GetTriggerUnit(),bP)==true
endfunction
function B_t takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function B_u takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(125.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.))
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B_v takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function B_t))
call ForGroupBJ(fP,function B_u)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function B_w takes nothing returns nothing
set BHZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHZ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BHZ,Condition(function B_s))
call TriggerAddAction(BHZ,function B_v)
endfunction
function B_x takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function B_y takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"生....ling....wu....zu....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这个面板太陈旧了..上面的字已经不太清楚了..")
call TriggerSleepAction(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function B_z takes nothing returns nothing
set BHa=CreateTrigger()
call Bi7(BHa,P4)
call TriggerAddCondition(BHa,Condition(function B_x))
call TriggerAddAction(BHa,function B_y)
endfunction
function B_0 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303053
endfunction
function B_1 takes nothing returns nothing
set d5=0
set BHc=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set d5=d5+1
if d5==4 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call UnitAddItemByIdSwapped($49304736,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function B_2 takes nothing returns nothing
set BHb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHb,Condition(function B_0))
call TriggerAddAction(BHb,function B_1)
endfunction
function B_3 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930384D)==true and Bi9(GetTriggerUnit(),$49304736)==true
endfunction
function B_4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930384D))
call RemoveItem(Bio(GetTriggerUnit(),$49304736))
call UnitAddItemByIdSwapped($49304737,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function B_5 takes nothing returns nothing
set BHd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHd,Condition(function B_3))
call TriggerAddAction(BHd,function B_4)
endfunction
function B_6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930384D)==true
endfunction
function B_7 takes nothing returns nothing
call EnableTrigger(BHb)
endfunction
function B_8 takes nothing returns nothing
set BHe=CreateTrigger()
call Bi7(BHe,P4)
call TriggerAddCondition(BHe,Condition(function B_6))
call TriggerAddAction(BHe,function B_7)
endfunction
function B_9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CBB takes nothing returns nothing
call DisableTrigger(BHb)
endfunction
function CBC takes nothing returns nothing
set BHf=CreateTrigger()
call Bi8(BHf,P4)
call TriggerAddCondition(BHf,Condition(function B_9))
call TriggerAddAction(BHf,function CBB)
endfunction
function CBD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BHb)
endfunction
function CBE takes nothing returns nothing
set BHg=CreateTrigger()
call TriggerRegisterTimerEventSingle(BHg,.1)
call TriggerAddAction(BHg,function CBD)
endfunction
function CBF takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304737 and GetTriggerUnit()==Uh
endfunction
function CBG takes nothing returns nothing
call UnitAddAbilityBJ($41304E34,GetTriggerUnit())
endfunction
function CBH takes nothing returns nothing
set BHh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHh,Condition(function CBF))
call TriggerAddAction(BHh,function CBG)
endfunction
function CBI takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304737 and GetTriggerUnit()==Uh
endfunction
function CBJ takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E34,GetTriggerUnit())
endfunction
function CBK takes nothing returns nothing
set BHi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHi,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHi,Condition(function CBI))
call TriggerAddAction(BHi,function CBJ)
endfunction
function CBL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CBM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"生1....石0...")
call TriggerSleepAction(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CBN takes nothing returns nothing
set BHj=CreateTrigger()
call Bi7(BHj,P5)
call TriggerAddCondition(BHj,Condition(function CBL))
call TriggerAddAction(BHj,function CBM)
endfunction
function CBO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304737)==true and Bi9(GetTriggerUnit(),$49304736)==true
endfunction
function CBP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304736))
call UnitAddItemByIdSwapped($49304738,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CBQ takes nothing returns nothing
set BHk=CreateTrigger()
call Bi7(BHk,P5)
call TriggerAddCondition(BHk,Condition(function CBO))
call TriggerAddAction(BHk,function CBP)
endfunction
function CBR takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304737)==true and Bi9(GetTriggerUnit(),$49304738)==true
endfunction
function CBS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304737))
call RemoveItem(Bio(GetTriggerUnit(),$49304738))
call UnitAddItemByIdSwapped($49304739,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CBT takes nothing returns nothing
set BHl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHl,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHl,Condition(function CBR))
call TriggerAddAction(BHl,function CBS)
endfunction
function CBU takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304739 and GetTriggerUnit()==Uh
endfunction
function CBV takes nothing returns nothing
call UnitAddAbilityBJ($41304E32,GetTriggerUnit())
call UnitAddAbilityBJ($41304E33,GetTriggerUnit())
endfunction
function CBW takes nothing returns nothing
set BHm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHm,Condition(function CBU))
call TriggerAddAction(BHm,function CBV)
endfunction
function CBX takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304739 and GetTriggerUnit()==Uh
endfunction
function CBY takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E32,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304E33,GetTriggerUnit())
endfunction
function CBZ takes nothing returns nothing
set BHn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHn,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHn,Condition(function CBX))
call TriggerAddAction(BHn,function CBY)
endfunction
function CBa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,P6)
endfunction
function CBb takes nothing returns nothing
set BHo=CreateTrigger()
call TriggerRegisterTimerEventSingle(BHo,.1)
call TriggerAddAction(BHo,function CBa)
endfunction
function CBc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304739)==true and Bi9(GetTriggerUnit(),$4930354A)==true and Bi9(GetTriggerUnit(),$4930354D)==true or Bi9(GetTriggerUnit(),$49303434)==true
endfunction
function CBd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BHq)
call SetDoodadAnimationRectBJ("show",$594F7232,P6)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里居然有通道...")
call ShowUnit(Ys,true)
call ShowUnit(Yk,true)
call ShowUnit(Yl,true)
call ShowUnit(Ym,true)
call ShowUnit(Yn,true)
call ShowUnit(Yo,true)
call ShowUnit(Yp,true)
call ShowUnit(Yq,true)
call ShowUnit(Yr,true)
endfunction
function CBe takes nothing returns nothing
set BHp=CreateTrigger()
call Bi7(BHp,P6)
call TriggerAddCondition(BHp,Condition(function CBc))
call TriggerAddAction(BHp,function CBd)
endfunction
function CBf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CBg takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(P7))
endfunction
function CBh takes nothing returns nothing
set BHq=CreateTrigger()
call Bi7(BHq,P6)
call TriggerAddCondition(BHq,Condition(function CBf))
call TriggerAddAction(BHq,function CBg)
endfunction
function CBi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CBj takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ft))
endfunction
function CBk takes nothing returns nothing
set BHr=CreateTrigger()
call Bi7(BHr,P8)
call TriggerAddCondition(BHr,Condition(function CBi))
call TriggerAddAction(BHr,function CBj)
endfunction
function CBl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BHq)
call DisableTrigger(jm)
call DisableTrigger(BHt)
call DisableTrigger(BHu)
call SetDestructableInvulnerable(T8,true)
call ShowUnit(Ys,false)
call ShowUnit(Yk,false)
call ShowUnit(Yl,false)
call ShowUnit(Ym,false)
call ShowUnit(Yn,false)
call ShowUnit(Yo,false)
call ShowUnit(Yp,false)
call ShowUnit(Yq,false)
call ShowUnit(Yr,false)
call SetItemVisibleBJ(false,UQ)
call SetItemVisibleBJ(false,UR)
call SetItemVisibleBJ(false,US)
endfunction
function CBm takes nothing returns nothing
set BHs=CreateTrigger()
call TriggerRegisterTimerEventSingle(BHs,.1)
call TriggerAddAction(BHs,function CBl)
endfunction
function CBn takes nothing returns boolean
return GetAttacker()==Ys
endfunction
function CBo takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CBp takes nothing returns nothing
call UnitDamageTargetBJ(Ys,GetEnumUnit(),350.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CBq takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function CBo))
call ForGroupBJ(fP,function CBp)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CBr takes nothing returns nothing
set BHv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHv,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BHv,Condition(function CBn))
call TriggerAddAction(BHv,function CBq)
endfunction
function CBs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(jm)
call EnableTrigger(BHt)
call EnableTrigger(BHu)
call SetDestructableInvulnerable(T8,false)
endfunction
function CBt takes nothing returns nothing
set BHw=CreateTrigger()
call TriggerRegisterUnitEvent(BHw,Ys,EVENT_UNIT_DEATH)
call TriggerAddAction(BHw,function CBs)
endfunction
function CBu takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304739)==true and Bi9(GetTriggerUnit(),$49304742)==true
endfunction
function CBv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304739))
call RemoveItem(Bio(GetTriggerUnit(),$49304742))
call UnitAddItemByIdSwapped($49304741,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CBw takes nothing returns nothing
set BHx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHx,Condition(function CBu))
call TriggerAddAction(BHx,function CBv)
endfunction
function CBx takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304741 and GetTriggerUnit()==Uh
endfunction
function CBy takes nothing returns nothing
call UnitAddAbilityBJ($41304E36,GetTriggerUnit())
call UnitAddAbilityBJ($41304E37,GetTriggerUnit())
endfunction
function CBz takes nothing returns nothing
set BHy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BHy,Condition(function CBx))
call TriggerAddAction(BHy,function CBy)
endfunction
function CB0 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304741 and GetTriggerUnit()==Uh
endfunction
function CB1 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E36,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304E37,GetTriggerUnit())
endfunction
function CB2 takes nothing returns nothing
set BHz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHz,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BHz,Condition(function CB0))
call TriggerAddAction(BHz,function CB1)
endfunction
function CB3 takes nothing returns boolean
return GetSpellAbilityId()==$41304E35 and IsUnitInGroup(GetTriggerUnit(),bP)==true
endfunction
function CB4 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CB5 takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(350.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.))
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CB6 takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CB4))
call ForGroupBJ(fP,function CB5)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CB7 takes nothing returns nothing
set BH0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BH0,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BH0,Condition(function CB3))
call TriggerAddAction(BH0,function CB6)
endfunction
function CB8 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function CB9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetItemVisibleBJ(true,UR)
endfunction
function CCB takes nothing returns nothing
set BHt=CreateTrigger()
call Bi7(BHt,QE)
call TriggerAddCondition(BHt,Condition(function CB8))
call TriggerAddAction(BHt,function CB9)
endfunction
function CCC takes nothing returns boolean
return Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function CCD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetItemVisibleBJ(true,UQ)
endfunction
function CCE takes nothing returns nothing
set BHu=CreateTrigger()
call Bi7(BHu,QD)
call TriggerAddCondition(BHu,Condition(function CCC))
call TriggerAddAction(BHu,function CCD)
endfunction
function CCF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddItemToStockBJ($4930474A,XU,0,1)
endfunction
function CCG takes nothing returns nothing
set jt=CreateTrigger()
call TriggerRegisterUnitEvent(jt,XZ,EVENT_UNIT_DEATH)
call TriggerAddAction(jt,function CCF)
endfunction
function CCH takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304741)==true and Bi9(GetTriggerUnit(),$4930474A)==true
endfunction
function CCI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304741))
call RemoveItem(Bio(GetTriggerUnit(),$4930474A))
call UnitAddItemByIdSwapped($4930474B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CCJ takes nothing returns nothing
set ju=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ju,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ju,Condition(function CCH))
call TriggerAddAction(ju,function CCI)
endfunction
function CCK takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930474B and GetTriggerUnit()==Uh
endfunction
function CCL takes nothing returns nothing
call UnitAddAbilityBJ($41304E47,GetTriggerUnit())
call UnitAddAbilityBJ($41304E46,GetTriggerUnit())
endfunction
function CCM takes nothing returns nothing
set jv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(jv,Condition(function CCK))
call TriggerAddAction(jv,function CCL)
endfunction
function CCN takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930474B and GetTriggerUnit()==Uh
endfunction
function CCO takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E47,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304E46,GetTriggerUnit())
endfunction
function CCP takes nothing returns nothing
set jw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jw,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(jw,Condition(function CCN))
call TriggerAddAction(jw,function CCO)
endfunction
function CCQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303647)==true and Bi9(GetTriggerUnit(),$49303141)==true and Bi9(GetTriggerUnit(),$4930454E)==true and Bi9(GetTriggerUnit(),$4930454D)==true and Bi9(GetTriggerUnit(),$4930355A)==true
endfunction
function CCR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303647))
call RemoveItem(Bio(GetTriggerUnit(),$4930454D))
call RemoveItem(Bio(GetTriggerUnit(),$4930454E))
call RemoveItem(Bio(GetTriggerUnit(),$4930355A))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call UnitAddItemByIdSwapped($49304757,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CCS takes nothing returns nothing
set ok=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ok,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ok,Condition(function CCQ))
call TriggerAddAction(ok,function CCR)
endfunction
function CCT takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304757 and GetTriggerUnit()==Uh
endfunction
function CCU takes nothing returns nothing
call UnitAddAbilityBJ($41304E4C,GetTriggerUnit())
call UnitAddAbilityBJ($41304E4D,GetTriggerUnit())
endfunction
function CCV takes nothing returns nothing
set ol=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ol,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ol,Condition(function CCT))
call TriggerAddAction(ol,function CCU)
endfunction
function CCW takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304757 and GetTriggerUnit()==Uh
endfunction
function CCX takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E4C,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304E4D,GetTriggerUnit())
endfunction
function CCY takes nothing returns nothing
set om=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(om,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(om,Condition(function CCW))
call TriggerAddAction(om,function CCX)
endfunction
function CCZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true and Bi9(GetTriggerUnit(),$49304741)==true
endfunction
function CCa takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QL))
endfunction
function CCb takes nothing returns nothing
set on=CreateTrigger()
call Bi7(on,QI)
call TriggerAddCondition(on,Condition(function CCZ))
call TriggerAddAction(on,function CCa)
endfunction
function CCc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true and Bi9(GetTriggerUnit(),$49304757)==true
endfunction
function CCd takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnit(Y0,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CCe takes nothing returns nothing
set oo=CreateTrigger()
call Bi7(oo,QM)
call TriggerAddCondition(oo,Condition(function CCc))
call TriggerAddAction(oo,function CCd)
endfunction
function CCf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Y0,false)
endfunction
function CCg takes nothing returns nothing
set op=CreateTrigger()
call TriggerRegisterTimerEventSingle(op,.3)
call TriggerAddAction(op,function CCf)
endfunction
function CCh takes nothing returns boolean
return GetAttacker()==Y0
endfunction
function CCi takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CCj takes nothing returns nothing
call UnitDamageTargetBJ(Y0,GetEnumUnit(),200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CCk takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function CCi))
call ForGroupBJ(fP,function CCj)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CCl takes nothing returns nothing
set oq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oq,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(oq,Condition(function CCh))
call TriggerAddAction(oq,function CCk)
endfunction
function CCm takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304757)==true and Bi9(GetTriggerUnit(),$49304759)==true
endfunction
function CCn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304757))
call RemoveItem(Bio(GetTriggerUnit(),$49304759))
call UnitAddItemByIdSwapped($49304758,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CCo takes nothing returns nothing
set os=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(os,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(os,Condition(function CCm))
call TriggerAddAction(os,function CCn)
endfunction
function CCp takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304758 and GetTriggerUnit()==Uh
endfunction
function CCq takes nothing returns nothing
call UnitAddAbilityBJ($41304E4E,GetTriggerUnit())
call UnitAddAbilityBJ($41304E4D,GetTriggerUnit())
endfunction
function CCr takes nothing returns nothing
set ot=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ot,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ot,Condition(function CCp))
call TriggerAddAction(ot,function CCq)
endfunction
function CCs takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304758 and GetTriggerUnit()==Uh
endfunction
function CCt takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E4E,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304E4D,GetTriggerUnit())
endfunction
function CCu takes nothing returns nothing
set ou=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ou,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ou,Condition(function CCs))
call TriggerAddAction(ou,function CCt)
endfunction
function CCv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true
endfunction
function CCw takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qk))
endfunction
function CCx takes nothing returns nothing
set ov=CreateTrigger()
call Bi7(ov,Qi)
call TriggerAddCondition(ov,Condition(function CCv))
call TriggerAddAction(ov,function CCw)
endfunction
function CCy takes nothing returns nothing
call DisableTrigger(ov)
call DisableTrigger(ox)
call DisableTrigger(oy)
call ShowUnit(Y1,false)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function CCz takes nothing returns nothing
set ow=CreateTrigger()
call TriggerRegisterTimerEventSingle(ow,.5)
call TriggerAddAction(ow,function CCy)
endfunction
function CC0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true and Bi9(GetTriggerUnit(),$49304758)==true and Bi9(GetTriggerUnit(),$4930474A)==true
endfunction
function CC1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Y1,true)
call EnableTrigger(ov)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你开启了一处机关...")
endfunction
function CC2 takes nothing returns nothing
set oy=CreateTrigger()
call Bi7(oy,Qi)
call TriggerAddCondition(oy,Condition(function CC0))
call TriggerAddAction(oy,function CC1)
endfunction
function CC3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(oy)
endfunction
function CC4 takes nothing returns nothing
set oz=CreateTrigger()
call TriggerRegisterUnitEvent(oz,XZ,EVENT_UNIT_DEATH)
call TriggerAddAction(oz,function CC3)
endfunction
function CC5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CC6 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ql))
endfunction
function CC7 takes nothing returns nothing
set ox=CreateTrigger()
call Bi7(ox,Qj)
call TriggerAddCondition(ox,Condition(function CC5))
call TriggerAddAction(ox,function CC6)
endfunction
function CC8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ox)
endfunction
function CC9 takes nothing returns nothing
set o0=CreateTrigger()
call TriggerRegisterUnitEvent(o0,Y1,EVENT_UNIT_DEATH)
call TriggerAddAction(o0,function CC8)
endfunction
function CDB takes nothing returns boolean
return GetAttacker()==Y1
endfunction
function CDC takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CDD takes nothing returns nothing
call UnitDamageTargetBJ(Y1,GetEnumUnit(),350.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CDE takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function CDC))
call ForGroupBJ(fP,function CDD)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CDF takes nothing returns nothing
set o1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(o1,Condition(function CDB))
call TriggerAddAction(o1,function CDE)
endfunction
function CDG takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304758)==true and Bi9(GetTriggerUnit(),$49304830)==true
endfunction
function CDH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304758))
call RemoveItem(Bio(GetTriggerUnit(),$49304830))
call UnitAddItemByIdSwapped($4930475A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CDI takes nothing returns nothing
set o2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(o2,Condition(function CDG))
call TriggerAddAction(o2,function CDH)
endfunction
function CDJ takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930475A and GetTriggerUnit()==Uh
endfunction
function CDK takes nothing returns nothing
call UnitAddAbilityBJ($41304E50,GetTriggerUnit())
call UnitAddAbilityBJ($41304E51,GetTriggerUnit())
endfunction
function CDL takes nothing returns nothing
set o3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(o3,Condition(function CDJ))
call TriggerAddAction(o3,function CDK)
endfunction
function CDM takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930475A and GetTriggerUnit()==Uh
endfunction
function CDN takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E50,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304E51,GetTriggerUnit())
endfunction
function CDO takes nothing returns nothing
set o4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o4,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(o4,Condition(function CDM))
call TriggerAddAction(o4,function CDN)
endfunction
function CDP takes nothing returns boolean
return GetTriggerUnit()==Uh
endfunction
function CDQ takes nothing returns nothing
if Bi9(GetTriggerUnit(),$4930475A)==true and Bi9(GetTriggerUnit(),$49304831)==true and Bi9(GetTriggerUnit(),$法书LV5)==true and Bi9(GetTriggerUnit(),$4930474B)==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304832,GetTriggerUnit())
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾布茹：我感受到虔诚之书就在这个位置，需要牧师法衣（高）、虔诚头冠、法书LV5、苍生之瓶LV4解开这个书架的禁制")
endif
endfunction
function CDR takes nothing returns nothing
set o5=CreateTrigger()
call Bi7(o5,Qm)
call TriggerAddCondition(o5,Condition(function CDP))
call TriggerAddAction(o5,function CDQ)
endfunction
function CDS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true and Bi9(GetTriggerUnit(),$49304853)==true and Bi9(GetTriggerUnit(),$49304737)==true and Bi9(GetTriggerUnit(),$49304757)==true and Bi9(GetTriggerUnit(),$49303147)==true
endfunction
function CDT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304853))
call RemoveItem(Bio(GetTriggerUnit(),$49303147))
call UnitAddItemByIdSwapped($49304854,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在神圣的祝福下，牧师法靴出现了...奖励绿字全属性+10")
call UnitAddAbilityBJ($41304F48,GetTriggerUnit())
endfunction
function CDU takes nothing returns nothing
set md=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(md,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(md,Condition(function CDS))
call TriggerAddAction(md,function CDT)
endfunction
function CDV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true and Bi9(GetTriggerUnit(),$49304854)==true and Bi9(GetTriggerUnit(),$4930354A)==true and Bi9(GetTriggerUnit(),$49304631)==true or Bi9(GetTriggerUnit(),$49304633)==true or Bi9(GetTriggerUnit(),$法书LV5)==true
endfunction
function CDW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304854))
call RemoveItem(Bio(GetTriggerUnit(),$4930354A))
call UnitAddItemByIdSwapped($49304859,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CDX takes nothing returns nothing
set mp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mp,Condition(function CDV))
call TriggerAddAction(mp,function CDW)
endfunction
function CDY takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304859 and GetTriggerUnit()==Uh
endfunction
function CDZ takes nothing returns nothing
call UnitAddAbilityBJ($41304F4F,GetTriggerUnit())
call UnitAddAbilityBJ($41304F4E,GetTriggerUnit())
endfunction
function CDa takes nothing returns nothing
set mq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mq,Condition(function CDY))
call TriggerAddAction(mq,function CDZ)
endfunction
function CDb takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304859 and GetTriggerUnit()==Uh
endfunction
function CDc takes nothing returns nothing
call UnitRemoveAbilityBJ($41304F4F,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304F4E,GetTriggerUnit())
endfunction
function CDd takes nothing returns nothing
set mr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mr,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(mr,Condition(function CDb))
call TriggerAddAction(mr,function CDc)
endfunction
function CDe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bP)==true and Bi9(GetTriggerUnit(),$法书LV5)==true and Bi9(GetTriggerUnit(),$49304859)==true and Bi9(GetTriggerUnit(),$49304556)==true and Bi9(GetTriggerUnit(),$49304654)==true and Bi9(GetTriggerUnit(),$49304655)==true and Bi9(GetTriggerUnit(),$49304930)==true
endfunction
function CDf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304859))
call RemoveItem(Bio(GetTriggerUnit(),$49304556))
call RemoveItem(Bio(GetTriggerUnit(),$49304654))
call RemoveItem(Bio(GetTriggerUnit(),$49304655))
call RemoveItem(Bio(GetTriggerUnit(),$49304930))
call UnitAddItemByIdSwapped($4930485A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CDg takes nothing returns nothing
set ms=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ms,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ms,Condition(function CDe))
call TriggerAddAction(ms,function CDf)
endfunction
function CDh takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930485A and GetTriggerUnit()==Uh
endfunction
function CDi takes nothing returns nothing
call UnitAddAbilityBJ($41304F52,GetTriggerUnit())
call UnitAddAbilityBJ($41304F51,GetTriggerUnit())
endfunction
function CDj takes nothing returns nothing
set mt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mt,Condition(function CDh))
call TriggerAddAction(mt,function CDi)
endfunction
function CDk takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$4930485A and GetTriggerUnit()==Uh
endfunction
function CDl takes nothing returns nothing
call UnitRemoveAbilityBJ($41304F52,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304F51,GetTriggerUnit())
endfunction
function CDm takes nothing returns nothing
set mu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mu,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(mu,Condition(function CDk))
call TriggerAddAction(mu,function CDl)
endfunction
function CDn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Y9,false)
endfunction
function CDo takes nothing returns nothing
set mv=CreateTrigger()
call TriggerRegisterTimerEventSingle(mv,.85)
call TriggerAddAction(mv,function CDn)
endfunction
function CDp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304236)==true
endfunction
function CDq takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Y9,true)
endfunction
function CDr takes nothing returns nothing
set mw=CreateTrigger()
call Bi7(mw,RV)
call TriggerAddCondition(mw,Condition(function CDp))
call TriggerAddAction(mw,function CDq)
endfunction
function CDs takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CDt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304744,GetRectCenter(RV))
endfunction
function CDu takes nothing returns nothing
set mx=CreateTrigger()
call Bi7(mx,RV)
call TriggerAddCondition(mx,Condition(function CDs))
call TriggerAddAction(mx,function CDt)
endfunction
function CDv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CDw takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304852,GetRectCenter(RU))
endfunction
function CDx takes nothing returns nothing
set mZ=CreateTrigger()
call Bi7(mZ,RU)
call TriggerAddCondition(mZ,Condition(function CDv))
call TriggerAddAction(mZ,function CDw)
endfunction
function CDy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CDz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304852,GetRectCenter(RT))
endfunction
function CD0 takes nothing returns nothing
set ma=CreateTrigger()
call Bi7(ma,RT)
call TriggerAddCondition(ma,Condition(function CDy))
call TriggerAddAction(ma,function CDz)
endfunction
function CD1 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304852)==true and Bi9(GetTriggerUnit(),$49303647)==true and Bi9(GetTriggerUnit(),$49303137)==true and Bi9(GetTriggerUnit(),$49303051)==true
endfunction
function CD2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveItem(Bio(GetTriggerUnit(),$49304852))
call RemoveItem(Bio(GetTriggerUnit(),$49303647))
call RemoveItem(Bio(GetTriggerUnit(),$49303137))
call RemoveItem(Bio(GetTriggerUnit(),$49303051))
call UnitAddItemByIdSwapped($49304853,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetTriggerUnit()==Um then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"不知名的矿工：哇..法力之鞋..这可以提高我的采矿速度")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"不知名的矿工：谢谢你.那我就不客气的笑纳了..")
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CD3 takes nothing returns nothing
set mb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mb,Condition(function CD1))
call TriggerAddAction(mb,function CD2)
endfunction
function CD4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bQ)==true and Bi9(GetTriggerUnit(),$49303148)==true and Bi9(GetTriggerUnit(),$49303037)==true and Bi9(GetTriggerUnit(),$4930454D)==true
endfunction
function CD5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303148))
call RemoveItem(Bio(GetTriggerUnit(),$4930454D))
call RemoveItem(Bio(GetTriggerUnit(),$49303037))
call CreateItemLoc($49304833,GetUnitLoc(GetTriggerUnit()))
set o7=GetLastCreatedItem()
set eE=true
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CD6 takes nothing returns nothing
set o6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(o6,Condition(function CD4))
call TriggerAddAction(o6,function CD5)
endfunction
function CD7 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304833 and GetTriggerUnit()==Ug
endfunction
function CD8 takes nothing returns nothing
call UnitAddAbilityBJ($41304E53,GetTriggerUnit())
endfunction
function CD9 takes nothing returns nothing
set o8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(o8,Condition(function CD7))
call TriggerAddAction(o8,function CD8)
endfunction
function CEB takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304833 and GetTriggerUnit()==Ug
endfunction
function CEC takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E53,GetTriggerUnit())
endfunction
function CED takes nothing returns nothing
set o9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(o9,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(o9,Condition(function CEB))
call TriggerAddAction(o9,function CEC)
endfunction
function CEE takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304834 and GetTriggerUnit()==Ug
endfunction
function CEF takes nothing returns nothing
call UnitAddAbilityBJ($41304E54,GetTriggerUnit())
endfunction
function CEG takes nothing returns nothing
set pB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(pB,Condition(function CEE))
call TriggerAddAction(pB,function CEF)
endfunction
function CEH takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304834 and GetTriggerUnit()==Ug
endfunction
function CEI takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E54,GetTriggerUnit())
endfunction
function CEJ takes nothing returns nothing
set pC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(pC,Condition(function CEH))
call TriggerAddAction(pC,function CEI)
endfunction
function CEK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if eF==true then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"队长徽章晋升了（掉落在罗米尔玩家手上）")
call RemoveItem(pE)
call CreateItemLoc($49304835,GetUnitLoc(Ug))
set pF=GetLastCreatedItem()
set eG=true
set js=GetUnitLoc(Ug)
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
endfunction
function CEL takes nothing returns nothing
set pD=CreateTrigger()
call TriggerRegisterUnitEvent(pD,XS,EVENT_UNIT_DEATH)
call TriggerAddAction(pD,function CEK)
endfunction
function CEM takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304835 and GetTriggerUnit()==Ug
endfunction
function CEN takes nothing returns nothing
call UnitAddAbilityBJ($41304E55,GetTriggerUnit())
endfunction
function CEO takes nothing returns nothing
set pG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(pG,Condition(function CEM))
call TriggerAddAction(pG,function CEN)
endfunction
function CEP takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304835 and GetTriggerUnit()==Ug
endfunction
function CEQ takes nothing returns nothing
call UnitRemoveAbilityBJ($41304E55,GetTriggerUnit())
endfunction
function CER takes nothing returns nothing
set pH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pH,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(pH,Condition(function CEP))
call TriggerAddAction(pH,function CEQ)
endfunction
function CES takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49303136)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303136))==3
endfunction
function CET takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call UnitAddItemByIdSwapped($49303854,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在你能力作用下，三桶水凝成了一块戒指的形状......")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"筱芙娜：这可真有趣....")
call UnitAddAbilityBJ($41304545,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CEU takes nothing returns nothing
set BH1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BH1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BH1,Condition(function CES))
call TriggerAddAction(BH1,function CET)
endfunction
function CEV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49303854)==true and Bi9(GetTriggerUnit(),$49303136)==true
endfunction
function CEW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303854))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call UnitAddItemByIdSwapped($冰晶戒指（中,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在水与泉水的点缀下，冰晶戒指升级了。")
endfunction
function CEX takes nothing returns nothing
set BH2=CreateTrigger()
call Bi7(BH2,Et)
call TriggerAddCondition(BH2,Condition(function CEV))
call TriggerAddAction(BH2,function CEW)
endfunction
function CEY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$冰晶戒指（中)==true and Bi9(GetTriggerUnit(),$49304138)==true
endfunction
function CEZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$冰晶戒指（中))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call UnitAddItemByIdSwapped($冰晶戒指（大）,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在艾瑞灵水和艾瑞泉水的共鸣下，你的戒指发生了变化。")
call UnitAddAbilityBJ($41304652,GetTriggerUnit())
endfunction
function CEa takes nothing returns nothing
set BH3=CreateTrigger()
call Bi7(BH3,My)
call TriggerAddCondition(BH3,Condition(function CEY))
call TriggerAddAction(BH3,function CEZ)
endfunction
function CEb takes nothing returns boolean
return Bi9(GetTriggerUnit(),$冰晶戒指（大）)==true and Bi9(GetTriggerUnit(),$49304138)==true and Bi9(GetTriggerUnit(),$49304456)==true and Bi9(GetTriggerUnit(),$杖LV5)==true
endfunction
function CEc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$冰晶戒指（大）))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call UnitAddItemByIdSwapped($49304531,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CEd takes nothing returns nothing
set BH4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BH4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BH4,Condition(function CEb))
call TriggerAddAction(BH4,function CEc)
endfunction
function CEe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49303136)==true and Bi9(GetTriggerUnit(),$49303148)==true and Bi9(GetTriggerUnit(),$49303647)==true
endfunction
function CEf takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49303148))
call RemoveItem(Bio(GetTriggerUnit(),$49303647))
call UnitAddItemByIdSwapped($49303855,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在你能力作用下，这几件物品凝结成了一件衣服......")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"筱芙娜：衣服很合身。")
call UnitAddAbilityBJ($41304546,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CEg takes nothing returns nothing
set BH5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BH5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BH5,Condition(function CEe))
call TriggerAddAction(BH5,function CEf)
endfunction
function CEh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49303855)==true and Bi9(GetTriggerUnit(),$49303136)==true
endfunction
function CEi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303855))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call UnitAddItemByIdSwapped($冰晶法衣（中）,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在水与泉水的点缀下，冰晶法衣升级了。")
call UnitAddAbilityBJ($41304549,GetTriggerUnit())
endfunction
function CEj takes nothing returns nothing
set BH6=CreateTrigger()
call Bi7(BH6,Et)
call TriggerAddCondition(BH6,Condition(function CEh))
call TriggerAddAction(BH6,function CEi)
endfunction
function CEk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$冰晶法衣（中）)==true and Bi9(GetTriggerUnit(),$49304138)==true
endfunction
function CEl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$冰晶法衣（中）))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call UnitAddItemByIdSwapped($冰晶法衣（大,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在艾瑞灵水和艾瑞泉水的共鸣下，你的法衣发生了变化。")
call UnitAddAbilityBJ($41304651,GetTriggerUnit())
endfunction
function CEm takes nothing returns nothing
set BH7=CreateTrigger()
call Bi7(BH7,My)
call TriggerAddCondition(BH7,Condition(function CEk))
call TriggerAddAction(BH7,function CEl)
endfunction
function CEn takes nothing returns boolean
return Bi9(GetTriggerUnit(),$冰晶法衣（大)==true and Bi9(GetTriggerUnit(),$49304138)==true and Bi9(GetTriggerUnit(),$49304456)==true and Bi9(GetTriggerUnit(),$杖LV5)==true
endfunction
function CEo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$冰晶法衣（大))
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call UnitAddItemByIdSwapped($49304532,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CEp takes nothing returns nothing
set BH8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BH8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BH8,Condition(function CEn))
call TriggerAddAction(BH8,function CEo)
endfunction
function CEq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49304853)==true and Bi9(GetTriggerUnit(),$49303854)==true and Bi9(GetTriggerUnit(),$49303855)==true and Bi9(GetTriggerUnit(),$49303136)==true and Bi9(GetTriggerUnit(),$49303147)==true
endfunction
function CEr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304853))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49303147))
call UnitAddItemByIdSwapped($49304855,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你与冰晶之力的高度契合，冰晶法靴出现了...奖励绿字全属性+10")
call UnitAddAbilityBJ($41304F47,GetTriggerUnit())
endfunction
function CEs takes nothing returns nothing
set mc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mc,Condition(function CEq))
call TriggerAddAction(mc,function CEr)
endfunction
function CEt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49304855)==true and Bi9(GetTriggerUnit(),$冰晶戒指（中)==true and Bi9(GetTriggerUnit(),$冰晶法衣（中）)==true and Bi9(GetTriggerUnit(),$49303243)==true and Bi9(GetTriggerUnit(),$49303342)==true
endfunction
function CEu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304855))
call RemoveItem(Bio(GetTriggerUnit(),$49303243))
call RemoveItem(Bio(GetTriggerUnit(),$49303342))
call UnitAddItemByIdSwapped($49304856,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CEv takes nothing returns nothing
set me=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(me,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(me,Condition(function CEt))
call TriggerAddAction(me,function CEu)
endfunction
function CEw takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304856 and GetTriggerUnit()==Ui
endfunction
function CEx takes nothing returns nothing
call UnitAddAbilityBJ($41304F49,GetTriggerUnit())
endfunction
function CEy takes nothing returns nothing
set mf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mf,Condition(function CEw))
call TriggerAddAction(mf,function CEx)
endfunction
function CEz takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304856 and GetTriggerUnit()==Ui
endfunction
function CE0 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304F49,GetTriggerUnit())
endfunction
function CE1 takes nothing returns nothing
set mg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mg,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(mg,Condition(function CEz))
call TriggerAddAction(mg,function CE0)
endfunction
function CE2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49304856)==true and Bi9(GetTriggerUnit(),$冰晶戒指（大）)==true and Bi9(GetTriggerUnit(),$冰晶法衣（大)==true and Bi9(GetTriggerUnit(),$49303358)==true and Bi9(GetTriggerUnit(),$49304550)==true and Bi9(GetTriggerUnit(),$49303434)==true or Bi9(GetTriggerUnit(),$4930354D)==true
endfunction
function CE3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304856))
call RemoveItem(Bio(GetTriggerUnit(),$49303358))
call RemoveItem(Bio(GetTriggerUnit(),$49303434))
call RemoveItem(Bio(GetTriggerUnit(),$4930354D))
call UnitAddItemByIdSwapped($49304857,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CE4 takes nothing returns nothing
set mh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mh,Condition(function CE2))
call TriggerAddAction(mh,function CE3)
endfunction
function CE5 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304857 and GetTriggerUnit()==Ui
endfunction
function CE6 takes nothing returns nothing
call UnitAddAbilityBJ($41304F4B,GetTriggerUnit())
endfunction
function CE7 takes nothing returns nothing
set mi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mi,Condition(function CE5))
call TriggerAddAction(mi,function CE6)
endfunction
function CE8 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304857 and GetTriggerUnit()==Ui
endfunction
function CE9 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304F4B,GetTriggerUnit())
endfunction
function CFB takes nothing returns nothing
set mj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mj,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(mj,Condition(function CE8))
call TriggerAddAction(mj,function CE9)
endfunction
function CFC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49304857)==true and Bi9(GetTriggerUnit(),$49304532)==true and Bi9(GetTriggerUnit(),$49304531)==true and Bi9(GetTriggerUnit(),$49304456)==true and Bi9(GetTriggerUnit(),$49303955)==true and Bi9(GetTriggerUnit(),$49304651)==true
endfunction
function CFD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304857))
call RemoveItem(Bio(GetTriggerUnit(),$49303955))
call RemoveItem(Bio(GetTriggerUnit(),$49304651))
call UnitAddItemByIdSwapped($49304858,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CFE takes nothing returns nothing
set mk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mk,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mk,Condition(function CFC))
call TriggerAddAction(mk,function CFD)
endfunction
function CFF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(mk)
endfunction
function CFG takes nothing returns nothing
set ml=CreateTrigger()
call TriggerRegisterTimerEventSingle(ml,1.2)
call TriggerAddAction(ml,function CFF)
endfunction
function CFH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49304857)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function CFI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(mk)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"筱芙娜获得了艾瑞的祝福...奖励绿字全属性+10")
call UnitAddAbilityBJ($41304F4D,GetTriggerUnit())
endfunction
function CFJ takes nothing returns nothing
set mm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mm,Condition(function CFH))
call TriggerAddAction(mm,function CFI)
endfunction
function CFK takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304858 and GetTriggerUnit()==Ui
endfunction
function CFL takes nothing returns nothing
call UnitAddAbilityBJ($41304F4C,GetTriggerUnit())
endfunction
function CFM takes nothing returns nothing
set mn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mn,Condition(function CFK))
call TriggerAddAction(mn,function CFL)
endfunction
function CFN takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304858 and GetTriggerUnit()==Ui
endfunction
function CFO takes nothing returns nothing
call UnitRemoveAbilityBJ($41304F4C,GetTriggerUnit())
endfunction
function CFP takes nothing returns nothing
set mo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mo,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(mo,Condition(function CFN))
call TriggerAddAction(mo,function CFO)
endfunction
function CFQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CFR takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"路人：你知道吗，漠尔镇被狼群袭击了，没有一个幸存者。")
call Biy(11.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CFS takes nothing returns nothing
set BH9=CreateTrigger()
call Bi7(BH9,MU)
call TriggerAddCondition(BH9,Condition(function CFQ))
call TriggerAddAction(BH9,function CFR)
endfunction
function CFT takes nothing returns nothing
call ShowUnitHide(XQ)
call DisableTrigger(BIC)
endfunction
function CFU takes nothing returns nothing
set BIB=CreateTrigger()
call TriggerAddAction(BIB,function CFT)
endfunction
function CFV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303546)==true and Bi9(GetTriggerUnit(),$49303659)==true or Bi9(GetTriggerUnit(),$4930365A)==true
endfunction
function CFW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetUnitName(GetTriggerUnit())+"：看来你才是这场狼山异变的始作俑者了")
set ep=true
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：哈哈..真有趣..")
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：我们会再会的..")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Wc)
call CreateItemLoc($4930394A,i8)
call RemoveLocation(i8)
call RemoveUnit(Wc)
call ShowUnitShow(XQ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CFX takes nothing returns nothing
set BIC=CreateTrigger()
call Bi7(BIC,DN)
call TriggerAddCondition(BIC,Condition(function CFV))
call TriggerAddAction(BIC,function CFW)
endfunction
function CFY takes nothing returns nothing
call UnitAddAbilityBJ($4130454A,GetEnumUnit())
endfunction
function CFZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"成功击杀异变的灵魂，奖励玩家全属性+5")
call ForGroupBJ(bJ,function CFY)
endfunction
function CFa takes nothing returns nothing
set BID=CreateTrigger()
call TriggerRegisterUnitEvent(BID,XQ,EVENT_UNIT_DEATH)
call TriggerAddAction(BID,function CFZ)
endfunction
function CFb takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303950
endfunction
function CFc takes nothing returns nothing
call UnitAddAbilityBJ($41304635,GetTriggerUnit())
call UnitAddAbilityBJ($41304638,GetTriggerUnit())
call UnitAddAbilityBJ($41304637,GetTriggerUnit())
endfunction
function CFd takes nothing returns nothing
set BIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIE,Condition(function CFb))
call TriggerAddAction(BIE,function CFc)
endfunction
function CFe takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303950
endfunction
function CFf takes nothing returns nothing
call UnitRemoveAbilityBJ($41304635,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304638,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304637,GetTriggerUnit())
endfunction
function CFg takes nothing returns nothing
set BIF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIF,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BIF,Condition(function CFe))
call TriggerAddAction(BIF,function CFf)
endfunction
function CFh takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303746)==true and Bi9(GetTriggerUnit(),$倩女之袍)==true and Bi9(GetTriggerUnit(),$49303949)==true and Bi9(GetTriggerUnit(),$4930394B)==true and Bi9(GetTriggerUnit(),$4930394A)==true and Bi9(GetTriggerUnit(),$49303732)==true
endfunction
function CFi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$倩女之袍))
call RemoveItem(Bio(GetTriggerUnit(),$49303746))
call RemoveItem(Bio(GetTriggerUnit(),$4930394A))
call RemoveItem(Bio(GetTriggerUnit(),$4930394B))
call RemoveItem(Bio(GetTriggerUnit(),$49303949))
call RemoveItem(Bio(GetTriggerUnit(),$49303732))
call UnitAddItemByIdSwapped($49303950,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CFj takes nothing returns nothing
set BIG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIG,Condition(function CFh))
call TriggerAddAction(BIG,function CFi)
endfunction
function CFk takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49303950)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CFl takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CFm takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetEventDamageSource(),true))*4.+500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CFn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CFl))
call ForGroupBJ(fP,function CFm)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CFo takes nothing returns nothing
set BIH=CreateTrigger()
call Bi3(BIH)
call TriggerAddCondition(BIH,Condition(function CFk))
call TriggerAddAction(BIH,function CFn)
endfunction
function CFp takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303133)==true and Bi9(GetTriggerUnit(),$49303152)==true and Bi9(GetTriggerUnit(),$49303146)==true and Bi9(GetTriggerUnit(),$4930314D)==true and Bi9(GetTriggerUnit(),$49303046)==true and Bi9(GetTriggerUnit(),$49303153)==true or Bi9(GetTriggerUnit(),$49303638)==true
endfunction
function CFq takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303146))
call RemoveItem(Bio(GetTriggerUnit(),$4930314D))
call RemoveItem(Bio(GetTriggerUnit(),$49303152))
call UnitAddItemByIdSwapped($4930394F,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在圣雷石LV0和雷霆花芯和金属石的互相作用下，这些乱七八糟的材料被你打造成了一把雷霆战斧。")
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CFr takes nothing returns nothing
set BII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BII,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BII,Condition(function CFp))
call TriggerAddAction(BII,function CFq)
endfunction
function CFs takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303336)==true and Bi9(GetTriggerUnit(),$49303339)==true and Bi9(GetTriggerUnit(),$4930394F)==true and Bi9(GetTriggerUnit(),$49303759)==true
endfunction
function CFt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930394F))
call RemoveItem(Bio(GetTriggerUnit(),$49303336))
call RemoveItem(Bio(GetTriggerUnit(),$49303339))
call RemoveItem(Bio(GetTriggerUnit(),$49303759))
call UnitAddItemByIdSwapped($49303951,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CFu takes nothing returns nothing
set BIJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIJ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIJ,Condition(function CFs))
call TriggerAddAction(BIJ,function CFt)
endfunction
function CFv takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303951)==true and Bi9(GetTriggerUnit(),$49303850)==true and Bi9(GetTriggerUnit(),$49303436)==true and Bi9(GetTriggerUnit(),$49303339)==true
endfunction
function CFw takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303951))
call RemoveItem(Bio(GetTriggerUnit(),$49303436))
call RemoveItem(Bio(GetTriggerUnit(),$49303339))
call UnitAddItemByIdSwapped($49303952,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CFx takes nothing returns nothing
set BIK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIK,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIK,Condition(function CFv))
call TriggerAddAction(BIK,function CFw)
endfunction
function CFy takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303952)==true and Bi9(GetTriggerUnit(),$49303941)==true and Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49303939)==true
endfunction
function CFz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303952))
call RemoveItem(Bio(GetTriggerUnit(),$49303941))
call RemoveItem(Bio(GetTriggerUnit(),$49303939))
call UnitAddItemByIdSwapped($49304145,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CF0 takes nothing returns nothing
set BIL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIL,Condition(function CFy))
call TriggerAddAction(BIL,function CFz)
endfunction
function CF1 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304946 and GetTriggerUnit()==Ue
endfunction
function CF2 takes nothing returns nothing
call UnitAddAbilityBJ($41305032,GetTriggerUnit())
call UnitAddAbilityBJ($41305033,GetTriggerUnit())
endfunction
function CF3 takes nothing returns nothing
set nF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nF,Condition(function CF1))
call TriggerAddAction(nF,function CF2)
endfunction
function CF4 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304946 and GetTriggerUnit()==Ue
endfunction
function CF5 takes nothing returns nothing
call UnitRemoveAbilityBJ($41305032,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305033,GetTriggerUnit())
endfunction
function CF6 takes nothing returns nothing
set nG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nG,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(nG,Condition(function CF4))
call TriggerAddAction(nG,function CF5)
endfunction
function CF7 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304946)==true and Bi9(GetTriggerUnit(),$4930495A)==true
endfunction
function CF8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304946))
call RemoveItem(Bio(GetTriggerUnit(),$4930495A))
call UnitAddItemByIdSwapped($49304959,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CF9 takes nothing returns nothing
set nq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nq,Condition(function CF7))
call TriggerAddAction(nq,function CF8)
endfunction
function CGB takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304959 and GetTriggerUnit()==Ue
endfunction
function CGC takes nothing returns nothing
call UnitAddAbilityBJ($41305037,GetTriggerUnit())
call UnitAddAbilityBJ($41305036,GetTriggerUnit())
endfunction
function CGD takes nothing returns nothing
set nr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nr,Condition(function CGB))
call TriggerAddAction(nr,function CGC)
endfunction
function CGE takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304959 and GetTriggerUnit()==Ue
endfunction
function CGF takes nothing returns nothing
call UnitRemoveAbilityBJ($41305037,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305036,GetTriggerUnit())
endfunction
function CGG takes nothing returns nothing
set ns=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ns,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ns,Condition(function CGE))
call TriggerAddAction(ns,function CGF)
endfunction
function CGH takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304959)==true and Bi9(GetTriggerUnit(),$4930495A)==true
endfunction
function CGI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304959))
call RemoveItem(Bio(GetTriggerUnit(),$4930495A))
call UnitAddItemByIdSwapped($49304B4C,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGJ takes nothing returns nothing
set vi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vi,Condition(function CGH))
call TriggerAddAction(vi,function CGI)
endfunction
function CGK takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303352)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function CGL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($4930495A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGM takes nothing returns nothing
set vj=CreateTrigger()
call Bi7(vj,Sp)
call TriggerAddCondition(vj,Condition(function CGK))
call TriggerAddAction(vj,function CGL)
endfunction
function CGN takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B4C and GetTriggerUnit()==Ue
endfunction
function CGO takes nothing returns nothing
call UnitAddAbilityBJ($41305344,GetTriggerUnit())
call UnitAddAbilityBJ($41305345,GetTriggerUnit())
endfunction
function CGP takes nothing returns nothing
set vk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vk,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vk,Condition(function CGN))
call TriggerAddAction(vk,function CGO)
endfunction
function CGQ takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B4C and GetTriggerUnit()==Ue
endfunction
function CGR takes nothing returns nothing
call UnitRemoveAbilityBJ($41305344,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305345,GetTriggerUnit())
endfunction
function CGS takes nothing returns nothing
set vl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vl,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vl,Condition(function CGQ))
call TriggerAddAction(vl,function CGR)
endfunction
function CGT takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B4C)==true and Bi9(GetTriggerUnit(),$4930495A)==true
endfunction
function CGU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B4C))
call RemoveItem(Bio(GetTriggerUnit(),$4930495A))
call UnitAddItemByIdSwapped($49304B4E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGV takes nothing returns nothing
set vp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vp,Condition(function CGT))
call TriggerAddAction(vp,function CGU)
endfunction
function CGW takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B4E and GetTriggerUnit()==Ue
endfunction
function CGX takes nothing returns nothing
call UnitAddAbilityBJ($41305344,GetTriggerUnit())
call UnitAddAbilityBJ($41305345,GetTriggerUnit())
endfunction
function CGY takes nothing returns nothing
set vq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vq,Condition(function CGW))
call TriggerAddAction(vq,function CGX)
endfunction
function CGZ takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B4E and GetTriggerUnit()==Ue
endfunction
function CGa takes nothing returns nothing
call UnitRemoveAbilityBJ($41305344,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305345,GetTriggerUnit())
endfunction
function CGb takes nothing returns nothing
set vr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vr,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vr,Condition(function CGZ))
call TriggerAddAction(vr,function CGa)
endfunction
function CGc takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303038)==true and Bi9(GetTriggerUnit(),$49303039)==true and Bi9(GetTriggerUnit(),$49303033)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$49303141)==true
endfunction
function CGd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call RemoveItem(Bio(GetTriggerUnit(),$49303038))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303033))
call UnitAddItemByIdSwapped($49303930,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGe takes nothing returns nothing
set BIM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIM,Condition(function CGc))
call TriggerAddAction(BIM,function CGd)
endfunction
function CGf takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303930)==true and Bi9(GetTriggerUnit(),$49303744)==true and Bi9(GetTriggerUnit(),$49303249)==true and Bi9(GetTriggerUnit(),$4930324A)==true and Bi9(GetTriggerUnit(),$49303546)==true
endfunction
function CGg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303546))
call RemoveItem(Bio(GetTriggerUnit(),$49303744))
call RemoveItem(Bio(GetTriggerUnit(),$49303930))
call RemoveItem(Bio(GetTriggerUnit(),$4930324A))
call RemoveItem(Bio(GetTriggerUnit(),$49303249))
call UnitAddItemByIdSwapped($49303931,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGh takes nothing returns nothing
set BIN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIN,Condition(function CGf))
call TriggerAddAction(BIN,function CGg)
endfunction
function CGi takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303931)==true and Bi9(GetTriggerUnit(),$49303759)==true and Bi9(GetTriggerUnit(),$49303532)==true and Bi9(GetTriggerUnit(),$49303438)==true
endfunction
function CGj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303532))
call RemoveItem(Bio(GetTriggerUnit(),$49303759))
call RemoveItem(Bio(GetTriggerUnit(),$49303931))
call RemoveItem(Bio(GetTriggerUnit(),$49303438))
call UnitAddItemByIdSwapped($49303932,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGk takes nothing returns nothing
set BIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIO,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIO,Condition(function CGi))
call TriggerAddAction(BIO,function CGj)
endfunction
function CGl takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303932)==true and Bi9(GetTriggerUnit(),$49303953)==true and Bi9(GetTriggerUnit(),$49303939)==true and Bi9(GetTriggerUnit(),$49304154)==true
endfunction
function CGm takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303932))
call RemoveItem(Bio(GetTriggerUnit(),$49303953))
call RemoveItem(Bio(GetTriggerUnit(),$49303939))
call RemoveItem(Bio(GetTriggerUnit(),$49304154))
call UnitAddItemByIdSwapped($49304155,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGn takes nothing returns nothing
set BIP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIP,Condition(function CGl))
call TriggerAddAction(BIP,function CGm)
endfunction
function CGo takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304851)==true and Bi9(GetTriggerUnit(),$49304155)==true
endfunction
function CGp takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304851))
call RemoveItem(Bio(GetTriggerUnit(),$49304155))
call UnitAddItemByIdSwapped($49304850,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGq takes nothing returns nothing
set mW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mW,Condition(function CGo))
call TriggerAddAction(mW,function CGp)
endfunction
function CGr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and Bi9(GetTriggerUnit(),$49303330)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function CGs takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304133,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里居然藏着一个披风。。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CGt takes nothing returns nothing
set BIQ=CreateTrigger()
call Bi7(BIQ,NX)
call TriggerAddCondition(BIQ,Condition(function CGr))
call TriggerAddAction(BIQ,function CGs)
endfunction
function CGu takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930414E)==true and Bi9(GetTriggerUnit(),$49304452)==true
endfunction
function CGv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930414E))
call RemoveItem(Bio(GetTriggerUnit(),$49304452))
call UnitAddItemByIdSwapped($49304451,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGw takes nothing returns nothing
set BIR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIR,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIR,Condition(function CGu))
call TriggerAddAction(BIR,function CGv)
endfunction
function CGx takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930494D)==true and Bi9(GetTriggerUnit(),$49304A30)==true
endfunction
function CGy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930494D))
call RemoveItem(Bio(GetTriggerUnit(),$49304A30))
call UnitAddItemByIdSwapped($49304A31,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CGz takes nothing returns nothing
set nt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nt,Condition(function CGx))
call TriggerAddAction(nt,function CGy)
endfunction
function CG0 takes nothing returns boolean
return GetTriggerUnit()==Uf and GetItemTypeId(GetManipulatedItem())==$49304A31 or GetItemTypeId(GetManipulatedItem())==$49304B4D
endfunction
function CG1 takes nothing returns nothing
call UnitAddAbilityBJ($41305038,GetTriggerUnit())
endfunction
function CG2 takes nothing returns nothing
set nu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nu,Condition(function CG0))
call TriggerAddAction(nu,function CG1)
endfunction
function CG3 takes nothing returns boolean
return GetTriggerUnit()==Uf and GetItemTypeId(GetManipulatedItem())==$49304A31 or GetItemTypeId(GetManipulatedItem())==$49304B4D
endfunction
function CG4 takes nothing returns nothing
call UnitRemoveAbilityBJ($41305038,GetTriggerUnit())
endfunction
function CG5 takes nothing returns nothing
set nv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nv,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(nv,Condition(function CG3))
call TriggerAddAction(nv,function CG4)
endfunction
function CG6 takes nothing returns boolean
return GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi and GetItemTypeId(GetManipulatedItem())==$49304A31 or GetItemTypeId(GetManipulatedItem())==$49304B4D
endfunction
function CG7 takes nothing returns nothing
call UnitAddAbilityBJ($41305256,GetTriggerUnit())
endfunction
function CG8 takes nothing returns nothing
set vb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vb,Condition(function CG6))
call TriggerAddAction(vb,function CG7)
endfunction
function CG9 takes nothing returns boolean
return GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi and GetItemTypeId(GetManipulatedItem())==$49304A31 or GetItemTypeId(GetManipulatedItem())==$49304B4D
endfunction
function CHB takes nothing returns nothing
call UnitRemoveAbilityBJ($41305256,GetTriggerUnit())
endfunction
function CHC takes nothing returns nothing
set vc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vc,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vc,Condition(function CG9))
call TriggerAddAction(vc,function CHB)
endfunction
function CHD takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304A31)==true and Bi9(GetTriggerUnit(),$49304A30)==true
endfunction
function CHE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A31))
call RemoveItem(Bio(GetTriggerUnit(),$49304A30))
call UnitAddItemByIdSwapped($49304B4D,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CHF takes nothing returns nothing
set vo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vo,Condition(function CHD))
call TriggerAddAction(vo,function CHE)
endfunction
function CHG takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B4D)==true and Bi9(GetTriggerUnit(),$49304A30)==true
endfunction
function CHH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B4D))
call RemoveItem(Bio(GetTriggerUnit(),$49304A30))
call UnitAddItemByIdSwapped($49304B4F,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CHI takes nothing returns nothing
set vs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vs,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vs,Condition(function CHG))
call TriggerAddAction(vs,function CHH)
endfunction
function CHJ takes nothing returns boolean
return GetTriggerUnit()==Uf and GetItemTypeId(GetManipulatedItem())==$49304B4F
endfunction
function CHK takes nothing returns nothing
call UnitAddAbilityBJ($4130534B,GetTriggerUnit())
endfunction
function CHL takes nothing returns nothing
set vt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vt,Condition(function CHJ))
call TriggerAddAction(vt,function CHK)
endfunction
function CHM takes nothing returns boolean
return GetTriggerUnit()==Uf and GetItemTypeId(GetManipulatedItem())==$49304B4F
endfunction
function CHN takes nothing returns nothing
call UnitRemoveAbilityBJ($4130534B,GetTriggerUnit())
endfunction
function CHO takes nothing returns nothing
set vu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vu,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vu,Condition(function CHM))
call TriggerAddAction(vu,function CHN)
endfunction
function CHP takes nothing returns boolean
return GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi and GetItemTypeId(GetManipulatedItem())==$49304B4F
endfunction
function CHQ takes nothing returns nothing
call UnitAddAbilityBJ($4130534C,GetTriggerUnit())
endfunction
function CHR takes nothing returns nothing
set vv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vv,Condition(function CHP))
call TriggerAddAction(vv,function CHQ)
endfunction
function CHS takes nothing returns boolean
return GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi and GetItemTypeId(GetManipulatedItem())==$49304B4F
endfunction
function CHT takes nothing returns nothing
call UnitRemoveAbilityBJ($4130534C,GetTriggerUnit())
endfunction
function CHU takes nothing returns nothing
set vw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vw,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vw,Condition(function CHS))
call TriggerAddAction(vw,function CHT)
endfunction
function CHV takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304C31)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CHW takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CHX takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),.25*(GetUnitStateSwap(ConvertUnitState(18),GetEventDamageSource())+GetUnitStateSwap(ConvertUnitState(19),GetEventDamageSource()))+2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))+200.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CHY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(325.,i8,Condition(function CHW))
call ForGroupBJ(fP,function CHX)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetTriggerUnit(),"chest"))
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CHZ takes nothing returns nothing
set w3=CreateTrigger()
call Bi3(w3)
call TriggerAddCondition(w3,Condition(function CHV))
call TriggerAddAction(w3,function CHY)
endfunction
function CHa takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304235)==true and Bi9(GetTriggerUnit(),$49304236)==true and Bi9(GetTriggerUnit(),$49303936)==true and Bi9(GetTriggerUnit(),$49303935)==true and Bi9(GetTriggerUnit(),$49304142)==true or Bi9(GetTriggerUnit(),$49304443)==true or Bi9(GetTriggerUnit(),$49304445)==true or Bi9(GetTriggerUnit(),$49304444)==true or Bi9(GetTriggerUnit(),$49304447)==true
endfunction
function CHb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304342,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在这六样物品强大能量的互相作用下，诞生出了远古之力。")
endfunction
function CHc takes nothing returns nothing
set BIS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIS,Condition(function CHa))
call TriggerAddAction(BIS,function CHb)
endfunction
function CHd takes nothing returns nothing
call ShowUnitHide(YR)
endfunction
function CHe takes nothing returns nothing
set BIT=CreateTrigger()
call TriggerAddAction(BIT,function CHd)
endfunction
function CHf takes nothing returns boolean
return GetPlayerName(GetTriggerPlayer())=="HJJTYRYRETERTFDGDFHDFHFGGH%#$%#$%HFHTRYRTYRUTYTYJFGHFHGDGD&%^#$@@!!$%" or GetPlayerName(GetTriggerPlayer())=="GFDGHTRTRYEROU@$!$%^#$%OEIROITUIOE384573ERTERIJFD^$%^%$%#%$$@GBCBBVCCFG"
endfunction
function CHg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetOwningPlayer(Uf)==Player(7) then
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BIV)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"正在检验玩家ID.....")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"确认无误，允许使用特权英雄")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(YR)
call SetUnitOwner(YR,GetOwningPlayer(Uf),true)
call SetUnitPositionLoc(YR,GetUnitLoc(Uf))
call RemoveUnit(Uf)
call GroupAddUnitSimple(YR,bJ)
call UnitAddAbilityBJ($41304A43,YR)
call UnitAddAbilityBJ($41304A42,YR)
call UnitAddAbilityBJ($41304A41,YR)
call UnitAddAbilityBJ($41304A35,YR)
call UnitAddItemByIdSwapped($49304533,YR)
set BIW=GetLastCreatedItem()
call UnitAddItemByIdSwapped($49303732,YR)
call UnitAddAbilityBJ($41304A44,YR)
call UnitAddAbilityBJ($41304A36,YR)
call UnitAddAbilityBJ($41304A37,YR)
call UnitAddAbilityBJ($41304A38,YR)
set jO[8]=YR
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"正在检验玩家ID.....")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"玩家ID不准确")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CHh takes nothing returns nothing
set BIU=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BIU,Player(0),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(1),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(2),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(3),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(4),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(5),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(6),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(7),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(8),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(9),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(10),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(11),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(12),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(13),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(14),"-三圣仙使",true)
call TriggerRegisterPlayerChatEvent(BIU,Player(15),"-三圣仙使",true)
call TriggerAddCondition(BIU,Condition(function CHf))
call TriggerAddAction(BIU,function CHg)
endfunction
function CHi takes nothing returns boolean
return GetAttacker()==YR
endfunction
function CHj takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true
endfunction
function CHk takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*5.+400.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CHl takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true
endfunction
function CHm takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
endfunction
function CHn takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=25 then
call ForGroupBJ(Biq(500.,GetUnitLoc(GetAttackedUnitBJ()),Condition(function CHj)),function CHk)
call ForGroupBJ(Biq(500.,GetUnitLoc(GetAttackedUnitBJ()),Condition(function CHl)),function CHm)
call DestroyEffect(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CHo takes nothing returns nothing
set BIX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIX,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BIX,Condition(function CHi))
call TriggerAddAction(BIX,function CHn)
endfunction
function CHp takes nothing returns boolean
return GetAttackedUnitBJ()==YR
endfunction
function CHq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=25 then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitLifeBJ(GetAttackedUnitBJ(),GetUnitStateSwap(UNIT_STATE_LIFE,GetAttackedUnitBJ())+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))+200.))
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CHr takes nothing returns nothing
set BIY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIY,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BIY,Condition(function CHp))
call TriggerAddAction(BIY,function CHq)
endfunction
function CHs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(YR))==true
endfunction
function CHt takes nothing returns nothing
call UnitDamageTargetBJ(YR,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,YR,true))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CHu takes nothing returns nothing
call ForGroupBJ(Biq(500.,GetUnitLoc(YR),Condition(function CHs)),function CHt)
endfunction
function CHv takes nothing returns nothing
set BIV=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BIV,1.)
call TriggerAddAction(BIV,function CHu)
endfunction
function CHw takes nothing returns nothing
call DisableTrigger(BIV)
endfunction
function CHx takes nothing returns nothing
set BIZ=CreateTrigger()
call TriggerAddAction(BIZ,function CHw)
endfunction
function CHy takes nothing returns boolean
return GetAttacker()==YR
endfunction
function CHz takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=15 then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,YR,true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*2.)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttacker()),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CH0 takes nothing returns nothing
set BIa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIa,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BIa,Condition(function CHy))
call TriggerAddAction(BIa,function CHz)
endfunction
function CH1 takes nothing returns boolean
return GetHeroLevel(YR)==10
endfunction
function CH2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304534,YR)
set BIW=GetLastCreatedItem()
call UnitAddAbilityBJ($41304A45,YR)
call UnitAddAbilityBJ($41304A46,YR)
call UnitAddAbilityBJ($41304A47,YR)
call UnitAddAbilityBJ($41304A48,YR)
endfunction
function CH3 takes nothing returns nothing
set BIb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIb,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIb,Condition(function CH1))
call TriggerAddAction(BIb,function CH2)
endfunction
function CH4 takes nothing returns boolean
return GetHeroLevel(YR)==20
endfunction
function CH5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304535,YR)
set BIW=GetLastCreatedItem()
call UnitAddAbilityBJ($41304A4B,YR)
call UnitAddAbilityBJ($41304A4C,YR)
call UnitAddAbilityBJ($41304A4A,YR)
call UnitAddAbilityBJ($41304A49,YR)
endfunction
function CH6 takes nothing returns nothing
set BIc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIc,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIc,Condition(function CH4))
call TriggerAddAction(BIc,function CH5)
endfunction
function CH7 takes nothing returns boolean
return GetHeroLevel(YR)==30
endfunction
function CH8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304536,YR)
set BIW=GetLastCreatedItem()
call UnitAddAbilityBJ($41304A4D,YR)
call UnitAddAbilityBJ($41304A50,YR)
call UnitAddAbilityBJ($41304A4E,YR)
call UnitAddAbilityBJ($41304A4F,YR)
endfunction
function CH9 takes nothing returns nothing
set BId=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BId,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BId,Condition(function CH7))
call TriggerAddAction(BId,function CH8)
endfunction
function CIB takes nothing returns nothing
call DisableTrigger(BIU)
endfunction
function CIC takes nothing returns nothing
set BIe=CreateTrigger()
call TriggerRegisterTimerEventSingle(BIe,100.)
call TriggerAddAction(BIe,function CIB)
endfunction
function CID takes nothing returns boolean
return GetHeroLevel(YR)==40
endfunction
function CIE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304537,YR)
set BIW=GetLastCreatedItem()
call UnitAddAbilityBJ($41304A55,YR)
call UnitAddAbilityBJ($41304A56,YR)
call UnitAddAbilityBJ($41304A54,YR)
call UnitAddAbilityBJ($41304A53,YR)
endfunction
function CIF takes nothing returns nothing
set BIf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIf,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIf,Condition(function CID))
call TriggerAddAction(BIf,function CIE)
endfunction
function CIG takes nothing returns boolean
return GetHeroLevel(YR)==50
endfunction
function CIH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304538,YR)
set BIW=GetLastCreatedItem()
call UnitAddAbilityBJ($41304A39,YR)
call UnitAddAbilityBJ($41304B36,YR)
call UnitAddAbilityBJ($41304B35,YR)
call UnitAddAbilityBJ($41304B34,YR)
call UnitAddAbilityBJ($41304B47,YR)
call EnableTrigger(BIh)
call EnableTrigger(BIi)
call EnableTrigger(BIj)
endfunction
function CII takes nothing returns nothing
set BIg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIg,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIg,Condition(function CIG))
call TriggerAddAction(BIg,function CIH)
endfunction
function CIJ takes nothing returns boolean
return GetHeroLevel(YR)==60
endfunction
function CIK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304539,YR)
set BIW=GetLastCreatedItem()
call UnitAddAbilityBJ($41304A57,YR)
endfunction
function CIL takes nothing returns nothing
set BIk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIk,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIk,Condition(function CIJ))
call TriggerAddAction(BIk,function CIK)
endfunction
function CIM takes nothing returns boolean
return GetHeroLevel(YR)==70
endfunction
function CIN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304541,YR)
set BIW=GetLastCreatedItem()
endfunction
function CIO takes nothing returns nothing
set BIl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIl,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIl,Condition(function CIM))
call TriggerAddAction(BIl,function CIN)
endfunction
function CIP takes nothing returns boolean
return GetHeroLevel(YR)==80
endfunction
function CIQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BIW)
call UnitAddItemByIdSwapped($49304542,YR)
set BIW=GetLastCreatedItem()
endfunction
function CIR takes nothing returns nothing
set BIm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIm,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BIm,Condition(function CIP))
call TriggerAddAction(BIm,function CIQ)
endfunction
function CIS takes nothing returns boolean
return GetAttacker()==YR
endfunction
function CIT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CIU takes nothing returns nothing
set BIh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIh,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BIh,Condition(function CIS))
call TriggerAddAction(BIh,function CIT)
endfunction
function CIV takes nothing returns nothing
call DisableTrigger(BIh)
endfunction
function CIW takes nothing returns nothing
set BIn=CreateTrigger()
call TriggerAddAction(BIn,function CIV)
endfunction
function CIX takes nothing returns boolean
return GetAttackedUnitBJ()==YR
endfunction
function CIY takes nothing returns nothing
call SetUnitLifeBJ(GetAttackedUnitBJ(),GetUnitStateSwap(UNIT_STATE_LIFE,GetAttackedUnitBJ())+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*.3)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function CIZ takes nothing returns nothing
set BIi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIi,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BIi,Condition(function CIX))
call TriggerAddAction(BIi,function CIY)
endfunction
function CIa takes nothing returns nothing
call DisableTrigger(BIi)
endfunction
function CIb takes nothing returns nothing
set BIo=CreateTrigger()
call TriggerAddAction(BIo,function CIa)
endfunction
function CIc takes nothing returns boolean
return GetAttacker()==YR
endfunction
function CId takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true
endfunction
function CIe takes nothing returns nothing
call UnitDamageTargetBJ(GetLastCreatedUnit(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,YR,true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CIf takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=15 then
call MoveRectToLoc(Ox,GetUnitLoc(YR))
call CreateNUnitsAtLoc(1,$68303437,GetOwningPlayer(GetAttacker()),GetRandomLocInRect(Ox),bj_UNIT_FACING)
set BIp=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetAttackedUnitBJ()))
call ForGroupBJ(Biq(800.,GetUnitLoc(GetAttackedUnitBJ()),Condition(function CId)),function CIe)
call DisableTrigger(GetTriggeringTrigger())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CIg takes nothing returns nothing
set BIj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIj,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BIj,Condition(function CIc))
call TriggerAddAction(BIj,function CIf)
endfunction
function CIh takes nothing returns nothing
call DisableTrigger(BIj)
endfunction
function CIi takes nothing returns nothing
set BIq=CreateTrigger()
call TriggerAddAction(BIq,function CIh)
endfunction
function CIj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function CIk takes nothing returns nothing
if Bi9(GetTriggerUnit(),$49303730)==true and Bi9(GetTriggerUnit(),$49303057)==true or Bi9(GetTriggerUnit(),$49303835)==true then
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Lq))
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅-鹰眼：又是一处月鹰标记...这里的标记在提示我...需要弓LV0或LV1以及附灵之弓...")
endif
endfunction
function CIl takes nothing returns nothing
set BIr=CreateTrigger()
call Bi7(BIr,Ln)
call TriggerAddCondition(BIr,Condition(function CIj))
call TriggerAddAction(BIr,function CIk)
endfunction
function CIm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CIn takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Lo))
endfunction
function CIo takes nothing returns nothing
set BIs=CreateTrigger()
call Bi7(BIs,Lp)
call TriggerAddCondition(BIs,Condition(function CIm))
call TriggerAddAction(BIs,function CIn)
endfunction
function CIp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49303730)==true and Bi9(GetTriggerUnit(),$49303057)==true
endfunction
function CIq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303057))
call UnitAddItemByIdSwapped($49303835,GetTriggerUnit())
call UnitAddItemByIdSwapped($49303834,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：没有想到这里居然隐藏着月精灵一族的宝物。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅的武器升级了..下一次月之宝石的晋升条件...与两把相应等级的弓有关...")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CIr takes nothing returns nothing
set BIt=CreateTrigger()
call Bi7(BIt,Lr)
call TriggerAddCondition(BIt,Condition(function CIp))
call TriggerAddAction(BIt,function CIq)
endfunction
function CIs takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49303835)==true and Bi9(GetTriggerUnit(),$49303834)==true
endfunction
function CIt takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303835))
call UnitAddItemByIdSwapped($49303836,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：月之宝石似乎有反应了")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅的武器升级了。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得了月亮宝石的祝福。（额外给予莉尔娅敏捷+20）")
call UnitAddAbilityBJ($41304452,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CIu takes nothing returns nothing
set BIu=CreateTrigger()
call Bi7(BIu,Ls)
call TriggerAddCondition(BIu,Condition(function CIs))
call TriggerAddAction(BIu,function CIt)
endfunction
function CIv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49303836)==true and Bi9(GetTriggerUnit(),$49303834)==true and Bi9(GetTriggerUnit(),$49303838)==true
endfunction
function CIw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303836))
call UnitAddItemByIdSwapped($49303837,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：月之宝石似乎又有反应了")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅的武器升级了。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月亮宝石的光辉更鲜艳了（额外给予莉尔娅敏捷+25）")
call UnitAddAbilityBJ($41304451,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CIx takes nothing returns nothing
set BIv=CreateTrigger()
call Bi7(BIv,Lt)
call TriggerAddCondition(BIv,Condition(function CIv))
call TriggerAddAction(BIv,function CIw)
endfunction
function CIy takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303837)==true and Bi9(GetTriggerUnit(),$49304257)==true
endfunction
function CIz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303837))
call RemoveItem(Bio(GetTriggerUnit(),$49304257))
call UnitAddItemByIdSwapped($49304256,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CI0 takes nothing returns nothing
set BIw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIw,Condition(function CIy))
call TriggerAddAction(BIw,function CIz)
endfunction
function CI1 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304256)==true and Bi9(GetTriggerUnit(),$49304251)==true and Bi9(GetTriggerUnit(),$49304349)==true and Bi9(GetTriggerUnit(),$4930434C)==true and Bi9(GetTriggerUnit(),$49304232)==true and Bi9(GetTriggerUnit(),$49303954)==true
endfunction
function CI2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304256))
call RemoveItem(Bio(GetTriggerUnit(),$49303954))
call UnitAddItemByIdSwapped($4930434D,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在庞大生命力和月能量的注入下，弓升级了。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：我的月之能量似乎可以进行突破了。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请莉尔娅玩家必须在300秒内购买三瓶艾瑞灵水-大，合成艾瑞灵水-祝福，帮助莉尔娅突破瓶颈，超时失效。")
call EnableTrigger(BIy)
call Biy(300.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BIy)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CI3 takes nothing returns nothing
set BIx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIx,Condition(function CI1))
call TriggerAddAction(BIx,function CI2)
endfunction
function CI4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function CI5 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930434E))
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅的月之力量得到了突破，全属性增加30点，攻击力增加400点。")
call UnitAddAbilityBJ($4130484B,GetTriggerUnit())
call UnitAddAbilityBJ($4130484A,GetTriggerUnit())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅获得星落之力，攻击时25%概率对周围敌人释放星落，造成0.8倍自身攻击力+敏捷X4+500的物理伤害。")
call EnableTrigger(BIz)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CI6 takes nothing returns nothing
set BIy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BIy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BIy,Condition(function CI4))
call TriggerAddAction(BIy,function CI5)
endfunction
function CI7 takes nothing returns nothing
call DisableTrigger(BIy)
endfunction
function CI8 takes nothing returns nothing
set BI0=CreateTrigger()
call TriggerAddAction(BI0,function CI7)
endfunction
function CI9 takes nothing returns boolean
return GetEventDamageSource()==Uj and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CJB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CJC takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CJD takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CJE takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*4.+(.8*(GetUnitStateSwap(ConvertUnitState(18),GetEventDamageSource())+GetUnitStateSwap(ConvertUnitState(19),GetEventDamageSource()))+500.+0.),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CJF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(450.,i8,Condition(function CJB))
call ForGroupBJ(fP,function CJC)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(450.,i8,Condition(function CJD))
call ForGroupBJ(fP,function CJE)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CJG takes nothing returns nothing
set BIz=CreateTrigger()
call Bi3(BIz)
call TriggerAddCondition(BIz,Condition(function CI9))
call TriggerAddAction(BIz,function CJF)
endfunction
function CJH takes nothing returns nothing
call DisableTrigger(BIz)
endfunction
function CJI takes nothing returns nothing
set BI1=CreateTrigger()
call TriggerAddAction(BI1,function CJH)
endfunction
function CJJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303035)==true
endfunction
function CJK takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(DZ))
endfunction
function CJL takes nothing returns nothing
set BCt=CreateTrigger()
call Bi7(BCt,DD)
call TriggerAddCondition(BCt,Condition(function CJJ))
call TriggerAddAction(BCt,function CJK)
endfunction
function CJM takes nothing returns nothing
call DisableTrigger(BCt)
endfunction
function CJN takes nothing returns nothing
set BI2=CreateTrigger()
call TriggerAddAction(BI2,function CJM)
endfunction
function CJO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7466,DD)
call SetDoodadAnimationRectBJ("hide",$594F7466,Dk)
endfunction
function CJP takes nothing returns nothing
set BI3=CreateTrigger()
call TriggerRegisterTimerEventSingle(BI3,.1)
call TriggerAddAction(BI3,function CJO)
endfunction
function CJQ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Dv))
endfunction
function CJR takes nothing returns nothing
set BI4=CreateTrigger()
call Bi7(BI4,DO)
call TriggerAddAction(BI4,function CJQ)
endfunction
function CJS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true or IsUnitInGroup(GetTriggerUnit(),bM)==true or IsUnitInGroup(GetTriggerUnit(),bN)==true or IsUnitInGroup(GetTriggerUnit(),bO)==true or IsUnitInGroup(GetTriggerUnit(),bP)==true or IsUnitInGroup(GetTriggerUnit(),bQ)==true or IsUnitInGroup(GetTriggerUnit(),bR)==true
endfunction
function CJT takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你没有资格进入")
endfunction
function CJU takes nothing returns nothing
set BI5=CreateTrigger()
call Bi7(BI5,DD)
call TriggerAddCondition(BI5,Condition(function CJS))
call TriggerAddAction(BI5,function CJT)
endfunction
function CJV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303035)==true
endfunction
function CJW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(true)
call RemoveItem(Bio(GetTriggerUnit(),$49303035))
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"焰灵孕生.......")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"火掣莒来.......")
call TriggerSleepAction(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Ue,bJ)==true then
call ConditionalTriggerExecute(BI9)
else
call ConditionalTriggerExecute(BJB)
endif
call UnitAddItemByIdSwapped($49303130,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call EnableTrigger(BGJ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CJX takes nothing returns nothing
set BI6=CreateTrigger()
call Bi7(BI6,Dk)
call TriggerAddCondition(BI6,Condition(function CJV))
call TriggerAddAction(BI6,function CJW)
endfunction
function CJY takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(false)
call PlayMusicBJ(C)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"由于你对火焰进行了融合，你的基础属性有所增强。同时，在你使用十字烈焰后，将获得二段技能烈焰驱进，烈焰驱进详见二段技能介绍。")
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,5)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,5)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,5)
call EnableTrigger(BJC)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根：这就是你的武器的真正形态？")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：显然还差得远了..想必还有不少挑战等待着我..")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CJZ takes nothing returns nothing
set BI9=CreateTrigger()
call TriggerRegisterTimerEventSingle(BI9,1.)
call TriggerAddAction(BI9,function CJY)
endfunction
function CJa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(false)
call PlayMusicBJ(C)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"由于你对火焰进行了融合，你的基础属性有所增强。同时，在你使用十字烈焰后，将获得二段技能烈焰驱进，烈焰驱进详见二段技能介绍。")
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,5)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,5)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,5)
call EnableTrigger(BJC)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CJb takes nothing returns nothing
set BJB=CreateTrigger()
call TriggerRegisterTimerEventSingle(BJB,1.)
call TriggerAddAction(BJB,function CJa)
endfunction
function CJc takes nothing returns nothing
call DisableTrigger(BI9)
call DisableTrigger(BJB)
endfunction
function CJd takes nothing returns nothing
set BJD=CreateTrigger()
call TriggerAddAction(BJD,function CJc)
endfunction
function CJe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303130)==true
endfunction
function CJf takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call RemoveItem(Bio(GetTriggerUnit(),$49303130))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"护身破敌......")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"同除灾厄.......")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddItemByIdSwapped($49303241,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biw(false)
call DisableTrigger(BJF)
call DisableTrigger(BJG)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你与火焰的融洽性越来越高了，你的自身白字属性再次得到了提高，“三千炎焚”进阶为“三千炎焚-炽烈”")
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,4)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,6)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,3)
call UnitRemoveAbilityBJ($41303034,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41303034,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305555,GetTriggerUnit())
set hV=true
call StopMusic(true)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlaySoundBJ(BC)
set wO=GetLastPlayedSound()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CJg takes nothing returns nothing
set BJE=CreateTrigger()
call Bi7(BJE,D2)
call TriggerAddCondition(BJE,Condition(function CJe))
call TriggerAddAction(BJE,function CJf)
endfunction
function CJh takes nothing returns nothing
call DisableTrigger(BJE)
call DisableTrigger(BJF)
call DisableTrigger(BJG)
endfunction
function CJi takes nothing returns nothing
set BJH=CreateTrigger()
call TriggerAddAction(BJH,function CJh)
endfunction
function CJj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true or IsUnitInGroup(GetTriggerUnit(),bM)==true or IsUnitInGroup(GetTriggerUnit(),bN)==true or IsUnitInGroup(GetTriggerUnit(),bO)==true or IsUnitInGroup(GetTriggerUnit(),bP)==true or IsUnitInGroup(GetTriggerUnit(),bQ)==true or IsUnitInGroup(GetTriggerUnit(),bR)==true
endfunction
function CJk takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"此物与你无缘....")
endfunction
function CJl takes nothing returns nothing
set BJF=CreateTrigger()
call Bi7(BJF,D2)
call TriggerAddCondition(BJF,Condition(function CJj))
call TriggerAddAction(BJF,function CJk)
endfunction
function CJm takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303035)==true
endfunction
function CJn takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你手上的剑等级不够.....")
endfunction
function CJo takes nothing returns nothing
set BJG=CreateTrigger()
call Bi7(BJG,D2)
call TriggerAddCondition(BJG,Condition(function CJm))
call TriggerAddAction(BJG,function CJn)
endfunction
function CJp takes nothing returns boolean
return GetSpellAbilityId()==$41305555
endfunction
function CJq takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CJr takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),1.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/1.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CJs takes nothing returns nothing
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303741,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set yU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetLastCreatedUnit())
set qM=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",PolarProjectionBJ(qM,30.,GetUnitFacing(GetLastCreatedUnit())))
call RemoveLocation(i8)
call RemoveLocation(qH)
call RemoveLocation(qM)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(585.,i8,Condition(function CJq))
call ForGroupBJ(fP,function CJr)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitLifeBJ(Uc,GetUnitStateSwap(UNIT_STATE_LIFE,Uc)+(.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))+100.+0+0))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetTriggerUnit(),"chest"))
endfunction
function CJt takes nothing returns nothing
set yT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yT,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yT,Condition(function CJp))
call TriggerAddAction(yT,function CJs)
endfunction
function CJu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303241)==true or Bi9(GetTriggerUnit(),$49303447)==true
endfunction
function CJv takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(HQ))
endfunction
function CJw takes nothing returns nothing
set BJI=CreateTrigger()
call Bi7(BJI,HN)
call TriggerAddCondition(BJI,Condition(function CJu))
call TriggerAddAction(BJI,function CJv)
endfunction
function CJx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303130)==true
endfunction
function CJy takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你的剑不够资格进入...")
endfunction
function CJz takes nothing returns nothing
set BJJ=CreateTrigger()
call Bi7(BJJ,HN)
call TriggerAddCondition(BJJ,Condition(function CJx))
call TriggerAddAction(BJJ,function CJy)
endfunction
function CJ0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303035)==true
endfunction
function CJ1 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你的剑不够资格进入...")
endfunction
function CJ2 takes nothing returns nothing
set BJK=CreateTrigger()
call Bi7(BJK,HN)
call TriggerAddCondition(BJK,Condition(function CJ0))
call TriggerAddAction(BJK,function CJ1)
endfunction
function CJ3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CJ4 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(HO))
call SetUnitLifePercentBJ(XC,100)
endfunction
function CJ5 takes nothing returns nothing
set BJL=CreateTrigger()
call Bi7(BJL,HP)
call TriggerAddCondition(BJL,Condition(function CJ3))
call TriggerAddAction(BJL,function CJ4)
endfunction
function CJ6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function CJ7 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这次似乎没那么容易...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(XC)
call EnableTrigger(BJN)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CJ8 takes nothing returns nothing
set BJM=CreateTrigger()
call Bi7(BJM,HR)
call TriggerAddCondition(BJM,Condition(function CJ6))
call TriggerAddAction(BJM,function CJ7)
endfunction
function CJ9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(XC)
endfunction
function CKB takes nothing returns nothing
set BJO=CreateTrigger()
call TriggerRegisterTimerEventSingle(BJO,.1)
call TriggerAddAction(BJO,function CJ9)
endfunction
function CKC takes nothing returns nothing
call CreateNUnitsAtLoc(1,$68303247,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(HS),bj_UNIT_FACING)
set BJP=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(HS))
endfunction
function CKD takes nothing returns nothing
set BJN=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BJN,1.25)
call TriggerAddAction(BJN,function CKC)
endfunction
function CKE takes nothing returns nothing
call DisableTrigger(BJN)
endfunction
function CKF takes nothing returns nothing
set BJQ=CreateTrigger()
call TriggerAddAction(BJQ,function CKE)
endfunction
function CKG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BJN)
call SetDoodadAnimationRectBJ("hide",$594F7466,HS)
call CreateItemLoc($49303448,GetRectCenter(HT))
endfunction
function CKH takes nothing returns nothing
set BJR=CreateTrigger()
call TriggerRegisterUnitEvent(BJR,XC,EVENT_UNIT_DEATH)
call TriggerAddAction(BJR,function CKG)
endfunction
function CKI takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303448)==true and Bi9(GetTriggerUnit(),$49303241)==true
endfunction
function CKJ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303448))
call RemoveItem(Bio(GetTriggerUnit(),$49303241))
call UnitAddItemByIdSwapped($49303447,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在打败了灵火兽后，在对火灵石吸纳的同时，你也有所收获，基础属性得到了提高。")
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,4)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,7)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,1)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CKK takes nothing returns nothing
set BJS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJS,Condition(function CKI))
call TriggerAddAction(BJS,function CKJ)
endfunction
function CKL takes nothing returns nothing
call SetDestructableInvulnerable(T0,true)
call SetDestructableInvulnerable(Tt,true)
endfunction
function CKM takes nothing returns nothing
set BJT=CreateTrigger()
call TriggerAddAction(BJT,function CKL)
endfunction
function CKN takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344E)==true
endfunction
function CKO takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这把钥匙可行不通......")
endfunction
function CKP takes nothing returns nothing
set BJU=CreateTrigger()
call Bi7(BJU,Fx)
call TriggerAddCondition(BJU,Condition(function CKN))
call TriggerAddAction(BJU,function CKO)
endfunction
function CKQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303447)==true
endfunction
function CKR takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(F0))
endfunction
function CKS takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BJW)
call Biw(true)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,T0)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Ty)
call ShowUnitShow(VE)
call ForGroupBJ(bJ,function CKR)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Fy))
call Biw(false)
call UnitAddAbilityBJ($4130424E,VE)
call UnitAddAbilityBJ($41304337,VE)
call IssuePointOrderLoc(VE,"patrol",GetRectCenter(GO))
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tt)
call ShowDestructableBJ(true,Tt)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CKT takes nothing returns nothing
set BJV=CreateTrigger()
call Bi7(BJV,Fy)
call TriggerAddCondition(BJV,Condition(function CKQ))
call TriggerAddAction(BJV,function CKS)
endfunction
function CKU takes nothing returns nothing
call ShowUnitHide(VE)
call ShowDestructableBJ(false,Tt)
endfunction
function CKV takes nothing returns nothing
set BJX=CreateTrigger()
call TriggerRegisterTimerEventSingle(BJX,.1)
call TriggerAddAction(BJX,function CKU)
endfunction
function CKW takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303447)==true and Bi9(GetTriggerUnit(),$4930345A)==true
endfunction
function CKX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BJU)
call RemoveItem(Bio(GetTriggerUnit(),$4930345A))
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T0)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tt)
endfunction
function CKY takes nothing returns nothing
set BJY=CreateTrigger()
call Bi7(BJY,Fx)
call TriggerAddCondition(BJY,Condition(function CKW))
call TriggerAddAction(BJY,function CKX)
endfunction
function CKZ takes nothing returns boolean
return GetKillingUnitBJ()==VE
endfunction
function CKa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(VE)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"挑战失败.............")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ReviveHeroLoc(Uc,GetRectCenter(GO),true)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T0)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Ty)
call RemoveDestructable(Tt)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这.....")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的声音：看来您是是失败了啊...")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的声音：这个送给你吧...")
call CreateItemLoc($49304752,GetUnitLoc(Uc))
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：.....")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CKb takes nothing returns nothing
set BJW=CreateTrigger()
call TriggerRegisterUnitEvent(BJW,Uc,EVENT_UNIT_DEATH)
call TriggerAddCondition(BJW,Condition(function CKZ))
call TriggerAddAction(BJW,function CKa)
endfunction
function CKc takes nothing returns nothing
call DisableTrigger(BJW)
endfunction
function CKd takes nothing returns nothing
set BJZ=CreateTrigger()
call TriggerAddAction(BJZ,function CKc)
endfunction
function CKe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BJW)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T0)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Ty)
call RemoveDestructable(Tt)
call CreateItemLoc($49303456,GetRectCenter(Fy))
endfunction
function CKf takes nothing returns nothing
set BJa=CreateTrigger()
call TriggerRegisterUnitEvent(BJa,VE,EVENT_UNIT_DEATH)
call TriggerAddAction(BJa,function CKe)
endfunction
function CKg takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303447)==true and Bi9(GetTriggerUnit(),$49303456)==true
endfunction
function CKh takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303447))
call RemoveItem(Bio(GetTriggerUnit(),$49303456))
call UnitAddItemByIdSwapped($49303457,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
set bl=true
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你越发感受到自身火焰的澎湃，加上之前的积累，你的基础属性有了飞跃一般的提升。")
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,6)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,8)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,1)
call UnitAddAbilityBJ($4130394F,Uc)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CKi takes nothing returns nothing
set BJb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJb,Condition(function CKg))
call TriggerAddAction(BJb,function CKh)
endfunction
function CKj takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303341,GetOwningPlayer(VE),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BJd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitManaBJ(VE,0)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(VE,"patrol",GetRandomLocInRect(GO))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CKk takes nothing returns nothing
set BJc=CreateTrigger()
call TriggerRegisterUnitManaEvent(BJc,VE,GREATER_THAN_OR_EQUAL,350.)
call TriggerAddAction(BJc,function CKj)
endfunction
function CKl takes nothing returns nothing
call DisableTrigger(BJf)
call DisableTrigger(BJg)
endfunction
function CKm takes nothing returns nothing
set BJe=CreateTrigger()
call TriggerAddAction(BJe,function CKl)
endfunction
function CKn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303241)==true and Bi9(GetTriggerUnit(),$49303746)==true and Bi9(GetTriggerUnit(),$49303558)==true and Bi9(GetTriggerUnit(),$49303544)==true and Bi9(GetTriggerUnit(),$4930365A)==true
endfunction
function CKo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BJf)
endfunction
function CKp takes nothing returns nothing
set BJh=CreateTrigger()
call Bi7(BJh,Lg)
call TriggerAddCondition(BJh,Condition(function CKn))
call TriggerAddAction(BJh,function CKo)
endfunction
function CKq takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Uc))==GetPlayerColor(GetTriggerPlayer())
endfunction
function CKr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BJg)
endfunction
function CKs takes nothing returns nothing
set BJf=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BJf,Player(0),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(1),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(2),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(3),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(4),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(5),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(6),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(7),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(8),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(9),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(10),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(11),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(12),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(13),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(14),"护身破敌",true)
call TriggerRegisterPlayerChatEvent(BJf,Player(15),"护身破敌",true)
call TriggerAddCondition(BJf,Condition(function CKq))
call TriggerAddAction(BJf,function CKr)
endfunction
function CKt takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Uc))==GetPlayerColor(GetTriggerPlayer())
endfunction
function CKu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303832,GetRectCenter(Lh))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：灾厄的气息更明显了..一定出现在了荒芜的某处..")
endfunction
function CKv takes nothing returns nothing
set BJg=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BJg,Player(0),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(1),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(2),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(3),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(4),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(5),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(6),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(7),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(8),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(9),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(10),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(11),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(12),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(13),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(14),"同除灾厄",true)
call TriggerRegisterPlayerChatEvent(BJg,Player(15),"同除灾厄",true)
call TriggerAddCondition(BJg,Condition(function CKt))
call TriggerAddAction(BJg,function CKu)
endfunction
function CKw takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303832
endfunction
function CKx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这就是灾厄之石...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜获得灾厄之石，全属性绿字提升10点")
call UnitAddAbilityBJ($4130444D,Uc)
call QuestSetCompleted(BJj,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CKy takes nothing returns nothing
set BJi=CreateTrigger()
call TriggerRegisterUnitEvent(BJi,Uc,EVENT_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJi,Condition(function CKw))
call TriggerAddAction(BJi,function CKx)
endfunction
function CKz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function CK0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：龙族公主妮雅娜，老身在此已等候您多时")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：正如你所见，此处即是你武器升至LV5的地方")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：如果你现在的武器还没有到LV4便是可以请回了")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：就算你已经受烈焰的考验达到了LV4的境界，单单这样是远远不够的。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：作为这场大灾厄的救世主之一，你需要了解灾厄的源头，知晓真相。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：综上，请携带火焰之剑LV4和“灾厄之石（完整）”给我看看吧。")
call EnableTrigger(BJl)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CK1 takes nothing returns nothing
set BJk=CreateTrigger()
call Bi7(BJk,M6)
call TriggerAddCondition(BJk,Condition(function CKz))
call TriggerAddAction(BJk,function CK0)
endfunction
function CK2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$4930394C)==true
endfunction
function CK3 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：看来你已具备知晓真相的能力。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：当然，接下来是要考验阁下的实力了，你已获取资格进去挑战老身的分身。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：带着“火焰之剑LV4”即可以进去，祝你进阶成功。")
call EnableTrigger(BJm)
call EnableTrigger(BJn)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：顺带一提，妮雅娜，你在艾瑞镇能获取到的个人相关提升如下：火焰之剑LV5、焰灵项链LV5、炎焚头骨（超）、烈焰魔衣（中）、圣焰岩溶套-远古之力、圣焰烈皇盾-远古之力、焰龙皇之姿-初阶")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炎灵鬼：希望你能成功")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CK4 takes nothing returns nothing
set BJl=CreateTrigger()
call Bi7(BJl,M6)
call TriggerAddCondition(BJl,Condition(function CK2))
call TriggerAddAction(BJl,function CK3)
endfunction
function CK5 takes nothing returns nothing
call DisableTrigger(BJl)
call DisableTrigger(BJm)
call DisableTrigger(BJn)
call ShowUnitHide(XT)
endfunction
function CK6 takes nothing returns nothing
set BJo=CreateTrigger()
call TriggerAddAction(BJo,function CK5)
endfunction
function CK7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true or Bi9(GetTriggerUnit(),$4930394E)==true
endfunction
function CK8 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(NR))
endfunction
function CK9 takes nothing returns nothing
set BJm=CreateTrigger()
call Bi7(BJm,M6)
call TriggerAddCondition(BJm,Condition(function CK7))
call TriggerAddAction(BJm,function CK8)
endfunction
function CLB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$49303457)==true
endfunction
function CLC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(XT)
endfunction
function CLD takes nothing returns nothing
set BJn=CreateTrigger()
call Bi7(BJn,M6)
call TriggerAddCondition(BJn,Condition(function CLB))
call TriggerAddAction(BJn,function CLC)
endfunction
function CLE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CLF takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(NQ))
endfunction
function CLG takes nothing returns nothing
set BJp=CreateTrigger()
call Bi7(BJp,NS)
call TriggerAddCondition(BJp,Condition(function CLE))
call TriggerAddAction(BJp,function CLF)
endfunction
function CLH takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$4930394D)==true
endfunction
function CLI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303457))
call RemoveItem(Bio(GetTriggerUnit(),$4930394D))
call UnitAddItemByIdSwapped($4930394E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
set ct=true
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"经受LV5烈焰的考验，你已经大有所成，白字全属性+30")
call ModifyHeroStat(bj_HEROSTAT_STR,Uc,bj_MODIFYMETHOD_ADD,30)
call ModifyHeroStat(bj_HEROSTAT_AGI,Uc,bj_MODIFYMETHOD_ADD,30)
call ModifyHeroStat(bj_HEROSTAT_INT,Uc,bj_MODIFYMETHOD_ADD,30)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CLJ takes nothing returns nothing
set BJq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJq,Condition(function CLH))
call TriggerAddAction(BJq,function CLI)
endfunction
function CLK takes nothing returns boolean
return GetAttacker()==XT
endfunction
function CLL takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CLM takes nothing returns nothing
call UnitDamageTargetBJ(XT,GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CLN takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function CLL))
call ForGroupBJ(fP,function CLM)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CLO takes nothing returns nothing
set BJr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BJr,Condition(function CLK))
call TriggerAddAction(BJr,function CLN)
endfunction
function CLP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function CLQ takes nothing returns nothing
if Bi9(GetTriggerUnit(),$49303832)==true then
if Bi9(GetTriggerUnit(),$49303457)==true and Bi9(GetTriggerUnit(),$49303832)==true and Bi9(GetTriggerUnit(),$49303850)==true and Bi9(GetTriggerUnit(),$49303530)==true then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303832))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在这个污染的中心，火焰之剑LV4、恶意之力和双子之心的共同催化下，灾厄之石似乎不再残缺了（妮雅娜全属性绿字+10）")
call UnitAddItemByIdSwapped($4930394C,GetTriggerUnit())
call UnitAddAbilityBJ($41304739,GetTriggerUnit())
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：灾厄之石正在蠢蠢欲动..需要更多的力量来激发其潜力..（请携带火焰之剑LV4、灾厄之石（残缺）、恶意之力、双子之心来此处）")
endif
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这里就是污染的中心..一定和某样灾厄之物有关联")
endif
endfunction
function CLR takes nothing returns nothing
set BJs=CreateTrigger()
call Bi7(BJs,NY)
call TriggerAddCondition(BJs,Condition(function CLP))
call TriggerAddAction(BJs,function CLQ)
endfunction
function CLS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and Bi9(GetTriggerUnit(),$4930394C)==true
endfunction
function CLT takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QY))
endfunction
function CLU takes nothing returns nothing
set kC=CreateTrigger()
call Bi7(kC,Pe)
call TriggerAddCondition(kC,Condition(function CLS))
call TriggerAddAction(kC,function CLT)
endfunction
function CLV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(kC)
endfunction
function CLW takes nothing returns nothing
set kD=CreateTrigger()
call TriggerRegisterTimerEventSingle(kD,.1)
call TriggerAddAction(kD,function CLV)
endfunction
function CLX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CLY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Pf))
endfunction
function CLZ takes nothing returns nothing
set kE=CreateTrigger()
call Bi7(kE,QZ)
call TriggerAddCondition(kE,Condition(function CLX))
call TriggerAddAction(kE,function CLY)
endfunction
function CLa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true
endfunction
function CLb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if ct==true and c7==true and d7==true and eB==true and eC==true then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：贵安...公主殿下...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：没想到...你的成长居然如此迅速...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：有意思...可惜暂时还不能对你动手...不过在不远的将来...我们会有许多交流的...")
set eD=true
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：贵安...年轻又可爱的公主殿下...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：你在成长的过程中看来有些缺漏呢...你不是我的对手...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：看你这么弱...送你个装备吧...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49304752,GetRectCenter(Qb))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：有朝一日我们会再见的..")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CLc takes nothing returns nothing
set kF=CreateTrigger()
call Bi7(kF,Qa)
call TriggerAddCondition(kF,Condition(function CLa))
call TriggerAddAction(kF,function CLb)
endfunction
function CLd takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303056)==true and Bi9(GetTriggerUnit(),$49303131)==true
endfunction
function CLe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303056))
call RemoveItem(Bio(GetTriggerUnit(),$49303131))
call UnitAddItemByIdSwapped($49303132,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CLf takes nothing returns nothing
set BJt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJt,Condition(function CLd))
call TriggerAddAction(BJt,function CLe)
endfunction
function CLg takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303132)==true and Bi9(GetTriggerUnit(),$4930325A)==true
endfunction
function CLh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303132))
call RemoveItem(Bio(GetTriggerUnit(),$4930325A))
call UnitAddItemByIdSwapped($49303330,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CLi takes nothing returns nothing
set BJu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJu,Condition(function CLg))
call TriggerAddAction(BJu,function CLh)
endfunction
function CLj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==false
endfunction
function CLk takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你没有资格进入这里.....")
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(I0))
endfunction
function CLl takes nothing returns nothing
set BJv=CreateTrigger()
call Bi7(BJv,Iz)
call TriggerAddCondition(BJv,Condition(function CLj))
call TriggerAddAction(BJv,function CLk)
endfunction
function CLm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and Bi9(GetTriggerUnit(),$49303132)==false
endfunction
function CLn takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你的武器等级不够资格进入....")
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(I0))
endfunction
function CLo takes nothing returns nothing
set BJw=CreateTrigger()
call Bi7(BJw,Iz)
call TriggerAddCondition(BJw,Condition(function CLm))
call TriggerAddAction(BJw,function CLn)
endfunction
function CLp takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call GroupAddUnitSimple(Wm,cI)
endfunction
function CLq takes nothing returns nothing
set BJx=CreateTrigger()
call TriggerRegisterTimerEventSingle(BJx,.1)
call TriggerAddAction(BJx,function CLp)
endfunction
function CLr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),cI)==true
endfunction
function CLs takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(I2))
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
endfunction
function CLt takes nothing returns nothing
set BJy=CreateTrigger()
call Bi7(BJy,I1)
call TriggerAddCondition(BJy,Condition(function CLr))
call TriggerAddAction(BJy,function CLs)
endfunction
function CLu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒野猎手在一次战斗中获得了提升，提高4点敏捷和2点力量。")
call UnitAddAbilityBJ($41304241,Uf)
endfunction
function CLv takes nothing returns nothing
set BJz=CreateTrigger()
call TriggerRegisterUnitEvent(BJz,Wm,EVENT_UNIT_DEATH)
call TriggerAddAction(BJz,function CLu)
endfunction
function CLw takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303330)==true and Bi9(GetTriggerUnit(),$49303449)==true
endfunction
function CLx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303330))
call RemoveItem(Bio(GetTriggerUnit(),$49303449))
call UnitAddItemByIdSwapped($4930344A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CLy takes nothing returns nothing
set BJ0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJ0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJ0,Condition(function CLw))
call TriggerAddAction(BJ0,function CLx)
endfunction
function CLz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and Bi9(GetTriggerUnit(),$49303330)==true
endfunction
function CL0 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KW))
endfunction
function CL1 takes nothing returns nothing
set BJ1=CreateTrigger()
call Bi7(BJ1,Iy)
call TriggerAddCondition(BJ1,Condition(function CLz))
call TriggerAddAction(BJ1,function CL0)
endfunction
function CL2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CL3 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KX))
endfunction
function CL4 takes nothing returns nothing
set BJ2=CreateTrigger()
call Bi7(BJ2,KV)
call TriggerAddCondition(BJ2,Condition(function CL2))
call TriggerAddAction(BJ2,function CL3)
endfunction
function CL5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒野猎手在一次战斗中获得了提升，提高8点敏捷和4点力量。")
call UnitAddAbilityBJ($41304433,Uf)
endfunction
function CL6 takes nothing returns nothing
set BJ3=CreateTrigger()
call TriggerRegisterUnitEvent(BJ3,XG,EVENT_UNIT_DEATH)
call TriggerAddAction(BJ3,function CL5)
endfunction
function CL7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and Bi9(GetTriggerUnit(),$4930344A)==true
endfunction
function CL8 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LC))
endfunction
function CL9 takes nothing returns nothing
set BJ4=CreateTrigger()
call Bi7(BJ4,K9)
call TriggerAddCondition(BJ4,Condition(function CL7))
call TriggerAddAction(BJ4,function CL8)
endfunction
function CMB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CMC takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(GN))
endfunction
function CMD takes nothing returns nothing
set BJ5=CreateTrigger()
call Bi7(BJ5,LB)
call TriggerAddCondition(BJ5,Condition(function CMB))
call TriggerAddAction(BJ5,function CMC)
endfunction
function CME takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344A)==true and Bi9(GetTriggerUnit(),$49303752)==true
endfunction
function CMF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930344A))
call RemoveItem(Bio(GetTriggerUnit(),$49303752))
call UnitAddItemByIdSwapped($49303753,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMG takes nothing returns nothing
set BJ6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJ6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJ6,Condition(function CME))
call TriggerAddAction(BJ6,function CMF)
endfunction
function CMH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒野猎手在一次战斗中获得了提升，提高8点敏捷和4点力量。")
call UnitAddAbilityBJ($41304443,Uf)
endfunction
function CMI takes nothing returns nothing
set BJ7=CreateTrigger()
call TriggerRegisterUnitEvent(BJ7,XM,EVENT_UNIT_DEATH)
call TriggerAddAction(BJ7,function CMH)
endfunction
function CMJ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303753)==true and Bi9(GetTriggerUnit(),$49303841)==true
endfunction
function CMK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303753))
call RemoveItem(Bio(GetTriggerUnit(),$49303841))
call UnitAddItemByIdSwapped($49304157,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CML takes nothing returns nothing
set BJ8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJ8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJ8,Condition(function CMJ))
call TriggerAddAction(BJ8,function CMK)
endfunction
function CMM takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303054)==true and Bi9(GetTriggerUnit(),$49303133)==true
endfunction
function CMN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303054))
call RemoveItem(Bio(GetTriggerUnit(),$49303133))
call UnitAddItemByIdSwapped($49303134,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMO takes nothing returns nothing
set BJ9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJ9,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BJ9,Condition(function CMM))
call TriggerAddAction(BJ9,function CMN)
endfunction
function CMP takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303352)==true and Bi9(GetTriggerUnit(),$49303134)==true
endfunction
function CMQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set cS=true
call RemoveItem(Bio(GetTriggerUnit(),$49303134))
call RemoveItem(Bio(GetTriggerUnit(),$49303352))
call UnitAddItemByIdSwapped($49303351,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMR takes nothing returns nothing
set BKB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKB,Condition(function CMP))
call TriggerAddAction(BKB,function CMQ)
endfunction
function CMS takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303353)==true and Bi9(GetTriggerUnit(),$49303351)==true
endfunction
function CMT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303353))
call RemoveItem(Bio(GetTriggerUnit(),$49303351))
call UnitAddItemByIdSwapped($49303354,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMU takes nothing returns nothing
set BKC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKC,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKC,Condition(function CMS))
call TriggerAddAction(BKC,function CMT)
endfunction
function CMV takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303354)==true and Bi9(GetTriggerUnit(),$49304146)==true
endfunction
function CMW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304146))
call RemoveItem(Bio(GetTriggerUnit(),$49303354))
call UnitAddItemByIdSwapped($49304147,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMX takes nothing returns nothing
set BKD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKD,Condition(function CMV))
call TriggerAddAction(BKD,function CMW)
endfunction
function CMY takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304147)==true and Bi9(GetTriggerUnit(),$4930474D)==true
endfunction
function CMZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930474D))
call RemoveItem(Bio(GetTriggerUnit(),$49304147))
call UnitAddItemByIdSwapped($4930474C,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMa takes nothing returns nothing
set BKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKE,Condition(function CMY))
call TriggerAddAction(BKE,function CMZ)
endfunction
function CMb takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303055)==true and Bi9(GetTriggerUnit(),$49303050)==true
endfunction
function CMc takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303050))
call RemoveItem(Bio(GetTriggerUnit(),$49303055))
call UnitAddItemByIdSwapped($49303233,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：我感受到了雷翼宝石的存在，一定就在这个遗迹的某处。")
call SetDoodadAnimationRectBJ("show",$584F6D72,LD)
call EnableTrigger(BEu)
call EnableTrigger(BEv)
call EnableTrigger(BEw)
call EnableTrigger(BEx)
call EnableTrigger(BE2)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CMd takes nothing returns nothing
set BKF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKF,Condition(function CMb))
call TriggerAddAction(BKF,function CMc)
endfunction
function CMe takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303233)==true and Bi9(GetTriggerUnit(),$49303236)==true
endfunction
function CMf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303233))
call RemoveItem(Bio(GetTriggerUnit(),$49303236))
call UnitAddItemByIdSwapped($49303237,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CMg takes nothing returns nothing
set BKG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKG,Condition(function CMe))
call TriggerAddAction(BKG,function CMf)
endfunction
function CMh takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344E)==true
endfunction
function CMi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tx)
call RemoveItem(Bio(GetTriggerUnit(),$4930344E))
endfunction
function CMj takes nothing returns nothing
set BKH=CreateTrigger()
call Bi7(BKH,Fj)
call TriggerAddCondition(BKH,Condition(function CMh))
call TriggerAddAction(BKH,function CMi)
endfunction
function CMk takes nothing returns nothing
call SetDestructableInvulnerable(Tx,true)
endfunction
function CMl takes nothing returns nothing
set BKI=CreateTrigger()
call TriggerAddAction(BKI,function CMk)
endfunction
function CMm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303237)==true
endfunction
function CMn takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303237))
set bk=true
call Biw(true)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：Let the light shine.......")
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：For the Sliver....")
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddItemByIdSwapped($49303453,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call RemoveUnit(VM)
call Biw(false)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：接下来的晋升..需要携带这把镰刀以及一件神圣属性相关的物品前往色尔根要塞中圣光力量最充沛的地方对异变之源进行净化...")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CMo takes nothing returns nothing
set BKJ=CreateTrigger()
call Bi7(BKJ,Fl)
call TriggerAddCondition(BKJ,Condition(function CMm))
call TriggerAddAction(BKJ,function CMn)
endfunction
function CMp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303233)==true
endfunction
function CMq takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你的武器不够资格...")
endfunction
function CMr takes nothing returns nothing
set BKK=CreateTrigger()
call Bi7(BKK,Fl)
call TriggerAddCondition(BKK,Condition(function CMp))
call TriggerAddAction(BKK,function CMq)
endfunction
function CMs takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303055)==true
endfunction
function CMt takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你的武器不够资格...")
endfunction
function CMu takes nothing returns nothing
set BKL=CreateTrigger()
call Bi7(BKL,Fl)
call TriggerAddCondition(BKL,Condition(function CMs))
call TriggerAddAction(BKL,function CMt)
endfunction
function CMv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$4930384F)==true
endfunction
function CMw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：异变之源...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：上面沾满的污染实在太多了，如果圣光的力量足够强大，就能将其净化")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"注：请在西菲尔携带镰刀LV3、神圣之石的情况下，到色尔根要塞某处圣光笼罩的区域下，将异变之源净化（净化的同时，镰刀LV3也将得到升级）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CMx takes nothing returns nothing
set r0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(r0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(r0,Condition(function CMv))
call TriggerAddAction(r0,function CMw)
endfunction
function CMy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303453)==true and Bi9(GetTriggerUnit(),$4930384F)==true and Bi9(GetTriggerUnit(),$49304746)==true
endfunction
function CMz takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303453))
call RemoveItem(Bio(GetTriggerUnit(),$4930384F))
call RemoveItem(Bio(GetTriggerUnit(),$49304746))
call Biw(true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"西菲尔：这里有着充足的圣光能量...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddItemByIdSwapped($49304134,GetTriggerUnit())
call UnitAddItemByIdSwapped($49304135,GetTriggerUnit())
call Biw(false)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisableTrigger(wE)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CM0 takes nothing returns nothing
set BKM=CreateTrigger()
call Bi7(BKM,QM)
call TriggerAddCondition(BKM,Condition(function CMy))
call TriggerAddAction(BKM,function CMz)
endfunction
function CM1 takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304135)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CM2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CM3 takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CM4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CM5 takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*2.+500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CM6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function CM2))
call ForGroupBJ(fP,function CM3)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function CM4))
call ForGroupBJ(fP,function CM5)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CM7 takes nothing returns nothing
set BKN=CreateTrigger()
call Bi3(BKN)
call TriggerAddCondition(BKN,Condition(function CM1))
call TriggerAddAction(BKN,function CM6)
endfunction
function CM8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303453)==true and Bi9(GetTriggerUnit(),$49304741)==true
endfunction
function CM9 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QL))
endfunction
function CNB takes nothing returns nothing
set BKO=CreateTrigger()
call Bi7(BKO,QI)
call TriggerAddCondition(BKO,Condition(function CM8))
call TriggerAddAction(BKO,function CM9)
endfunction
function CNC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CND takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QJ))
endfunction
function CNE takes nothing returns nothing
set BKP=CreateTrigger()
call Bi7(BKP,QK)
call TriggerAddCondition(BKP,Condition(function CNC))
call TriggerAddAction(BKP,function CND)
endfunction
function CNF takes nothing returns nothing
set pN=GetRandomLocInRect(QM)
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call Bjl(1.1,bj_lastCreatedEffect)
call RemoveLocation(pN)
endfunction
function CNG takes nothing returns nothing
set wE=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(wE,1.)
call TriggerAddAction(wE,function CNF)
endfunction
function CNH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(wE)
endfunction
function CNI takes nothing returns nothing
set wD=CreateTrigger()
call TriggerRegisterTimerEventSingle(wD,1.)
call TriggerAddAction(wD,function CNH)
endfunction
function CNJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CNK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(wE)
endfunction
function CNL takes nothing returns nothing
set wF=CreateTrigger()
call Bi7(wF,Sv)
call TriggerAddCondition(wF,Condition(function CNJ))
call TriggerAddAction(wF,function CNK)
endfunction
function CNM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49303453)==true
endfunction
function CNN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddItemToStockBJ($49304746,W8,0,1)
endfunction
function CNO takes nothing returns nothing
set BKQ=CreateTrigger()
call Bi7(BKQ,QM)
call TriggerAddCondition(BKQ,Condition(function CNM))
call TriggerAddAction(BKQ,function CNN)
endfunction
function CNP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bL)==true and Bi9(GetTriggerUnit(),$49304135)==true and Bi9(GetTriggerUnit(),$49304143)==true
endfunction
function CNQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304135))
call RemoveItem(Bio(GetTriggerUnit(),$49304143))
call UnitAddItemByIdSwapped($49304148,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CNR takes nothing returns nothing
set BKR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKR,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKR,Condition(function CNP))
call TriggerAddAction(BKR,function CNQ)
endfunction
function CNS takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304148)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CNT takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CNU takes nothing returns nothing
call AddSpecialEffectLocBJ(lG,"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
endfunction
function CNV takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CNW takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*4.+500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CNX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetUnitLoc(GetEnumUnit())
set fP=Biq(550.,i8,Condition(function CNT))
call ForGroupBJ(fP,function CNU)
call DestroyGroup(fP)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(550.,i8,Condition(function CNV))
call ForGroupBJ(fP,function CNW)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CNY takes nothing returns nothing
set BKS=CreateTrigger()
call Bi3(BKS)
call TriggerAddCondition(BKS,Condition(function CNS))
call TriggerAddAction(BKS,function CNX)
endfunction
function CNZ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303235)==true and Bi9(GetTriggerUnit(),$4930305A)==true
endfunction
function CNa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930305A))
call RemoveItem(Bio(GetTriggerUnit(),$49303235))
call UnitAddItemByIdSwapped($49303234,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"升级的法书上显示出一个合成公式：竹制法套+一堆土石+土之杖+土之盾+土傀儡首领的硬核=牧师法衣..（需要由艾布茹携带前述物品才可以合成，只能合成一件）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CNb takes nothing returns nothing
set BKT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKT,Condition(function CNZ))
call TriggerAddAction(BKT,function CNa)
endfunction
function CNc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CNd takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Fr))
endfunction
function CNe takes nothing returns nothing
set BKU=CreateTrigger()
call Bi7(BKU,Fo)
call TriggerAddCondition(BKU,Condition(function CNc))
call TriggerAddAction(BKU,function CNd)
endfunction
function CNf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CNg takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Fp))
endfunction
function CNh takes nothing returns nothing
set BKV=CreateTrigger()
call Bi7(BKV,Fq)
call TriggerAddCondition(BKV,Condition(function CNf))
call TriggerAddAction(BKV,function CNg)
endfunction
function CNi takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303234)==true
endfunction
function CNj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303454,GetRectCenter(Ft))
endfunction
function CNk takes nothing returns nothing
set BKW=CreateTrigger()
call Bi7(BKW,Fs)
call TriggerAddCondition(BKW,Condition(function CNi))
call TriggerAddAction(BKW,function CNj)
endfunction
function CNl takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303454)==true and Bi9(GetTriggerUnit(),$49303234)==true
endfunction
function CNm takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303234))
call RemoveItem(Bio(GetTriggerUnit(),$49303454))
call UnitAddItemByIdSwapped($49303455,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call AddItemToStockBJ($49304630,W8,0,1)
endfunction
function CNn takes nothing returns nothing
set BKX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKX,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKX,Condition(function CNl))
call TriggerAddAction(BKX,function CNm)
endfunction
function CNo takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930305A)==true
endfunction
function CNp takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你权限不够....")
endfunction
function CNq takes nothing returns nothing
set BKY=CreateTrigger()
call Bi7(BKY,Fs)
call TriggerAddCondition(BKY,Condition(function CNo))
call TriggerAddAction(BKY,function CNp)
endfunction
function CNr takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303455)==true and Bi9(GetTriggerUnit(),$49304630)==true
endfunction
function CNs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303455))
call RemoveItem(Bio(GetTriggerUnit(),$49304630))
call UnitAddItemByIdSwapped($49304631,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call AddItemToStockBJ($49304632,VR,0,1)
endfunction
function CNt takes nothing returns nothing
set BKZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKZ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKZ,Condition(function CNr))
call TriggerAddAction(BKZ,function CNs)
endfunction
function CNu takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304632)==true and Bi9(GetTriggerUnit(),$49304631)==true
endfunction
function CNv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304631))
call RemoveItem(Bio(GetTriggerUnit(),$49304632))
call UnitAddItemByIdSwapped($49304633,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CNw takes nothing returns nothing
set BKa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKa,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKa,Condition(function CNu))
call TriggerAddAction(BKa,function CNv)
endfunction
function CNx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddItemToStockBJ($4930474E,Yy,0,1)
endfunction
function CNy takes nothing returns nothing
set BKb=CreateTrigger()
call TriggerRegisterUnitEvent(BKb,XZ,EVENT_UNIT_DEATH)
call TriggerAddAction(BKb,function CNx)
endfunction
function CNz takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930474E)==true and Bi9(GetTriggerUnit(),$49304633)==true
endfunction
function CN0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304633))
call RemoveItem(Bio(GetTriggerUnit(),$4930474E))
call UnitAddItemByIdSwapped($法书LV5,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CN1 takes nothing returns nothing
set BKc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKc,Condition(function CNz))
call TriggerAddAction(BKc,function CN0)
endfunction
function CN2 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303059)==true and Bi9(GetTriggerUnit(),$49303238)==true
endfunction
function CN3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303059))
call RemoveItem(Bio(GetTriggerUnit(),$49303238))
call UnitAddItemByIdSwapped($49303239,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CN4 takes nothing returns nothing
set BKd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKd,Condition(function CN2))
call TriggerAddAction(BKd,function CN3)
endfunction
function CN5 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303239)==true and Bi9(GetTriggerUnit(),$49303331)==true
endfunction
function CN6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303239))
call RemoveItem(Bio(GetTriggerUnit(),$49303331))
call UnitAddItemByIdSwapped($49303332,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call CreateItemLoc($4930344C,GetRectCenter(Ix))
endfunction
function CN7 takes nothing returns nothing
set BKe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKe,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKe,Condition(function CN5))
call TriggerAddAction(BKe,function CN6)
endfunction
function CN8 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344C)==true and Bi9(GetTriggerUnit(),$49303332)==true
endfunction
function CN9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303332))
call RemoveItem(Bio(GetTriggerUnit(),$4930344C))
call UnitAddItemByIdSwapped($4930344D,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COB takes nothing returns nothing
set BKf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKf,Condition(function CN8))
call TriggerAddAction(BKf,function CN9)
endfunction
function COC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bQ)==true and Bi9(GetTriggerUnit(),$4930344D)==true
endfunction
function COD takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(MQ))
endfunction
function COE takes nothing returns nothing
set BKg=CreateTrigger()
call Bi7(BKg,MO)
call TriggerAddCondition(BKg,Condition(function COC))
call TriggerAddAction(BKg,function COD)
endfunction
function COF takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344D)==false
endfunction
function COG takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你没有资格进入")
endfunction
function COH takes nothing returns nothing
set BKh=CreateTrigger()
call Bi7(BKh,MO)
call TriggerAddCondition(BKh,Condition(function COF))
call TriggerAddAction(BKh,function COG)
endfunction
function COI takes nothing returns nothing
call ShowUnitHide(XP)
endfunction
function COJ takes nothing returns nothing
set BKi=CreateTrigger()
call TriggerAddAction(BKi,function COI)
endfunction
function COK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bQ)==true and Bi9(GetTriggerUnit(),$4930344D)==true
endfunction
function COL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(XP)
endfunction
function COM takes nothing returns nothing
set BKj=CreateTrigger()
call Bi7(BKj,MO)
call TriggerAddCondition(BKj,Condition(function COK))
call TriggerAddAction(BKj,function COL)
endfunction
function CON takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function COO takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(MR))
endfunction
function COP takes nothing returns nothing
set BKk=CreateTrigger()
call Bi7(BKk,MP)
call TriggerAddCondition(BKk,Condition(function CON))
call TriggerAddAction(BKk,function COO)
endfunction
function COQ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930344D)==true and Bi9(GetTriggerUnit(),$49303852)==true
endfunction
function COR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930344D))
call RemoveItem(Bio(GetTriggerUnit(),$49303852))
call UnitAddItemByIdSwapped($49303853,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COS takes nothing returns nothing
set BKl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKl,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKl,Condition(function COQ))
call TriggerAddAction(BKl,function COR)
endfunction
function COT takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304252)==true and Bi9(GetTriggerUnit(),$49303853)==true
endfunction
function COU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303853))
call RemoveItem(Bio(GetTriggerUnit(),$49304252))
call UnitAddItemByIdSwapped($49304253,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COV takes nothing returns nothing
set BKm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKm,Condition(function COT))
call TriggerAddAction(BKm,function COU)
endfunction
function COW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true
endfunction
function COX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303334,GetRectCenter(Eu))
endfunction
function COY takes nothing returns nothing
set BKn=CreateTrigger()
call Bi7(BKn,Et)
call TriggerAddCondition(BKn,Condition(function COW))
call TriggerAddAction(BKn,function COX)
endfunction
function COZ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303058)==true and Bi9(GetTriggerUnit(),$49303334)==true
endfunction
function COa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303058))
call RemoveItem(Bio(GetTriggerUnit(),$49303334))
call UnitAddItemByIdSwapped($49303335,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COb takes nothing returns nothing
set BKo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKo,Condition(function COZ))
call TriggerAddAction(BKo,function COa)
endfunction
function COc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49303335)==true
endfunction
function COd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303538,GetRectCenter(IJ))
endfunction
function COe takes nothing returns nothing
set BKp=CreateTrigger()
call Bi7(BKp,II)
call TriggerAddCondition(BKp,Condition(function COc))
call TriggerAddAction(BKp,function COd)
endfunction
function COf takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303335)==true and Bi9(GetTriggerUnit(),$49303538)==true
endfunction
function COg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303538))
call RemoveItem(Bio(GetTriggerUnit(),$49303335))
call UnitAddItemByIdSwapped($杖LV2,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COh takes nothing returns nothing
set BKq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKq,Condition(function COf))
call TriggerAddAction(BKq,function COg)
endfunction
function COi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$49303058)==true
endfunction
function COj takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你杖的等级不足.....")
endfunction
function COk takes nothing returns nothing
set BKr=CreateTrigger()
call Bi7(BKr,II)
call TriggerAddCondition(BKr,Condition(function COi))
call TriggerAddAction(BKr,function COj)
endfunction
function COl takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true or IsUnitInGroup(GetTriggerUnit(),bL)==true or IsUnitInGroup(GetTriggerUnit(),bM)==true or IsUnitInGroup(GetTriggerUnit(),bN)==true or IsUnitInGroup(GetTriggerUnit(),bP)==true or IsUnitInGroup(GetTriggerUnit(),bQ)==true or IsUnitInGroup(GetTriggerUnit(),bR)==true
endfunction
function COm takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你与此泉无缘......")
endfunction
function COn takes nothing returns nothing
set BKs=CreateTrigger()
call Bi7(BKs,II)
call TriggerAddCondition(BKs,Condition(function COl))
call TriggerAddAction(BKs,function COm)
endfunction
function COo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$杖LV2)==true and Bi9(GetTriggerUnit(),$冰晶法衣（中）)==true and Bi9(GetTriggerUnit(),$冰晶戒指（中)==true
endfunction
function COp takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($湛蓝之玉LV2,GetRectCenter(IJ))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在冰晶戒指和冰晶法衣的加持下，出现了新的玉石。")
call UnitAddAbilityBJ($41304548,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function COq takes nothing returns nothing
set BKt=CreateTrigger()
call Bi7(BKt,II)
call TriggerAddCondition(BKt,Condition(function COo))
call TriggerAddAction(BKt,function COp)
endfunction
function COr takes nothing returns boolean
return Bi9(GetTriggerUnit(),$湛蓝之玉LV2)==true and Bi9(GetTriggerUnit(),$杖LV2)==true
endfunction
function COs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$湛蓝之玉LV2))
call RemoveItem(Bio(GetTriggerUnit(),$杖LV2))
call UnitAddItemByIdSwapped($杖LV3,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COt takes nothing returns nothing
set BKu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKu,Condition(function COr))
call TriggerAddAction(BKu,function COs)
endfunction
function COu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$杖LV3)==true
endfunction
function COv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($湛蓝之玉LV3,GetRectCenter(Mz))
endfunction
function COw takes nothing returns nothing
set BKv=CreateTrigger()
call Bi7(BKv,My)
call TriggerAddCondition(BKv,Condition(function COu))
call TriggerAddAction(BKv,function COv)
endfunction
function COx takes nothing returns boolean
return Bi9(GetTriggerUnit(),$湛蓝之玉LV3)==true and Bi9(GetTriggerUnit(),$杖LV3)==true
endfunction
function COy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$杖LV3))
call RemoveItem(Bio(GetTriggerUnit(),$湛蓝之玉LV3))
call UnitAddItemByIdSwapped($杖LV4,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function COz takes nothing returns nothing
set BKw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKw,Condition(function COx))
call TriggerAddAction(BKw,function COy)
endfunction
function CO0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and Bi9(GetTriggerUnit(),$杖LV4)==true and Bi9(GetTriggerUnit(),$冰晶法衣（大)==true and Bi9(GetTriggerUnit(),$冰晶戒指（大）)==true
endfunction
function CO1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$杖LV4))
call UnitAddItemByIdSwapped($杖LV5,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在这冰冻之火中，和冰晶戒指（大）和冰晶法衣（大）的作用下，你的杖升级了。")
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call UnitAddAbilityBJ($41304745,GetTriggerUnit())
endfunction
function CO2 takes nothing returns nothing
set BKx=CreateTrigger()
call Bi7(BKx,No)
call TriggerAddCondition(BKx,Condition(function CO0))
call TriggerAddAction(BKx,function CO1)
endfunction
function CO3 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$杖LV5
endfunction
function CO4 takes nothing returns nothing
call UnitAddAbilityBJ($41304744,GetTriggerUnit())
endfunction
function CO5 takes nothing returns nothing
set BKy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BKy,Condition(function CO3))
call TriggerAddAction(BKy,function CO4)
endfunction
function CO6 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$杖LV5
endfunction
function CO7 takes nothing returns nothing
call UnitRemoveAbilityBJ($41304744,GetTriggerUnit())
endfunction
function CO8 takes nothing returns nothing
set BKz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BKz,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BKz,Condition(function CO6))
call TriggerAddAction(BKz,function CO7)
endfunction
function CO9 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$魔刃-莱瓦汀 1% or GetItemTypeId(GetManipulatedItem())==$49304A4A or GetItemTypeId(GetManipulatedItem())==$49304A4B or GetItemTypeId(GetManipulatedItem())==$49304B34 or GetItemTypeId(GetManipulatedItem())==$49304B35 or GetItemTypeId(GetManipulatedItem())==$49304B36 or GetItemTypeId(GetManipulatedItem())==$49304B44
endfunction
function CPB takes nothing returns nothing
if GetTriggerUnit()==pq then
call DoNothing()
else
set i8=GetUnitLoc(GetTriggerUnit())
call SetItemPositionLoc(GetManipulatedItem(),i8)
call RemoveLocation(i8)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这件灵器拒绝了你...")
endif
endfunction
function CPC takes nothing returns nothing
set sc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sc,Condition(function CO9))
call TriggerAddAction(sc,function CPB)
endfunction
function CPD takes nothing returns boolean
return GetTriggerUnit()==pq and Bi9(GetTriggerUnit(),$魔刃-莱瓦汀 1%)==true and Bi9(GetTriggerUnit(),$49304A39)==true
endfunction
function CPE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$魔刃-莱瓦汀 1%))
call UnitAddItemByIdSwapped($49304A4A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CPF takes nothing returns nothing
set sd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sd,Condition(function CPD))
call TriggerAddAction(sd,function CPE)
endfunction
function CPG takes nothing returns boolean
return GetTriggerUnit()==pq and Bi9(GetTriggerUnit(),$49304A4A)==true and Bi9(GetTriggerUnit(),$4930365A)==true
endfunction
function CPH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A4A))
call UnitAddItemByIdSwapped($49304A4B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CPI takes nothing returns nothing
set se=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(se,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(se,Condition(function CPG))
call TriggerAddAction(se,function CPH)
endfunction
function CPJ takes nothing returns boolean
return GetTriggerUnit()==pq and Bi9(GetTriggerUnit(),$49304A4B)==true and Bi9(GetTriggerUnit(),$49304A4C)==true
endfunction
function CPK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A4B))
call RemoveItem(Bio(GetTriggerUnit(),$49304A4C))
call UnitAddItemByIdSwapped($49304B34,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CPL takes nothing returns nothing
set uT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uT,Condition(function CPJ))
call TriggerAddAction(uT,function CPK)
endfunction
function CPM takes nothing returns boolean
return GetTriggerUnit()==pq and Bi9(GetTriggerUnit(),$49304B34)==true and Bi9(GetTriggerUnit(),$4930414E)==true
endfunction
function CPN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B34))
call UnitAddItemByIdSwapped($49304B35,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CPO takes nothing returns nothing
set uW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uW,Condition(function CPM))
call TriggerAddAction(uW,function CPN)
endfunction
function CPP takes nothing returns boolean
return GetTriggerUnit()==pq and Bi9(GetTriggerUnit(),$49304B35)==true and Bi9(GetTriggerUnit(),$49304A41)==true and Bi9(GetTriggerUnit(),$49304236)==true and Bi9(GetTriggerUnit(),$49304144)==true and Bi9(GetTriggerUnit(),$49304235)==true and Bi9(GetTriggerUnit(),$49304451)==true
endfunction
function CPQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B35))
call RemoveItem(Bio(GetTriggerUnit(),$49304A41))
call UnitAddItemByIdSwapped($49304B36,GetTriggerUnit())
call UnitAddItemByIdSwapped($49304B44,GetTriggerUnit())
call CameraSetEQNoiseForPlayer(Player(0),6.)
call CameraSetEQNoiseForPlayer(Player(1),6.)
call CameraSetEQNoiseForPlayer(Player(2),6.)
call CameraSetEQNoiseForPlayer(Player(3),6.)
call CameraSetEQNoiseForPlayer(Player(4),6.)
call CameraSetEQNoiseForPlayer(Player(5),6.)
call CameraSetEQNoiseForPlayer(Player(6),6.)
call CameraSetEQNoiseForPlayer(Player(7),6.)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CPR takes nothing returns nothing
set uw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(uw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(uw,Condition(function CPP))
call TriggerAddAction(uw,function CPQ)
endfunction
function CPS takes nothing returns boolean
return GetSpellAbilityId()==$41303030
endfunction
function CPT takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPU takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(dw)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPV takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPW takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(dw)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPX takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPY takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(dw)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPZ takes nothing returns nothing
set dw=GetUnitAbilityLevelSwapped($41303030,GetTriggerUnit())
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303032,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BK1=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,200.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(qH)
set i8=GetUnitLoc(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
set qH=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(225.,qH,Condition(function CPT))
call ForGroupBJ(fP,function CPU)
call DestroyGroup(fP)
call RemoveLocation(qH)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303032,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BK1=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,400.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(qH)
set i8=GetUnitLoc(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
set qH=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(225.,qH,Condition(function CPV))
call ForGroupBJ(fP,function CPW)
call DestroyGroup(fP)
call RemoveLocation(qH)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303032,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BK1=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,600.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(qH)
set i8=GetUnitLoc(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
set qH=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(225.,qH,Condition(function CPX))
call ForGroupBJ(fP,function CPY)
call DestroyGroup(fP)
call RemoveLocation(qH)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function CPa takes nothing returns nothing
set BK0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BK0,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BK0,Condition(function CPS))
call TriggerAddAction(BK0,function CPZ)
endfunction
function CPb takes nothing returns boolean
return GetSpellAbilityId()==$41303034
endfunction
function CPc takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPd takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303034,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/24.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPe takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPf takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303034,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/24.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPg takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPh takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303034,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/24.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPi takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPj takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303034,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/24.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPk takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPl takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303034,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/24.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPm takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303033,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set yU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetLastCreatedUnit())
set qM=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",PolarProjectionBJ(qM,30.,GetUnitFacing(GetLastCreatedUnit())))
call RemoveLocation(i8)
call RemoveLocation(qH)
call RemoveLocation(qM)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(585.,i8,Condition(function CPc))
call ForGroupBJ(fP,function CPd)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303033,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set yU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetLastCreatedUnit())
set qM=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",PolarProjectionBJ(qM,30.,GetUnitFacing(GetLastCreatedUnit())))
call RemoveLocation(i8)
call RemoveLocation(qH)
call RemoveLocation(qM)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(585.,i8,Condition(function CPe))
call ForGroupBJ(fP,function CPf)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303033,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set yU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetLastCreatedUnit())
set qM=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",PolarProjectionBJ(qM,30.,GetUnitFacing(GetLastCreatedUnit())))
call RemoveLocation(i8)
call RemoveLocation(qH)
call RemoveLocation(qM)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(585.,i8,Condition(function CPg))
call ForGroupBJ(fP,function CPh)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303033,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set yU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetLastCreatedUnit())
set qM=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",PolarProjectionBJ(qM,30.,GetUnitFacing(GetLastCreatedUnit())))
call RemoveLocation(i8)
call RemoveLocation(qH)
call RemoveLocation(qM)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(585.,i8,Condition(function CPi))
call ForGroupBJ(fP,function CPj)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303033,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set yU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set qH=GetUnitLoc(GetLastCreatedUnit())
set qM=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(qH,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",PolarProjectionBJ(qM,30.,GetUnitFacing(GetLastCreatedUnit())))
call RemoveLocation(i8)
call RemoveLocation(qH)
call RemoveLocation(qM)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(585.,i8,Condition(function CPk))
call ForGroupBJ(fP,function CPl)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CPn takes nothing returns nothing
set BK2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BK2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BK2,Condition(function CPb))
call TriggerAddAction(BK2,function CPm)
endfunction
function CPo takes nothing returns boolean
return GetSpellAbilityId()==$41303036
endfunction
function CPp takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPq takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPr takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPs takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPt takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPu takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPv takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPw takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPx takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CPy takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CPz takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CP0 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CP1 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CP2 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CP3 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CP4 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CP5 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CP6 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CP7 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CP8 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CP9 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQB takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQC takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQE takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQF takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQG takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQH takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQI takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQJ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/12.)+100.*I2R(GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit()))/12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CPp))
call ForGroupBJ(fP,function CPq)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CPr))
call ForGroupBJ(fP,function CPs)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CPt))
call ForGroupBJ(fP,function CPu)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CPv))
call ForGroupBJ(fP,function CPw)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CPx))
call ForGroupBJ(fP,function CPy)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CPz))
call ForGroupBJ(fP,function CP0)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CP1))
call ForGroupBJ(fP,function CP2)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CP3))
call ForGroupBJ(fP,function CP4)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CP5))
call ForGroupBJ(fP,function CP6)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CP7))
call ForGroupBJ(fP,function CP8)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CP9))
call ForGroupBJ(fP,function CQB)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CQC))
call ForGroupBJ(fP,function CQD)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CQE))
call ForGroupBJ(fP,function CQF)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CQG))
call ForGroupBJ(fP,function CQH)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,450.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303034,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK4=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(800.,i8,Condition(function CQI))
call ForGroupBJ(fP,function CQJ)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CQL takes nothing returns nothing
set BK3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BK3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BK3,Condition(function CPo))
call TriggerAddAction(BK3,function CQK)
endfunction
function CQM takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303034 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CQN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uc,GetTriggerUnit(),.1*(I2R(GetUnitAbilityLevelSwapped($41303036,Uc))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true)))+20.*I2R(GetUnitAbilityLevelSwapped($41303036,Uc))+0+0+0+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CQO takes nothing returns nothing
set BK5=CreateTrigger()
call Bi3(BK5)
call TriggerAddCondition(BK5,Condition(function CQM))
call TriggerAddAction(BK5,function CQN)
endfunction
function CQP takes nothing returns boolean
return GetSpellAbilityId()==$41303036
endfunction
function CQQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qH=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(qH,550.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,$68303246,GetOwningPlayer(GetTriggerUnit()),i8,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BK7=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetLastCreatedUnit())
set i8=PolarProjectionBJ(lG,300.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CQR takes nothing returns nothing
set BK6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BK6,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BK6,Condition(function CQP))
call TriggerAddAction(BK6,function CQQ)
endfunction
function CQS takes nothing returns boolean
return GetSpellAbilityId()==$41303036 and GetUnitAbilityLevelSwapped($41303036,GetTriggerUnit())>=1
endfunction
function CQT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StartTimerBJ(fZ,true,.1)
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(fZ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CQU takes nothing returns nothing
set BK8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BK8,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BK8,Condition(function CQS))
call TriggerAddAction(BK8,function CQT)
endfunction
function CQV takes nothing returns nothing
if IsUnitAliveBJ(Uc)==true then
call SetUnitLifeBJ(Uc,GetUnitStateSwap(UNIT_STATE_LIFE,Uc)+((10.+.02*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true)))*I2R(GetUnitAbilityLevelSwapped($41303036,Uc))+0+0))
else
call DoNothing()
endif
endfunction
function CQW takes nothing returns nothing
set BK9=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BK9,fZ)
call TriggerAddAction(BK9,function CQV)
endfunction
function CQX takes nothing returns boolean
return GetSpellAbilityId()==$41303038
endfunction
function CQY takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQZ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303038,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*100.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303032,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLC=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,700.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(450.,i8,Condition(function CQY))
call ForGroupBJ(fP,function CQZ)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CQb takes nothing returns nothing
set BLB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLB,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLB,Condition(function CQX))
call TriggerAddAction(BLB,function CQa)
endfunction
function CQc takes nothing returns boolean
return GetSpellAbilityId()==$41303038
endfunction
function CQd takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CQe takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303038,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*100.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQf takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(pI)
call EnableTrigger(pL)
call EnableTrigger(pM)
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303032,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLC=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,350.,GetUnitFacing(GetTriggerUnit())+60.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(450.,i8,Condition(function CQd))
call ForGroupBJ(fP,function CQe)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call DisableTrigger(pI)
call DisableTrigger(pL)
call DisableTrigger(pM)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CQg takes nothing returns nothing
set BLD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLD,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLD,Condition(function CQc))
call TriggerAddAction(BLD,function CQf)
endfunction
function CQh takes nothing returns boolean
return GetEventDamageSource()==Uc and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CQi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,500.,1.*eM)
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(Uc),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set pJ=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),BiH(GetLastCreatedUnit(),GetTriggerUnit()),1000.,.5,.03,0,false,true,true,"origin","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,500.,8.*eM)
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(Uc),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set pJ=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),BiH(GetLastCreatedUnit(),GetTriggerUnit()),1000.,.5,.03,0,false,true,true,"origin","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,500.,3.*eM)
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(Uc),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set pJ=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),BiH(GetLastCreatedUnit(),GetTriggerUnit()),1000.,.5,.03,0,false,true,true,"origin","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,500.,10.*eM)
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(Uc),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set pJ=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),BiH(GetLastCreatedUnit(),GetTriggerUnit()),1000.,.5,.03,0,false,true,true,"origin","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,500.,5.*eM)
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(Uc),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set pJ=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),BiH(GetLastCreatedUnit(),GetTriggerUnit()),1000.,.5,.03,0,false,true,true,"origin","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,500.,12.*eM)
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(Uc),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set pJ=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),BiH(GetLastCreatedUnit(),GetTriggerUnit()),1000.,.5,.03,0,false,true,true,"origin","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl","Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CQj takes nothing returns nothing
set pI=CreateTrigger()
call Bi3(pI)
call TriggerAddCondition(pI,Condition(function CQh))
call TriggerAddAction(pI,function CQi)
endfunction
function CQk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(pI)
call DisableTrigger(pL)
call DisableTrigger(pM)
set eM=30.
endfunction
function CQl takes nothing returns nothing
set pK=CreateTrigger()
call TriggerRegisterTimerEventSingle(pK,.1)
call TriggerAddAction(pK,function CQk)
endfunction
function CQm takes nothing returns boolean
return GetEventDamageSource()==Uc and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CQn takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Uc))==true
endfunction
function CQo takes nothing returns nothing
call UnitDamageTargetBJ(Uc,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true))*I2R(GetUnitAbilityLevelSwapped($41303038,Uc))*5.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call UnitDamageTargetBJ(Uc,GetEnumUnit(),(GetUnitStateSwap(ConvertUnitState(18),Uc)+GetUnitStateSwap(ConvertUnitState(19),Uc))*I2R(GetUnitAbilityLevelSwapped($41303038,Uc))*2.+0+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function CQp takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(1000.,i8,Condition(function CQn))
call ForGroupBJ(fP,function CQo)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CQq takes nothing returns nothing
set pL=CreateTrigger()
call Bi3(pL)
call TriggerAddCondition(pL,Condition(function CQm))
call TriggerAddAction(pL,function CQp)
endfunction
function CQr takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Uc))==true
endfunction
function CQs takes nothing returns nothing
call UnitDamageTargetBJ(Uc,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true))*5.*I2R(GetUnitAbilityLevelSwapped($41303038,Uc))+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set pN=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(pN)
endfunction
function CQt takes nothing returns nothing
set i8=GetUnitLoc(Uc)
set fP=Biq(1200.,i8,Condition(function CQr))
call ForGroupBJ(fP,function CQs)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CQu takes nothing returns nothing
set pM=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(pM,.3)
call TriggerAddAction(pM,function CQt)
endfunction
function CQv takes nothing returns boolean
return GetSpellAbilityId()==$41303050
endfunction
function CQw takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQx takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(eO)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQy takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQz takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(eO)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQ0 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQ1 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(eO)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQ2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQ3 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(eO)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQ4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQ5 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(eO)*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CQ6 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQ7 takes nothing returns nothing
set lG=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303038,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLG=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.2,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"holybolt",GetEnumUnit())
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*I2R(eO)/3.3)
endfunction
function CQ8 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CQ9 takes nothing returns nothing
set lG=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303038,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLG=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.2,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"holybolt",GetEnumUnit())
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*I2R(eO)/3.3)
endfunction
function CRB takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRC takes nothing returns nothing
set lG=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303038,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLG=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.2,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"holybolt",GetEnumUnit())
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*I2R(eO)/3.3)
endfunction
function CRD takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set eO=GetUnitAbilityLevelSwapped($41303050,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303037,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLF=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(6.,$42487765,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BLF)
set fP=Biq(650.,i8,Condition(function CQw))
call ForGroupBJ(fP,function CQx)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BLF)
set fP=Biq(650.,i8,Condition(function CQy))
call ForGroupBJ(fP,function CQz)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BLF)
set fP=Biq(650.,i8,Condition(function CQ0))
call ForGroupBJ(fP,function CQ1)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BLF)
set fP=Biq(650.,i8,Condition(function CQ2))
call ForGroupBJ(fP,function CQ3)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BLF)
set fP=Biq(650.,i8,Condition(function CQ4))
call ForGroupBJ(fP,function CQ5)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CQ6))
call ForGroupBJ(fP,function CQ7)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.85)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CQ8))
call ForGroupBJ(fP,function CQ9)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.85)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRB))
call ForGroupBJ(fP,function CRC)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CRE takes nothing returns nothing
set BLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLE,Condition(function CQv))
call TriggerAddAction(BLE,function CRD)
endfunction
function CRF takes nothing returns boolean
return GetLearnedSkill()==$41303054 and GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit())==1
endfunction
function CRG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BLI)
call EnableTrigger(BLJ)
call UnitAddAbilityBJ($41303055,GetTriggerUnit())
call UnitAddAbilityBJ($41303949,GetTriggerUnit())
endfunction
function CRH takes nothing returns nothing
set BLH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLH,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLH,Condition(function CRF))
call TriggerAddAction(BLH,function CRG)
endfunction
function CRI takes nothing returns boolean
return GetLearnedSkill()==$41303054 and GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit())==2
endfunction
function CRJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($4130394A,GetTriggerUnit())
endfunction
function CRK takes nothing returns nothing
set BLK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLK,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLK,Condition(function CRI))
call TriggerAddAction(BLK,function CRJ)
endfunction
function CRL takes nothing returns boolean
return GetLearnedSkill()==$41303054 and GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit())==3
endfunction
function CRM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($4130394B,GetTriggerUnit())
endfunction
function CRN takes nothing returns nothing
set BLL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLL,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLL,Condition(function CRL))
call TriggerAddAction(BLL,function CRM)
endfunction
function CRO takes nothing returns boolean
return GetLearnedSkill()==$41303054 and GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit())==4
endfunction
function CRP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($4130394C,GetTriggerUnit())
endfunction
function CRQ takes nothing returns nothing
set BLM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLM,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLM,Condition(function CRO))
call TriggerAddAction(BLM,function CRP)
endfunction
function CRR takes nothing returns boolean
return GetLearnedSkill()==$41303054 and GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit())==5
endfunction
function CRS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($4130394D,GetTriggerUnit())
endfunction
function CRT takes nothing returns nothing
set BLN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLN,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLN,Condition(function CRR))
call TriggerAddAction(BLN,function CRS)
endfunction
function CRU takes nothing returns nothing
call DisableTrigger(BLI)
endfunction
function CRV takes nothing returns nothing
set BLO=CreateTrigger()
call TriggerAddAction(BLO,function CRU)
endfunction
function CRW takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ud))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRX takes nothing returns nothing
call UnitDamageTargetBJ(Ud,GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303054,Ud))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ud,true))+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Ud,true))+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ud,true)))*.35,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRY takes nothing returns nothing
if IsUnitAliveBJ(Ud)==true then
set qH=GetUnitLoc(Ud)
set fR=Biq(350.,qH,Condition(function CRW))
call ForGroupBJ(fR,function CRX)
call DestroyGroup(fR)
call RemoveLocation(qH)
else
call DoNothing()
endif
endfunction
function CRZ takes nothing returns nothing
set BLI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BLI,1.)
call TriggerAddAction(BLI,function CRY)
endfunction
function CRa takes nothing returns boolean
return GetSpellAbilityId()==$41303059
endfunction
function CRb takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRc takes nothing returns nothing
set lG=GetUnitLoc(Ue)
call MoveRectToLoc(Ib,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ib)
call CreateNUnitsAtLoc(1,$68303042,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLQ=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function CRd takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRe takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303059,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRf takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRg takes nothing returns nothing
set lG=GetUnitLoc(Ue)
call MoveRectToLoc(Ib,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ib)
call CreateNUnitsAtLoc(1,$68303042,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLQ=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function CRh takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRi takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303059,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRj takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRk takes nothing returns nothing
set lG=GetUnitLoc(Ue)
call MoveRectToLoc(Ib,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ib)
call CreateNUnitsAtLoc(1,$68303042,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLQ=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function CRl takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRm takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303059,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRn takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRb))
call ForGroupBJ(fP,function CRc)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.6)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRd))
call ForGroupBJ(fP,function CRe)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRf))
call ForGroupBJ(fP,function CRg)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.6)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRh))
call ForGroupBJ(fP,function CRi)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRj))
call ForGroupBJ(fP,function CRk)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.6)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CRl))
call ForGroupBJ(fP,function CRm)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CRo takes nothing returns nothing
set BLP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLP,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLP,Condition(function CRa))
call TriggerAddAction(BLP,function CRn)
endfunction
function CRp takes nothing returns boolean
return GetSpellAbilityId()==$41303130
endfunction
function CRq takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRr takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRt takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRu takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRv takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRw takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRx takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CRy takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CRz takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CR0 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CR1 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CR2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CR3 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CR4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CR5 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CR6 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CR7 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CR8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CR9 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSC takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSD takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSE takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSF takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSG takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSH takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSJ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSK takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303130,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSL takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CRq))
call ForGroupBJ(fP,function CRr)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CRs))
call ForGroupBJ(fP,function CRt)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CRu))
call ForGroupBJ(fP,function CRv)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CRw))
call ForGroupBJ(fP,function CRx)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CRy))
call ForGroupBJ(fP,function CRz)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CR0))
call ForGroupBJ(fP,function CR1)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CR2))
call ForGroupBJ(fP,function CR3)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CR4))
call ForGroupBJ(fP,function CR5)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CR6))
call ForGroupBJ(fP,function CR7)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CR8))
call ForGroupBJ(fP,function CR9)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CSB))
call ForGroupBJ(fP,function CSC)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CSD))
call ForGroupBJ(fP,function CSE)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CSF))
call ForGroupBJ(fP,function CSG)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CSH))
call ForGroupBJ(fP,function CSI)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(IW,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(IW)
call CreateNUnitsAtLoc(1,$68303043,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLS=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetLastCreatedUnit())
set fP=Biq(250.,i8,Condition(function CSJ))
call ForGroupBJ(fP,function CSK)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CSM takes nothing returns nothing
set BLR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLR,Condition(function CRp))
call TriggerAddAction(BLR,function CSL)
endfunction
function CSN takes nothing returns boolean
return GetLearnedSkill()==$41303132
endfunction
function CSO takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
call EnableTrigger(BLU)
endfunction
function CSP takes nothing returns nothing
set BLT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLT,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLT,Condition(function CSN))
call TriggerAddAction(BLT,function CSO)
endfunction
function CSQ takes nothing returns boolean
return GetEventDamageSource()==Ue and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CSR takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSS takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),.6*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ue,true))*I2R(GetUnitAbilityLevelSwapped($41303132,Ue))+150.*I2R(GetUnitAbilityLevelSwapped($41303132,Ue)),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CST takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CSR))
call ForGroupBJ(fP,function CSS)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CSU takes nothing returns nothing
set BLU=CreateTrigger()
call Bi3(BLU)
call TriggerAddCondition(BLU,Condition(function CSQ))
call TriggerAddAction(BLU,function CST)
endfunction
function CSV takes nothing returns nothing
call DisableTrigger(BLU)
endfunction
function CSW takes nothing returns nothing
set BLV=CreateTrigger()
call TriggerAddAction(BLV,function CSV)
endfunction
function CSX takes nothing returns boolean
return GetLearnedSkill()==$41303132 and GetUnitAbilityLevelSwapped($41303132,GetTriggerUnit())==3
endfunction
function CSY takes nothing returns nothing
call UnitAddAbilityBJ($41304D46,GetTriggerUnit())
call UnitAddAbilityBJ($41304D45,GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
endfunction
function CSZ takes nothing returns nothing
set BLW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLW,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLW,Condition(function CSX))
call TriggerAddAction(BLW,function CSY)
endfunction
function CSa takes nothing returns boolean
return GetLearnedSkill()==$41303132 and GetUnitAbilityLevelSwapped($41303132,GetTriggerUnit())==5
endfunction
function CSb takes nothing returns nothing
call UnitAddAbilityBJ($41304D49,GetTriggerUnit())
call UnitAddAbilityBJ($41304D48,GetTriggerUnit())
call UnitAddAbilityBJ($41304D47,GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
endfunction
function CSc takes nothing returns nothing
set BLX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLX,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLX,Condition(function CSa))
call TriggerAddAction(BLX,function CSb)
endfunction
function CSd takes nothing returns boolean
return GetLearnedSkill()==$41303132 and GetUnitAbilityLevelSwapped($41303132,GetTriggerUnit())==7
endfunction
function CSe takes nothing returns nothing
call UnitAddAbilityBJ($41304D4B,GetTriggerUnit())
call UnitAddAbilityBJ($41304D4A,GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
endfunction
function CSf takes nothing returns nothing
set BLY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLY,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLY,Condition(function CSd))
call TriggerAddAction(BLY,function CSe)
endfunction
function CSg takes nothing returns boolean
return GetLearnedSkill()==$41303132 and GetUnitAbilityLevelSwapped($41303132,GetTriggerUnit())==10
endfunction
function CSh takes nothing returns nothing
call UnitAddAbilityBJ($41304D4C,GetTriggerUnit())
call UnitAddAbilityBJ($41304D4D,GetTriggerUnit())
call UnitAddAbilityBJ($41304D4E,GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
endfunction
function CSi takes nothing returns nothing
set BLZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLZ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLZ,Condition(function CSg))
call TriggerAddAction(BLZ,function CSh)
endfunction
function CSj takes nothing returns boolean
return GetSpellAbilityId()==$41303133
endfunction
function CSk takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSl takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSm takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSn takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSo takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSp takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSq takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSr takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSt takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSu takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSv takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSw takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSx takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CSy takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CSz takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CS0 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CS1 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CS2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CS3 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303133,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))/1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CS4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSk))
call ForGroupBJ(fP,function CSl)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSm))
call ForGroupBJ(fP,function CSn)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSo))
call ForGroupBJ(fP,function CSp)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSq))
call ForGroupBJ(fP,function CSr)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSs))
call ForGroupBJ(fP,function CSt)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSu))
call ForGroupBJ(fP,function CSv)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSw))
call ForGroupBJ(fP,function CSx)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CSy))
call ForGroupBJ(fP,function CSz)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CS0))
call ForGroupBJ(fP,function CS1)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303044,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLb=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(650.,i8,Condition(function CS2))
call ForGroupBJ(fP,function CS3)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CS5 takes nothing returns nothing
set BLa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLa,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLa,Condition(function CSj))
call TriggerAddAction(BLa,function CS4)
endfunction
function CS6 takes nothing returns boolean
return GetSpellAbilityId()==$41303138
endfunction
function CS7 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CS8 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CS9 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTB takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTC takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTF takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTH takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTI takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTJ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTK takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTL takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTM takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTN takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))/4.)+25.*I2R(GetUnitAbilityLevelSwapped($41303138,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CTO takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CS7)),function CS8)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CS9)),function CTB)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CTC)),function CTD)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CTE)),function CTF)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CTG)),function CTH)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CTI)),function CTJ)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CTK)),function CTL)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303047,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Biq(490.,GetUnitLoc(GetTriggerUnit()),Condition(function CTM)),function CTN)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CTP takes nothing returns nothing
set BLc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLc,Condition(function CS6))
call TriggerAddAction(BLc,function CTO)
endfunction
function CTQ takes nothing returns boolean
return GetSpellAbilityId()==$41303141
endfunction
function CTR takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTS takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.23)+I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*50.))
endfunction
function CTT takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTU takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.23)+I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*50.))
endfunction
function CTV takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTW takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.23)+I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*50.))
endfunction
function CTX takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTY takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.23)+I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*50.))
endfunction
function CTZ takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CTa takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.23)+I2R(GetUnitAbilityLevelSwapped($41303141,GetTriggerUnit()))*50.))
endfunction
function CTb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303048,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLf=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
call ForGroupBJ(Biq(550.,GetUnitLoc(GetTriggerUnit()),Condition(function CTR)),function CTS)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303048,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLf=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
call ForGroupBJ(Biq(550.,GetUnitLoc(GetTriggerUnit()),Condition(function CTT)),function CTU)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303048,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLf=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
call ForGroupBJ(Biq(550.,GetUnitLoc(GetTriggerUnit()),Condition(function CTV)),function CTW)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303048,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLf=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
call ForGroupBJ(Biq(550.,GetUnitLoc(GetTriggerUnit()),Condition(function CTX)),function CTY)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303048,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set BLf=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
call ForGroupBJ(Biq(550.,GetUnitLoc(GetTriggerUnit()),Condition(function CTZ)),function CTa)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CTc takes nothing returns nothing
set BLe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLe,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLe,Condition(function CTQ))
call TriggerAddAction(BLe,function CTb)
endfunction
function CTd takes nothing returns boolean
return GetLearnedSkill()==$41303144
endfunction
function CTe takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,25)
endfunction
function CTf takes nothing returns nothing
set BLg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLg,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLg,Condition(function CTd))
call TriggerAddAction(BLg,function CTe)
endfunction
function CTg takes nothing returns boolean
return GetLearnedSkill()==$41303144 and GetUnitAbilityLevelSwapped($41303144,GetTriggerUnit())==3
endfunction
function CTh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304C39,GetTriggerUnit())
call UnitAddAbilityBJ($41304C41,GetTriggerUnit())
endfunction
function CTi takes nothing returns nothing
set BLh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLh,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLh,Condition(function CTg))
call TriggerAddAction(BLh,function CTh)
endfunction
function CTj takes nothing returns boolean
return GetLearnedSkill()==$41303144 and GetUnitAbilityLevelSwapped($41303144,GetTriggerUnit())==5
endfunction
function CTk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304C38,GetTriggerUnit())
call UnitAddAbilityBJ($41304C42,GetTriggerUnit())
endfunction
function CTl takes nothing returns nothing
set BLi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLi,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BLi,Condition(function CTj))
call TriggerAddAction(BLi,function CTk)
endfunction
function CTm takes nothing returns boolean
return GetSpellAbilityId()==$41303146
endfunction
function CTn takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($41304148,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41304148,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($4130414A,GetTriggerUnit())
call EnableTrigger(BLk)
set el=false
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl")
call Bjl(10.+2.5*I2R(GetUnitAbilityLevelSwapped($41303146,GetTriggerUnit())),bj_lastCreatedEffect)
call Biy(10.+2.5*I2R(GetUnitAbilityLevelSwapped($41303146,GetTriggerUnit())))
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
set el=true
call UnitRemoveAbilityBJ($41304148,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130414A,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BLk)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CTo takes nothing returns nothing
set BLj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLj,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLj,Condition(function CTm))
call TriggerAddAction(BLj,function CTn)
endfunction
function CTp takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and GetEventDamageSource()==Uj or GetUnitTypeId(GetEventDamageSource())==$68303531 or GetUnitTypeId(GetEventDamageSource())==$68303532
endfunction
function CTq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if el==true then
call DisableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uj,GetTriggerUnit(),10.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uj,true))*I2R(GetUnitAbilityLevelSwapped($41303146,Uj))+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(Uj,GetTriggerUnit(),10.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uj,true))*I2R(GetUnitAbilityLevelSwapped($41303146,Uj))+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CTr takes nothing returns nothing
set BLk=CreateTrigger()
call Bi3(BLk)
call TriggerAddCondition(BLk,Condition(function CTp))
call TriggerAddAction(BLk,function CTq)
endfunction
function CTs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BLk)
endfunction
function CTt takes nothing returns nothing
set BLl=CreateTrigger()
call TriggerRegisterTimerEventSingle(BLl,.1)
call TriggerAddAction(BLl,function CTs)
endfunction
function CTu takes nothing returns boolean
return GetSpellAbilityId()==$41303148 and dK!=true and GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==1 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==2 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==3 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==4
endfunction
function CTv takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304B,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLn=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304B,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLo=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304B,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLp=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304B,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLq=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304B,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLr=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLn,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLo,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLp,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLq,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLr,i8)
call RemoveLocation(i8)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLn,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLo,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLp,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLq,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLr,i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CTw takes nothing returns nothing
set BLm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLm,Condition(function CTu))
call TriggerAddAction(BLm,function CTv)
endfunction
function CTx takes nothing returns boolean
return GetSpellAbilityId()==$41303148 and dK!=true and GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==5 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==6 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==7 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==8 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==9 or GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==10
endfunction
function CTy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304E,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLn=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304E,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLo=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304E,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLp=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304E,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLq=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304E,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLr=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLn,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLo,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLp,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLq,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLr,i8)
call RemoveLocation(i8)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLn,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLo,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLp,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLq,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLr,i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CTz takes nothing returns nothing
set BLs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLs,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLs,Condition(function CTx))
call TriggerAddAction(BLs,function CTy)
endfunction
function CT0 takes nothing returns boolean
return GetSpellAbilityId()==$41303148 and dK==true
endfunction
function CT1 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$68303053,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLn=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$68303053,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLo=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$68303053,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLp=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$68303053,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLq=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$68303053,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLr=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLn,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLo,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLp,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLq,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLr,i8)
call RemoveLocation(i8)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLn,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLo,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLp,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLq,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call SetUnitPositionLoc(BLr,i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CT2 takes nothing returns nothing
set BLt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLt,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLt,Condition(function CT0))
call TriggerAddAction(BLt,function CT1)
endfunction
function CT3 takes nothing returns boolean
return GetSpellAbilityId()==$4130314D
endfunction
function CT4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CT5 takes nothing returns nothing
set lG=GetRandomLocInRect(MT)
call CreateNUnitsAtLoc(1,$6830334C,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BLv=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"frostnova",GetEnumUnit())
endfunction
function CT6 takes nothing returns nothing
set i8=GetUnitLoc(GetSpellTargetUnit())
set fP=Biq(500.,i8,Condition(function CT4))
call ForGroupBJ(fP,function CT5)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CT7 takes nothing returns nothing
set BLu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLu,Condition(function CT3))
call TriggerAddAction(BLu,function CT6)
endfunction
function CT8 takes nothing returns boolean
return GetSpellAbilityId()==$4130314D
endfunction
function CT9 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUB takes nothing returns nothing
call UnitDamageTargetBJ(Ui,GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($4130314D,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+I2R(GetUnitAbilityLevelSwapped($4130314D,GetTriggerUnit()))*200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set pN=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CUC takes nothing returns nothing
set qH=GetUnitLoc(GetSpellTargetUnit())
set fQ=Biq(500.,qH,Condition(function CT9))
call ForGroupBJ(fQ,function CUB)
call DestroyGroup(fQ)
call RemoveLocation(qH)
endfunction
function CUD takes nothing returns nothing
set BLw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLw,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLw,Condition(function CT8))
call TriggerAddAction(BLw,function CUC)
endfunction
function CUE takes nothing returns boolean
return GetSpellAbilityId()==$41303150
endfunction
function CUF takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUG takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUH takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUJ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUK takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUL takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUM takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUN takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUO takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUP takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUQ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUR takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUS takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUT takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUU takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUV takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUW takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUX takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CUY takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CUZ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qL=GetUnitLoc(GetTriggerUnit())
set pV=PolarProjectionBJ(qL,300.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLocFacingLocBJ(1,$65303035,GetOwningPlayer(GetTriggerUnit()),pV,qL)
call RemoveLocation(qL)
call RemoveLocation(pV)
set BLy=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUF))
call ForGroupBJ(fT,function CUG)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUH))
call ForGroupBJ(fT,function CUI)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUJ))
call ForGroupBJ(fT,function CUK)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUL))
call ForGroupBJ(fT,function CUM)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUN))
call ForGroupBJ(fT,function CUO)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUP))
call ForGroupBJ(fT,function CUQ)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUR))
call ForGroupBJ(fT,function CUS)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUT))
call ForGroupBJ(fT,function CUU)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUV))
call ForGroupBJ(fT,function CUW)
call DestroyGroup(fT)
call RemoveLocation(qL)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qL=GetUnitLoc(BLz)
set fT=Biq(500.,qL,Condition(function CUX))
call ForGroupBJ(fT,function CUY)
call DestroyGroup(fT)
call RemoveLocation(qL)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CUa takes nothing returns nothing
set BLx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLx,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BLx,Condition(function CUE))
call TriggerAddAction(BLx,function CUZ)
endfunction
function CUb takes nothing returns boolean
return GetSpellAbilityId()==$41303150
endfunction
function CUc takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUd takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUe takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUf takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUg takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUh takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUi takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUj takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUk takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUl takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUm takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUn takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUo takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUp takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUq takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUr takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUt takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUu takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),cL)==false)
endfunction
function CUv takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CUw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(JD,i8)
call RemoveLocation(i8)
set i8=GetRectCenter(JD)
call CreateNUnitsAtLoc(1,$65303036,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BLz=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(11.,$42487765,GetLastCreatedUnit())
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUc))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUd)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUe))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUf)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUg))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUh)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUi))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUj)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUk))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUl)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUm))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUn)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUo))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUp)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUq))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUr)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUs))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUt)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRandomLocInRect(JD)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set qH=GetUnitLoc(BLz)
set fS=Biq(650.,qH,Condition(function CUu))
set i8=GetRectCenter(JD)
call ForGroupBJ(fS,function CUv)
call DestroyGroup(fS)
call RemoveLocation(qH)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CUx takes nothing returns nothing
set BL0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BL0,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BL0,Condition(function CUb))
call TriggerAddAction(BL0,function CUw)
endfunction
function CUy takes nothing returns boolean
return GetSpellAbilityId()==$41303150
endfunction
function CUz takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CU0 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CU1 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CU2 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CU3 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CU4 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CU5 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CU6 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CU7 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CU8 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CU9 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVB takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVC takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVF takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVH takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CUz))
call ForGroupBJ(fQ,function CU0)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CU1))
call ForGroupBJ(fQ,function CU2)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CU3))
call ForGroupBJ(fQ,function CU4)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CU5))
call ForGroupBJ(fQ,function CU6)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CU7))
call ForGroupBJ(fQ,function CU8)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CU9))
call ForGroupBJ(fQ,function CVB)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CVC))
call ForGroupBJ(fQ,function CVD)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CVE))
call ForGroupBJ(fQ,function CVF)
call DestroyGroup(fR)
call RemoveLocation(lG)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(BLz)
set fR=Biq(500.,lG,Condition(function CVG))
call ForGroupBJ(fQ,function CVH)
call DestroyGroup(fR)
call RemoveLocation(lG)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CVJ takes nothing returns nothing
set BL1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BL1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BL1,Condition(function CUy))
call TriggerAddAction(BL1,function CVI)
endfunction
function CVK takes nothing returns nothing
call DisableTrigger(BL1)
endfunction
function CVL takes nothing returns nothing
set BL2=CreateTrigger()
call TriggerAddAction(BL2,function CVK)
endfunction
function CVM takes nothing returns boolean
return GetLearnedSkill()==$41303151
endfunction
function CVN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BL1)
endfunction
function CVO takes nothing returns nothing
set BL3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BL3,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BL3,Condition(function CVM))
call TriggerAddAction(BL3,function CVN)
endfunction
function CVP takes nothing returns boolean
return GetSpellAbilityId()==$41303150 and dK==true
endfunction
function CVQ takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVR takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVS takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVT takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVU takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVV takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVW takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVX takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVY takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVZ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVa takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVb takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVc takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVd takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVe takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVf takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVg takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVh takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVi takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CVj takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)+200.*I2R(GetUnitAbilityLevelSwapped($41303150,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-12
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set qb=GetUnitLoc(GetTriggerUnit())
set qT=PolarProjectionBJ(qb,700.,GetUnitFacing(GetTriggerUnit())+15.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLocFacingLocBJ(1,$65303035,GetOwningPlayer(GetTriggerUnit()),qT,qb)
call RemoveLocation(qT)
call RemoveLocation(qb)
set BLy=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVQ))
call ForGroupBJ(fU,function CVR)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVS))
call ForGroupBJ(fU,function CVT)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVU))
call ForGroupBJ(fU,function CVV)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVW))
call ForGroupBJ(fU,function CVX)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVY))
call ForGroupBJ(fU,function CVZ)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVa))
call ForGroupBJ(fU,function CVb)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVc))
call ForGroupBJ(fU,function CVd)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVe))
call ForGroupBJ(fU,function CVf)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVg))
call ForGroupBJ(fU,function CVh)
call DestroyGroup(fU)
call RemoveLocation(qb)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qb=GetUnitLoc(BL5)
set fU=Biq(900.,qb,Condition(function CVi))
call ForGroupBJ(fU,function CVj)
call DestroyGroup(fU)
call RemoveLocation(qb)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CVl takes nothing returns nothing
set BL4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BL4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BL4,Condition(function CVP))
call TriggerAddAction(BL4,function CVk)
endfunction
function CVm takes nothing returns boolean
return GetSpellAbilityId()==$41303150 and dK==true
endfunction
function CVn takes nothing returns nothing
set qS=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(Pc,qS)
call RemoveLocation(qS)
set qS=GetRectCenter(Pc)
call CreateNUnitsAtLoc(1,$65303042,GetOwningPlayer(GetTriggerUnit()),qS,bj_UNIT_FACING)
call RemoveLocation(qS)
set BL5=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(11.,$42487765,GetLastCreatedUnit())
endfunction
function CVo takes nothing returns nothing
set BL6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BL6,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BL6,Condition(function CVm))
call TriggerAddAction(BL6,function CVn)
endfunction
function CVp takes nothing returns boolean
return GetSpellAbilityId()==$41303152
endfunction
function CVq takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVr takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.04)+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*7.5))
endfunction
function CVs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVt takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*15.+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.08,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVu takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVv takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.04)+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*7.5))
endfunction
function CVw takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVx takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*15.+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.08,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CVy takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CVz takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.04)+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*7.5))
endfunction
function CV0 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CV1 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*15.+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.08,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CV2 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CV3 takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.04)+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*7.5))
endfunction
function CV4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CV5 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*15.+I2R(GetUnitAbilityLevelSwapped($41303152,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.08,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CV6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BL8=GetSpellTargetUnit()
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(BL8)
call CreateNUnitsAtLoc(1,$68303057,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BL9=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(5.,$42487765,GetLastCreatedUnit())
call Bjf(5.,GetLastCreatedUnit())
set i8=GetUnitLoc(BL8)
set lG=PolarProjectionBJ(i8,400.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(BL8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CVq))
call ForGroupBJ(fP,function CVr)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CVs))
call ForGroupBJ(fP,function CVt)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(BL8)
call CreateNUnitsAtLoc(1,$68303057,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BL9=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(5.,$42487765,GetLastCreatedUnit())
call Bjf(5.,GetLastCreatedUnit())
set i8=GetUnitLoc(BL8)
set lG=PolarProjectionBJ(i8,400.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(BL8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CVu))
call ForGroupBJ(fP,function CVv)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CVw))
call ForGroupBJ(fP,function CVx)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(BL8)
call CreateNUnitsAtLoc(1,$68303057,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BL9=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(5.,$42487765,GetLastCreatedUnit())
call Bjf(5.,GetLastCreatedUnit())
set i8=GetUnitLoc(BL8)
set lG=PolarProjectionBJ(i8,400.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(BL8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CVy))
call ForGroupBJ(fP,function CVz)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CV0))
call ForGroupBJ(fP,function CV1)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(BL8)
call CreateNUnitsAtLoc(1,$68303057,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BL9=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(5.,$42487765,GetLastCreatedUnit())
call Bjf(5.,GetLastCreatedUnit())
set i8=GetUnitLoc(BL8)
set lG=PolarProjectionBJ(i8,400.,GetUnitFacing(GetTriggerUnit())+90.*I2R(GetForLoopIndexA()))
call SetUnitPositionLoc(GetLastCreatedUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(BL8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"healingspray",i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CV2))
call ForGroupBJ(fP,function CV3)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(BL8)
set fP=Biq(400.,i8,Condition(function CV4))
call ForGroupBJ(fP,function CV5)
call DestroyGroup(fP)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CV7 takes nothing returns nothing
set BL7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BL7,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BL7,Condition(function CVp))
call TriggerAddAction(BL7,function CV6)
endfunction
function CV8 takes nothing returns boolean
return GetSpellAbilityId()==$41304E31
endfunction
function CV9 takes nothing returns nothing
set BMC=GetSpellTargetUnit()
call SetUnitLifeBJ(BMC,GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(20.*I2R(GetUnitAbilityLevelSwapped($41304E31,GetTriggerUnit()))+I2R(GetUnitAbilityLevelSwapped($41304E31,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*.03+0.))
set pN=GetUnitLoc(BMC)
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
set d4=d4+1
endfunction
function CWB takes nothing returns nothing
set BMB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMB,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMB,Condition(function CV8))
call TriggerAddAction(BMB,function CV9)
endfunction
function CWC takes nothing returns nothing
set d4=0
endfunction
function CWD takes nothing returns nothing
set BMD=CreateTrigger()
call TriggerAddAction(BMD,function CWC)
endfunction
function CWE takes nothing returns boolean
return GetSpellAbilityId()==$41304E31 and d4==3
endfunction
function CWF takes nothing returns nothing
set d4=0
set i8=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,$68303452,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMF=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(BMF,"fanofknives")
endfunction
function CWG takes nothing returns nothing
set BME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BME,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BME,Condition(function CWE))
call TriggerAddAction(BME,function CWF)
endfunction
function CWH takes nothing returns boolean
return GetEventDamageSource()==BMF and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CWI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uh,GetTriggerUnit(),I2R(GetUnitAbilityLevelSwapped($41304E31,Uh))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Uh,true))*1.15+I2R(GetUnitAbilityLevelSwapped($41304E31,Uh))*250.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CWJ takes nothing returns nothing
set BMG=CreateTrigger()
call Bi3(BMG)
call TriggerAddCondition(BMG,Condition(function CWH))
call TriggerAddAction(BMG,function CWI)
endfunction
function CWK takes nothing returns boolean
return GetSpellAbilityId()==$41303157
endfunction
function CWL takes nothing returns nothing
if IsTriggerEnabled(pP)==true then
call DisableTrigger(pP)
call EnableTrigger(pQ)
call SetUnitVertexColorBJ(pR,0.,100.,0.,75.)
else
if IsTriggerEnabled(pQ)==true then
call EnableTrigger(pP)
call DisableTrigger(pQ)
call SetUnitVertexColorBJ(pR,0.,0.,100.,75.)
else
if IsTriggerEnabled(pP)==false and IsTriggerEnabled(pQ)==false then
call DisableTrigger(pP)
call EnableTrigger(pQ)
call SetUnitVertexColorBJ(pR,0.,100.,0.,75.)
else
call DoNothing()
endif
endif
endif
endfunction
function CWM takes nothing returns nothing
set pO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pO,Condition(function CWK))
call TriggerAddAction(pO,function CWL)
endfunction
function CWN takes nothing returns boolean
return GetLearnedSkill()==$41303157 and GetTriggerUnit()==Uh
endfunction
function CWO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303541,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set pR=GetLastCreatedUnit()
call SetUnitVertexColorBJ(pR,100.,100,100.,50.)
call StartTimerBJ(fH,true,.01)
endfunction
function CWP takes nothing returns nothing
set pS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pS,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(pS,Condition(function CWN))
call TriggerAddAction(pS,function CWO)
endfunction
function CWQ takes nothing returns nothing
set pU=GetUnitLoc(Uh)
call SetUnitPositionLocFacingBJ(pR,pU,GetUnitFacing(Uh))
call RemoveLocation(pU)
endfunction
function CWR takes nothing returns nothing
set pT=CreateTrigger()
call TriggerRegisterTimerExpireEvent(pT,fH)
call TriggerAddAction(pT,function CWQ)
endfunction
function CWS takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Uh))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CWT takes nothing returns nothing
set i8=GetUnitLoc(Uh)
call CreateNUnitsAtLoc(1,$68303542,GetOwningPlayer(Uh),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(4.5,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetEnumUnit())
endfunction
function CWU takes nothing returns nothing
set pV=GetUnitLoc(Uh)
set fP=Biq(800.,pV,Condition(function CWS))
set fQ=BjB(1,fP)
call ForGroupBJ(fQ,function CWT)
call DestroyGroup(fP)
call DestroyGroup(fQ)
call RemoveLocation(pV)
endfunction
function CWV takes nothing returns nothing
set pP=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(pP,3.5)
call TriggerAddAction(pP,function CWU)
endfunction
function CWW takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(Uh))==true and (IsUnitAliveBJ(GetFilterUnit())==true and GetUnitLifePercent(GetFilterUnit())<100.)
endfunction
function CWX takes nothing returns nothing
set i8=GetUnitLoc(Uh)
call CreateNUnitsAtLoc(1,$68303542,GetOwningPlayer(Uh),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(4.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"healingwave",GetEnumUnit())
endfunction
function CWY takes nothing returns nothing
set pV=GetUnitLoc(Uh)
set fP=Biq(800.,pV,Condition(function CWW))
set fQ=BjB(1,fP)
call ForGroupBJ(fQ,function CWX)
call DestroyGroup(fP)
call DestroyGroup(fQ)
call RemoveLocation(pV)
endfunction
function CWZ takes nothing returns nothing
set pQ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(pQ,3.5)
call TriggerAddAction(pQ,function CWY)
endfunction
function CWa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(pP)
call DisableTrigger(pQ)
endfunction
function CWb takes nothing returns nothing
set pY=CreateTrigger()
call TriggerRegisterTimerEventSingle(pY,.01)
call TriggerAddAction(pY,function CWa)
endfunction
function CWc takes nothing returns boolean
return IsUnitAliveBJ(GetTriggerUnit())==true and GetUnitTypeId(GetEventDamageSource())==$68303542
endfunction
function CWd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(Uh))==true then
call UnitDamageTargetBJ(Uh,GetTriggerUnit(),4.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Uh,true))*I2R(GetUnitAbilityLevelSwapped($41303157,Uh))+225.*I2R(GetUnitAbilityLevelSwapped($41303157,Uh)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(Uh))==true then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(100.*I2R(GetUnitAbilityLevelSwapped($41303157,Uh))+I2R(GetUnitAbilityLevelSwapped($41303157,Uh))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Uh,true))*.5+0.))
else
call DoNothing()
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CWe takes nothing returns nothing
set pZ=CreateTrigger()
call Bi3(pZ)
call TriggerAddCondition(pZ,Condition(function CWc))
call TriggerAddAction(pZ,function CWd)
endfunction
function CWf takes nothing returns boolean
return GetSpellAbilityId()==$41303232
endfunction
function CWg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetSpellTargetLoc()
set qH=PolarProjectionBJ(i8,50.,AngleBetweenPoints(i8,lG))
call CreateNUnitsAtLoc(1,$6830305A,GetOwningPlayer(GetTriggerUnit()),qH,AngleBetweenPoints(i8,lG))
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BMI=GetLastCreatedUnit()
call GroupAddUnitSimple(BMI,dP)
call UnitApplyTimedLifeBJ(1.75,$42487765,BMI)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetSpellTargetLoc()
set qH=PolarProjectionBJ(i8,50.,AngleBetweenPoints(i8,lG)+15.)
call CreateNUnitsAtLoc(1,$6830305A,GetOwningPlayer(GetTriggerUnit()),qH,AngleBetweenPoints(i8,lG)+15.)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BMJ=GetLastCreatedUnit()
call GroupAddUnitSimple(BMJ,dP)
call UnitApplyTimedLifeBJ(1.75,$42487765,BMJ)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetSpellTargetLoc()
set qH=PolarProjectionBJ(i8,50.,AngleBetweenPoints(i8,lG)-15.)
call CreateNUnitsAtLoc(1,$6830305A,GetOwningPlayer(GetTriggerUnit()),qH,AngleBetweenPoints(i8,lG)-15.)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
set BMK=GetLastCreatedUnit()
call GroupAddUnitSimple(BMK,dP)
call UnitApplyTimedLifeBJ(1.75,$42487765,BMK)
call EnableTrigger(BML)
call EnableTrigger(BMM)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BML)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BMN)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMN)
call DisableTrigger(BMM)
call GroupClear(dP)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CWh takes nothing returns nothing
set BMH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMH,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMH,Condition(function CWf))
call TriggerAddAction(BMH,function CWg)
endfunction
function CWi takes nothing returns nothing
set qM=GetUnitLoc(BMI)
set qL=PolarProjectionBJ(qM,50.,GetUnitFacing(BMI))
call SetUnitPositionLoc(BMI,qL)
call RemoveLocation(qM)
call RemoveLocation(qL)
set qM=GetUnitLoc(BMJ)
set qL=PolarProjectionBJ(qM,50.,GetUnitFacing(BMJ))
call SetUnitPositionLoc(BMJ,qL)
call RemoveLocation(qM)
call RemoveLocation(qL)
set qM=GetUnitLoc(BMK)
set qL=PolarProjectionBJ(qM,50.,GetUnitFacing(BMK))
call SetUnitPositionLoc(BMK,qL)
call RemoveLocation(qM)
call RemoveLocation(qL)
endfunction
function CWj takes nothing returns nothing
set BML=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BML,.05)
call TriggerAddAction(BML,function CWi)
endfunction
function CWk takes nothing returns nothing
set qM=GetUnitLoc(BMI)
set qL=PolarProjectionBJ(qM,50.,BiH(BMI,Ug))
call SetUnitPositionLoc(BMI,qL)
call RemoveLocation(qM)
call RemoveLocation(qL)
set qM=GetUnitLoc(BMJ)
set qL=PolarProjectionBJ(qM,50.,BiH(BMJ,Ug))
call SetUnitPositionLoc(BMJ,qL)
call RemoveLocation(qM)
call RemoveLocation(qL)
set qM=GetUnitLoc(BMK)
set qL=PolarProjectionBJ(qM,50.,BiH(BMK,Ug))
call SetUnitPositionLoc(BMK,qL)
call RemoveLocation(qM)
call RemoveLocation(qL)
endfunction
function CWl takes nothing returns nothing
set BMN=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BMN,.05)
call TriggerAddAction(BMN,function CWk)
endfunction
function CWm takes nothing returns nothing
call DisableTrigger(BML)
call DisableTrigger(BMN)
call DisableTrigger(BMM)
endfunction
function CWn takes nothing returns nothing
set BMO=CreateTrigger()
call TriggerAddAction(BMO,function CWm)
endfunction
function CWo takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ug))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CWp takes nothing returns nothing
call UnitDamageTargetBJ(BMI,GetEnumUnit(),15.*I2R(GetUnitAbilityLevelSwapped($41303232,Ug))+.15*I2R(GetUnitAbilityLevelSwapped($41303232,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CWq takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ug))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CWr takes nothing returns nothing
call UnitDamageTargetBJ(BMJ,GetEnumUnit(),15.*I2R(GetUnitAbilityLevelSwapped($41303232,Ug))+.15*I2R(GetUnitAbilityLevelSwapped($41303232,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CWs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ug))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CWt takes nothing returns nothing
call UnitDamageTargetBJ(BMK,GetEnumUnit(),15.*I2R(GetUnitAbilityLevelSwapped($41303232,Ug))+.15*I2R(GetUnitAbilityLevelSwapped($41303232,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CWu takes nothing returns nothing
set qT=GetUnitLoc(BMI)
set fP=Biq(200.,qT,Condition(function CWo))
call ForGroupBJ(fP,function CWp)
call DestroyGroup(fP)
call RemoveLocation(qT)
set qT=GetUnitLoc(BMJ)
set fP=Biq(200.,qT,Condition(function CWq))
call ForGroupBJ(fP,function CWr)
call DestroyGroup(fP)
call RemoveLocation(qT)
set qT=GetUnitLoc(BMK)
set fP=Biq(200.,qT,Condition(function CWs))
call ForGroupBJ(fP,function CWt)
call DestroyGroup(fP)
call RemoveLocation(qT)
endfunction
function CWv takes nothing returns nothing
set BMM=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BMM,.05)
call TriggerAddAction(BMM,function CWu)
endfunction
function CWw takes nothing returns boolean
return GetLearnedSkill()==$41303232
endfunction
function CWx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BMQ)
endfunction
function CWy takes nothing returns nothing
set BMP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMP,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BMP,Condition(function CWw))
call TriggerAddAction(BMP,function CWx)
endfunction
function CWz takes nothing returns boolean
return GetEventDamageSource()==Ug and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CW0 takes nothing returns nothing
if GetRandomInt(1,100)<=25 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$68303349,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMR=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.2,$42487765,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41304539,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41303232,GetEventDamageSource()))
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",i8)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function CW1 takes nothing returns nothing
set BMQ=CreateTrigger()
call Bi3(BMQ)
call TriggerAddCondition(BMQ,Condition(function CWz))
call TriggerAddAction(BMQ,function CW0)
endfunction
function CW2 takes nothing returns nothing
call DisableTrigger(BMQ)
endfunction
function CW3 takes nothing returns nothing
set BMS=CreateTrigger()
call TriggerAddAction(BMS,function CW2)
endfunction
function CW4 takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303349 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CW5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Ug,GetTriggerUnit(),I2R(GetUnitAbilityLevelSwapped($41303232,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true))*.5+I2R(GetUnitAbilityLevelSwapped($41303232,Ug))*225.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CW6 takes nothing returns nothing
set BMT=CreateTrigger()
call Bi3(BMT)
call TriggerAddCondition(BMT,Condition(function CW4))
call TriggerAddAction(BMT,function CW5)
endfunction
function CW7 takes nothing returns boolean
return GetSpellAbilityId()==$41303235
endfunction
function CW8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CW9 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.5)+I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXC takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.5)+I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXD takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXE takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.5)+I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXF takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXG takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.5)+I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXH takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.5)+I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXJ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXK takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*.5)+I2R(GetUnitAbilityLevelSwapped($41303235,GetTriggerUnit()))*50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXL takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303130,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMV=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CW8))
call ForGroupBJ(fP,function CW9)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303130,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMV=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CXB))
call ForGroupBJ(fP,function CXC)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303130,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMV=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CXD))
call ForGroupBJ(fP,function CXE)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303130,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMV=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CXF))
call ForGroupBJ(fP,function CXG)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303130,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMV=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CXH))
call ForGroupBJ(fP,function CXI)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303130,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMV=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CXJ))
call ForGroupBJ(fP,function CXK)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CXM takes nothing returns nothing
set BMU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMU,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMU,Condition(function CW7))
call TriggerAddAction(BMU,function CXL)
endfunction
function CXN takes nothing returns boolean
return GetLearnedSkill()==$41303238
endfunction
function CXO takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,150)
endfunction
function CXP takes nothing returns nothing
set BMW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMW,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BMW,Condition(function CXN))
call TriggerAddAction(BMW,function CXO)
endfunction
function CXQ takes nothing returns boolean
return GetSpellAbilityId()==$41303239
endfunction
function CXR takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXS takes nothing returns nothing
set lG=GetUnitLoc(Uf)
call MoveRectToLoc(Ic,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ic)
call CreateNUnitsAtLoc(1,$68303131,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BMZ=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetEnumUnit())
endfunction
function CXT takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>0.)
endfunction
function CXU takes nothing returns nothing
set lG=GetUnitLoc(Uf)
call MoveRectToLoc(Ic,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ic)
call CreateNUnitsAtLoc(1,$68303549,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"manaburn",GetEnumUnit())
endfunction
function CXV takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXW takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*I2R(GetUnitAbilityLevelSwapped($41303239,GetTriggerUnit()))*.5+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*I2R(GetUnitAbilityLevelSwapped($41303239,GetTriggerUnit()))*.8+150.*I2R(GetUnitAbilityLevelSwapped($41303239,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXX takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BMY)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CXR))
call ForGroupBJ(fP,function CXS)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CXT))
call ForGroupBJ(fP,function CXU)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CXV))
call ForGroupBJ(fP,function CXW)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMY)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMY)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMY)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMY)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMY)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMY)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CXY takes nothing returns nothing
set BMX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMX,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMX,Condition(function CXQ))
call TriggerAddAction(BMX,function CXX)
endfunction
function CXZ takes nothing returns boolean
return GetEventDamageSource()==Uf and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CXa takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXb takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CXc takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXd takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true)))*(.3*I2R(GetUnitAbilityLevelSwapped($41303239,GetEventDamageSource())))+50.*I2R(GetUnitAbilityLevelSwapped($41303239,GetEventDamageSource()))+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXe takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>0.)
endfunction
function CXf takes nothing returns nothing
set lG=GetUnitLoc(Uf)
call MoveRectToLoc(Ic,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ic)
call CreateNUnitsAtLoc(1,$6830354A,GetOwningPlayer(GetEventDamageSource()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"manaburn",GetEnumUnit())
endfunction
function CXg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(275.,i8,Condition(function CXa))
call ForGroupBJ(fP,function CXb)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(275.,i8,Condition(function CXc))
call ForGroupBJ(fP,function CXd)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(275.,i8,Condition(function CXe))
call ForGroupBJ(fP,function CXf)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CXh takes nothing returns nothing
set BMY=CreateTrigger()
call Bi3(BMY)
call TriggerAddCondition(BMY,Condition(function CXZ))
call TriggerAddAction(BMY,function CXg)
endfunction
function CXi takes nothing returns nothing
call DisableTrigger(BMY)
endfunction
function CXj takes nothing returns nothing
set BMa=CreateTrigger()
call TriggerAddAction(BMa,function CXi)
endfunction
function CXk takes nothing returns boolean
return GetSpellAbilityId()==$41303244
endfunction
function CXl takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CXm takes nothing returns nothing
set BMb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMb,Condition(function CXk))
call TriggerAddAction(BMb,function CXl)
endfunction
function CXn takes nothing returns boolean
return GetSpellAbilityId()==$41303244
endfunction
function CXo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
call EnableTrigger(BMd)
call Biy(20.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMd)
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CXp takes nothing returns nothing
set BMc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMc,Condition(function CXn))
call TriggerAddAction(BMc,function CXo)
endfunction
function CXq takes nothing returns boolean
return GetEventDamageSource()==Uf and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CXr takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXs takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CXt takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CXu takes nothing returns nothing
call UnitDamageTargetBJ(Uf,GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303244,Uf))*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uf,true))*1.2)+I2R(GetUnitAbilityLevelSwapped($41303244,Uf))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Uf,true))*.8),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CXv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)>50 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function CXr))
call ForGroupBJ(fP,function CXs)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function CXt))
call ForGroupBJ(fP,function CXu)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CXw takes nothing returns nothing
set BMd=CreateTrigger()
call Bi3(BMd)
call TriggerAddCondition(BMd,Condition(function CXq))
call TriggerAddAction(BMd,function CXv)
endfunction
function CXx takes nothing returns nothing
call DisableTrigger(BMd)
endfunction
function CXy takes nothing returns nothing
set BMe=CreateTrigger()
call TriggerAddAction(BMe,function CXx)
endfunction
function CXz takes nothing returns boolean
return GetSpellAbilityId()==$4130324B
endfunction
function CX0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($41303251,GetTriggerUnit())
call UnitAddAbilityBJ($41303254,GetTriggerUnit())
call UnitAddAbilityBJ($4130324E,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call UnitRemoveAbilityBJ($41303251,GetTriggerUnit())
call UnitRemoveAbilityBJ($41303254,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130324E,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CX1 takes nothing returns nothing
set BMf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMf,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMf,Condition(function CXz))
call TriggerAddAction(BMf,function CX0)
endfunction
function CX2 takes nothing returns boolean
return GetSpellAbilityId()==$41303331
endfunction
function CX3 takes nothing returns nothing
call SetUnitLifeBJ(GetSpellTargetUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.)
endfunction
function CX4 takes nothing returns nothing
set BMg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMg,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMg,Condition(function CX2))
call TriggerAddAction(BMg,function CX3)
endfunction
function CX5 takes nothing returns boolean
return GetSpellAbilityId()==$41303537
endfunction
function CX6 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CX7 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CX8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303153,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMi=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CX6))
call ForGroupBJ(fP,function CX7)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CX9 takes nothing returns nothing
set BMh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMh,Condition(function CX5))
call TriggerAddAction(BMh,function CX8)
endfunction
function CYB takes nothing returns boolean
return GetLearnedSkill()==$41303243 and GetUnitAbilityLevelSwapped($41303243,GetTriggerUnit())==1
endfunction
function CYC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BMk)
call UnitAddAbilityBJ($41304C31,GetTriggerUnit())
endfunction
function CYD takes nothing returns nothing
set BMj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMj,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BMj,Condition(function CYB))
call TriggerAddAction(BMj,function CYC)
endfunction
function CYE takes nothing returns boolean
return GetLearnedSkill()==$41303243 and GetUnitAbilityLevelSwapped($41303243,GetTriggerUnit())==5
endfunction
function CYF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304C32,GetTriggerUnit())
endfunction
function CYG takes nothing returns nothing
set BMl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMl,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BMl,Condition(function CYE))
call TriggerAddAction(BMl,function CYF)
endfunction
function CYH takes nothing returns boolean
return GetLearnedSkill()==$41303243 and GetUnitAbilityLevelSwapped($41303243,GetTriggerUnit())==10
endfunction
function CYI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304C33,GetTriggerUnit())
endfunction
function CYJ takes nothing returns nothing
set BMm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMm,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BMm,Condition(function CYH))
call TriggerAddAction(BMm,function CYI)
endfunction
function CYK takes nothing returns boolean
return GetTriggerUnit()==Uf and IsUnitAliveBJ(GetTriggerUnit())==true and GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=.25*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())
endfunction
function CYL takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(fM,true,.1)
set pN=GetUnitLoc(Uf)
call AddSpecialEffectLocBJ(pN,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(fM)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,6.,"野性战意生命恢复进入CD")
call Biy(80.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,6.,"野性战意生命恢复已冷却完毕")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CYM takes nothing returns nothing
set BMk=CreateTrigger()
call Bi3(BMk)
call TriggerAddCondition(BMk,Condition(function CYK))
call TriggerAddAction(BMk,function CYL)
endfunction
function CYN takes nothing returns nothing
if IsUnitAliveBJ(Uf)==true then
call SetUnitLifeBJ(Uf,GetUnitStateSwap(UNIT_STATE_LIFE,Uf)+((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Uf,true))+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uf,true)))*.1+(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Uf,true))+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uf,true)))*I2R(GetUnitAbilityLevelSwapped($41303243,Uf))*.01+10.*I2R(GetUnitAbilityLevelSwapped($41303243,Uf))))
else
call DoNothing()
endif
endfunction
function CYO takes nothing returns nothing
set BMn=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BMn,fM)
call TriggerAddAction(BMn,function CYN)
endfunction
function CYP takes nothing returns nothing
call DisableTrigger(BMk)
endfunction
function CYQ takes nothing returns nothing
set BMo=CreateTrigger()
call TriggerAddAction(BMo,function CYP)
endfunction
function CYR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and GetHeroLevel(Uf)>=50
endfunction
function CYS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($4130324B,Uf)
call SetUnitAbilityLevelSwapped($4130324B,Uf,3)
endfunction
function CYT takes nothing returns nothing
set BMp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMp,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BMp,Condition(function CYR))
call TriggerAddAction(BMp,function CYS)
endfunction
function CYU takes nothing returns boolean
return GetSpellAbilityId()==$41303030
endfunction
function CYV takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAbilityAvailableBJ(false,$41303030,GetOwningPlayer(GetTriggerUnit()))
call UnitRemoveAbilityBJ($41303030,GetTriggerUnit())
call UnitAddAbilityBJ($41304D4F,GetTriggerUnit())
call Biy(7.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41304D4F,GetTriggerUnit())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetPlayerAbilityAvailableBJ(true,$41303030,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41303030,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41303030,GetTriggerUnit(),dw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CYW takes nothing returns nothing
set BJC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJC,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BJC,Condition(function CYU))
call TriggerAddAction(BJC,function CYV)
endfunction
function CYX takes nothing returns nothing
call DisableTrigger(BJC)
endfunction
function CYY takes nothing returns nothing
set BMq=CreateTrigger()
call TriggerAddAction(BMq,function CYX)
endfunction
function CYZ takes nothing returns boolean
return GetSpellAbilityId()==$41304D4F
endfunction
function CYa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetSpellTargetLoc()
call MoveRectToLoc(Pq,i8)
call RemoveLocation(i8)
call EnableTrigger(BMs)
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303456,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMt=GetLastCreatedUnit()
call Bjf(.1,GetLastCreatedUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BMs)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CYb takes nothing returns nothing
set BMr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMr,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BMr,Condition(function CYZ))
call TriggerAddAction(BMr,function CYa)
endfunction
function CYc takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Uc))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CYd takes nothing returns nothing
call UnitDamageTargetBJ(BMt,GetEnumUnit(),I2R(dw)*(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true))*.02)+5.*I2R(dw),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CYe takes nothing returns nothing
if RectContainsUnit(Pq,Uc)==false then
set lG=GetUnitLoc(Uc)
set qH=PolarProjectionBJ(lG,50.,BiF(Uc,GetRectCenter(Pq)))
call SetUnitPositionLoc(Uc,qH)
call RemoveLocation(lG)
call RemoveLocation(qH)
set lG=GetUnitLoc(Uc)
set fP=Biq(250.,lG,Condition(function CYc))
call ForGroupBJ(fP,function CYd)
call DestroyGroup(fP)
call RemoveLocation(lG)
set lG=GetUnitLoc(Uc)
call Bjl(1.,AddSpecialEffectLoc("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl",lG))
call RemoveLocation(lG)
else
call DoNothing()
endif
endfunction
function CYf takes nothing returns nothing
set BMs=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BMs,.01)
call TriggerAddAction(BMs,function CYe)
endfunction
function CYg takes nothing returns nothing
call DisableTrigger(BMs)
endfunction
function CYh takes nothing returns nothing
set BMu=CreateTrigger()
call TriggerAddAction(BMu,function CYg)
endfunction
function CYi takes nothing returns boolean
return GetEventDamageSource()==Uc and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CYj takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Uc))==true
endfunction
function CYk takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),25.+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CYl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CYj))
call ForGroupBJ(fP,function CYk)
call RemoveLocation(i8)
call DestroyGroup(fP)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CYm takes nothing returns nothing
set pa=CreateTrigger()
call Bi3(pa)
call TriggerAddCondition(pa,Condition(function CYi))
call TriggerAddAction(pa,function CYl)
endfunction
function CYn takes nothing returns boolean
return GetEventDamageSource()==Uc and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and hV==true
endfunction
function CYo takes nothing returns nothing
if hW>=3 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$6830364F,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.5,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",i8)
call RemoveLocation(i8)
set hW=0
call EnableTrigger(GetTriggeringTrigger())
else
set hW=hW+1
endif
endfunction
function CYp takes nothing returns nothing
set wc=CreateTrigger()
call Bi3(wc)
call TriggerAddCondition(wc,Condition(function CYn))
call TriggerAddAction(wc,function CYo)
endfunction
function CYq takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6830364F and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and hV==true
endfunction
function CYr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uc,GetTriggerUnit(),.25*(GetUnitStateSwap(ConvertUnitState(18),Uc)+GetUnitStateSwap(ConvertUnitState(19),Uc))+3.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true))+300.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call SetUnitLifeBJ(Uc,GetUnitStateSwap(UNIT_STATE_LIFE,Uc)+((.25*(GetUnitStateSwap(ConvertUnitState(18),Uc)+GetUnitStateSwap(ConvertUnitState(19),Uc))+3.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uc,true))+300.+0+0)*.05+0))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetTriggerUnit(),"chest"))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",Uc,"chest"))
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CYs takes nothing returns nothing
set wd=CreateTrigger()
call Bi3(wd)
call TriggerAddCondition(wd,Condition(function CYq))
call TriggerAddAction(wd,function CYr)
endfunction
function CYt takes nothing returns boolean
return GetEventDamageSource()==Ud and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CYu takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=15 then
call DisableTrigger(GetTriggeringTrigger())
set dY=0
set i8=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,$68303443,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BMw=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call StartTimerBJ(dX,true,.1)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitHide(BMw)
call PauseTimer(dX)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CYv takes nothing returns nothing
set BMv=CreateTrigger()
call Bi3(BMv)
call TriggerAddCondition(BMv,Condition(function CYt))
call TriggerAddAction(BMv,function CYu)
endfunction
function CYw takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ud))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CYx takes nothing returns nothing
if IsUnitAliveBJ(GetEnumUnit())==true and dY<5 then
set dY=dY+1
call SetUnitAnimation(BMw,"attack slam")
set qH=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLoc(BMw,qH)
call RemoveLocation(qH)
call UnitDamageTargetBJ(Ud,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Ud,true))*(I2R(GetUnitAbilityLevelSwapped($41303053,Ud))*.5)+50.*I2R(GetUnitAbilityLevelSwapped($41303053,Ud)),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetEnumUnit(),"origin"))
else
if dY>=5 then
call RemoveUnit(BMw)
call PauseTimer(dX)
else
if IsUnitAliveBJ(GetEnumUnit())==true then
set dY=dY+1
call SetUnitAnimation(BMw,"attack slam")
set qH=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLoc(BMw,qH)
call RemoveLocation(qH)
call UnitDamageTargetBJ(Ud,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Ud,true))*(I2R(GetUnitAbilityLevelSwapped($41303053,Ud))*.5)+50.*I2R(GetUnitAbilityLevelSwapped($41303053,Ud)),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetEnumUnit(),"origin"))
else
endif
endif
endif
endfunction
function CYy takes nothing returns nothing
set lG=GetUnitLoc(Ud)
set fP=Biq(400.,lG,Condition(function CYw))
set fQ=BjB(1,fP)
call ForGroupBJ(fQ,function CYx)
call DestroyGroup(fP)
call DestroyGroup(fQ)
call RemoveLocation(lG)
endfunction
function CYz takes nothing returns nothing
set BMx=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BMx,dX)
call TriggerAddAction(BMx,function CYy)
endfunction
function CY0 takes nothing returns nothing
set dY=0
call DisableTrigger(BMv)
endfunction
function CY1 takes nothing returns nothing
set BMy=CreateTrigger()
call TriggerAddAction(BMy,function CY0)
endfunction
function CY2 takes nothing returns boolean
return GetLearnedSkill()==$41303053
endfunction
function CY3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BMv)
endfunction
function CY4 takes nothing returns nothing
set BMz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BMz,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BMz,Condition(function CY2))
call TriggerAddAction(BMz,function CY3)
endfunction
function CY5 takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Ud))==GetPlayerColor(GetTriggerPlayer())
endfunction
function CY6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if R2I(GetUnitStateSwap(UNIT_STATE_MANA,Ud))>=250+R2I(I2R(GetUnitAbilityLevelSwapped($41303054,Ud)))*100 then
call DisableTrigger(GetTriggeringTrigger())
call StopSoundBJ(Z,false)
call PlaySoundBJ(Z)
call SetUnitManaBJ(Ud,GetUnitStateSwap(UNIT_STATE_MANA,Ud)-(250.+I2R(GetUnitAbilityLevelSwapped($41303054,Ud))*100.))
set i8=GetUnitLoc(Ud)
call MoveRectToLoc(PL,i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(Ud)
call CreateNUnitsAtLoc(1,$68303445,GetOwningPlayer(Ud),i8,GetUnitFacing(Ud))
call RemoveLocation(i8)
set BM0=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(5.,$42487765,BM0)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call EnableTrigger(BM2)
call EnableTrigger(BM3)
call EnableTrigger(BM4)
call EnableTrigger(BM5)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM0)
set lG=PolarProjectionBJ(i8,10.,GetUnitFacing(BM0))
call CreateNUnitsAtLoc(1,$68303446,GetOwningPlayer(Ud),lG,GetUnitFacing(BM0))
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.5,$42487765,GetLastCreatedUnit())
call DisableTrigger(BM2)
call DisableTrigger(BM3)
call DisableTrigger(BM4)
call DisableTrigger(BM5)
call Biy(80.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"裁决圣炮冷却完毕")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"裁决圣炮发动魔法值不足")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CY7 takes nothing returns nothing
set BLJ=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(1),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(7),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(8),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(9),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(10),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(11),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(12),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(13),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(14),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BLJ,Player(15),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerAddCondition(BLJ,Condition(function CY5))
call TriggerAddAction(BLJ,function CY6)
endfunction
function CY8 takes nothing returns nothing
set qH=GetUnitLoc(BM1)
set qM=PolarProjectionBJ(qH,60.,GetUnitFacing(BM1))
call SetUnitPositionLoc(BM1,qM)
call RemoveLocation(qH)
call RemoveLocation(qM)
endfunction
function CY9 takes nothing returns nothing
set BM2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BM2,.02)
call TriggerAddAction(BM2,function CY8)
endfunction
function CZB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ud))==true and (IsUnitAliveBJ(BM1)==true and IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function CZC takes nothing returns nothing
call UnitDamageTargetBJ(Ud,GetEnumUnit(),200.*I2R(GetUnitAbilityLevelSwapped($41303054,Ud))+I2R(GetHeroAgi(Ud,true))*(I2R(GetUnitAbilityLevelSwapped($41303054,Ud))*2.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set pV=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(PL)
call CreateNUnitsAtLoc(1,$68303447,GetOwningPlayer(Ud),pV,bj_UNIT_FACING)
call RemoveLocation(pV)
call UnitApplyTimedLifeBJ(1.5,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function CZD takes nothing returns nothing
set qL=GetUnitLoc(BM1)
set fR=Biq(350.,qL,Condition(function CZB))
call ForGroupBJ(fR,function CZC)
call DestroyGroup(fR)
call RemoveLocation(qL)
endfunction
function CZE takes nothing returns nothing
set BM3=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BM3,.1)
call TriggerAddAction(BM3,function CZD)
endfunction
function CZF takes nothing returns nothing
set pV=GetUnitLoc(Ud)
call SetUnitPositionLoc(BM0,pV)
call RemoveLocation(pV)
endfunction
function CZG takes nothing returns nothing
set BM4=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BM4,.02)
call TriggerAddAction(BM4,function CZF)
endfunction
function CZH takes nothing returns nothing
set pV=GetUnitLoc(Ud)
call MoveRectToLoc(Pb,pV)
call RemoveLocation(pV)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
set pV=GetRandomLocInRect(Pb)
call AddSpecialEffectLocBJ(pV,"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call RemoveLocation(pV)
call Bjl(.5,bj_lastCreatedEffect)
endfunction
function CZI takes nothing returns nothing
set BM5=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BM5,.3)
call TriggerAddAction(BM5,function CZH)
endfunction
function CZJ takes nothing returns nothing
call DisableTrigger(BLJ)
call DisableTrigger(BM2)
call DisableTrigger(BM3)
call DisableTrigger(BM4)
call DisableTrigger(BM5)
endfunction
function CZK takes nothing returns nothing
set BM6=CreateTrigger()
call TriggerAddAction(BM6,function CZJ)
endfunction
function CZL takes nothing returns boolean
return GetSpellAbilityId()==$4130304E
endfunction
function CZM takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ud))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CZN takes nothing returns nothing
call UnitDamageTargetBJ(Ud,GetEnumUnit(),50.*I2R(dd)+I2R(GetHeroAgi(Ud,true))*(I2R(dd)*.5),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"chest"))
endfunction
function CZO takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ud))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CZP takes nothing returns nothing
call UnitDamageTargetBJ(Ud,GetEnumUnit(),50.*I2R(dd)+I2R(GetHeroAgi(Ud,true))*(I2R(dd)*.5),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"chest"))
endfunction
function CZQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set dd=GetUnitAbilityLevelSwapped($4130304E,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,75.,GetUnitFacing(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,$68303448,GetOwningPlayer(Ud),lG,bj_UNIT_FACING)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BM8=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(.25,$42487765,GetLastCreatedUnit())
set i8=GetUnitLoc(BM8)
set fP=Biq(350.,i8,Condition(function CZM))
call ForGroupBJ(fP,function CZN)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(BM8)
set fP=Biq(350.,i8,Condition(function CZO))
call ForGroupBJ(fP,function CZP)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CZR takes nothing returns nothing
set BM7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BM7,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BM7,Condition(function CZL))
call TriggerAddAction(BM7,function CZQ)
endfunction
function CZS takes nothing returns boolean
return GetSpellAbilityId()==$4130304E
endfunction
function CZT takes nothing returns nothing
set dc=dc+1
endfunction
function CZU takes nothing returns nothing
set BM9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BM9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BM9,Condition(function CZS))
call TriggerAddAction(BM9,function CZT)
endfunction
function CZV takes nothing returns nothing
set dc=0
endfunction
function CZW takes nothing returns nothing
set BNB=CreateTrigger()
call TriggerAddAction(BNB,function CZV)
endfunction
function CZX takes nothing returns boolean
return GetSpellAbilityId()==$4130304E and dc==2
endfunction
function CZY takes nothing returns nothing
set dc=0
call SetPlayerAbilityAvailableBJ(false,$4130304E,GetOwningPlayer(Ud))
call UnitRemoveAbilityBJ($4130304E,GetTriggerUnit())
call UnitAddAbilityBJ($41304C56,GetTriggerUnit())
endfunction
function CZZ takes nothing returns nothing
set BNC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNC,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BNC,Condition(function CZX))
call TriggerAddAction(BNC,function CZY)
endfunction
function CZa takes nothing returns boolean
return GetSpellAbilityId()==$41304C56
endfunction
function CZb takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ud))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CZc takes nothing returns nothing
call UnitDamageTargetBJ(Ud,GetEnumUnit(),100.*I2R(dd)+I2R(GetHeroAgi(Ud,true))*(I2R(dd)*.5),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(.5,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetEnumUnit(),"chest"))
set lG=GetRandomLocInRect(PL)
call CreateNUnitsAtLoc(1,$68303447,GetOwningPlayer(Ud),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call UnitApplyTimedLifeBJ(1.5,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function CZd takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(PL,i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303449,GetOwningPlayer(Ud),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call UnitApplyTimedLifeBJ(.25,$42487765,GetLastCreatedUnit())
call Bjl(.5,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
set i8=GetUnitLoc(Ud)
set fP=Biq(350.,i8,Condition(function CZb))
call ForGroupBJ(fP,function CZc)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(6.-I2R(dd)*.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetPlayerAbilityAvailableBJ(true,$4130304E,GetOwningPlayer(Ud))
call UnitRemoveAbilityBJ($41304C56,GetTriggerUnit())
call UnitAddAbilityBJ($4130304E,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($4130304E,GetTriggerUnit(),dd)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CZe takes nothing returns nothing
set BND=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BND,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BND,Condition(function CZa))
call TriggerAddAction(BND,function CZd)
endfunction
function CZf takes nothing returns boolean
return GetSpellAbilityId()==$41303056
endfunction
function CZg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set eN=false
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"万能的圣之王者....")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if eN==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"通晓圣裁之理....")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if eN==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"遵循主之圣约....")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if eN==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"以圣裁者之名....")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if eN==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"崩碎一切黑暗....")
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,200.,10.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$68303457,GetOwningPlayer(Ud),lG,10.*I2R(GetForLoopIndexA()))
call RemoveLocation(i8)
call RemoveLocation(lG)
call Bjf(2,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),GetUnitFacing(GetLastCreatedUnit()),1000.,2.,.03,0,false,true,true,"origin","","")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if eN==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call EnableTrigger(mD)
call EnableTrigger(mE)
call Biy(20.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(mD)
call DisableTrigger(mE)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CZh takes nothing returns nothing
set lF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(lF,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(lF,Condition(function CZf))
call TriggerAddAction(lF,function CZg)
endfunction
function CZi takes nothing returns nothing
if eN==false then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=24
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(Ud)
set lG=PolarProjectionBJ(i8,1000.,15.*I2R(GetForLoopIndexA()))
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call RemoveLocation(i8)
call RemoveLocation(lG)
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DoNothing()
endif
endfunction
function CZj takes nothing returns nothing
set mD=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(mD,.35)
call TriggerAddAction(mD,function CZi)
endfunction
function CZk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(mD)
call DisableTrigger(mE)
set eN=false
endfunction
function CZl takes nothing returns nothing
set mF=CreateTrigger()
call TriggerRegisterTimerEventSingle(mF,.1)
call TriggerAddAction(mF,function CZk)
endfunction
function CZm takes nothing returns boolean
return GetTriggerUnit()==Ud
endfunction
function CZn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if eN==false then
call EXSetEventDamage(GetEventDamage()*.5*1.)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CZo takes nothing returns nothing
set mE=CreateTrigger()
call Bi3(mE)
call TriggerAddCondition(mE,Condition(function CZm))
call TriggerAddAction(mE,function CZn)
endfunction
function CZp takes nothing returns boolean
return GetSpellAbilityId()==$41303050
endfunction
function CZq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set eP=0
call SetPlayerAbilityAvailableBJ(false,$41303050,GetOwningPlayer(Ud))
call UnitRemoveAbilityBJ($41303050,GetTriggerUnit())
call UnitAddAbilityBJ($41304F44,GetTriggerUnit())
call Biy(6.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41304F44,GetTriggerUnit())
call Biy(6.-I2R(eO)*.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetPlayerAbilityAvailableBJ(true,$41303050,GetOwningPlayer(Ud))
call UnitAddAbilityBJ($41303050,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41303050,GetTriggerUnit(),eO)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CZr takes nothing returns nothing
set pb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pb,Condition(function CZp))
call TriggerAddAction(pb,function CZq)
endfunction
function CZs takes nothing returns boolean
return GetSpellAbilityId()==$41304F44
endfunction
function CZt takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set eP=eP+1
set i8=GetSpellTargetLoc()
call MoveRectToLoc(RN,i8)
call RemoveLocation(i8)
call EnableTrigger(pd)
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(pd)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CZu takes nothing returns nothing
set pc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pc,Condition(function CZs))
call TriggerAddAction(pc,function CZt)
endfunction
function CZv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set eP=0
endfunction
function CZw takes nothing returns nothing
set pe=CreateTrigger()
call TriggerRegisterTimerEventSingle(pe,.2)
call TriggerAddAction(pe,function CZv)
endfunction
function CZx takes nothing returns boolean
return GetSpellAbilityId()==$41304F44 and eP>=3
endfunction
function CZy takes nothing returns nothing
call UnitRemoveAbilityBJ($41304F44,GetTriggerUnit())
endfunction
function CZz takes nothing returns nothing
set pf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pf,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pf,Condition(function CZx))
call TriggerAddAction(pf,function CZy)
endfunction
function CZ0 takes nothing returns nothing
if RectContainsUnit(RN,Ud)==false then
set i8=GetUnitLoc(Ud)
set lG=PolarProjectionBJ(i8,50.,BiF(Ud,GetRectCenter(RN)))
call SetUnitPositionLoc(Ud,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(Ud)
call Bjl(1.,AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",i8))
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function CZ1 takes nothing returns nothing
set pd=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(pd,.01)
call TriggerAddAction(pd,function CZ0)
endfunction
function CZ2 takes nothing returns nothing
call DisableTrigger(pd)
endfunction
function CZ3 takes nothing returns nothing
set BNE=CreateTrigger()
call TriggerAddAction(BNE,function CZ2)
endfunction
function CZ4 takes nothing returns boolean
return GetEventDamageSource()==Ue and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CZ5 takes nothing returns nothing
if GetRandomInt(1,100)<=15 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$68303547,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetTriggerUnit())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ue,true))+200.+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function CZ6 takes nothing returns nothing
set rv=CreateTrigger()
call Bi3(rv)
call TriggerAddCondition(rv,Condition(function CZ4))
call TriggerAddAction(rv,function CZ5)
endfunction
function CZ7 takes nothing returns boolean
return GetSpellAbilityId()==$41305145
endfunction
function CZ8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StartTimerBJ(fV,true,.1)
call Biy(8.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(fV)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CZ9 takes nothing returns nothing
set rw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rw,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(rw,Condition(function CZ7))
call TriggerAddAction(rw,function CZ8)
endfunction
function CaB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ue))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CaC takes nothing returns nothing
call UnitDamageTargetBJ(Ue,GetEnumUnit(),10.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ue,true))+2000.+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CaD takes nothing returns nothing
set i8=GetUnitLoc(Ue)
call MoveRectToLoc(R7,i8)
call RemoveLocation(i8)
set pN=GetRandomLocInRect(R7)
call AddSpecialEffectLocBJ(pN,"war3mapImported\\97.mdx")
call Bjl(1.,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(pN,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
set fR=Biq(250.,pN,Condition(function CaB))
call ForGroupBJ(fR,function CaC)
call DestroyGroup(fR)
call CreateNUnitsAtLoc(1,$68303548,GetOwningPlayer(Ue),pN,bj_UNIT_FACING)
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(pN)
endfunction
function CaE takes nothing returns nothing
set rx=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rx,fV)
call TriggerAddAction(rx,function CaD)
endfunction
function CaF takes nothing returns boolean
return GetEventDamageSource()==Ue and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CaG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ue))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CaH takes nothing returns nothing
call UnitDamageTargetBJ(Ue,GetEnumUnit(),10.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ue,true))+0.+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CaI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fR=Biq(250.,i8,Condition(function CaG))
call ForGroupBJ(fR,function CaH)
call DestroyGroup(fR)
call RemoveLocation(i8)
set pN=GetUnitLoc(GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\97.mdx",GetTriggerUnit(),"chest"))
call RemoveLocation(pN)
set pN=GetUnitLoc(GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetTriggerUnit(),"origin"))
call RemoveLocation(pN)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CaJ takes nothing returns nothing
set ry=CreateTrigger()
call Bi3(ry)
call TriggerAddCondition(ry,Condition(function CaF))
call TriggerAddAction(ry,function CaI)
endfunction
function CaK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(ry)
endfunction
function CaL takes nothing returns nothing
set rz=CreateTrigger()
call TriggerRegisterTimerEventSingle(rz,.1)
call TriggerAddAction(rz,function CaK)
endfunction
function CaM takes nothing returns boolean
return GetLearnedSkill()==$41303143
endfunction
function CaN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BNG)
endfunction
function CaO takes nothing returns nothing
set BNF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNF,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNF,Condition(function CaM))
call TriggerAddAction(BNF,function CaN)
endfunction
function CaP takes nothing returns boolean
return GetEventDamageSource()==Uj and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CaQ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CaR takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uj,true))*I2R(GetUnitAbilityLevelSwapped($41303143,Uj))+((GetUnitStateSwap(ConvertUnitState(18),Uj)+GetUnitStateSwap(ConvertUnitState(19),Uj))*(I2R(GetUnitAbilityLevelSwapped($41303143,Uj))*.1)+200.*I2R(GetUnitAbilityLevelSwapped($41303143,Uj))+0),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CaS takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetEnumUnit(),"chest"))
endfunction
function CaT takes nothing returns nothing
if GetRandomInt(1,100)<=15 then
call DisableTrigger(GetTriggeringTrigger())
set fP=Biq(500.,GetUnitLoc(GetTriggerUnit()),Condition(function CaQ))
call ForGroupBJ(fP,function CaR)
call ForGroupBJ(fP,function CaS)
call DestroyGroup(fP)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function CaU takes nothing returns nothing
set BNG=CreateTrigger()
call Bi3(BNG)
call TriggerAddCondition(BNG,Condition(function CaP))
call TriggerAddAction(BNG,function CaT)
endfunction
function CaV takes nothing returns nothing
call DisableTrigger(BNG)
endfunction
function CaW takes nothing returns nothing
set BNH=CreateTrigger()
call TriggerAddAction(BNH,function CaV)
endfunction
function CaX takes nothing returns boolean
return GetLearnedSkill()==$41303144
endfunction
function CaY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BNJ)
endfunction
function CaZ takes nothing returns nothing
set BNI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNI,Condition(function CaX))
call TriggerAddAction(BNI,function CaY)
endfunction
function Caa takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(Uj))==GetPlayerColor(GetTriggerPlayer())
endfunction
function Cab takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if R2I(GetUnitStateSwap(UNIT_STATE_MANA,Uj))>=225+100*GetUnitAbilityLevelSwapped($41303144,Uj) then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitManaBJ(Uj,GetUnitStateSwap(UNIT_STATE_MANA,Uj)-(225.+100.*I2R(GetUnitAbilityLevelSwapped($41303144,Uj))))
call EnableTrigger(BNK)
call AddSpecialEffectTargetUnitBJ("overhead",Uj,"Abilities\\Spells\\NightElf\\Tranquility\\Tranquility.mdl")
call Bjl(10.,bj_lastCreatedEffect)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("overhead",Uj,"Abilities\\Spells\\NightElf\\Tranquility\\Tranquility.mdl")
call Bjl(5.,bj_lastCreatedEffect)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BNK)
call Biy(40.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"宁静之雨已经冷却完毕")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"发动宁静之雨魔法值不足")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cac takes nothing returns nothing
set BNJ=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(1),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(7),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(8),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(9),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(10),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(11),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(12),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(13),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(14),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(BNJ,Player(15),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerAddCondition(BNJ,Condition(function Caa))
call TriggerAddAction(BNJ,function Cab)
endfunction
function Cad takes nothing returns nothing
call DisableTrigger(BNJ)
call DisableTrigger(BNK)
endfunction
function Cae takes nothing returns nothing
set BNL=CreateTrigger()
call TriggerAddAction(BNL,function Cad)
endfunction
function Caf takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(Uj))==true
endfunction
function Cag takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(15.*I2R(GetUnitAbilityLevelSwapped($41303144,Uj))+.05*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Uj,true))*I2R(GetUnitAbilityLevelSwapped($41303144,Uj)))+15.))
endfunction
function Cah takes nothing returns nothing
set fS=Biq(800.,GetUnitLoc(Uj),Condition(function Caf))
call ForGroupBJ(fS,function Cag)
call DestroyGroup(fS)
endfunction
function Cai takes nothing returns nothing
set BNK=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BNK,.1)
call TriggerAddAction(BNK,function Cah)
endfunction
function Caj takes nothing returns boolean
return GetSpellAbilityId()==$41305044
endfunction
function Cak takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pt=GetSpellTargetLoc()
call MoveRectToLoc(Rz,pt)
call StartTimerBJ(ej,true,.05)
call Biy(1.25+.1*I2R(GetUnitAbilityLevelSwapped($41303144,Uj)))
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(ej)
call RemoveLocation(pt)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cal takes nothing returns nothing
set ps=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ps,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ps,Condition(function Caj))
call TriggerAddAction(ps,function Cak)
endfunction
function Cam takes nothing returns nothing
set i8=GetUnitLoc(Uj)
set lG=GetRandomLocInRect(Rz)
call CreateNUnitsAtLoc(1,$68303531,GetOwningPlayer(Uj),i8,AngleBetweenPoints(i8,pt))
call Bjf(1.,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),AngleBetweenPoints(i8,lG),1000.,1,.03,0,false,true,true,"origin","  ","  ")
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Can takes nothing returns nothing
set pu=CreateTrigger()
call TriggerRegisterTimerExpireEvent(pu,ej)
call TriggerAddAction(pu,function Cam)
endfunction
function Cao takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303531 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cap takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uj,GetTriggerUnit(),.05*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uj,true))*I2R(GetUnitAbilityLevelSwapped($41305044,Uj))+(GetUnitStateSwap(ConvertUnitState(18),Uj)+GetUnitStateSwap(ConvertUnitState(19),Uj))*(I2R(GetUnitAbilityLevelSwapped($41305044,Uj))*(.01*.5))+10.*I2R(GetUnitAbilityLevelSwapped($41305044,Uj))+.05*(GetUnitStateSwap(ConvertUnitState(18),Uj)+GetUnitStateSwap(ConvertUnitState(19),Uj))+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call RemoveUnit(GetEventDamageSource())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",GetTriggerUnit(),"chest"))
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Caq takes nothing returns nothing
set pv=CreateTrigger()
call Bi3(pv)
call TriggerAddCondition(pv,Condition(function Cao))
call TriggerAddAction(pv,function Cap)
endfunction
function Car takes nothing returns boolean
return GetSpellAbilityId()==$41305045
endfunction
function Cas takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function Cat takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303532,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function Cau takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function Cav takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303532,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function Caw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set px=GetSpellTargetLoc()
call MoveRectToLoc(R0,px)
set py=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(R1,py)
call StartTimerBJ(ek,true,.01)
set fP=Biq(800.,GetUnitLoc(GetTriggerUnit()),Condition(function Cas))
set fQ=BjB(1,fP)
call ForGroupBJ(fQ,function Cat)
call DestroyGroup(fP)
call DestroyGroup(fQ)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set fP=Biq(800.,GetUnitLoc(GetTriggerUnit()),Condition(function Cau))
set fQ=BjB(1,fP)
call ForGroupBJ(fQ,function Cav)
call DestroyGroup(fP)
call DestroyGroup(fQ)
call PauseTimer(ek)
call RemoveLocation(py)
call RemoveLocation(px)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cax takes nothing returns nothing
set pw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pw,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pw,Condition(function Car))
call TriggerAddAction(pw,function Caw)
endfunction
function Cay takes nothing returns nothing
if RectContainsUnit(R0,Uj)==true then
call PauseTimer(ek)
else
if IsUnitInRangeLoc(Uj,GetRectCenter(R1),500.)==true then
set i8=GetUnitLoc(Uj)
set lG=PolarProjectionBJ(i8,30.,AngleBetweenPoints(py,px))
call SetUnitPositionLoc(Uj,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",Uj,"chest"))
else
call PauseTimer(ek)
endif
endif
endfunction
function Caz takes nothing returns nothing
set pz=CreateTrigger()
call TriggerRegisterTimerExpireEvent(pz,ek)
call TriggerAddAction(pz,function Cay)
endfunction
function Ca0 takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303532 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Ca1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uj,GetTriggerUnit(),.13*(GetUnitStateSwap(ConvertUnitState(18),Uj)+GetUnitStateSwap(ConvertUnitState(19),Uj))+1.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uj,true))+50.*I2R(GetUnitAbilityLevelSwapped($41305045,Uj))+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call RemoveUnit(GetEventDamageSource())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Weapons\\SearingArrow\\SearingArrowMissile.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Ca2 takes nothing returns nothing
set p0=CreateTrigger()
call Bi3(p0)
call TriggerAddCondition(p0,Condition(function Ca0))
call TriggerAddAction(p0,function Ca1)
endfunction
function Ca3 takes nothing returns boolean
return GetSpellAbilityId()==$41305045
endfunction
function Ca4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set em=true
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set em=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ca5 takes nothing returns nothing
set p1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(p1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(p1,Condition(function Ca3))
call TriggerAddAction(p1,function Ca4)
endfunction
function Ca6 takes nothing returns boolean
return GetSpellAbilityId()==$41305044
endfunction
function Ca7 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if em==true and R2I(GetUnitStateSwap(UNIT_STATE_MANA,Uj))>=35+5*GetUnitAbilityLevelSwapped($41305044,Uj) then
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundOnUnitBJ(V,100.,Uj)
set p3=GetSpellTargetLoc()
set p4=GetUnitLoc(GetTriggerUnit())
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call SetUnitManaBJ(Uj,GetUnitStateSwap(UNIT_STATE_MANA,Uj)-(35.+5.*I2R(GetUnitAbilityLevelSwapped($41305044,Uj))))
call StartTimerBJ(en,true,.01)
call PauseTimer(ek)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303533,GetOwningPlayer(GetTriggerUnit()),i8,BiF(GetTriggerUnit(),p3))
call RemoveLocation(i8)
set p5=GetLastCreatedUnit()
call Bjf(.5,p5)
call EnableTrigger(p6)
call BjX(p5,BiF(GetTriggerUnit(),p3),1500.,.5,.03,0,false,true,true,"origin","   ","   ")
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(en)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"爆裂射击进入冷却")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveLocation(p3)
call RemoveLocation(p4)
call DisableTrigger(p6)
call EnableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"爆裂射击冷却完毕")
else
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ca8 takes nothing returns nothing
set p2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(p2,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(p2,Condition(function Ca6))
call TriggerAddAction(p2,function Ca7)
endfunction
function Ca9 takes nothing returns nothing
if IsUnitInRangeLoc(Uj,p4,400.)==true then
set i8=GetUnitLoc(Uj)
set lG=PolarProjectionBJ(i8,20.,BiF(Uj,p3)+180.)
call SetUnitPositionLoc(Uj,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call PauseTimer(en)
endif
endfunction
function CbB takes nothing returns nothing
set p7=CreateTrigger()
call TriggerRegisterTimerExpireEvent(p7,en)
call TriggerAddAction(p7,function Ca9)
endfunction
function CbC takes nothing returns nothing
if IsUnitInRangeLoc(p5,p3,100.)==true then
call DisableTrigger(GetTriggeringTrigger())
set i8=p3
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call EXSetEffectSize(bj_lastCreatedEffect,5.)
call Bjl(1.5,bj_lastCreatedEffect)
call RemoveUnit(p5)
call CreateNUnitsAtLoc(1,$68303534,GetOwningPlayer(Uj),i8,bj_UNIT_FACING)
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function CbD takes nothing returns nothing
set p6=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(p6,.01)
call TriggerAddAction(p6,function CbC)
endfunction
function CbE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(p6)
endfunction
function CbF takes nothing returns nothing
set p8=CreateTrigger()
call TriggerRegisterTimerEventSingle(p8,.01)
call TriggerAddAction(p8,function CbE)
endfunction
function CbG takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303534 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CbH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Uj,GetTriggerUnit(),2.*I2R(GetUnitAbilityLevelSwapped($41305044,Uj))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Uj,true))+200.*I2R(GetUnitAbilityLevelSwapped($41305044,Uj))+150.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call RemoveUnit(GetEventDamageSource())
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CbI takes nothing returns nothing
set p9=CreateTrigger()
call Bi3(p9)
call TriggerAddCondition(p9,Condition(function CbG))
call TriggerAddAction(p9,function CbH)
endfunction
function CbJ takes nothing returns boolean
return GetLearnedSkill()==$41303148 and GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==1 and dK!=true
endfunction
function CbK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BNN)
endfunction
function CbL takes nothing returns nothing
set BNM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNM,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNM,Condition(function CbJ))
call TriggerAddAction(BNM,function CbK)
endfunction
function CbM takes nothing returns boolean
return GetEventDamageSource()==Ui and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and dK!=true
endfunction
function CbN takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function CbO takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304B,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cg)
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetTriggerUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call ForGroupBJ(cg,function CbN)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CbP takes nothing returns nothing
set BNN=CreateTrigger()
call Bi3(BNN)
call TriggerAddCondition(BNN,Condition(function CbM))
call TriggerAddAction(BNN,function CbO)
endfunction
function CbQ takes nothing returns nothing
call DisableTrigger(BNN)
endfunction
function CbR takes nothing returns nothing
set BNP=CreateTrigger()
call TriggerAddAction(BNP,function CbQ)
endfunction
function CbS takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6830304B and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CbT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Ui,GetTriggerUnit(),I2R(GetUnitAbilityLevelSwapped($41303148,Ui))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*.05)+I2R(GetUnitAbilityLevelSwapped($41303148,Ui))*30.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CbU takes nothing returns nothing
set BNQ=CreateTrigger()
call Bi3(BNQ)
call TriggerAddCondition(BNQ,Condition(function CbS))
call TriggerAddAction(BNQ,function CbT)
endfunction
function CbV takes nothing returns boolean
return GetLearnedSkill()==$41303148 and GetUnitAbilityLevelSwapped($41303148,GetTriggerUnit())==5 and dK!=true
endfunction
function CbW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BNN)
call EnableTrigger(BNS)
endfunction
function CbX takes nothing returns nothing
set BNR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNR,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNR,Condition(function CbV))
call TriggerAddAction(BNR,function CbW)
endfunction
function CbY takes nothing returns boolean
return GetEventDamageSource()==Ui and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and dK!=true
endfunction
function CbZ takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function Cba takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$6830304E,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cg)
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetTriggerUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call ForGroupBJ(cg,function CbZ)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cbb takes nothing returns nothing
set BNS=CreateTrigger()
call Bi3(BNS)
call TriggerAddCondition(BNS,Condition(function CbY))
call TriggerAddAction(BNS,function Cba)
endfunction
function Cbc takes nothing returns nothing
call DisableTrigger(BNS)
endfunction
function Cbd takes nothing returns nothing
set BNT=CreateTrigger()
call TriggerAddAction(BNT,function Cbc)
endfunction
function Cbe takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6830304E and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cbf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Ui,GetTriggerUnit(),I2R(GetUnitAbilityLevelSwapped($41303148,Ui))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*.08)+I2R(GetUnitAbilityLevelSwapped($41303148,Ui))*60.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cbg takes nothing returns nothing
set BNU=CreateTrigger()
call Bi3(BNU)
call TriggerAddCondition(BNU,Condition(function Cbe))
call TriggerAddAction(BNU,function Cbf)
endfunction
function Cbh takes nothing returns boolean
return GetEventDamageSource()==Ui and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cbi takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),i8)
endfunction
function Cbj takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call CreateNUnitsAtLoc(1,$68303053,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cg)
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetTriggerUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Ui)
call MoveRectToLoc(MS,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(MS)
call ForGroupBJ(cg,function Cbi)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cbk takes nothing returns nothing
set BNV=CreateTrigger()
call Bi3(BNV)
call TriggerAddCondition(BNV,Condition(function Cbh))
call TriggerAddAction(BNV,function Cbj)
endfunction
function Cbl takes nothing returns nothing
call DisableTrigger(BNV)
endfunction
function Cbm takes nothing returns nothing
set BNW=CreateTrigger()
call TriggerAddAction(BNW,function Cbl)
endfunction
function Cbn takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303053 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cbo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Ui,GetTriggerUnit(),I2R(GetUnitAbilityLevelSwapped($41303148,Ui))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*.12)+I2R(GetUnitAbilityLevelSwapped($41303148,Ui))*100.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cbp takes nothing returns nothing
set BNX=CreateTrigger()
call Bi3(BNX)
call TriggerAddCondition(BNX,Condition(function Cbn))
call TriggerAddAction(BNX,function Cbo)
endfunction
function Cbq takes nothing returns boolean
return GetLearnedSkill()==$4130314D
endfunction
function Cbr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BNZ)
endfunction
function Cbs takes nothing returns nothing
set BNY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNY,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNY,Condition(function Cbq))
call TriggerAddAction(BNY,function Cbr)
endfunction
function Cbt takes nothing returns boolean
return GetEventDamageSource()==Ui and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cbu takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cbv takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),.5*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*I2R(GetUnitAbilityLevelSwapped($4130314D,Ui))+I2R(GetUnitAbilityLevelSwapped($4130314D,GetEventDamageSource()))*200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cbw takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Cbx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function Cbu))
call ForGroupBJ(fP,function Cbv)
call ForGroupBJ(fP,function Cbw)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cby takes nothing returns nothing
set BNZ=CreateTrigger()
call Bi3(BNZ)
call TriggerAddCondition(BNZ,Condition(function Cbt))
call TriggerAddAction(BNZ,function Cbx)
endfunction
function Cbz takes nothing returns nothing
call DisableTrigger(BNZ)
endfunction
function Cb0 takes nothing returns nothing
set BNa=CreateTrigger()
call TriggerAddAction(BNa,function Cbz)
endfunction
function Cb1 takes nothing returns boolean
return GetSpellAbilityId()==$4130314D and dK==true
endfunction
function Cb2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set dJ=GetUnitAbilityLevelSwapped($4130314D,GetTriggerUnit())
call UnitRemoveAbilityBJ($4130314D,GetTriggerUnit())
call UnitAddAbilityBJ($4130314D,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($4130314D,GetTriggerUnit(),dJ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cb3 takes nothing returns nothing
set BNb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BNb,Condition(function Cb1))
call TriggerAddAction(BNb,function Cb2)
endfunction
function Cb4 takes nothing returns boolean
return GetLearnedSkill()==$41303150
endfunction
function Cb5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BNd)
endfunction
function Cb6 takes nothing returns nothing
set BNc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNc,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNc,Condition(function Cb4))
call TriggerAddAction(BNc,function Cb5)
endfunction
function Cb7 takes nothing returns boolean
return GetEventDamageSource()==Ui and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cb8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cb9 takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),1.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*I2R(GetUnitAbilityLevelSwapped($41303150,Ui))+I2R(GetUnitAbilityLevelSwapped($41303150,GetEventDamageSource()))*200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CcB takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Human\\Blizzard\\BlizzardTarget.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CcC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function Cb8))
call ForGroupBJ(fP,function Cb9)
call ForGroupBJ(fP,function CcB)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CcD takes nothing returns nothing
set BNd=CreateTrigger()
call Bi3(BNd)
call TriggerAddCondition(BNd,Condition(function Cb7))
call TriggerAddAction(BNd,function CcC)
endfunction
function CcE takes nothing returns nothing
call DisableTrigger(BNd)
endfunction
function CcF takes nothing returns nothing
set BNe=CreateTrigger()
call TriggerAddAction(BNe,function CcE)
endfunction
function CcG takes nothing returns nothing
call ShowUnitHide(YX)
endfunction
function CcH takes nothing returns nothing
set BNf=CreateTrigger()
call TriggerAddAction(BNf,function CcG)
endfunction
function CcI takes nothing returns boolean
return GetSpellAbilityId()==$41304B50
endfunction
function CcJ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BNN)
call DisableTrigger(BNS)
call EnableTrigger(BNV)
set u1=UnitItemInSlotBJ(GetTriggerUnit(),1)
set u2=UnitItemInSlotBJ(GetTriggerUnit(),2)
set u3=UnitItemInSlotBJ(GetTriggerUnit(),3)
set u4=UnitItemInSlotBJ(GetTriggerUnit(),4)
set u5=UnitItemInSlotBJ(GetTriggerUnit(),5)
set u6=UnitItemInSlotBJ(GetTriggerUnit(),6)
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),1),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),2),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),3),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),4),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),5),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),6),GetUnitLoc(GetTriggerUnit()))
call SetPlayerTechResearchedSwap($52303030,1,GetOwningPlayer(GetTriggerUnit()))
call UnitRemoveAbilityBJ($41304B50,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($41304B51,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call UnitAddAbilityBJ($41304B52,GetTriggerUnit())
call UnitAddAbilityBJ($41304B55,GetTriggerUnit())
call UnitAddAbilityBJ($41304B58,GetTriggerUnit())
call UnitAddAbilityBJ($41304B57,GetTriggerUnit())
call UnitAddAbilityBJ($41304B59,GetTriggerUnit())
call UnitAddAbilityBJ($41304B5A,GetTriggerUnit())
call UnitAddAbilityBJ($41304B56,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call UnitAddItemSwapped(u1,GetTriggerUnit())
call UnitAddItemSwapped(u2,GetTriggerUnit())
call UnitAddItemSwapped(u3,GetTriggerUnit())
call UnitAddItemSwapped(u4,GetTriggerUnit())
call UnitAddItemSwapped(u5,GetTriggerUnit())
call UnitAddItemSwapped(u6,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"筱芙娜的实力有了惊人的飞跃..")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set dK=true
call UnitAddAbilityBJ($41304D50,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call EnableTrigger(BNh)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,200.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
call AddSpecialEffectLocBJ(lG,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,400.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
call AddSpecialEffectLocBJ(lG,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,600.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
call AddSpecialEffectLocBJ(lG,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CcK takes nothing returns nothing
set BNg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNg,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BNg,Condition(function CcI))
call TriggerAddAction(BNg,function CcJ)
endfunction
function CcL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and GetHeroLevel(Ui)>=75
endfunction
function CcM takes nothing returns nothing
if dK==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304B53,GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function CcN takes nothing returns nothing
set BNi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNi,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BNi,Condition(function CcL))
call TriggerAddAction(BNi,function CcM)
endfunction
function CcO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bO)==true and GetHeroLevel(Ui)>=100
endfunction
function CcP takes nothing returns nothing
if dK==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304B54,GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function CcQ takes nothing returns nothing
set BNj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNj,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(BNj,Condition(function CcO))
call TriggerAddAction(BNj,function CcP)
endfunction
function CcR takes nothing returns boolean
return dK==true and GetEventDamageSource()==Ui and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CcS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+(I2R(GetHeroInt(Ui,true))*.3+0.))
call SetUnitManaBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_MANA,GetEventDamageSource())+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*.3+0)
set i8=GetUnitLoc(GetEventDamageSource())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CcT takes nothing returns nothing
set BNk=CreateTrigger()
call Bi3(BNk)
call TriggerAddCondition(BNk,Condition(function CcR))
call TriggerAddAction(BNk,function CcS)
endfunction
function CcU takes nothing returns nothing
if dK==true and IsUnitAliveBJ(Ui)==true then
set BNl=Ui
set i8=GetUnitLoc(Ui)
set lG=PolarProjectionBJ(i8,150.,90.)
call CreateNUnitsAtLoc(1,$68303442,GetOwningPlayer(Ui),lG,90.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BNm=GetLastCreatedUnit()
set i8=GetUnitLoc(Ui)
set lG=PolarProjectionBJ(i8,150.,180.)
call CreateNUnitsAtLoc(1,$68303442,GetOwningPlayer(Ui),lG,90.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BNn=GetLastCreatedUnit()
set i8=GetUnitLoc(Ui)
set lG=PolarProjectionBJ(i8,150.,270.)
call CreateNUnitsAtLoc(1,$68303442,GetOwningPlayer(Ui),lG,90.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BNo=GetLastCreatedUnit()
set i8=GetUnitLoc(Ui)
set lG=PolarProjectionBJ(i8,150.,360.)
call CreateNUnitsAtLoc(1,$68303442,GetOwningPlayer(Ui),lG,90.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BNp=GetLastCreatedUnit()
call StartTimerBJ(dM,true,.1)
else
call DoNothing()
endif
endfunction
function CcV takes nothing returns nothing
set BNh=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BNh,5.)
call TriggerAddAction(BNh,function CcU)
endfunction
function CcW takes nothing returns nothing
call DisableTrigger(BNh)
endfunction
function CcX takes nothing returns nothing
set BNq=CreateTrigger()
call TriggerAddAction(BNq,function CcW)
endfunction
function CcY takes nothing returns nothing
set dj=dj+.1
if dj<=4.9 then
set dk=90.+100.*dj
set dl=180.+100.*dj
set dm=270.+100.*dj
set dn=360.+100.*dj
set BNs=GetUnitLoc(Ui)
set BNt=PolarProjectionBJ(BNs,150.,dk)
call SetUnitPositionLocFacingBJ(BNm,BNt,dj)
call RemoveLocation(BNs)
call RemoveLocation(BNt)
set BNs=GetUnitLoc(Ui)
set BNt=PolarProjectionBJ(BNs,150.,dl)
call SetUnitPositionLocFacingBJ(BNn,BNt,dj)
call RemoveLocation(BNs)
call RemoveLocation(BNt)
set BNs=GetUnitLoc(Ui)
set BNt=PolarProjectionBJ(BNs,150.,dm)
call SetUnitPositionLocFacingBJ(BNo,BNt,dj)
call RemoveLocation(BNs)
call RemoveLocation(BNt)
set BNs=GetUnitLoc(Ui)
set BNt=PolarProjectionBJ(BNs,150.,dn)
call SetUnitPositionLocFacingBJ(BNp,BNt,dj)
call RemoveLocation(BNs)
call RemoveLocation(BNt)
else
call PauseTimer(dM)
set dj=0.
call RemoveUnit(BNm)
call RemoveUnit(BNn)
call RemoveUnit(BNo)
call RemoveUnit(BNp)
endif
endfunction
function CcZ takes nothing returns nothing
set BNr=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BNr,dM)
call TriggerAddAction(BNr,function CcY)
endfunction
function Cca takes nothing returns boolean
return dK==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and GetEventDamageSource()==BNm or GetEventDamageSource()==BNn or GetEventDamageSource()==BNo or GetEventDamageSource()==BNp
endfunction
function Ccb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),1.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))*.1,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Ccc takes nothing returns nothing
set BNu=CreateTrigger()
call Bi3(BNu)
call TriggerAddCondition(BNu,Condition(function Cca))
call TriggerAddAction(BNu,function Ccb)
endfunction
function Ccd takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsHeroUnitId(GetUnitTypeId(GetFilterUnit()))==true and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(Ui))==true
endfunction
function Cce takes nothing returns nothing
if GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())<GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit()) and GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit())>0. then
call SetUnitManaBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())+I2R(GetHeroLevel(Ui))*3.+10.)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
endfunction
function Ccf takes nothing returns nothing
set i8=GetUnitLoc(Ui)
set fQ=Biq(600.,i8,Condition(function Ccd))
call ForGroupBJ(fQ,function Cce)
call DestroyGroup(fQ)
call RemoveLocation(i8)
endfunction
function Ccg takes nothing returns nothing
set pl=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(pl,3.)
call TriggerAddAction(pl,function Ccf)
endfunction
function Cch takes nothing returns boolean
return GetSpellAbilityId()==$41305042
endfunction
function Cci takes nothing returns nothing
if dK==true then
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6E303533,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNw=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(30.,$42487765,BNw)
call SetUnitState(BNw,UNIT_STATE_MAX_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*350.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*2.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,UNIT_STATE_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*350.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*2.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,ConvertUnitState(18),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*30.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*.1)+GetUnitStateSwap(ConvertUnitState(18),BNw)+0)
call SetUnitState(BNw,ConvertUnitState(32),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*5.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*0.)+GetUnitStateSwap(ConvertUnitState(32),BNw)+0)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6E303533,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNw=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(30.,$42487765,BNw)
call SetUnitState(BNw,UNIT_STATE_MAX_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*350.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*2.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,UNIT_STATE_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*350.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*2.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,ConvertUnitState(18),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*30.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*.1)+GetUnitStateSwap(ConvertUnitState(18),BNw)+0)
call SetUnitState(BNw,ConvertUnitState(32),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*5.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*0.)+GetUnitStateSwap(ConvertUnitState(32),BNw)+0)
else
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6E303532,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNw=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(30.,$42487765,BNw)
call SetUnitState(BNw,UNIT_STATE_MAX_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*175.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*1.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,UNIT_STATE_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*175.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*1.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,ConvertUnitState(18),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*15.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*.05)+GetUnitStateSwap(ConvertUnitState(18),BNw)+0)
call SetUnitState(BNw,ConvertUnitState(32),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*2.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*0.)+GetUnitStateSwap(ConvertUnitState(32),BNw)+0)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6E303532,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BNw=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(30.,$42487765,BNw)
call SetUnitState(BNw,UNIT_STATE_MAX_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*175.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*1.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,UNIT_STATE_LIFE,I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*175.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*1.)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNw)+0)
call SetUnitState(BNw,ConvertUnitState(18),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*15.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*.05)+GetUnitStateSwap(ConvertUnitState(18),BNw)+0)
call SetUnitState(BNw,ConvertUnitState(32),I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*2.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped($41305042,GetTriggerUnit()))*0.)+GetUnitStateSwap(ConvertUnitState(32),BNw)+0)
endif
endfunction
function Ccj takes nothing returns nothing
set BNv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNv,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BNv,Condition(function Cch))
call TriggerAddAction(BNv,function Cci)
endfunction
function Cck takes nothing returns boolean
return GetLearnedSkill()==$41303235
endfunction
function Ccl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BNy)
endfunction
function Ccm takes nothing returns nothing
set BNx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNx,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BNx,Condition(function Cck))
call TriggerAddAction(BNx,function Ccl)
endfunction
function Ccn takes nothing returns boolean
return GetEventDamageSource()==Ug and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cco takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Ccp takes nothing returns nothing
set lG=GetUnitLoc(GetEventDamageSource())
call MoveRectToLoc(ML,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(ML)
call CreateNUnitsAtLoc(1,$6830334A,GetOwningPlayer(GetEventDamageSource()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BNz=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"flamingarrows")
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetEnumUnit())
endfunction
function Ccq takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Ccr takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41303235,GetEventDamageSource()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))/2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Ccs takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(500.,i8,Condition(function Cco))
call ForGroupBJ(fP,function Ccp)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.65)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(500.,i8,Condition(function Ccq))
call ForGroupBJ(fP,function Ccr)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cct takes nothing returns nothing
set BNy=CreateTrigger()
call Bi3(BNy)
call TriggerAddCondition(BNy,Condition(function Ccn))
call TriggerAddAction(BNy,function Ccs)
endfunction
function Ccu takes nothing returns nothing
call DisableTrigger(BNy)
endfunction
function Ccv takes nothing returns nothing
set BN0=CreateTrigger()
call TriggerAddAction(BN0,function Ccu)
endfunction
function Ccw takes nothing returns boolean
return GetSpellAbilityId()==$41303234
endfunction
function Ccx takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,256,90.)
call CreateNUnitsAtLoc(1,$6E303431,GetOwningPlayer(GetTriggerUnit()),lG,90.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BN2=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,256,210.)
call CreateNUnitsAtLoc(1,$6E303431,GetOwningPlayer(GetTriggerUnit()),lG,210.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BN3=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,256,315.)
call CreateNUnitsAtLoc(1,$6E303431,GetOwningPlayer(GetTriggerUnit()),lG,315.)
call RemoveLocation(i8)
call RemoveLocation(lG)
set BN4=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(15.,$42487765,GetLastCreatedUnit())
call StartTimerBJ(dQ,true,.1)
endfunction
function Ccy takes nothing returns nothing
set BN1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BN1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BN1,Condition(function Ccw))
call TriggerAddAction(BN1,function Ccx)
endfunction
function Ccz takes nothing returns boolean
return GetSpellAbilityId()==$41303234
endfunction
function Cc0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($41304C4D,GetTriggerUnit())
call UnitAddAbilityBJ($41304C4C,GetTriggerUnit())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41304C4D,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304C4C,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cc1 takes nothing returns nothing
set BN5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BN5,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BN5,Condition(function Ccz))
call TriggerAddAction(BN5,function Cc0)
endfunction
function Cc2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ug))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cc3 takes nothing returns nothing
call UnitDamageTargetBJ(Ug,GetEnumUnit(),10.*I2R(GetUnitAbilityLevelSwapped($41303234,Ug))+.1*I2R(GetUnitAbilityLevelSwapped($41303234,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cc4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ug))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cc5 takes nothing returns nothing
call UnitDamageTargetBJ(Ug,GetEnumUnit(),10.*I2R(GetUnitAbilityLevelSwapped($41303234,Ug))+.1*I2R(GetUnitAbilityLevelSwapped($41303234,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cc6 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Ug))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cc7 takes nothing returns nothing
call UnitDamageTargetBJ(Ug,GetEnumUnit(),10.*I2R(GetUnitAbilityLevelSwapped($41303234,Ug))+.1*I2R(GetUnitAbilityLevelSwapped($41303234,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cc8 takes nothing returns nothing
set dR=dR+.1
if dR<=15. then
set dS=90.+100.*dR
set dT=210.+100.*dR
set dU=315.+100.*dR
set i8=GetUnitLoc(Ug)
set lG=PolarProjectionBJ(i8,325.,dS)
call SetUnitPositionLocFacingBJ(BN2,lG,dS)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(Ug)
set lG=PolarProjectionBJ(i8,325.,dT)
call SetUnitPositionLocFacingBJ(BN3,lG,dT)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(Ug)
set lG=PolarProjectionBJ(i8,325.,dU)
call SetUnitPositionLocFacingBJ(BN4,lG,dU)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(BN2)
set fP=Biq(450.,i8,Condition(function Cc2))
call ForGroupBJ(fP,function Cc3)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(BN3)
set fP=Biq(450.,i8,Condition(function Cc4))
call ForGroupBJ(fP,function Cc5)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(BN4)
set fP=Biq(450.,i8,Condition(function Cc6))
call ForGroupBJ(fP,function Cc7)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call PauseTimer(dQ)
set dR=0.
endif
endfunction
function Cc9 takes nothing returns nothing
set BN6=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BN6,dQ)
call TriggerAddAction(BN6,function Cc8)
endfunction
function CdB takes nothing returns nothing
if dR<=3. then
call SetUnitFlyHeight(BN2,dR*300.,0.)
call SetUnitFlyHeight(BN3,dR*300.,0.)
call SetUnitFlyHeight(BN4,dR*300.,0.)
else
if dR<=6. then
call SetUnitFlyHeight(BN2,(6.-dR)*300.,0.)
call SetUnitFlyHeight(BN3,(6.-dR)*300.,0.)
call SetUnitFlyHeight(BN4,(6.-dR)*300.,0.)
else
if dR<=9. then
call SetUnitFlyHeight(BN2,(dR-6.)*300.,0.)
call SetUnitFlyHeight(BN3,(dR-6.)*300.,0.)
call SetUnitFlyHeight(BN4,(dR-6.)*300.,0.)
else
if dR<=12. then
call SetUnitFlyHeight(BN2,(12.-dR)*300.,0.)
call SetUnitFlyHeight(BN3,(12.-dR)*300.,0.)
call SetUnitFlyHeight(BN4,(12.-dR)*300.,0.)
else
if dR<=15. then
call SetUnitFlyHeight(BN2,(dR-12.)*300.,0.)
call SetUnitFlyHeight(BN3,(dR-12.)*300.,0.)
call SetUnitFlyHeight(BN4,(dR-12.)*300.,0.)
else
endif
endif
endif
endif
endif
endfunction
function CdC takes nothing returns nothing
set BN7=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BN7,dQ)
call TriggerAddAction(BN7,function CdB)
endfunction
function CdD takes nothing returns boolean
return GetLearnedSkill()==$41303234
endfunction
function CdE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BN9)
endfunction
function CdF takes nothing returns nothing
set BN8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BN8,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BN8,Condition(function CdD))
call TriggerAddAction(BN8,function CdE)
endfunction
function CdG takes nothing returns boolean
return GetEventDamageSource()==Ug and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CdH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$6E303336,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BOB=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(5.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetTriggerUnit())
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CdI takes nothing returns nothing
set BN9=CreateTrigger()
call Bi3(BN9)
call TriggerAddCondition(BN9,Condition(function CdG))
call TriggerAddAction(BN9,function CdH)
endfunction
function CdJ takes nothing returns nothing
call DisableTrigger(BN9)
endfunction
function CdK takes nothing returns nothing
set BOC=CreateTrigger()
call TriggerAddAction(BOC,function CdJ)
endfunction
function CdL takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==$6E303336
endfunction
function CdM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(Ug))==true then
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitDamageTargetBJ(Ug,GetAttackedUnitBJ(),I2R(GetUnitAbilityLevelSwapped($41303234,Ug))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Ug,true))*.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CdN takes nothing returns nothing
set BOD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOD,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BOD,Condition(function CdL))
call TriggerAddAction(BOD,function CdM)
endfunction
function CdO takes nothing returns boolean
return GetLearnedSkill()==$41303238
endfunction
function CdP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BOF)
endfunction
function CdQ takes nothing returns nothing
set BOE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOE,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BOE,Condition(function CdO))
call TriggerAddAction(BOE,function CdP)
endfunction
function CdR takes nothing returns boolean
return GetAttacker()==Ug
endfunction
function CdS takes nothing returns nothing
if GetRandomInt(1,100)<=5 and IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(Ug))==true then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),I2R(GetUnitAbilityLevelSwapped($41303238,GetAttacker()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set pN=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(pN,"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call RemoveLocation(pN)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
endfunction
function CdT takes nothing returns nothing
set BOF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOF,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BOF,Condition(function CdR))
call TriggerAddAction(BOF,function CdS)
endfunction
function CdU takes nothing returns nothing
call DisableTrigger(BOF)
endfunction
function CdV takes nothing returns nothing
set BOG=CreateTrigger()
call TriggerAddAction(BOG,function CdU)
endfunction
function CdW takes nothing returns boolean
return GetSpellAbilityId()==$41304C46
endfunction
function CdX takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CdY takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(GetUnitAbilityLevelSwapped($41304C46,GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*2.)+300.*I2R(GetUnitAbilityLevelSwapped($41304C46,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CdZ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set dV=dV+1
set i8=GetSpellTargetLoc()
call MoveRectToLoc(O7,i8)
call RemoveLocation(i8)
call EnableTrigger(BOI)
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BOI)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(500.,i8,Condition(function CdX))
call ForGroupBJ(fP,function CdY)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cda takes nothing returns nothing
set BOH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOH,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BOH,Condition(function CdW))
call TriggerAddAction(BOH,function CdZ)
endfunction
function Cdb takes nothing returns boolean
return dV==2 and GetSpellAbilityId()==$41304C46
endfunction
function Cdc takes nothing returns nothing
set dV=0
set dW=GetUnitAbilityLevelSwapped($41304C46,GetTriggerUnit())
call UnitRemoveAbilityBJ($41304C46,GetTriggerUnit())
call UnitAddAbilityBJ($41304C46,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41304C46,GetTriggerUnit(),dW)
endfunction
function Cdd takes nothing returns nothing
set BOJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BOJ,Condition(function Cdb))
call TriggerAddAction(BOJ,function Cdc)
endfunction
function Cde takes nothing returns nothing
if RectContainsUnit(O7,Ug)==false then
set i8=GetUnitLoc(Ug)
set lG=GetRectCenter(O7)
set qH=PolarProjectionBJ(i8,50.,AngleBetweenPoints(i8,lG))
call SetUnitPositionLoc(Ug,qH)
call RemoveLocation(i8)
call RemoveLocation(lG)
call RemoveLocation(qH)
else
call DoNothing()
endif
endfunction
function Cdf takes nothing returns nothing
set BOI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BOI,.01)
call TriggerAddAction(BOI,function Cde)
endfunction
function Cdg takes nothing returns nothing
call DisableTrigger(BOI)
set dV=1
endfunction
function Cdh takes nothing returns nothing
set BOK=CreateTrigger()
call TriggerAddAction(BOK,function Cdg)
endfunction
function Cdi takes nothing returns boolean
return GetLearnedSkill()==$41303242 and GetUnitAbilityLevelSwapped($41303242,GetTriggerUnit())==5
endfunction
function Cdj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BOM)
endfunction
function Cdk takes nothing returns nothing
set BOL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOL,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BOL,Condition(function Cdi))
call TriggerAddAction(BOL,function Cdj)
endfunction
function Cdl takes nothing returns boolean
return GetEventDamageSource()==Uf and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cdm takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cdn takes nothing returns nothing
set lG=GetUnitLoc(GetEventDamageSource())
call MoveRectToLoc(Ic,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(Ic)
call CreateNUnitsAtLoc(1,$68303131,GetOwningPlayer(GetEventDamageSource()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BMZ=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetEnumUnit())
endfunction
function Cdo takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cdp takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))*I2R(GetUnitAbilityLevelSwapped($41303239,GetEventDamageSource()))*.5+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*I2R(GetUnitAbilityLevelSwapped($41303239,GetEventDamageSource()))*.8+150.*I2R(GetUnitAbilityLevelSwapped($41303239,GetEventDamageSource())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cdq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=15 then
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(500.,i8,Condition(function Cdm))
call ForGroupBJ(fP,function Cdn)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetEventDamageSource())
set fP=Biq(500.,i8,Condition(function Cdo))
call ForGroupBJ(fP,function Cdp)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cdr takes nothing returns nothing
set BOM=CreateTrigger()
call Bi3(BOM)
call TriggerAddCondition(BOM,Condition(function Cdl))
call TriggerAddAction(BOM,function Cdq)
endfunction
function Cds takes nothing returns nothing
call DisableTrigger(BOM)
endfunction
function Cdt takes nothing returns nothing
set BON=CreateTrigger()
call TriggerAddAction(BON,function Cds)
endfunction
function Cdu takes nothing returns boolean
return GetLearnedSkill()==$41303243 and GetTriggerUnit()==Uf
endfunction
function Cdv takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2.
endfunction
function Cdw takes nothing returns nothing
set rs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rs,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(rs,Condition(function Cdu))
call TriggerAddAction(rs,function Cdv)
endfunction
function Cdx takes nothing returns boolean
return GetSpellAbilityId()==$41305049
endfunction
function Cdy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set qC=GetSpellTargetLoc()
set qD=GetUnitLoc(GetTriggerUnit())
set qE=qD
call StopSoundBJ(T,false)
call PlaySoundOnUnitBJ(T,100,GetTriggerUnit())
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call EnableTrigger(qF)
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(qF)
call RemoveLocation(qE)
call RemoveLocation(qC)
call RemoveLocation(qD)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cdz takes nothing returns nothing
set qB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qB,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qB,Condition(function Cdx))
call TriggerAddAction(qB,function Cdy)
endfunction
function Cd0 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and (IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true and IsUnitInGroup(GetFilterUnit(),eq)==false)
endfunction
function Cd1 takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),100.*I2R(GetUnitAbilityLevelSwapped($41305049,ZI))+.5*(I2R(GetUnitAbilityLevelSwapped($41305049,ZI))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true)))+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call GroupAddUnitSimple(GetEnumUnit(),eq)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function Cd2 takes nothing returns nothing
if IsUnitInRangeLoc(ZI,qC,50.)==true or IsUnitInRangeLoc(ZI,qE,1000.)==false then
call DisableTrigger(GetTriggeringTrigger())
call GroupClear(eq)
else
set lG=GetUnitLoc(ZI)
set i8=PolarProjectionBJ(lG,50.,BiF(ZI,qC))
call SetUnitPositionLoc(ZI,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
call SetUnitAnimation(ZI,"slam")
set lG=GetUnitLoc(ZI)
call CreateNUnitsAtLoc(1,$68303536,GetOwningPlayer(ZI),lG,AngleBetweenPoints(GetUnitLoc(ZI),qC))
call RemoveLocation(lG)
call Bjf(.1,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"slam")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set lG=GetUnitLoc(ZI)
set fP=Biq(200.,lG,Condition(function Cd0))
call ForGroupBJ(fP,function Cd1)
call DestroyGroup(fP)
call RemoveLocation(lG)
endif
endfunction
function Cd3 takes nothing returns nothing
set qF=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(qF,.01)
call TriggerAddAction(qF,function Cd2)
endfunction
function Cd4 takes nothing returns nothing
call DisableTrigger(qF)
call DisableTrigger(qJ)
call DisableTrigger(qK)
call DisableTrigger(qR)
call DisableTrigger(qZ)
call DisableTrigger(qa)
set fG=0.
endfunction
function Cd5 takes nothing returns nothing
set BOO=CreateTrigger()
call TriggerAddAction(BOO,function Cd4)
endfunction
function Cd6 takes nothing returns boolean
return GetSpellAbilityId()==$4130504A
endfunction
function Cd7 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Cd8 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Cd9 takes nothing returns boolean
return IsUnitIllusionBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),es)==false
endfunction
function CeB takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),er)
endfunction
function CeC takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),lG)
endfunction
function CeD takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(lG)
endfunction
function CeE takes nothing returns boolean
return IsUnitIllusionBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),er)==false
endfunction
function CeF takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),es)
endfunction
function CeG takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),lG)
endfunction
function CeH takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(lG)
endfunction
function CeI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set eu=GetUnitAbilityLevelSwapped($4130504A,GetTriggerUnit())
call ForGroupBJ(er,function Cd7)
call ForGroupBJ(es,function Cd8)
call GroupClear(er)
call GroupClear(es)
call SetPlayerAbilityAvailableBJ(false,$4130504A,GetOwningPlayer(GetTriggerUnit()))
call UnitRemoveAbilityBJ($4130504A,GetTriggerUnit())
call UnitAddAbilityBJ($4130504B,GetTriggerUnit())
call ShowUnit(GetTriggerUnit(),false)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnit(GetTriggerUnit(),true)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303537,GetOwningPlayer(GetTriggerUnit()),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call SetUnitAbilityLevelSwapped($4130504C,GetLastCreatedUnit(),eu)
call ShowUnit(bj_lastCreatedUnit,false)
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(2,GetLastCreatedUnit())
call IssueTargetOrderById(GetLastCreatedUnit(),852274,GetTriggerUnit())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set fP=Bis(GetOwningPlayer(GetTriggerUnit()),Condition(function Cd9))
call ForGroupBJ(fP,function CeB)
call DestroyGroup(fP)
set qH=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(qH,125.,60.)
call ForGroupBJ(er,function CeC)
call RemoveLocation(lG)
call RemoveLocation(qH)
call ForGroupBJ(er,function CeD)
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303537,GetOwningPlayer(GetTriggerUnit()),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
call RemoveLocation(i8)
call SetUnitAbilityLevelSwapped($4130504C,GetLastCreatedUnit(),eu)
call ShowUnit(bj_lastCreatedUnit,false)
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(2,GetLastCreatedUnit())
call IssueTargetOrderById(GetLastCreatedUnit(),852274,GetTriggerUnit())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set fP=Bis(GetOwningPlayer(GetTriggerUnit()),Condition(function CeE))
call ForGroupBJ(fP,function CeF)
call DestroyGroup(fP)
set qH=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(qH,125.,-60.)
call ForGroupBJ(es,function CeG)
call RemoveLocation(lG)
call RemoveLocation(qH)
call ForGroupBJ(es,function CeH)
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($4130504B,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$4130504A,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($4130504A,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($4130504A,GetTriggerUnit(),eu)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CeJ takes nothing returns nothing
set qG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qG,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qG,Condition(function Cd6))
call TriggerAddAction(qG,function CeI)
endfunction
function CeK takes nothing returns boolean
return GetSpellAbilityId()==$4130504B
endfunction
function CeL takes nothing returns nothing
call PlaySoundOnUnitBJ(S,100,GetTriggerUnit())
call EnableTrigger(qJ)
call EnableTrigger(qK)
endfunction
function CeM takes nothing returns nothing
set qI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qI,Condition(function CeK))
call TriggerAddAction(qI,function CeL)
endfunction
function CeN takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and (IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true and IsUnitInGroup(GetFilterUnit(),et)==false)
endfunction
function CeO takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),(100.*I2R(GetUnitAbilityLevelSwapped($41305049,ZI))+.5*I2R(GetUnitAbilityLevelSwapped($41305049,ZI))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true)))*(.3+.03*I2R(eu))+0+0.+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call GroupAddUnitSimple(GetEnumUnit(),et)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CeP takes nothing returns nothing
if IsUnitInRangeLoc(FirstOfGroup(er),GetUnitLoc(ZI),50.)==true or IsUnitAliveBJ(FirstOfGroup(er))==false or IsUnitInRangeLoc(FirstOfGroup(er),GetUnitLoc(ZI),3000.)==false then
call DisableTrigger(GetTriggeringTrigger())
call GroupClear(et)
call SetUnitPathing(FirstOfGroup(er),true)
else
call SetUnitPathing(FirstOfGroup(er),false)
set qH=GetUnitLoc(FirstOfGroup(er))
set i8=PolarProjectionBJ(qH,50.,BiH(FirstOfGroup(er),ZI))
call SetUnitPositionLoc(FirstOfGroup(er),i8)
call RemoveLocation(i8)
call RemoveLocation(qH)
call SetUnitAnimation(FirstOfGroup(er),"slam")
set i8=GetUnitLoc(FirstOfGroup(er))
call CreateNUnitsAtLoc(1,$68303536,GetOwningPlayer(ZI),i8,AngleBetweenPoints(GetUnitLoc(FirstOfGroup(er)),GetUnitLoc(ZI)))
call RemoveLocation(i8)
call Bjf(.1,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"slam")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set lG=GetUnitLoc(FirstOfGroup(er))
set fP=Biq(200.,lG,Condition(function CeN))
call ForGroupBJ(fP,function CeO)
call DestroyGroup(fP)
call RemoveLocation(lG)
endif
endfunction
function CeQ takes nothing returns nothing
set qJ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(qJ,.01)
call TriggerAddAction(qJ,function CeP)
endfunction
function CeR takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and (IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true and IsUnitInGroup(GetFilterUnit(),ev)==false)
endfunction
function CeS takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),(100.*I2R(GetUnitAbilityLevelSwapped($41305049,ZI))+.5*I2R(GetUnitAbilityLevelSwapped($41305049,ZI))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true)))*(.3+.03*I2R(eu))+0+0.+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call GroupAddUnitSimple(GetEnumUnit(),ev)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CeT takes nothing returns nothing
if IsUnitInRangeLoc(FirstOfGroup(es),GetUnitLoc(ZI),50.)==true or IsUnitAliveBJ(FirstOfGroup(es))==false or IsUnitInRangeLoc(FirstOfGroup(es),GetUnitLoc(ZI),3000.)==false then
call DisableTrigger(GetTriggeringTrigger())
call GroupClear(ev)
call SetUnitPathing(FirstOfGroup(es),true)
else
call SetUnitPathing(FirstOfGroup(es),false)
set qL=GetUnitLoc(FirstOfGroup(es))
set qM=PolarProjectionBJ(qL,50.,BiH(FirstOfGroup(es),ZI))
call SetUnitPositionLoc(FirstOfGroup(es),qM)
call RemoveLocation(qM)
call RemoveLocation(qL)
call SetUnitAnimation(FirstOfGroup(es),"slam")
set qM=GetUnitLoc(FirstOfGroup(es))
call CreateNUnitsAtLoc(1,$68303536,GetOwningPlayer(ZI),qM,AngleBetweenPoints(GetUnitLoc(FirstOfGroup(es)),GetUnitLoc(ZI)))
call RemoveLocation(qM)
call Bjf(.1,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"slam")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set qM=GetUnitLoc(FirstOfGroup(es))
set fQ=Biq(200.,qM,Condition(function CeR))
call ForGroupBJ(fQ,function CeS)
call DestroyGroup(fQ)
call RemoveLocation(qM)
endif
endfunction
function CeU takes nothing returns nothing
set qK=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(qK,.01)
call TriggerAddAction(qK,function CeT)
endfunction
function CeV takes nothing returns boolean
return GetSpellAbilityId()==$4130504D
endfunction
function CeW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlaySoundOnUnitBJ(U,100,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303538,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set qO=GetLastCreatedUnit()
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
call Bjf(1.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"whirlwind")
if IsUnitAliveBJ(FirstOfGroup(er))==true then
set i8=GetUnitLoc(FirstOfGroup(er))
call CreateNUnitsAtLoc(1,$68303538,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set qP=GetLastCreatedUnit()
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
call Bjf(1.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"whirlwind")
else
call DoNothing()
endif
if IsUnitAliveBJ(FirstOfGroup(es))==true then
set i8=GetUnitLoc(FirstOfGroup(es))
call CreateNUnitsAtLoc(1,$68303538,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set qQ=GetLastCreatedUnit()
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
call Bjf(1.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"whirlwind")
else
call DoNothing()
endif
call EnableTrigger(qR)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(qR)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CeX takes nothing returns nothing
set qN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qN,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qN,Condition(function CeV))
call TriggerAddAction(qN,function CeW)
endfunction
function CeY takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true
endfunction
function CeZ takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),.5*.1*(GetUnitStateSwap(ConvertUnitState(18),ZI)+GetUnitStateSwap(ConvertUnitState(19),ZI))+0+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+50.+0.+0.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cea takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true
endfunction
function Ceb takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),(.5*.1*(GetUnitStateSwap(ConvertUnitState(18),ZI)+GetUnitStateSwap(ConvertUnitState(19),ZI))+0+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+50.)*(.3+.03*I2R(eu))+0.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cec takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true
endfunction
function Ced takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),(.5*.1*(GetUnitStateSwap(ConvertUnitState(18),ZI)+GetUnitStateSwap(ConvertUnitState(19),ZI))+0+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+50.)*(.3+.03*I2R(eu))+0.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cee takes nothing returns nothing
set qL=GetUnitLoc(ZI)
call SetUnitPositionLoc(qO,qL)
call RemoveLocation(qL)
set pV=GetUnitLoc(qO)
set fR=Biq(275.,pV,Condition(function CeY))
call ForGroupBJ(fR,function CeZ)
call DestroyGroup(fR)
call RemoveLocation(pV)
if IsUnitAliveBJ(FirstOfGroup(er))==true then
set qS=GetUnitLoc(FirstOfGroup(er))
call SetUnitPositionLoc(qP,qS)
call RemoveLocation(qS)
set qS=GetUnitLoc(qP)
set fS=Biq(275.,qS,Condition(function Cea))
call ForGroupBJ(fS,function Ceb)
call DestroyGroup(fS)
call RemoveLocation(qS)
else
call DoNothing()
endif
if IsUnitAliveBJ(FirstOfGroup(es))==true then
set qT=GetUnitLoc(FirstOfGroup(es))
call SetUnitPositionLoc(qQ,qT)
call RemoveLocation(qT)
set qT=GetUnitLoc(qQ)
set fT=Biq(275.,qT,Condition(function Cec))
call ForGroupBJ(fT,function Ced)
call DestroyGroup(fT)
call RemoveLocation(qT)
else
call DoNothing()
endif
endfunction
function Cef takes nothing returns nothing
set qR=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(qR,.5)
call TriggerAddAction(qR,function Cee)
endfunction
function Ceg takes nothing returns boolean
return GetUnitAbilityLevelSwapped($4130504F,GetEventDamageSource())>=1 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Ceh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetEventDamageSource()==ZI then
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),35.*I2R(GetUnitAbilityLevelSwapped($4130504F,GetEventDamageSource()))+.3*I2R(GetUnitAbilityLevelSwapped($4130504F,GetEventDamageSource()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+0+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call RemoveLocation(i8)
call EXSetEffectSize(bj_lastCreatedEffect,1.5)
call Bjl(.5,bj_lastCreatedEffect)
else
if GetEventDamageSource()==FirstOfGroup(er) or GetEventDamageSource()==FirstOfGroup(es) then
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),(35.*I2R(GetUnitAbilityLevelSwapped($4130504F,GetEventDamageSource()))+.3*I2R(GetUnitAbilityLevelSwapped($4130504F,GetEventDamageSource()))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+0)*(.3+.03*I2R(eu))+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call RemoveLocation(i8)
call EXSetEffectSize(bj_lastCreatedEffect,1.5)
call Bjl(.5,bj_lastCreatedEffect)
else
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cei takes nothing returns nothing
set qU=CreateTrigger()
call Bi3(qU)
call TriggerAddCondition(qU,Condition(function Ceg))
call TriggerAddAction(qU,function Ceh)
endfunction
function Cej takes nothing returns boolean
return GetLearnedSkill()==$4130504F and GetTriggerUnit()==ZI
endfunction
function Cek takes nothing returns nothing
set f9=f9+1.
if f9>=11. then
call DisableTrigger(GetTriggeringTrigger())
else
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endif
endfunction
function Cel takes nothing returns nothing
set rj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rj,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(rj,Condition(function Cej))
call TriggerAddAction(rj,function Cek)
endfunction
function Cem takes nothing returns boolean
return GetLearnedSkill()==$4130504F and GetTriggerUnit()==ZI
endfunction
function Cen takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
endfunction
function Ceo takes nothing returns nothing
set rk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rk,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(rk,Condition(function Cem))
call TriggerAddAction(rk,function Cen)
endfunction
function Cep takes nothing returns boolean
return GetSpellAbilityId()==$41305050
endfunction
function Ceq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ew=true
call PlaySoundOnUnitBJ(R,100,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303539,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set qW=GetLastCreatedUnit()
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,50)
call Bjf(7.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"whirlwind")
if IsUnitAliveBJ(FirstOfGroup(er))==true then
set i8=GetUnitLoc(FirstOfGroup(er))
call CreateNUnitsAtLoc(1,$68303539,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set qX=GetLastCreatedUnit()
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,50)
call Bjf(7.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"whirlwind")
else
call DoNothing()
endif
if IsUnitAliveBJ(FirstOfGroup(es))==true then
set i8=GetUnitLoc(FirstOfGroup(es))
call CreateNUnitsAtLoc(1,$68303539,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set qY=GetLastCreatedUnit()
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,50)
call Bjf(7.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"whirlwind")
else
call DoNothing()
endif
call EnableTrigger(qZ)
call EnableTrigger(qa)
call Biy(7.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ew=false
call DisableTrigger(qZ)
call DisableTrigger(qa)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cer takes nothing returns nothing
set qV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qV,Condition(function Cep))
call TriggerAddAction(qV,function Ceq)
endfunction
function Ces takes nothing returns boolean
return ew==true
endfunction
function Cet takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true
endfunction
function Ceu takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),.5*(GetUnitStateSwap(ConvertUnitState(18),ZI)+GetUnitStateSwap(ConvertUnitState(19),ZI))+0+2.5*I2R(GetUnitAbilityLevelSwapped($41305050,ZI))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+250.*I2R(GetUnitAbilityLevelSwapped($41305050,ZI))+0.+0.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cev takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true
endfunction
function Cew takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),(.5*(GetUnitStateSwap(ConvertUnitState(18),ZI)+GetUnitStateSwap(ConvertUnitState(19),ZI))+0+2.5*I2R(GetUnitAbilityLevelSwapped($41305050,ZI))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+250.*I2R(GetUnitAbilityLevelSwapped($41305050,ZI)))*(.3+.03*I2R(eu))+0.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cex takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZI))==true
endfunction
function Cey takes nothing returns nothing
call UnitDamageTargetBJ(ZI,GetEnumUnit(),(.5*(GetUnitStateSwap(ConvertUnitState(18),ZI)+GetUnitStateSwap(ConvertUnitState(19),ZI))+0+2.5*I2R(GetUnitAbilityLevelSwapped($41305050,ZI))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,ZI,true))+250.*I2R(GetUnitAbilityLevelSwapped($41305050,ZI)))*(.3+.03*I2R(eu))+0.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cez takes nothing returns nothing
set qb=GetUnitLoc(ZI)
call SetUnitPositionLoc(qW,qb)
call RemoveLocation(qb)
set qb=GetUnitLoc(qW)
set fU=Biq(800.,qb,Condition(function Cet))
call ForGroupBJ(fU,function Ceu)
call DestroyGroup(fU)
call RemoveLocation(qb)
if IsUnitAliveBJ(FirstOfGroup(er))==true then
set qb=GetUnitLoc(FirstOfGroup(er))
call SetUnitPositionLoc(qX,qb)
call RemoveLocation(qb)
set qb=GetUnitLoc(qX)
set fU=Biq(800.,qb,Condition(function Cev))
call ForGroupBJ(fU,function Cew)
call DestroyGroup(fU)
call RemoveLocation(qb)
else
call DoNothing()
endif
if IsUnitAliveBJ(FirstOfGroup(es))==true then
set qb=GetUnitLoc(FirstOfGroup(es))
call SetUnitPositionLoc(qY,qb)
call RemoveLocation(qb)
set qb=GetUnitLoc(qY)
set fU=Biq(800.,qb,Condition(function Cex))
call ForGroupBJ(fU,function Cey)
call DestroyGroup(fU)
call RemoveLocation(qb)
else
call DoNothing()
endif
endfunction
function Ce0 takes nothing returns nothing
set qZ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(qZ,.5)
call TriggerAddCondition(qZ,Condition(function Ces))
call TriggerAddAction(qZ,function Cez)
endfunction
function Ce1 takes nothing returns boolean
return ew==true
endfunction
function Ce2 takes nothing returns nothing
set i8=GetUnitLoc(ZI)
call MoveRectToLoc(R2,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(R2)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
call RemoveLocation(i8)
call Bjl(.5,bj_lastCreatedEffect)
if IsUnitAliveBJ(FirstOfGroup(er))==true then
set i8=GetUnitLoc(FirstOfGroup(er))
call MoveRectToLoc(R3,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(R3)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
call RemoveLocation(i8)
call Bjl(.5,bj_lastCreatedEffect)
else
call DoNothing()
endif
if IsUnitAliveBJ(FirstOfGroup(es))==true then
set i8=GetUnitLoc(FirstOfGroup(es))
call MoveRectToLoc(R4,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(R4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
call RemoveLocation(i8)
call Bjl(.5,bj_lastCreatedEffect)
else
call DoNothing()
endif
endfunction
function Ce3 takes nothing returns nothing
set qa=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(qa,.05)
call TriggerAddCondition(qa,Condition(function Ce1))
call TriggerAddAction(qa,function Ce2)
endfunction
function Ce4 takes nothing returns boolean
return GetLearnedSkill()==$41305050 and GetTriggerUnit()==ZI
endfunction
function Ce5 takes nothing returns nothing
set fG=fG+1.
if fG>=6. then
call DisableTrigger(GetTriggeringTrigger())
else
set ez[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ez[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.05)
endif
endfunction
function Ce6 takes nothing returns nothing
set qc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qc,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(qc,Condition(function Ce4))
call TriggerAddAction(qc,function Ce5)
endfunction
function Ce7 takes nothing returns boolean
return GetTriggerUnit()==ZI and GetHeroLevel(ZI)>=50
endfunction
function Ce8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305052,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305052,GetTriggerUnit(),1)
call UnitAddAbilityBJ($41305053,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"剑圣-阿拉斯凯奇获得了50级技能“属性附加（敏捷）”")
endfunction
function Ce9 takes nothing returns nothing
set qd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qd,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(qd,Condition(function Ce7))
call TriggerAddAction(qd,function Ce8)
endfunction
function CfB takes nothing returns boolean
return GetTriggerUnit()==ZI and GetHeroLevel(ZI)>=75
endfunction
function CfC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAbilityLevelSwapped($41305052,GetTriggerUnit(),2)
call UnitAddAbilityBJ($41305054,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"剑圣-阿拉斯凯奇的50级技能“属性附加（敏捷）”升级了")
endfunction
function CfD takes nothing returns nothing
set qe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qe,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(qe,Condition(function CfB))
call TriggerAddAction(qe,function CfC)
endfunction
function CfE takes nothing returns boolean
return GetTriggerUnit()==ZI and GetHeroLevel(ZI)>=100
endfunction
function CfF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAbilityLevelSwapped($41305052,GetTriggerUnit(),3)
call UnitAddAbilityBJ($41305055,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"剑圣-阿拉斯凯奇的50级技能“属性附加（敏捷）”升级了")
endfunction
function CfG takes nothing returns nothing
set qf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qf,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(qf,Condition(function CfE))
call TriggerAddAction(qf,function CfF)
endfunction
function CfH takes nothing returns boolean
return GetSpellAbilityId()==$41305132
endfunction
function CfI takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CfJ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+300.)*I2R(GetUnitAbilityLevelSwapped($41305132,GetTriggerUnit()))*1.+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetEnumUnit(),"chest"))
endfunction
function CfK takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CfL takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+300.)*I2R(GetUnitAbilityLevelSwapped($41305132,GetTriggerUnit()))*1.5+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetEnumUnit(),"chest"))
endfunction
function CfM takes nothing returns nothing
set qr=GetSpellTargetUnit()
if IsUnitRace(qr,RACE_UNDEAD)==true and IsUnitAliveBJ(qr)==true and IsUnitEnemy(qr,GetOwningPlayer(GetTriggerUnit()))==true then
set i8=GetUnitLoc(qr)
set fP=Biq(400.,i8,Condition(function CfK))
call ForGroupBJ(fP,function CfL)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
if IsUnitRace(qr,RACE_UNDEAD)==false and IsUnitAliveBJ(qr)==true and IsUnitEnemy(qr,GetOwningPlayer(GetTriggerUnit()))==true then
set i8=GetUnitLoc(qr)
set fP=Biq(400.,i8,Condition(function CfI))
call ForGroupBJ(fP,function CfJ)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
if IsUnitAliveBJ(qr)==true and IsUnitAlly(qr,GetOwningPlayer(GetTriggerUnit()))==true then
call SetUnitLifeBJ(qr,GetUnitStateSwap(UNIT_STATE_LIFE,qr)+(100.*I2R(GetUnitAbilityLevelSwapped($41305132,GetTriggerUnit()))+I2R(GetUnitAbilityLevelSwapped($41305132,GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*1.+0.))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",qr,"chest"))
else
call DoNothing()
endif
endif
endif
endfunction
function CfN takes nothing returns nothing
set qq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qq,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qq,Condition(function CfH))
call TriggerAddAction(qq,function CfM)
endfunction
function CfO takes nothing returns boolean
return GetSpellAbilityId()==$41305133
endfunction
function CfP takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CfQ takes nothing returns nothing
call IssueTargetOrder(GetEnumUnit(),"attack",ZJ)
call UnitDamageTargetBJ(ZJ,GetEnumUnit(),(.3*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,ZJ,true))+30.)*I2R(GetUnitAbilityLevelSwapped($41305133,ZJ))+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl",ZJ,"chest"))
endfunction
function CfR takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function CfP))
call ForGroupBJ(fP,function CfQ)
call DestroyGroup(fP)
call RemoveLocation(i8)
call StartTimerBJ(fN,true,.3)
call Biy(3.+.2*I2R(GetUnitAbilityLevelSwapped($41305133,GetTriggerUnit())))
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(fN)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CfS takes nothing returns nothing
set qs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qs,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(qs,Condition(function CfO))
call TriggerAddAction(qs,function CfR)
endfunction
function CfT takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZJ))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CfU takes nothing returns nothing
call IssueTargetOrder(GetEnumUnit(),"attack",ZJ)
call UnitDamageTargetBJ(ZJ,GetEnumUnit(),(.3*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,ZJ,true))+30.)*I2R(GetUnitAbilityLevelSwapped($41305133,ZJ))+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl",ZJ,"chest"))
endfunction
function CfV takes nothing returns nothing
set i8=GetUnitLoc(ZJ)
set fP=Biq(400.,i8,Condition(function CfT))
call ForGroupBJ(fP,function CfU)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CfW takes nothing returns nothing
set qt=CreateTrigger()
call TriggerRegisterTimerExpireEvent(qt,fN)
call TriggerAddAction(qt,function CfV)
endfunction
function CfX takes nothing returns boolean
return GetTriggerUnit()==ZJ and GetUnitAbilityLevelSwapped($41305134,ZJ)>=1 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CfY takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+((.02*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+10.)*I2R(GetUnitAbilityLevelSwapped($41305134,GetTriggerUnit()))+.2*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*1.+0.))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetTriggerUnit(),"chest"))
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CfZ takes nothing returns nothing
set qu=CreateTrigger()
call Bi3(qu)
call TriggerAddCondition(qu,Condition(function CfX))
call TriggerAddAction(qu,function CfY)
endfunction
function Cfa takes nothing returns boolean
return GetTriggerUnit()==ZJ and GetHeroLevel(ZJ)>=50
endfunction
function Cfb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305136,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305136,GetTriggerUnit(),1)
call UnitAddAbilityBJ($41305137,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"圣骑士神奇的摩鲁尼获得了50级技能“属性附加（力量）”")
endfunction
function Cfc takes nothing returns nothing
set qy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qy,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(qy,Condition(function Cfa))
call TriggerAddAction(qy,function Cfb)
endfunction
function Cfd takes nothing returns boolean
return GetTriggerUnit()==ZJ and GetHeroLevel(ZJ)>=75
endfunction
function Cfe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305136,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305136,GetTriggerUnit(),2)
call UnitAddAbilityBJ($41305138,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"圣骑士神奇的摩鲁尼的50级技能“属性附加（力量）”升级了")
endfunction
function Cff takes nothing returns nothing
set qz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(qz,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(qz,Condition(function Cfd))
call TriggerAddAction(qz,function Cfe)
endfunction
function Cfg takes nothing returns boolean
return GetTriggerUnit()==ZJ and GetHeroLevel(ZJ)>=100
endfunction
function Cfh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305136,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305136,GetTriggerUnit(),3)
call UnitAddAbilityBJ($41305139,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"圣骑士神奇的摩鲁尼的50级技能“属性附加（力量）”升级了")
endfunction
function Cfi takes nothing returns nothing
set q0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(q0,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(q0,Condition(function Cfg))
call TriggerAddAction(q0,function Cfh)
endfunction
function Cfj takes nothing returns boolean
return GetSpellAbilityId()==$41305135
endfunction
function Cfk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.33
call StartTimerBJ(hY,true,.1)
call Bjl(8.+(I2R(GetUnitAbilityLevelSwapped($41305135,GetTriggerUnit()))-1.),AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",GetTriggerUnit(),"chest"))
call Biy(8.+(I2R(GetUnitAbilityLevelSwapped($41305135,GetTriggerUnit()))-1.))
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hY)
set gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.33
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cfl takes nothing returns nothing
set we=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(we,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(we,Condition(function Cfj))
call TriggerAddAction(we,function Cfk)
endfunction
function Cfm takes nothing returns boolean
return GetSpellAbilityId()==$41305135
endfunction
function Cfn takes nothing returns nothing
call PauseTimer(hY)
endfunction
function Cfo takes nothing returns nothing
set wf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wf,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(wf,Condition(function Cfm))
call TriggerAddAction(wf,function Cfn)
endfunction
function Cfp takes nothing returns nothing
call SetUnitLifeBJ(ZJ,GetUnitStateSwap(UNIT_STATE_LIFE,ZJ)+(I2R(GetUnitAbilityLevelSwapped($41305135,ZJ))*(10.+.03*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,ZJ,true)))+0)+0)
endfunction
function Cfq takes nothing returns nothing
set wg=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wg,hY)
call TriggerAddAction(wg,function Cfp)
endfunction
function Cfr takes nothing returns boolean
return GetSpellAbilityId()==$41305444
endfunction
function Cfs takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==Ui then
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*1.+0)
call SetUnitLifeBJ(Ui,GetUnitStateSwap(UNIT_STATE_LIFE,Ui)+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Ui,true))+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*1.+0)
call StopSoundBJ(k,false)
call PlaySoundOnUnitBJ(k,100,Z3)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",Z3,"chest"))
set BBW=GetSpellTargetUnit()
set BBX=GetUnitLoc(GetTriggerUnit())
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
if h9==true then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(75.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*2.+0)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
if hd>8+0 then
set hd=9+0
else
set hd=hd+1
endif
else
call DoNothing()
endif
call StartTimerBJ(hb,true,.01)
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hb)
call RemoveLocation(BBX)
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
else
call StopSoundBJ(k,false)
call PlaySoundOnUnitBJ(k,100,Z3)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",Z3,"chest"))
set BBW=GetSpellTargetUnit()
set BBX=GetUnitLoc(GetTriggerUnit())
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
if h9==true then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(75.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*2.+0)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
if hd>8+0 then
set hd=9+0
else
set hd=hd+1
endif
else
call DoNothing()
endif
call StartTimerBJ(hb,true,.01)
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hb)
call RemoveLocation(BBX)
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cft takes nothing returns nothing
set BBV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBV,Condition(function Cfr))
call TriggerAddAction(BBV,function Cfs)
endfunction
function Cfu takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and (IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z3))==true and IsUnitInGroup(GetFilterUnit(),hc)==false)
endfunction
function Cfv takes nothing returns nothing
call UnitDamageTargetBJ(Z3,GetEnumUnit(),0.+(.25*(GetUnitStateSwap(ConvertUnitState(18),Z3)+GetUnitStateSwap(ConvertUnitState(19),Z3))+(50.+.2*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Z3,true)))*I2R(GetUnitAbilityLevelSwapped($41305443,Z3))+0)+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call GroupAddUnitSimple(GetEnumUnit(),hc)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",GetEnumUnit(),"chest"))
if iF==true then
call UnitDamageTargetBJ(Z3,GetEnumUnit(),0.+(0.+(500.+5.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*1.+0)+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetEnumUnit(),"chest"))
else
call DoNothing()
endif
endfunction
function Cfw takes nothing returns nothing
if IsUnitInRange(Z3,BBW,50.)==true or IsUnitInRangeLoc(Z3,BBX,1200.)==false then
call PauseTimer(hb)
call GroupClear(hc)
else
set lG=GetUnitLoc(Z3)
set i8=PolarProjectionBJ(lG,50.,BiH(Z3,BBW))
call SetUnitPositionLoc(Z3,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
call SetUnitAnimation(Z3,"attack")
set lG=GetUnitLoc(Z3)
set fP=Biq(200.,lG,Condition(function Cfu))
call ForGroupBJ(fP,function Cfv)
call DestroyGroup(fP)
call RemoveLocation(lG)
endif
endfunction
function Cfx takes nothing returns nothing
set BBY=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BBY,hb)
call TriggerAddAction(BBY,function Cfw)
endfunction
function Cfy takes nothing returns boolean
return GetSpellAbilityId()==$41305444
endfunction
function Cfz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305445,GetTriggerUnit())
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2.
endfunction
function Cf0 takes nothing returns nothing
set BBZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBZ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBZ,Condition(function Cfy))
call TriggerAddAction(BBZ,function Cfz)
endfunction
function Cf1 takes nothing returns boolean
return GetSpellAbilityId()==$41305443
endfunction
function Cf2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BBb=GetSpellTargetLoc()
set BBc=GetUnitLoc(GetTriggerUnit())
set BBd=BBc
call StopSoundBJ(j,false)
call PlaySoundOnUnitBJ(j,100,GetTriggerUnit())
call StopSoundBJ(k,false)
call PlaySoundOnUnitBJ(k,100,Z3)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",Z3,"chest"))
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
if h4==true then
if hd>8+0 then
set hd=9+0
else
set hd=hd+1
endif
else
call DoNothing()
endif
if h9==true then
call UnitRemoveAbilityBJ($41305444,GetTriggerUnit())
call UnitAddAbilityBJ($41305444,GetTriggerUnit())
else
call DoNothing()
endif
call StartTimerBJ(hZ,true,.01)
call Biy(.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hZ)
call RemoveLocation(BBb)
call RemoveLocation(BBd)
call RemoveLocation(BBc)
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if hl==true then
set hm=GetUnitAbilityLevelSwapped($41305443,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305443,GetTriggerUnit())
call UnitAddAbilityBJ($41305443,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305443,GetTriggerUnit(),hm)
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cf3 takes nothing returns nothing
set BBa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBa,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBa,Condition(function Cf1))
call TriggerAddAction(BBa,function Cf2)
endfunction
function Cf4 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and (IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z3))==true and IsUnitInGroup(GetFilterUnit(),ha)==false)
endfunction
function Cf5 takes nothing returns nothing
call UnitDamageTargetBJ(Z3,GetEnumUnit(),0.+(.25*(GetUnitStateSwap(ConvertUnitState(18),Z3)+GetUnitStateSwap(ConvertUnitState(19),Z3))+(50.+.2*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Z3,true)))*I2R(GetUnitAbilityLevelSwapped($41305443,Z3))+0)+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call GroupAddUnitSimple(GetEnumUnit(),ha)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",GetEnumUnit(),"chest"))
if iF==true then
call UnitDamageTargetBJ(Z3,GetEnumUnit(),0.+(0.+(500.+5.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*1.+0)+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetEnumUnit(),"chest"))
else
call DoNothing()
endif
endfunction
function Cf6 takes nothing returns nothing
if IsUnitInRangeLoc(Z3,BBb,50.)==true or IsUnitInRangeLoc(Z3,BBd,1200.)==false then
call PauseTimer(hZ)
call GroupClear(ha)
else
set lG=GetUnitLoc(Z3)
set i8=PolarProjectionBJ(lG,50.,BiF(Z3,BBb))
call SetUnitPositionLoc(Z3,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
call SetUnitAnimation(Z3,"attack")
set lG=GetUnitLoc(Z3)
set fP=Biq(200.,lG,Condition(function Cf4))
call ForGroupBJ(fP,function Cf5)
call DestroyGroup(fP)
call RemoveLocation(lG)
endif
endfunction
function Cf7 takes nothing returns nothing
set BBe=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BBe,hZ)
call TriggerAddAction(BBe,function Cf6)
endfunction
function Cf8 takes nothing returns boolean
return GetSpellAbilityId()==$41305446
endfunction
function Cf9 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(l,false)
call PlaySoundOnUnitBJ(l,100,GetTriggerUnit())
call StopSoundBJ(k,false)
call PlaySoundOnUnitBJ(k,100,Z3)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303651,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
set BBS=GetLastCreatedUnit()
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
if hd>6+0 then
set hd=9+0
else
set hd=hd+3
endif
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,150.,60.*I2R(GetForLoopIndexA()))
call Bjl(1.,AddSpecialEffectLoc("az_xiaonajia01_r1.mdx",lG))
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,300.,45.*I2R(GetForLoopIndexA()))
call Bjl(1.,AddSpecialEffectLoc("az_xiaonajia01_r1.mdx",lG))
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,450.,36.*I2R(GetForLoopIndexA()))
call Bjl(1.,AddSpecialEffectLoc("az_xiaonajia01_r1.mdx",lG))
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,600.,30.*I2R(GetForLoopIndexA()))
call Bjl(1.,AddSpecialEffectLoc("az_xiaonajia01_r1.mdx",lG))
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call Biy(6.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if iC==true then
set iD=GetUnitAbilityLevelSwapped($41305446,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305446,GetTriggerUnit())
call UnitAddAbilityBJ($41305446,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305446,GetTriggerUnit(),iD)
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CgB takes nothing returns nothing
set BBR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBR,Condition(function Cf8))
call TriggerAddAction(BBR,function Cf9)
endfunction
function CgC takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303651 and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CgD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Z3,GetTriggerUnit(),(200.+1.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Z3,true)))*I2R(GetUnitAbilityLevelSwapped($41305446,Z3))+0+0+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CgE takes nothing returns nothing
set BBT=CreateTrigger()
call Bi3(BBT)
call TriggerAddCondition(BBT,Condition(function CgC))
call TriggerAddAction(BBT,function CgD)
endfunction
function CgF takes nothing returns boolean
return GetEventDamageSource()==Z3 and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and 0!=EXGetEventDamageData(mY)==true and hd>0
endfunction
function CgG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z3))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CgH takes nothing returns nothing
call UnitDamageTargetBJ(Z3,GetEnumUnit(),(100.+.3*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Z3,true)))*I2R(GetUnitAbilityLevelSwapped($41305446,Z3))+0+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CgI takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z3))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CgJ takes nothing returns nothing
call UnitDamageTargetBJ(Z3,GetEnumUnit(),(300.+3.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z3,true)))*1.+0+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CgK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set hd=hd-1
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CgG))
call ForGroupBJ(fP,function CgH)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",GetTriggerUnit(),"chest"))
if iC==true then
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CgI))
call ForGroupBJ(fP,function CgJ)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CgL takes nothing returns nothing
set BBU=CreateTrigger()
call Bi3(BBU)
call TriggerAddCondition(BBU,Condition(function CgF))
call TriggerAddAction(BBU,function CgK)
endfunction
function CgM takes nothing returns boolean
return GetLearnedSkill()==$41305448
endfunction
function CgN takes nothing returns nothing
set hf=true
set he=he+1
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if he>=11 then
call DisableTrigger(GetTriggeringTrigger())
else
if GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.02>0. then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.02)
else
call DoNothing()
endif
endif
endfunction
function CgO takes nothing returns nothing
set BBN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBN,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BBN,Condition(function CgM))
call TriggerAddAction(BBN,function CgN)
endfunction
function CgP takes nothing returns boolean
return GetEventDamageSource()==Z3 and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and 0!=EXGetEventDamageData(mY)==true and hf==true
endfunction
function CgQ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z3))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CgR takes nothing returns nothing
call UnitDamageTargetBJ(Z3,GetEnumUnit(),(100.+.3*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Z3,true)))*I2R(GetUnitAbilityLevelSwapped($41305446,Z3))+0+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CgS takes nothing returns nothing
if GetRandomInt(1,100)<=17+R2I(hp)+0 then
call DisableTrigger(GetTriggeringTrigger())
set BBP=GetTriggerUnit()
call StopSoundBJ(m,false)
call PlaySoundOnUnitBJ(m,100,Z3)
call StartTimerBJ(hg,false,.03)
if hd>0 then
set hd=hd-1
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function CgQ))
call ForGroupBJ(fP,function CgR)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("az_xiaonajia01_r1.mdx",GetTriggerUnit(),"chest"))
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function CgT takes nothing returns nothing
set BBO=CreateTrigger()
call Bi3(BBO)
call TriggerAddCondition(BBO,Condition(function CgP))
call TriggerAddAction(BBO,function CgS)
endfunction
function CgU takes nothing returns nothing
call SetUnitAnimation(Z3,"attack")
call CreateTextTagUnitBJ("迅击！",Z3,168.,10,100.,0.,0.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
call UnitDamageTargetBJ(Z3,BBP,1.*(GetUnitStateSwap(ConvertUnitState(18),Z3)+GetUnitStateSwap(ConvertUnitState(19),Z3))+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CgV takes nothing returns nothing
set BBQ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BBQ,hg)
call TriggerAddAction(BBQ,function CgU)
endfunction
function CgW takes nothing returns boolean
return GetTriggerUnit()==Z3 and GetHeroLevel(GetTriggerUnit())>=50
endfunction
function CgX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($4130545A,GetTriggerUnit())
call UnitAddAbilityBJ($41305530,GetTriggerUnit())
call UnitAddAbilityBJ($41305531,GetTriggerUnit())
call UnitAddAbilityBJ($41305532,GetTriggerUnit())
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set hp=hp+5.
endfunction
function CgY takes nothing returns nothing
set zd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zd,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(zd,Condition(function CgW))
call TriggerAddAction(zd,function CgX)
endfunction
function CgZ takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$45303047 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_PIERCE==ConvertAttackType(EXGetEventDamageData(qk))==true)
endfunction
function Cga takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EXSetEventDamage(0.*1.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cgb takes nothing returns nothing
set zP=CreateTrigger()
call Bi3(zP)
call TriggerAddCondition(zP,Condition(function CgZ))
call TriggerAddAction(zP,function Cga)
endfunction
function Cgc takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$45303047 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and 0!=EXGetEventDamageData(mY)==true
endfunction
function Cgd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$6830365A,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(2.,GetLastCreatedUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",i8)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cge takes nothing returns nothing
set zQ=CreateTrigger()
call Bi3(zQ)
call TriggerAddCondition(zQ,Condition(function Cgc))
call TriggerAddAction(zQ,function Cgd)
endfunction
function Cgf takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6830365A and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cgg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(aI,GetTriggerUnit(),(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.7+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cgh takes nothing returns nothing
set zR=CreateTrigger()
call Bi3(zR)
call TriggerAddCondition(zR,Condition(function Cgf))
call TriggerAddAction(zR,function Cgg)
endfunction
function Cgi takes nothing returns boolean
return GetEventDamageSource()==aI and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cgj takes nothing returns nothing
if GetRandomInt(1,100)<=5 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetEventDamageSource())
call CreateNUnitsAtLoc(1,$68303730,GetOwningPlayer(GetEventDamageSource()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"slow",GetTriggerUnit())
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function Cgk takes nothing returns nothing
set zJ=CreateTrigger()
call Bi3(zJ)
call TriggerAddCondition(zJ,Condition(function Cgi))
call TriggerAddAction(zJ,function Cgj)
endfunction
function Cgl takes nothing returns boolean
return GetSpellAbilityId()==$41305535
endfunction
function Cgm takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(p,true)
call PlaySoundOnUnitBJ(p,100,GetTriggerUnit())
set iJ=GetUnitAbilityLevelSwapped($41305535,GetTriggerUnit())
set zL=GetSpellTargetLoc()
set lG=GetUnitLoc(aI)
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(GetTriggerUnit()),lG,AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),zL))
set zM=GetLastCreatedUnit()
call RemoveLocation(lG)
call Bjf(2.5,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"spell channel one")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set i8=GetUnitLoc(zM)
set lG=PolarProjectionBJ(i8,125.,GetUnitFacing(zM))
call MoveRectToLoc(TL,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call StartTimerBJ(iI,true,.05)
call StartTimerBJ(iK,true,.33)
call Biy(2.+0.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(iI)
call PauseTimer(iK)
call RemoveLocation(zL)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cgn takes nothing returns nothing
set zK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zK,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zK,Condition(function Cgl))
call TriggerAddAction(zK,function Cgm)
endfunction
function Cgo takes nothing returns nothing
set lG=GetRandomLocInRect(TL)
call CreateNUnitsAtLoc(1,$68303659,GetOwningPlayer(aI),lG,GetUnitFacing(zM))
call Bjf(1.,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),GetUnitFacing(zM),1000.,1,.03,0,false,true,true,"origin","  ","  ")
call RemoveLocation(lG)
endfunction
function Cgp takes nothing returns nothing
set zN=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zN,iI)
call TriggerAddAction(zN,function Cgo)
endfunction
function Cgq takes nothing returns nothing
call SetUnitAnimation(zM,"spell channel one")
endfunction
function Cgr takes nothing returns nothing
set zS=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zS,iK)
call TriggerAddAction(zS,function Cgq)
endfunction
function Cgs takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303659 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cgt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(aI,GetTriggerUnit(),(.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*I2R(iJ)+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.07+7.*I2R(iJ))*(1.+ip[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call RemoveUnit(GetEventDamageSource())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl",GetTriggerUnit(),"chest"))
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cgu takes nothing returns nothing
set zO=CreateTrigger()
call Bi3(zO)
call TriggerAddCondition(zO,Condition(function Cgs))
call TriggerAddAction(zO,function Cgt)
endfunction
function Cgv takes nothing returns boolean
return GetSpellAbilityId()==$41305539
endfunction
function Cgw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(q,true)
call PlaySoundOnUnitBJ(q,100,GetTriggerUnit())
set zG=GetSpellTargetLoc()
set zH=GetUnitLoc(GetTriggerUnit())
call StartTimerBJ(iL,true,.01)
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call UnitAddAbilityBJ($41305541,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41305541,GetOwningPlayer(GetTriggerUnit()))
call SetUnitVertexColor(aI,255,255,255,55)
call SetUnitAnimation(aI,"walk")
call Bjl(.3,AddSpecialEffectTarget("Abilities\\Weapons\\FaerieDragonMissile\\FaerieDragonMissile.mdl",GetTriggerUnit(),"overhead"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(iL)
call RemoveLocation(zG)
call RemoveLocation(zH)
call SetUnitVertexColor(aI,255,255,255,255)
call UnitRemoveAbilityBJ($41305541,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305541,GetOwningPlayer(GetTriggerUnit()))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cgx takes nothing returns nothing
set zF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zF,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zF,Condition(function Cgv))
call TriggerAddAction(zF,function Cgw)
endfunction
function Cgy takes nothing returns nothing
if IsUnitInRangeLoc(aI,zG,50.)==true or IsUnitInRangeLoc(aI,zH,1200.)==false then
call PauseTimer(iL)
call SetUnitVertexColor(aI,255,255,255,255)
call UnitRemoveAbilityBJ($41305541,aI)
call SetPlayerAbilityAvailableBJ(true,$41305541,GetOwningPlayer(GetTriggerUnit()))
else
set lG=GetUnitLoc(aI)
set i8=PolarProjectionBJ(lG,50.,BiF(aI,zG))
call SetUnitPositionLoc(aI,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
endif
endfunction
function Cgz takes nothing returns nothing
set zI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zI,iL)
call TriggerAddAction(zI,function Cgy)
endfunction
function Cg0 takes nothing returns boolean
return GetSpellAbilityId()==$41305544
endfunction
function Cg1 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(r,true)
call PlaySoundOnUnitBJ(r,100,GetTriggerUnit())
set iN=GetUnitAbilityLevelSwapped($41305544,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(TM,i8)
call RemoveLocation(i8)
call PauseUnitBJ(true,GetTriggerUnit())
call StartTimerBJ(iM,true,.03)
call UnitAddAbilityBJ($41305541,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41305541,GetOwningPlayer(GetTriggerUnit()))
call SetUnitVertexColor(aI,255,255,255,135)
call SetUnitAnimation(aI,"spell four")
call Biy(1.5+0.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(iM)
call PauseUnitBJ(false,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305541,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305541,GetOwningPlayer(GetTriggerUnit()))
call SetUnitVertexColor(aI,255,255,255,255)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cg2 takes nothing returns nothing
set zC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zC,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zC,Condition(function Cg0))
call TriggerAddAction(zC,function Cg1)
endfunction
function Cg3 takes nothing returns nothing
set lG=GetRectCenter(TM)
call CreateNUnitsAtLoc(1,$68303731,GetOwningPlayer(aI),lG,GetRandomDirectionDeg())
call Bjf(1.,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42487765,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),GetUnitFacing(GetLastCreatedUnit()),1000.,1,.03,0,false,true,true,"origin","  ","  ")
call RemoveLocation(lG)
endfunction
function Cg4 takes nothing returns nothing
set zD=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zD,iM)
call TriggerAddAction(zD,function Cg3)
endfunction
function Cg5 takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303731 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cg6 takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(aI))==true
endfunction
function Cg7 takes nothing returns nothing
call UnitDamageTargetBJ(aI,GetEnumUnit(),(.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*I2R(iN)+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.1+10.*I2R(iN))*(1.+ip[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cg8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set lG=GetUnitLoc(GetTriggerUnit())
set fP=Biq(100.,lG,Condition(function Cg6))
call ForGroupBJ(fP,function Cg7)
call DestroyGroup(fP)
call RemoveLocation(lG)
call RemoveUnit(GetEventDamageSource())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl",GetTriggerUnit(),"chest"))
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,50.,AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(aI))+180.)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cg9 takes nothing returns nothing
set zE=CreateTrigger()
call Bi3(zE)
call TriggerAddCondition(zE,Condition(function Cg5))
call TriggerAddAction(zE,function Cg8)
endfunction
function ChB takes nothing returns boolean
return GetSpellAbilityId()==$41305535
endfunction
function ChC takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iO=true
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iO=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ChD takes nothing returns nothing
set y4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(y4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(y4,Condition(function ChB))
call TriggerAddAction(y4,function ChC)
endfunction
function ChE takes nothing returns boolean
return GetSpellAbilityId()==$41305539
endfunction
function ChF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if iO==true then
set iP=true
call SetPlayerAbilityAvailableBJ(false,$41305535,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305545,GetTriggerUnit())
call Biy(.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305545,GetTriggerUnit())
call Biy(11.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetPlayerAbilityAvailableBJ(true,$41305535,GetOwningPlayer(GetTriggerUnit()))
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ChG takes nothing returns nothing
set y5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(y5,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(y5,Condition(function ChE))
call TriggerAddAction(y5,function ChF)
endfunction
function ChH takes nothing returns boolean
return GetSpellAbilityId()==$41305545
endfunction
function ChI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(r,true)
call PlaySoundOnUnitBJ(r,100,GetTriggerUnit())
call StopSoundBJ(s,true)
call PlaySoundOnUnitBJ(s,100,GetTriggerUnit())
call SetUnitVertexColor(aI,255,255,255,155)
call SetUnitAnimation(aI,"spell channel one")
set y7=GetSpellTargetUnit()
call StartTimerBJ(iQ,true,.06)
call PauseUnitBJ(true,aI)
call UnitAddAbilityBJ($41305541,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41305541,GetOwningPlayer(GetTriggerUnit()))
set lG=GetUnitLoc(aI)
set i8=PolarProjectionBJ(lG,125.,BiH(aI,y7)+180.)
call MoveRectToLoc(TN,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(iQ)
call SetUnitVertexColor(aI,255,255,255,255)
call PauseUnitBJ(false,aI)
call UnitRemoveAbilityBJ($41305541,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305541,GetOwningPlayer(GetTriggerUnit()))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ChJ takes nothing returns nothing
set y6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(y6,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(y6,Condition(function ChH))
call TriggerAddAction(y6,function ChI)
endfunction
function ChK takes nothing returns nothing
if IsUnitAliveBJ(y7)==true and IsUnitEnemy(y7,GetOwningPlayer(aI))==true then
call PauseUnitBJ(true,aI)
set lG=GetUnitLoc(aI)
set i8=PolarProjectionBJ(lG,50.,BiF(aI,GetRandomLocInRect(TN))+0.)
call SetUnitPositionLoc(aI,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(aI)
call CreateNUnitsAtLoc(1,$68303732,GetOwningPlayer(aI),i8,BiH(aI,y7)+0.)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(2.,GetLastCreatedUnit())
set i8=GetUnitLoc(y7)
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",i8)
call RemoveLocation(i8)
set lG=GetRandomLocInRect(TN)
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(aI),lG,BiH(GetLastCreatedUnit(),y7))
set y9=GetLastCreatedUnit()
call RemoveLocation(lG)
call Bjf(.5,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"spell channel one")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set i8=GetUnitLoc(y9)
call CreateNUnitsAtLoc(1,$68303732,GetOwningPlayer(aI),i8,BiH(aI,y7)+0.)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(2.,GetLastCreatedUnit())
set i8=GetUnitLoc(y7)
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",i8)
call RemoveLocation(i8)
else
call PauseUnitBJ(false,aI)
call PauseTimer(iQ)
call SetUnitVertexColor(aI,255,255,255,255)
call UnitRemoveAbilityBJ($41305541,aI)
call SetPlayerAbilityAvailableBJ(true,$41305541,GetOwningPlayer(GetTriggerUnit()))
endif
endfunction
function ChL takes nothing returns nothing
set y8=CreateTrigger()
call TriggerRegisterTimerExpireEvent(y8,iQ)
call TriggerAddAction(y8,function ChK)
endfunction
function ChM takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303732 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function ChN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(aI,GetTriggerUnit(),(.06*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*I2R(iJ)+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.1+6.*I2R(iJ))*(1.+ip[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl",GetTriggerUnit(),"chest"))
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,3.,AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(aI))+180.)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function ChO takes nothing returns nothing
set zB=CreateTrigger()
call Bi3(zB)
call TriggerAddCondition(zB,Condition(function ChM))
call TriggerAddAction(zB,function ChN)
endfunction
function ChP takes nothing returns boolean
return GetSpellAbilityId()==$41305544
endfunction
function ChQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ig=true
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ig=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ChR takes nothing returns nothing
set yl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yl,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yl,Condition(function ChP))
call TriggerAddAction(yl,function ChQ)
endfunction
function ChS takes nothing returns boolean
return GetSpellAbilityId()==$41305539
endfunction
function ChT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if ig==true then
call SetPlayerAbilityAvailableBJ(false,$41305544,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305549,GetTriggerUnit())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305549,GetTriggerUnit())
call Biy(18.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetPlayerAbilityAvailableBJ(true,$41305544,GetOwningPlayer(GetTriggerUnit()))
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ChU takes nothing returns nothing
set ym=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ym,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ym,Condition(function ChS))
call TriggerAddAction(ym,function ChT)
endfunction
function ChV takes nothing returns boolean
return GetSpellAbilityId()==$41305549
endfunction
function ChW takes nothing returns nothing
call StopSoundBJ(x,true)
call PlaySoundOnUnitBJ(x,100,GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,50.,0.+72.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$68303733,GetOwningPlayer(GetTriggerUnit()),lG,72.*I2R(GetForLoopIndexA()))
call RemoveLocation(i8)
call RemoveLocation(lG)
set yo=GetLastCreatedUnit()
call Bjf(60.,GetLastCreatedUnit())
call SetUnitState(yo,UNIT_STATE_MAX_LIFE,I2R(iN)*100.+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*(I2R(iN)*.5)+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,yo)+0)
call SetUnitLifePercentBJ(yo,100)
call SetUnitState(yo,ConvertUnitState(32),I2R(iN)*3.+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*(I2R(iN)*0.)+GetUnitStateSwap(ConvertUnitState(32),yo)+0)
call SetUnitAnimation(yo,"spell channel two")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function ChX takes nothing returns nothing
set yn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yn,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yn,Condition(function ChV))
call TriggerAddAction(yn,function ChW)
endfunction
function ChY takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303733 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function ChZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(aI,GetTriggerUnit(),(.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*I2R(iN)+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.33+33.*I2R(iN))*(1.+ip[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cha takes nothing returns nothing
set yp=CreateTrigger()
call Bi3(yp)
call TriggerAddCondition(yp,Condition(function ChY))
call TriggerAddAction(yp,function ChZ)
endfunction
function Chb takes nothing returns boolean
return GetSpellAbilityId()==$41305547
endfunction
function Chc takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iX=GetUnitAbilityLevelSwapped($41305547,GetTriggerUnit())
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1000.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1000.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1000.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.08*I2R(iX)>0. then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.08*I2R(iX))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"你的攻击间隔已经过低了，时光疾行不再为你减少攻击间隔")
endif
call SetUnitState(GetTriggerUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit())+(200.+20.*I2R(iX)))
call SetUnitAcquireRange(GetTriggerUnit(),GetUnitAcquireRange(GetTriggerUnit())+(200.+20.*I2R(iX)))
call UnitAddAbilityBJ($41305548,GetTriggerUnit())
call StopSoundBJ(t,true)
call PlaySoundOnUnitBJ(t,100,GetTriggerUnit())
set iW=true
call Biy(35.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iW=false
call PauseTimer(iV)
call SetUnitState(GetTriggerUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit())-(200.+20.*I2R(iX)))
call SetUnitAcquireRange(GetTriggerUnit(),GetUnitAcquireRange(GetTriggerUnit())-(200.+20.*I2R(iX)))
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())+.08*I2R(iX))
call UnitRemoveAbilityBJ($41305548,GetTriggerUnit())
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1000.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1000.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1000.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Chd takes nothing returns nothing
set yz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yz,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yz,Condition(function Chb))
call TriggerAddAction(yz,function Chc)
endfunction
function Che takes nothing returns boolean
return GetTriggerUnit()==aI and iW==true
endfunction
function Chf takes nothing returns nothing
if GetIssuedOrderIdBJ()==String2OrderIdBJ("smart") or GetIssuedOrderIdBJ()==String2OrderIdBJ("move") then
set i8=GetOrderPointLoc()
call MoveRectToLoc(TO,i8)
call RemoveLocation(i8)
set iU=DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetRectCenter(TO))
call PauseTimer(iV)
call StartTimerBJ(iV,true,.01)
call SetUnitAnimation(aI,"walk")
else
call PauseTimer(iV)
endif
endfunction
function Chg takes nothing returns nothing
set y0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(y0,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(y0,Condition(function Che))
call TriggerAddAction(y0,function Chf)
endfunction
function Chh takes nothing returns boolean
return GetTriggerUnit()==aI and iW==true
endfunction
function Chi takes nothing returns nothing
if GetSpellAbilityId()==$41305535 or GetSpellAbilityId()==$41305539 or GetSpellAbilityId()==$41305544 or GetSpellAbilityId()==$41305545 or GetSpellAbilityId()==$41305549 then
call PauseTimer(iV)
else
call DoNothing()
endif
endfunction
function Chj takes nothing returns nothing
set y1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(y1,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(y1,Condition(function Chh))
call TriggerAddAction(y1,function Chi)
endfunction
function Chk takes nothing returns boolean
return GetTriggerUnit()==aI and iW==true
endfunction
function Chl takes nothing returns nothing
if GetIssuedOrderIdBJ()==String2OrderIdBJ("attack") or GetIssuedOrderIdBJ()==851971 then
call PauseTimer(iV)
else
call DoNothing()
endif
endfunction
function Chm takes nothing returns nothing
set y2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(y2,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(y2,Condition(function Chk))
call TriggerAddAction(y2,function Chl)
endfunction
function Chn takes nothing returns nothing
if RectContainsUnit(TO,aI)==true then
call DoNothing()
else
if iU>=30000. then
call DisplayTimedTextToPlayer(GetOwningPlayer(aI),0,0,3.,"范围过远")
else
set lG=GetUnitLoc(aI)
set i8=PolarProjectionBJ(lG,10.,BiF(aI,GetRectCenter(TO)))
call SetUnitPositionLocFacingBJ(aI,i8,BiF(aI,GetRectCenter(TO)))
call RemoveLocation(i8)
call RemoveLocation(lG)
set lG=GetUnitLoc(aI)
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(aI),lG,AngleBetweenPoints(GetUnitLoc(aI),GetRectCenter(TO)))
call RemoveLocation(lG)
call Bjf(.05,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"walk")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,55)
endif
endif
endfunction
function Cho takes nothing returns nothing
set y3=CreateTrigger()
call TriggerRegisterTimerExpireEvent(y3,iV)
call TriggerAddAction(y3,function Chn)
endfunction
function Chp takes nothing returns boolean
return GetSpellAbilityId()==$41305547
endfunction
function Chq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iY=true
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iY=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Chr takes nothing returns nothing
set yq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yq,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yq,Condition(function Chp))
call TriggerAddAction(yq,function Chq)
endfunction
function Chs takes nothing returns boolean
return GetSpellAbilityId()==$41305535 and iY==true
endfunction
function Cht takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iZ=true
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iZ=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Chu takes nothing returns nothing
set yr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yr,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yr,Condition(function Chs))
call TriggerAddAction(yr,function Cht)
endfunction
function Chv takes nothing returns boolean
return GetSpellAbilityId()==$41305539 and iZ==true
endfunction
function Chw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ia=true
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ia=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Chx takes nothing returns nothing
set ys=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ys,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ys,Condition(function Chv))
call TriggerAddAction(ys,function Chw)
endfunction
function Chy takes nothing returns boolean
return GetSpellAbilityId()==$41305544 and ia==true
endfunction
function Chz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(yu)
set ib=true
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"技能时界凝滞·广域惩戒使用条件已解锁")
endfunction
function Ch0 takes nothing returns nothing
set yt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yt,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yt,Condition(function Chy))
call TriggerAddAction(yt,function Chz)
endfunction
function Ch1 takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(aI))==GetPlayerColor(GetTriggerPlayer())
endfunction
function Ch2 takes nothing returns nothing
call PauseUnitBJ(false,GetEnumUnit())
endfunction
function Ch3 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(yt)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),15.,"时枪咏者发动隐藏终极技能——时界凝滞·广域惩戒，瞬间张开一个广域的时间结界，在这个结界之内，时间被凝固，除自身外所有人都被暂停在那一刻，无法动弹，冷却时间为300秒")
call StopSoundBJ(t,true)
call StopSoundBJ(u,true)
call StopSoundBJ(v,true)
call PlaySoundBJ(u)
call PlaySoundOnUnitBJ(v,100,aI)
set ib=false
call SetUnitAnimation(aI,"spell one")
set lG=GetUnitLoc(aI)
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(aI),lG,GetUnitFacing(aI))
set yw=GetLastCreatedUnit()
call RemoveLocation(lG)
call Bjf(30.3,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"spell channel one")
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set i8=GetUnitLoc(aI)
call MoveRectToLoc(TP,i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(aI)
call AddSpecialEffectLocBJ(i8,"33kkd.mdx")
call EXSetEffectSize(bj_lastCreatedEffect,8.5)
call Bjl(30.,GetLastCreatedEffectBJ())
call RemoveLocation(i8)
if io==true and iq!=true and Bi9(aI,$49304C48)==true and Bi9(aI,$49304C49)==true then
set iq=true
call RemoveItem(Bio(aI,$49304C49))
call UnitAddItemByIdSwapped($49304C4A,aI)
call DisplayTimedTextToForce(GetPlayersAll(),12.,"在永恒与时间的交汇下，咏时灵裳迎来了它的华丽进阶，整件衣裳散发着淡淡的紫光，宛如夜空中最璀璨的星辰。")
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlaySoundBJ(BE)
set wO=GetLastPlayedSound()
else
call DoNothing()
endif
if io!=true then
set io=true
call UnitAddItemByIdSwapped($49304C49,aI)
call DisplayTimedTextToPlayer(GetOwningPlayer(aI),0,0,12.,"在时光洪流的磅礴交汇之中，凝聚出了绚烂夺目的咏时灵裳，被你幸运地斩获。")
else
call DoNothing()
endif
call StartTimerBJ(ic,true,.03)
call Biy(11.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(u,true)
call StopSoundBJ(w,true)
call PlaySoundBJ(w)
call Biy(19.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(ic)
call ForGroupBJ(id,function Ch2)
call GroupClear(id)
call Biy(270.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(yt)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"技能时界凝滞·广域惩戒已冷却完毕，请在技能连携下解锁该技能使用条件")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ch4 takes nothing returns nothing
set yv=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(yv,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(1),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(7),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(8),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(9),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(10),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(11),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(12),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(13),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(14),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerRegisterPlayerKeyEventBJ(yv,Player(15),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerAddCondition(yv,Condition(function Ch1))
call TriggerAddAction(yv,function Ch3)
endfunction
function Ch5 takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(aI))==GetPlayerColor(GetTriggerPlayer())
endfunction
function Ch6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(yv)
endfunction
function Ch7 takes nothing returns nothing
set yu=CreateTrigger()
call TriggerRegisterPlayerChatEvent(yu,Player(0),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(1),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(2),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(3),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(4),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(5),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(6),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(7),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(8),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(9),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(10),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(11),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(12),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(13),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(14),"11",true)
call TriggerRegisterPlayerChatEvent(yu,Player(15),"11",true)
call TriggerAddCondition(yu,Condition(function Ch5))
call TriggerAddAction(yu,function Ch6)
endfunction
function Ch8 takes nothing returns nothing
call DisableTrigger(yv)
call DisableTrigger(yu)
endfunction
function Ch9 takes nothing returns nothing
set yx=CreateTrigger()
call TriggerRegisterTimerEventSingle(yx,5.)
call TriggerAddAction(yx,function Ch8)
endfunction
function CiB takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and (GetFilterUnit()!=aI and GetUnitTypeId(GetFilterUnit())!=$68303733)
endfunction
function CiC takes nothing returns nothing
call PauseUnitBJ(true,GetEnumUnit())
call GroupAddUnitSimple(GetEnumUnit(),id)
endfunction
function CiD takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(aI))==true
endfunction
function CiE takes nothing returns nothing
call SetUnitManaPercentBJ(GetEnumUnit(),0.)
call UnitDamageTargetBJ(aI,GetEnumUnit(),(.03*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*1.+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.03+3.*1.)*(1.+ip[GetPlayerId(GetOwningPlayer(aI))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CiF takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(aI))==true
endfunction
function CiG takes nothing returns nothing
call UnitDamageTargetBJ(aI,GetEnumUnit(),(.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*I2R(iX)+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.25+10.*I2R(iX))*(1.+ip[GetPlayerId(GetOwningPlayer(aI))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CiH takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(aI))==true
endfunction
function CiI takes nothing returns nothing
call UnitDamageTargetBJ(aI,GetEnumUnit(),(.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,aI,true))*I2R(iX)+(GetUnitStateSwap(ConvertUnitState(18),aI)+GetUnitStateSwap(ConvertUnitState(19),aI))*.25+10.*I2R(iX))*(1.+ip[GetPlayerId(GetOwningPlayer(aI))])+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CiJ takes nothing returns nothing
set lG=GetUnitLoc(yw)
set fP=Biq(1100.,lG,Condition(function CiB))
call ForGroupBJ(fP,function CiC)
call DestroyGroup(fP)
call RemoveLocation(lG)
set lG=GetUnitLoc(yw)
set fP=Biq(1100.,lG,Condition(function CiD))
call ForGroupBJ(fP,function CiE)
call DestroyGroup(fP)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(TP)
set fP=Biq(250.,lG,Condition(function CiF))
set i8=lG
call Bjl(1.,AddSpecialEffectLoc("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl",i8))
call RemoveLocation(i8)
call ForGroupBJ(fP,function CiG)
call DestroyGroup(fP)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(TP)
set fP=Biq(250.,lG,Condition(function CiH))
set i8=lG
call Bjl(1.,AddSpecialEffectLoc("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl",i8))
call RemoveLocation(i8)
call ForGroupBJ(fP,function CiI)
call DestroyGroup(fP)
call RemoveLocation(lG)
endfunction
function CiK takes nothing returns nothing
set yy=CreateTrigger()
call TriggerRegisterTimerExpireEvent(yy,ic)
call TriggerAddAction(yy,function CiJ)
endfunction
function CiL takes nothing returns boolean
return GetTriggerUnit()==aI and GetHeroLevel(aI)>=50
endfunction
function CiM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call StopMusic(true)
set ih=true
call UnitAddAbilityBJ($4130554A,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"时枪咏者获得了50级技能“时光织梦 T”")
call UnitAddAbilityBJ($4130554B,GetTriggerUnit())
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
if gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+522.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+522.
call SetUnitMoveSpeed(GetTriggerUnit(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+522.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlaySoundBJ(BD)
set wO=GetLastPlayedSound()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CiN takes nothing returns nothing
set xG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xG,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(xG,Condition(function CiL))
call TriggerAddAction(xG,function CiM)
endfunction
function CiO takes nothing returns boolean
return GetTriggerUnit()==aI and IsUnitAliveBJ(GetTriggerUnit())==true and ih==true
endfunction
function CiP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set hI=GetEventDamage()
if hI>=GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()) then
call DisableTrigger(GetTriggeringTrigger())
call EXSetEventDamage(0.*1.)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*1.+0)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl",GetTriggerUnit(),"origin"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.,"时光回溯进入冷却")
call SetUnitInvulnerable(GetTriggerUnit(),true)
call Bjl(3.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",GetTriggerUnit(),"chest"))
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(GetTriggerUnit(),false)
call Biy(180.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.,"时光回溯冷却完毕")
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CiQ takes nothing returns nothing
set xH=CreateTrigger()
call Bi3(xH)
call TriggerAddCondition(xH,Condition(function CiO))
call TriggerAddAction(xH,function CiP)
endfunction
function CiR takes nothing returns boolean
return GetSpellAbilityId()==$4130554C
endfunction
function CiS takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CiT takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303735,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(2.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"ensnare",GetEnumUnit())
endfunction
function CiU takes nothing returns boolean
return IsUnitAliveBJ(GetFilterUnit())==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function CiV takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),1.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*I2R(ii)+0.+100.*I2R(ii)+0.+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CiW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set yf=GetSpellTargetUnit()
set ii=GetUnitAbilityLevelSwapped($4130554C,GetTriggerUnit())
set lG=GetUnitLoc(yf)
set fP=Biq(600.,lG,Condition(function CiS))
call ForGroupBJ(fP,function CiT)
call DestroyGroup(fP)
call RemoveLocation(lG)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set lG=GetUnitLoc(yf)
set fP=Biq(600.,lG,Condition(function CiU))
call ForGroupBJ(fP,function CiV)
call DestroyGroup(fP)
call RemoveLocation(lG)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CiX takes nothing returns nothing
set ye=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ye,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ye,Condition(function CiR))
call TriggerAddAction(ye,function CiW)
endfunction
function CiY takes nothing returns boolean
return GetSpellAbilityId()==$4130554F
endfunction
function CiZ takes nothing returns nothing
set ij=GetUnitAbilityLevelSwapped($4130554F,GetTriggerUnit())
set i8=GetUnitLoc(GetTriggerUnit())
set yh=GetTriggerUnit()
call CreateNUnitsAtLoc(1,$68303736,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(2.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetTriggerUnit(),"origin"))
endfunction
function Cia takes nothing returns nothing
set yg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yg,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yg,Condition(function CiY))
call TriggerAddAction(yg,function CiZ)
endfunction
function Cib takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303736 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cic takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(yh,GetTriggerUnit(),(2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,yh,true))+200.)*I2R(ij)+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cid takes nothing returns nothing
set yi=CreateTrigger()
call Bi3(yi)
call TriggerAddCondition(yi,Condition(function Cib))
call TriggerAddAction(yi,function Cic)
endfunction
function Cie takes nothing returns boolean
return GetTriggerUnit()==aJ or GetTriggerUnit()==xK and GetUnitAbilityLevelSwapped($4130554E,GetTriggerUnit())>=1 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cif takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEventDamageSource(),(.1*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+10.)*I2R(GetUnitAbilityLevelSwapped($4130554E,GetTriggerUnit()))+1.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cig takes nothing returns nothing
set yj=CreateTrigger()
call Bi3(yj)
call TriggerAddCondition(yj,Condition(function Cie))
call TriggerAddAction(yj,function Cif)
endfunction
function Cih takes nothing returns boolean
return GetLearnedSkill()==$4130554E
endfunction
function Cii takes nothing returns nothing
set ik=ik+1
if ik>=11 then
call DisableTrigger(GetTriggeringTrigger())
else
set gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01*.5
endif
endfunction
function Cij takes nothing returns nothing
set yk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yk,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(yk,Condition(function Cih))
call TriggerAddAction(yk,function Cii)
endfunction
function Cik takes nothing returns boolean
return GetSpellAbilityId()==$41305551
endfunction
function Cil takes nothing returns nothing
if GetRandomInt(1,100)==55 then
call DisableTrigger(GetTriggeringTrigger())
set ii=GetUnitAbilityLevelSwapped($4130554C,GetTriggerUnit())
set ij=GetUnitAbilityLevelSwapped($4130554F,GetTriggerUnit())
set in=GetUnitAbilityLevelSwapped($4130554E,GetTriggerUnit())
call Biz(GetTriggerUnit(),$48303737,bj_UNIT_STATE_METHOD_DEFAULTS)
set xK=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
call ModifyHeroStat(bj_HEROSTAT_STR,xK,bj_MODIFYMETHOD_ADD,50)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"鱼护卫"+GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"进化成功，白字力量+50，法抗+5%"+"")
call UnitAddAbilityBJ($4130554C,xK)
call SetUnitAbilityLevelSwapped($4130554C,xK,ii)
call UnitAddAbilityBJ($4130554F,xK)
call SetUnitAbilityLevelSwapped($4130554F,xK,ij)
call UnitAddAbilityBJ($4130554E,xK)
call SetUnitAbilityLevelSwapped($4130554E,xK,in)
call ModifyHeroSkillPoints(xK,bj_MODIFYMETHOD_SET,0)
else
set il=il+1
if il>=101 then
call DisableTrigger(GetTriggeringTrigger())
set ii=GetUnitAbilityLevelSwapped($4130554C,GetTriggerUnit())
set ij=GetUnitAbilityLevelSwapped($4130554F,GetTriggerUnit())
set in=GetUnitAbilityLevelSwapped($4130554E,GetTriggerUnit())
call Biz(GetTriggerUnit(),$48303737,bj_UNIT_STATE_METHOD_DEFAULTS)
set xK=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
call ModifyHeroStat(bj_HEROSTAT_STR,xK,bj_MODIFYMETHOD_ADD,50)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"鱼护卫"+GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"进化成功，白字力量+50，法抗+5%"+"")
call UnitAddAbilityBJ($4130554C,xK)
call SetUnitAbilityLevelSwapped($4130554C,xK,ii)
call UnitAddAbilityBJ($4130554F,xK)
call SetUnitAbilityLevelSwapped($4130554F,xK,ij)
call UnitAddAbilityBJ($4130554E,xK)
call SetUnitAbilityLevelSwapped($4130554E,xK,in)
call ModifyHeroSkillPoints(xK,bj_MODIFYMETHOD_SET,0)
else
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCaster.mdl",GetTriggerUnit(),"chest"))
endif
endif
endfunction
function Cim takes nothing returns nothing
set xJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(xJ,Condition(function Cik))
call TriggerAddAction(xJ,function Cil)
endfunction
function Cin takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304C42)==true or Bi9(GetTriggerUnit(),$49304C43)==true or Bi9(GetTriggerUnit(),$49304C44)==true or Bi9(GetTriggerUnit(),$49304C45)==true or Bi9(GetTriggerUnit(),$49304C46)==true or Bi9(GetTriggerUnit(),$49304C47)==true or Bi9(GetTriggerUnit(),$49304C48)==true or Bi9(GetTriggerUnit(),$49304C49)==true
endfunction
function Cio takes nothing returns nothing
if GetTriggerUnit()==aI then
call DoNothing()
else
set i8=GetUnitLoc(GetTriggerUnit())
call SetItemPositionLoc(GetManipulatedItem(),i8)
call RemoveLocation(i8)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"这件灵器拒绝了你..")
endif
endfunction
function Cip takes nothing returns nothing
set xD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(xD,Condition(function Cin))
call TriggerAddAction(xD,function Cio)
endfunction
function Ciq takes nothing returns boolean
return GetKillingUnitBJ()==aI and Bi9(GetKillingUnitBJ(),$49304C42)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true
endfunction
function Cir takes nothing returns nothing
if GetRandomInt(1,100)<=20 then
set ie=ie+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"时能碎片收集"+I2S(ie)+"/100")
if ie>=100 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C42))
call UnitAddItemByIdSwapped($49304C43,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetKillingUnitBJ(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"时空咏梦晋升了")
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Cis takes nothing returns nothing
set w6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(w6,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(w6,Condition(function Ciq))
call TriggerAddAction(w6,function Cir)
endfunction
function Cit takes nothing returns boolean
return GetKillingUnitBJ()==aI and Bi9(GetKillingUnitBJ(),$49304C43)==true and GetHeroLevel(GetKillingUnitBJ())>=10 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true
endfunction
function Ciu takes nothing returns nothing
if GetRandomInt(1,100)<=20 then
set ie=ie+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"时能碎片收集"+I2S(ie)+"/200")
if ie>=200 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C43))
call UnitAddItemByIdSwapped($49304C44,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetKillingUnitBJ(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"时空咏梦晋升了")
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Civ takes nothing returns nothing
set w7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(w7,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(w7,Condition(function Cit))
call TriggerAddAction(w7,function Ciu)
endfunction
function Ciw takes nothing returns boolean
return GetKillingUnitBJ()==aI and Bi9(GetKillingUnitBJ(),$49304C44)==true and GetHeroLevel(GetKillingUnitBJ())>=20 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true
endfunction
function Cix takes nothing returns nothing
if GetRandomInt(1,100)<=20 then
set ie=ie+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"时能碎片收集"+I2S(ie)+"/300")
if ie>=300 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C44))
call UnitAddItemByIdSwapped($49304C45,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetKillingUnitBJ(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"时空咏梦晋升了")
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Ciy takes nothing returns nothing
set w8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(w8,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(w8,Condition(function Ciw))
call TriggerAddAction(w8,function Cix)
endfunction
function Ciz takes nothing returns boolean
return GetKillingUnitBJ()==aI and Bi9(GetKillingUnitBJ(),$49304C45)==true and GetHeroLevel(GetKillingUnitBJ())>=30 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true
endfunction
function Ci0 takes nothing returns nothing
if GetRandomInt(1,100)<=20 then
set ie=ie+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"时能碎片收集"+I2S(ie)+"/450")
if ie>=450 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C45))
call UnitAddItemByIdSwapped($49304C46,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetKillingUnitBJ(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"时空咏梦晋升了")
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Ci1 takes nothing returns nothing
set w9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(w9,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(w9,Condition(function Ciz))
call TriggerAddAction(w9,function Ci0)
endfunction
function Ci2 takes nothing returns boolean
return GetKillingUnitBJ()==aI and Bi9(GetKillingUnitBJ(),$49304C46)==true and GetHeroLevel(GetKillingUnitBJ())>=40 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true
endfunction
function Ci3 takes nothing returns nothing
if GetRandomInt(1,100)<=20 then
set ie=ie+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"时能碎片收集"+I2S(ie)+"/600")
if ie>=600 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C46))
call UnitAddItemByIdSwapped($49304C47,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetKillingUnitBJ(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"时空咏梦晋升了")
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Ci4 takes nothing returns nothing
set xB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xB,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(xB,Condition(function Ci2))
call TriggerAddAction(xB,function Ci3)
endfunction
function Ci5 takes nothing returns boolean
return GetKillingUnitBJ()==aI and Bi9(GetKillingUnitBJ(),$49304C47)==true and Bi9(GetKillingUnitBJ(),$49304C33)==true and GetHeroLevel(GetKillingUnitBJ())>=50 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true
endfunction
function Ci6 takes nothing returns nothing
if GetRandomInt(1,100)<=20 then
set ie=ie+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"时能碎片收集"+I2S(ie)+"/800")
if ie>=800 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C47))
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C33))
call UnitAddItemByIdSwapped($49304C48,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetKillingUnitBJ(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,5.,"时空咏梦晋升了")
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,58)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,73)
call ModifyHeroStat(bj_HEROSTAT_INT,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,69)
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Ci7 takes nothing returns nothing
set xC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xC,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(xC,Condition(function Ci5))
call TriggerAddAction(xC,function Ci6)
endfunction
function Ci8 takes nothing returns boolean
return GetTriggerUnit()==aI and GetItemTypeId(GetManipulatedItem())==$49304C48
endfunction
function Ci9 takes nothing returns nothing
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
if GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.1>0. then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.1)
else
call DoNothing()
endif
endfunction
function CjB takes nothing returns nothing
set xE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(xE,Condition(function Ci8))
call TriggerAddAction(xE,function Ci9)
endfunction
function CjC takes nothing returns boolean
return GetTriggerUnit()==aI and GetItemTypeId(GetManipulatedItem())==$49304C48
endfunction
function CjD takes nothing returns nothing
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitState(GetTriggerUnit(),ConvertUnitState(37))+.1)
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function CjE takes nothing returns nothing
set xF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xF,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(xF,Condition(function CjC))
call TriggerAddAction(xF,function CjD)
endfunction
function CjF takes nothing returns boolean
return GetTriggerUnit()==aI and GetItemTypeId(GetManipulatedItem())==$49304C49
endfunction
function CjG takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5.
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function CjH takes nothing returns nothing
set xM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(xM,Condition(function CjF))
call TriggerAddAction(xM,function CjG)
endfunction
function CjI takes nothing returns boolean
return GetTriggerUnit()==aI and GetItemTypeId(GetManipulatedItem())==$49304C49
endfunction
function CjJ takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.08
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5.
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function CjK takes nothing returns nothing
set xN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xN,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(xN,Condition(function CjI))
call TriggerAddAction(xN,function CjJ)
endfunction
function CjL takes nothing returns boolean
return GetTriggerUnit()==aI and GetItemTypeId(GetManipulatedItem())==$49304C4A
endfunction
function CjM takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5.
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function CjN takes nothing returns nothing
set xP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(xP,Condition(function CjL))
call TriggerAddAction(xP,function CjM)
endfunction
function CjO takes nothing returns boolean
return GetTriggerUnit()==aI and GetItemTypeId(GetManipulatedItem())==$49304C4A
endfunction
function CjP takes nothing returns nothing
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.12
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5.
set ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ip[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function CjQ takes nothing returns nothing
set xQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xQ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(xQ,Condition(function CjO))
call TriggerAddAction(xQ,function CjP)
endfunction
function CjR takes nothing returns boolean
return GetLearnedSkill()==$41305449
endfunction
function CjS takes nothing returns nothing
set hh=hh+1
if hh>=6 then
call DisableTrigger(GetTriggeringTrigger())
else
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,8)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,8)
endif
endfunction
function CjT takes nothing returns nothing
set BBL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBL,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BBL,Condition(function CjR))
call TriggerAddAction(BBL,function CjS)
endfunction
function CjU takes nothing returns boolean
return GetSpellAbilityId()==$41305449
endfunction
function CjV takes nothing returns nothing
if GetSpellTargetUnit()==ZG and hj==true then
set hk=true
call RemoveUnit(ZG)
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,100.,BiH(GetTriggerUnit(),GetLastCreatedUnit())+180.)
call CreateNUnitsAtLoc(1,$68303652,GetOwningPlayer(GetTriggerUnit()),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
set BBJ=GetLastCreatedUnit()
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
endfunction
function CjW takes nothing returns nothing
set BBM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBM,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBM,Condition(function CjU))
call TriggerAddAction(BBM,function CjV)
endfunction
function CjX takes nothing returns boolean
return hk==true
endfunction
function CjY takes nothing returns nothing
set i8=GetUnitLoc(Z3)
set lG=PolarProjectionBJ(i8,155.,BiH(BBJ,Z3)+180.)
call SetUnitPositionLocFacingBJ(BBJ,lG,BiH(BBJ,Z3))
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function CjZ takes nothing returns nothing
set BBI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BBI,.1)
call TriggerAddCondition(BBI,Condition(function CjX))
call TriggerAddAction(BBI,function CjY)
endfunction
function Cja takes nothing returns boolean
return GetTriggerUnit()==Z3 and hk==true
endfunction
function Cjb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set hk=false
call RemoveUnit(BBJ)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水团逐渐化成一滩水，交融于水域之中..")
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水团：谢谢你....（密语）")
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),12.,"赛琳娜完成个人任务“水团归途”，在这一过程中获得了提升，全属性+10，Q技能冷却时间减半")
call UnitAddAbilityBJ($4130544B,GetTriggerUnit())
set hl=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cjc takes nothing returns nothing
set BBK=CreateTrigger()
call Bi7(BBK,S2)
call TriggerAddCondition(BBK,Condition(function Cja))
call TriggerAddAction(BBK,function Cjb)
endfunction
function Cjd takes nothing returns boolean
return GetSpellAbilityId()==$41305449
endfunction
function Cje takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==ZS and GetUnitStateSwap(UNIT_STATE_LIFE,ZS)<=.25*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,ZS) then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(ZS,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitInvulnerable(ZS,true)
call SetUnitOwner(ZO,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitOwner(ZP,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitOwner(ZQ,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitOwner(ZR,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitOwner(ZN,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitOwner(ZM,Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitOwner(ZL,Player(PLAYER_NEUTRAL_PASSIVE),true)
call StopMusic(true)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜：我想我们并不是没有商量的机会，没必要如此决绝.")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米瓦德：愚蠢，这里的封印一旦打开，不止是这所遗迹，这个世界的所有海域都会陷入危机！")
call Biy(3.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜：（低声吟唱）...")
call PlaySoundBJ(o)
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米瓦德：这..这怎么可能..")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜：此处封印之力，关乎海族的存亡")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜：你应该明白，从现在开始，你镇守此处的任务已经完成了..")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米瓦德：确实如此，老夫的使命终于圆满..")
call RemoveDestructable(UE)
set fX=true
set hn=true
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"完成个人任务“误会冰释”，获得提升，闪避率+3%，迅击概率+5%"+"")
call UnitAddAbilityBJ($4130544C,GetTriggerUnit())
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3.
set hp=hp+5.
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cjf takes nothing returns nothing
set BBG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBG,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBG,Condition(function Cjd))
call TriggerAddAction(BBG,function Cje)
endfunction
function Cjg takes nothing returns boolean
return GetSpellAbilityId()==$41305449
endfunction
function Cjh takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==ZS and hn==true then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"米瓦德：虽然我镇守此处的责任已完成，但我此前所带的返回海族的传送石，经过这么多年的岁月，早已失效，与原先的海族同胞们也早已失去联系..")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"赛琳娜：（关切）那可怎么办，您要一直留在这里吗？")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"米瓦德：不，既然任务已完成，那我不能再留在这里，我需要一种名为“时空精华”的稀有材料，它蕴含着空间的力量，能帮我修复传送石，你能帮我去寻找吗？")
call Biy(3.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"赛琳娜：（点头）当然愿意，我会尽快找到“时空精华”，让您能安全返回")
set ho=true
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"塞琳娜-时空精华","帮助米瓦德寻找时空精华","qingji01.blp")
set zo=GetLastCreatedQuestBJ()
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cji takes nothing returns nothing
set BBH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBH,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBH,Condition(function Cjg))
call TriggerAddAction(BBH,function Cjh)
endfunction
function Cjj takes nothing returns boolean
return GetSpellAbilityId()==$41305449
endfunction
function Cjk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetUnitTypeId(GetSpellTargetUnit())==$6E303534 and GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=.25*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit()) and IsUnitInGroup(GetSpellTargetUnit(),iE)==true then
call SetUnitOwner(GetSpellTargetUnit(),Player(PLAYER_NEUTRAL_PASSIVE),true)
call SetUnitInvulnerable(GetSpellTargetUnit(),true)
call GroupRemoveUnitSimple(GetSpellTargetUnit(),iE)
call SetUnitVertexColorBJ(GetSpellTargetUnit(),100,100,100,50.)
call Bjf(2,GetSpellTargetUnit())
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddHeroXPSwapped(1000,GetTriggerUnit(),false)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",GetTriggerUnit(),"chest"))
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cjl takes nothing returns nothing
set zb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zb,Condition(function Cjj))
call TriggerAddAction(zb,function Cjk)
endfunction
function Cjm takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call GroupAddUnitSimple(ZL,iE)
call GroupAddUnitSimple(ZM,iE)
call GroupAddUnitSimple(ZN,iE)
call GroupAddUnitSimple(ZO,iE)
call GroupAddUnitSimple(ZP,iE)
call GroupAddUnitSimple(ZQ,iE)
call GroupAddUnitSimple(ZR,iE)
endfunction
function Cjn takes nothing returns nothing
set zc=CreateTrigger()
call TriggerRegisterTimerEventSingle(zc,5.5)
call TriggerAddAction(zc,function Cjm)
endfunction
function Cjo takes nothing returns boolean
return GetManipulatedItem()==UU and GetTriggerUnit()==Z3
endfunction
function Cjp takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call StopSoundBJ(o,true)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),12.,"戟身蓝光在赛琳娜的触碰瞬间，一抹碧蓝的光芒骤然在掌心绽放，仿佛是大海深处最纯净的呼唤，引领着她走向那命中注定的武器——|Cff0000ff碧蓝灵戟|R")
call RemoveItem(UU)
call UnitAddItemByIdSwapped($49304B53,GetTriggerUnit())
call UnitAddAbilityBJ($4130544D,GetTriggerUnit())
call UnitAddAbilityBJ($4130544E,GetTriggerUnit())
call StopMusic(true)
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlaySoundBJ(BB)
set wO=GetLastPlayedSound()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cjq takes nothing returns nothing
set ze=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ze,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ze,Condition(function Cjo))
call TriggerAddAction(ze,function Cjp)
endfunction
function Cjr takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B53 or GetItemTypeId(GetManipulatedItem())==$49304B54 or GetItemTypeId(GetManipulatedItem())==$49304B55 or GetItemTypeId(GetManipulatedItem())==$49304B56 or GetItemTypeId(GetManipulatedItem())==$49304B57 or GetItemTypeId(GetManipulatedItem())==$49304B58 or GetItemTypeId(GetManipulatedItem())==$49304C35
endfunction
function Cjs takes nothing returns nothing
if GetTriggerUnit()==Z3 then
call DoNothing()
else
set i8=GetUnitLoc(GetTriggerUnit())
call SetItemPositionLoc(GetManipulatedItem(),i8)
call RemoveLocation(i8)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这件灵器拒绝了你...")
endif
endfunction
function Cjt takes nothing returns nothing
set zf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zf,Condition(function Cjr))
call TriggerAddAction(zf,function Cjs)
endfunction
function Cju takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B53 and GetTriggerUnit()==Z3
endfunction
function Cjv takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
endfunction
function Cjw takes nothing returns nothing
set zg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zg,Condition(function Cju))
call TriggerAddAction(zg,function Cjv)
endfunction
function Cjx takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B53 and GetTriggerUnit()==Z3
endfunction
function Cjy takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01
endfunction
function Cjz takes nothing returns nothing
set zh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zh,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(zh,Condition(function Cjx))
call TriggerAddAction(zh,function Cjy)
endfunction
function Cj0 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B54 and GetTriggerUnit()==Z3
endfunction
function Cj1 takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03*.5
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03*.5
endfunction
function Cj2 takes nothing returns nothing
set zi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zi,Condition(function Cj0))
call TriggerAddAction(zi,function Cj1)
endfunction
function Cj3 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B54 and GetTriggerUnit()==Z3
endfunction
function Cj4 takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03*.5
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03*.5
endfunction
function Cj5 takes nothing returns nothing
set zj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zj,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(zj,Condition(function Cj3))
call TriggerAddAction(zj,function Cj4)
endfunction
function Cj6 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B53)==true and Bi9(GetTriggerUnit(),$49303136)==true or Bi9(GetTriggerUnit(),$49304A35)==true
endfunction
function Cj7 takes nothing returns nothing
set hq=hq+1
if hq>=10 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49304A35))
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,12.,"碧蓝灵戟已饱吸此水源，请寻找漠尔区域的灵泉促其进阶")
set hr=true
else
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49304A35))
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"碧波灵戟倾注水源"+I2S(hq)+"/10")
endif
endfunction
function Cj8 takes nothing returns nothing
set zk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zk,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zk,Condition(function Cj6))
call TriggerAddAction(zk,function Cj7)
endfunction
function Cj9 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B53)==true and GetTriggerUnit()==Z3
endfunction
function CkB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if hr==true then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B53))
call UnitAddItemByIdSwapped($49304B54,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"戟身如同清晨海面上轻轻凝结的海露，泛着朦胧而柔和的蓝光")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜的能力得到了进一步的提升，释放Q技能可叠加一层强化普攻次数（即W技能的强化普攻）")
call UnitAddAbilityBJ($41305452,GetTriggerUnit())
call UnitAddAbilityBJ($41305453,GetTriggerUnit())
set h4=true
set h5=GetHeroStatBJ(bj_HEROSTAT_INT,Z3,false)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+I2R(h5)*10.+0)
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"请为碧蓝灵戟倾注能量后，再到此处升级武器")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CkC takes nothing returns nothing
set zl=CreateTrigger()
call Bi7(zl,TF)
call TriggerAddCondition(zl,Condition(function Cj9))
call TriggerAddAction(zl,function CkB)
endfunction
function CkD takes nothing returns boolean
return GetTriggerUnit()==Z3 and Bi9(GetTriggerUnit(),$49304C34)==true
endfunction
function CkE takes nothing returns nothing
if Bi9(GetTriggerUnit(),$49304B53)==true then
call RemoveItem(Bio(GetTriggerUnit(),$49304C34))
call RemoveItem(Bio(GetTriggerUnit(),$49304B53))
call UnitAddItemByIdSwapped($49304B54,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
else
if Bi9(GetTriggerUnit(),$49304B54)==true then
call RemoveItem(Bio(GetTriggerUnit(),$49304C34))
call RemoveItem(Bio(GetTriggerUnit(),$49304B54))
call UnitAddItemByIdSwapped($49304B55,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
else
if Bi9(GetTriggerUnit(),$49304B55)==true then
call RemoveItem(Bio(GetTriggerUnit(),$49304C34))
call RemoveItem(Bio(GetTriggerUnit(),$49304B55))
call UnitAddItemByIdSwapped($49304B56,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
else
if Bi9(GetTriggerUnit(),$49304B56)==true then
call RemoveItem(Bio(GetTriggerUnit(),$49304C34))
call RemoveItem(Bio(GetTriggerUnit(),$49304B56))
call UnitAddItemByIdSwapped($49304B57,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
else
if Bi9(GetTriggerUnit(),$49304B57)==true then
call RemoveItem(Bio(GetTriggerUnit(),$49304C34))
call RemoveItem(Bio(GetTriggerUnit(),$49304B57))
call UnitAddItemByIdSwapped($49304B58,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
else
call DoNothing()
endif
endif
endif
endif
endif
endfunction
function CkF takes nothing returns nothing
set zm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zm,Condition(function CkD))
call TriggerAddAction(zm,function CkE)
endfunction
function CkG takes nothing returns boolean
return ho==true and GetTriggerUnit()==Z3 and Bi9(GetTriggerUnit(),$49304C33)==true
endfunction
function CkH takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304C33))
call QuestSetCompleted(zo,true)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米瓦德：（眼中闪烁着惊讶与赞许）没想到你居然真的找到了时空精华，这东西的稀有程度，即便是老夫从未见过。")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米瓦德：既然你已寻得此时空精华，那老夫便借助其力，空间传送回去。此恩此情，老夫铭记于心")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜个人支线任务：时空精华完成，奖励“碧蓝灵戟突破之玉”，绿字全属性+25，闪避率+3%，物法双暴击率+5%，物法双爆伤+10%，最大生命上限+1000，法抗+8%，迅击概率+5%")
call UnitAddAbilityBJ($41305454,GetTriggerUnit())
call UnitAddAbilityBJ($41305455,GetTriggerUnit())
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3.
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f6[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
set hp=hp+5.
set i8=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304C34,i8)
call RemoveLocation(i8)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米瓦德：待老夫准备一些时间，确保万无一失后，再回去")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CkI takes nothing returns nothing
set zn=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(zn,300.,ZS)
call TriggerAddCondition(zn,Condition(function CkG))
call TriggerAddAction(zn,function CkH)
endfunction
function CkJ takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B55 and GetTriggerUnit()==Z3
endfunction
function CkK takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
endfunction
function CkL takes nothing returns nothing
set zp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zp,Condition(function CkJ))
call TriggerAddAction(zp,function CkK)
endfunction
function CkM takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B55 and GetTriggerUnit()==Z3
endfunction
function CkN takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function CkO takes nothing returns nothing
set zq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zq,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(zq,Condition(function CkM))
call TriggerAddAction(zq,function CkN)
endfunction
function CkP takes nothing returns boolean
return GetSpellAbilityId()==$41305449
endfunction
function CkQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==aF then
set h6=true
call RemoveUnit(aF)
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,100.,BiH(GetTriggerUnit(),GetLastCreatedUnit())+180.)
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(GetTriggerUnit()),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
set zs=GetLastCreatedUnit()
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
if GetSpellTargetUnit()==aG then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水精灵：此处山谷的异变气息太浓重了")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水精灵：恳请你助我一臂之力，深入调查山谷异变的真相")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"赛琳娜个人支线任务：重焕昔日生机开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"塞琳娜-重焕昔日生机","帮助水精灵调查山谷异变的真相，并回来告知它","qingji01.blp")
set zt=GetLastCreatedQuestBJ()
set h8=true
else
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CkR takes nothing returns nothing
set zr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zr,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zr,Condition(function CkP))
call TriggerAddAction(zr,function CkQ)
endfunction
function CkS takes nothing returns boolean
return h6==true
endfunction
function CkT takes nothing returns nothing
set i8=GetUnitLoc(Z3)
set lG=PolarProjectionBJ(i8,155.,BiH(zs,Z3)+180.)
call SetUnitPositionLocFacingBJ(zs,lG,BiH(zs,Z3))
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function CkU takes nothing returns nothing
set zu=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(zu,.1)
call TriggerAddCondition(zu,Condition(function CkS))
call TriggerAddAction(zu,function CkT)
endfunction
function CkV takes nothing returns boolean
return GetTriggerUnit()==Z3 and h6==true
endfunction
function CkW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set h6=false
call RemoveUnit(zs)
call ShowUnit(aG,true)
call UnitAddAbilityBJ($41305456,GetTriggerUnit())
set h7=true
endfunction
function CkX takes nothing returns nothing
set zv=CreateTrigger()
call Bi7(zv,Et)
call TriggerAddCondition(zv,Condition(function CkV))
call TriggerAddAction(zv,function CkW)
endfunction
function CkY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(aG,false)
endfunction
function CkZ takes nothing returns nothing
set zw=CreateTrigger()
call TriggerRegisterTimerEventSingle(zw,5)
call TriggerAddAction(zw,function CkY)
endfunction
function Cka takes nothing returns boolean
return GetSpellAbilityId()==$41305449 and GetTriggerUnit()==Z3 and h8==true and Bi9(GetTriggerUnit(),$49304132)==true
endfunction
function Ckb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==aG then
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水精灵：没错了，这个头颅能帮我解析异变的原因")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水精灵：你不需要把这个头颅给我，我自己复制一份即可")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"赛琳娜个人支线任务：重焕昔日生机完成，奖励碧蓝灵戟突破之玉，个人技能获得强化，使用Q技能可刷新F技能，使用F技能可增加强化普攻1次，并恢复自身2倍智力+150点损失的生命值")
call QuestSetCompleted(zt,true)
set i8=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304C34,i8)
call RemoveLocation(i8)
set h9=true
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水精灵：我需要先研究一段时间..")
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ckc takes nothing returns nothing
set zx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zx,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zx,Condition(function Cka))
call TriggerAddAction(zx,function Ckb)
endfunction
function Ckd takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303136)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303136))==10 and GetTriggerUnit()==Z3 and Bi9(GetTriggerUnit(),$49304B54)==true or Bi9(GetTriggerUnit(),$49304B55)==true or Bi9(GetTriggerUnit(),$49304B56)==true or Bi9(GetTriggerUnit(),$49304B57)==true or Bi9(GetTriggerUnit(),$49304B58)==true
endfunction
function Cke takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call UnitAddItemByIdSwapped($49304C35,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
endfunction
function Ckf takes nothing returns nothing
set z9=CreateTrigger()
call Bi7(z9,TF)
call TriggerAddCondition(z9,Condition(function Ckd))
call TriggerAddAction(z9,function Cke)
endfunction
function Ckg takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304C35 and GetTriggerUnit()==Z3
endfunction
function Ckh takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3.
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
endfunction
function Cki takes nothing returns nothing
set BBB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BBB,Condition(function Ckg))
call TriggerAddAction(BBB,function Ckh)
endfunction
function Ckj takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304C35 and GetTriggerUnit()==Z3
endfunction
function Ckk takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3.
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.08
endfunction
function Ckl takes nothing returns nothing
set BBC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BBC,Condition(function Ckj))
call TriggerAddAction(BBC,function Ckk)
endfunction
function Ckm takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304C37 and GetTriggerUnit()==Z3
endfunction
function Ckn takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5.
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
endfunction
function Cko takes nothing returns nothing
set BBD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBD,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BBD,Condition(function Ckm))
call TriggerAddAction(BBD,function Ckn)
endfunction
function Ckp takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304C37 and GetTriggerUnit()==Z3
endfunction
function Ckq takes nothing returns nothing
set fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fK[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5.
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
endfunction
function Ckr takes nothing returns nothing
set BBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BBE,Condition(function Ckp))
call TriggerAddAction(BBE,function Ckq)
endfunction
function Cks takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303136)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303136))==10 and Bi9(GetTriggerUnit(),$49304A35)==true and Bi9(GetTriggerUnit(),$49304C35)==true and GetTriggerUnit()==Z3 and Bi9(GetTriggerUnit(),$49304B57)==true or Bi9(GetTriggerUnit(),$49304B58)==true
endfunction
function Ckt takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304C35))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49304A35))
call UnitAddItemByIdSwapped($49304C37,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set iF=true
call DisplayTimedTextToForce(GetPlayersAll(),12.,"赛琳娜完成个人支线任务，Q技能和F技能获得强化，附带5倍智力+500的法术伤害")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cku takes nothing returns nothing
set BBF=CreateTrigger()
call Bi7(BBF,II)
call TriggerAddCondition(BBF,Condition(function Cks))
call TriggerAddAction(BBF,function Ckt)
endfunction
function Ckv takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B56 and GetTriggerUnit()==Z3
endfunction
function Ckw takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
endfunction
function Ckx takes nothing returns nothing
set zy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(zy,Condition(function Ckv))
call TriggerAddAction(zy,function Ckw)
endfunction
function Cky takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B56 and GetTriggerUnit()==Z3
endfunction
function Ckz takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
endfunction
function Ck0 takes nothing returns nothing
set zz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zz,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(zz,Condition(function Cky))
call TriggerAddAction(zz,function Ckz)
endfunction
function Ck1 takes nothing returns boolean
return GetSpellAbilityId()==$41305449
endfunction
function Ck2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==YW and GetUnitStateSwap(UNIT_STATE_LIFE,YW)<=.25*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,YW) then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YW,Player(PLAYER_NEUTRAL_PASSIVE),true)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"守护精灵：帮我...驱除...邪..能...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"赛琳娜个人任务：驱除邪能开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"塞琳娜-驱除邪能","帮助守护精灵驱除邪能，需要携带以下物品：碧澜精华","qingji01.blp")
set z1=GetLastCreatedQuestBJ()
set iB=true
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ck3 takes nothing returns nothing
set z0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(z0,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(z0,Condition(function Ck1))
call TriggerAddAction(z0,function Ck2)
endfunction
function Ck4 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303136)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303136))==10 and GetTriggerUnit()==Z3 and Bi9(GetTriggerUnit(),$49304C35)==true and Bi9(GetTriggerUnit(),$4930384D)==true or Bi9(GetTriggerUnit(),$49304737)==true or Bi9(GetTriggerUnit(),$49304739)==true or Bi9(GetTriggerUnit(),$49304741)==true or Bi9(GetTriggerUnit(),$4930474B)==true
endfunction
function Ck5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call UnitAddItemByIdSwapped($49304C36,GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
endfunction
function Ck6 takes nothing returns nothing
set z2=CreateTrigger()
call Bi7(z2,TF)
call TriggerAddCondition(z2,Condition(function Ck4))
call TriggerAddAction(z2,function Ck5)
endfunction
function Ck7 takes nothing returns boolean
return GetSpellAbilityId()==$41305449 and GetTriggerUnit()==Z3 and iB==true and Bi9(GetTriggerUnit(),$49304C36)==true
endfunction
function Ck8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304C36))
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛琳娜个人任务：驱除邪能完成")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"守护精灵：谢谢你...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获得奖励：碧蓝灵戟突破之玉，W技能CD减半，强化普攻将额外施加3倍智力+300的法术伤害")
set i8=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304C34,i8)
call RemoveLocation(i8)
set iC=true
call QuestSetCompleted(z1,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ck9 takes nothing returns nothing
set z3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(z3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(z3,Condition(function Ck7))
call TriggerAddAction(z3,function Ck8)
endfunction
function ClB takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B57 and GetTriggerUnit()==Z3
endfunction
function ClC takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
endfunction
function ClD takes nothing returns nothing
set z4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(z4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(z4,Condition(function ClB))
call TriggerAddAction(z4,function ClC)
endfunction
function ClE takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B57 and GetTriggerUnit()==Z3
endfunction
function ClF takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.3
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.3
endfunction
function ClG takes nothing returns nothing
set z5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(z5,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(z5,Condition(function ClE))
call TriggerAddAction(z5,function ClF)
endfunction
function ClH takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B58 and GetTriggerUnit()==Z3
endfunction
function ClI takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
endfunction
function ClJ takes nothing returns nothing
set z6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(z6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(z6,Condition(function ClH))
call TriggerAddAction(z6,function ClI)
endfunction
function ClK takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B58 and GetTriggerUnit()==Z3
endfunction
function ClL takes nothing returns nothing
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.3
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.3
endfunction
function ClM takes nothing returns nothing
set z7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(z7,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(z7,Condition(function ClK))
call TriggerAddAction(z7,function ClL)
endfunction
function ClN takes nothing returns boolean
return GetTriggerUnit()==Z3 and Bi9(GetTriggerUnit(),$49304B57)==true and Bi9(GetTriggerUnit(),$49304456)==true and Bi9(GetTriggerUnit(),$49304C35)==true or Bi9(GetTriggerUnit(),$49304C37)==true
endfunction
function ClO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304C34,i8)
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetTriggerUnit(),"chest"))
endfunction
function ClP takes nothing returns nothing
set z8=CreateTrigger()
call Bi7(z8,My)
call TriggerAddCondition(z8,Condition(function ClN))
call TriggerAddAction(z8,function ClO)
endfunction
function ClQ takes nothing returns boolean
return ht<=10 and GetKillingUnitBJ()==ZU or (fb==true and GetKillingUnitBJ()==U6)
endfunction
function ClR takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set ht=ht+1
if GetRandomReal(1.,100.)<=2.9 then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(sQ)
call DisableTrigger(sR)
call DisableTrigger(sS)
call DisableTrigger(sT)
call CameraSetEQNoiseForPlayer(Player(0),6.)
call CameraSetEQNoiseForPlayer(Player(1),6.)
call CameraSetEQNoiseForPlayer(Player(2),6.)
call CameraSetEQNoiseForPlayer(Player(3),6.)
call CameraSetEQNoiseForPlayer(Player(4),6.)
call CameraSetEQNoiseForPlayer(Player(5),6.)
call CameraSetEQNoiseForPlayer(Player(6),6.)
call CameraSetEQNoiseForPlayer(Player(7),6.)
call StopMusic(true)
call PlaySoundBJ(e)
call PlaySoundBJ(a)
call UnitRemoveAbilityBJ($41305141,GetTriggerUnit())
call Biz(GetTriggerUnit(),$4830354C,bj_UNIT_STATE_METHOD_DEFAULTS)
set pq=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
call SetHeroLevel(pq,GetHeroLevel(pq)+3,true)
set fI[GetPlayerId(GetOwningPlayer(pq))]=fI[GetPlayerId(GetOwningPlayer(pq))]+.02
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
else
if fa==true then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(sQ)
call DisableTrigger(sR)
call DisableTrigger(sS)
call CameraSetEQNoiseForPlayer(Player(0),6.)
call CameraSetEQNoiseForPlayer(Player(1),6.)
call CameraSetEQNoiseForPlayer(Player(2),6.)
call CameraSetEQNoiseForPlayer(Player(3),6.)
call CameraSetEQNoiseForPlayer(Player(4),6.)
call CameraSetEQNoiseForPlayer(Player(5),6.)
call CameraSetEQNoiseForPlayer(Player(6),6.)
call CameraSetEQNoiseForPlayer(Player(7),6.)
call StopMusic(true)
call PlaySoundBJ(e)
call PlaySoundBJ(a)
call UnitRemoveAbilityBJ($41305141,GetTriggerUnit())
call Biz(GetTriggerUnit(),$4830354C,bj_UNIT_STATE_METHOD_DEFAULTS)
set pq=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
call SetHeroLevel(pq,GetHeroLevel(pq)+3,true)
set fI[GetPlayerId(GetOwningPlayer(pq))]=fI[GetPlayerId(GetOwningPlayer(pq))]+.02
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
else
call DoNothing()
endif
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ClS takes nothing returns nothing
set sP=CreateTrigger()
call TriggerRegisterUnitEvent(sP,ZK,EVENT_UNIT_DEATH)
call TriggerAddCondition(sP,Condition(function ClQ))
call TriggerAddAction(sP,function ClR)
endfunction
function ClT takes nothing returns boolean
return GetPlayerColor(GetOwningPlayer(ZK))==GetPlayerColor(GetTriggerPlayer()) and GetPlayerName(GetTriggerPlayer())=="HJJTYRYRETERTFDGDFHDFHFGGH%#$%#$%HFHTRYRTYRUTYTYJFGHFHGDGD&%^#$@@!!$%" or GetPlayerName(GetTriggerPlayer())=="GFDGHTRTRYEROU@$!$%^#$%OEIROITUIOE384573ERTERIJFD^$%^%$%#%$$@GBCBBVCCFG"
endfunction
function ClU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"今天的月亮格外红呢..")
set fa=true
endfunction
function ClV takes nothing returns nothing
set sb=CreateTrigger()
call TriggerRegisterPlayerChatEvent(sb,Player(0),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(1),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(2),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(3),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(4),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(5),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(6),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(7),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(8),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(9),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(10),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(11),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(12),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(13),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(14),"fldl",true)
call TriggerRegisterPlayerChatEvent(sb,Player(15),"fldl",true)
call TriggerAddCondition(sb,Condition(function ClT))
call TriggerAddAction(sb,function ClU)
endfunction
function ClW takes nothing returns boolean
return GetSpellAbilityId()==$41305155
endfunction
function ClX takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(SI,i8)
call RemoveLocation(i8)
call StopSoundBJ(b,false)
call StopSoundBJ(X,false)
call PlaySoundOnUnitBJ(b,100,GetTriggerUnit())
call PlaySoundOnUnitBJ(X,100.,pq)
set fc=GetUnitAbilityLevelSwapped($41305155,GetTriggerUnit())
set q2=GetSpellTargetLoc()
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6830354E,GetOwningPlayer(GetTriggerUnit()),i8,BiF(GetTriggerUnit(),q2))
call RemoveLocation(i8)
set q3=GetLastCreatedUnit()
call Bjf(.5,GetLastCreatedUnit())
call SetUnitPathing(GetLastCreatedUnit(),false)
call StartTimerBJ(fd,true,.01)
call SetPlayerAbilityAvailableBJ(false,$41305155,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305156,GetTriggerUnit())
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(fd)
call GroupClear(fe)
call Biy(9.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305156,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305155,GetOwningPlayer(GetTriggerUnit()))
set fg=0
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function ClY takes nothing returns nothing
set q1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(q1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(q1,Condition(function ClW))
call TriggerAddAction(q1,function ClX)
endfunction
function ClZ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and (IsUnitAliveBJ(GetFilterUnit())==true and IsUnitInGroup(GetFilterUnit(),fe)==false)
endfunction
function Cla takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),fe)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
set lG=GetRandomLocInRect(SI)
call CreateNUnitsAtLoc(1,$6830354F,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitDamageTargetBJ(pq,GetEnumUnit(),(50.+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fc)+.2*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function Clb takes nothing returns nothing
set i8=GetUnitLoc(q3)
set lG=PolarProjectionBJ(i8,35.,GetUnitFacing(q3))
call SetUnitPositionLoc(q3,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",q3,"origin"))
set i8=GetUnitLoc(q3)
set fP=Biq(250.,i8,Condition(function ClZ))
call ForGroupBJ(fP,function Cla)
call RemoveLocation(i8)
call DestroyGroup(fP)
endfunction
function Clc takes nothing returns nothing
set q4=CreateTrigger()
call TriggerRegisterTimerExpireEvent(q4,fd)
call TriggerAddAction(q4,function Clb)
endfunction
function Cld takes nothing returns boolean
return GetSpellAbilityId()==$41305156
endfunction
function Cle takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set q6=GetSpellTargetLoc()
set fg=fg+1
call StartTimerBJ(ff,true,.01)
call StopSoundBJ(c,false)
call PlaySoundOnUnitBJ(c,100,GetTriggerUnit())
if fg>=3 then
call UnitRemoveAbilityBJ($41305156,pq)
set fg=0
else
call DoNothing()
endif
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(ff)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Clf takes nothing returns nothing
set q5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(q5,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(q5,Condition(function Cld))
call TriggerAddAction(q5,function Cle)
endfunction
function Clg takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Clh takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(35.+.3*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fc)+.25*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function Cli takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Clj takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(35.+.3*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fc)+.25*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function Clk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInRangeLoc(pq,q6,50.)==true then
call PauseTimer(ff)
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,100.,GetUnitFacing(pq))
call CreateNUnitsAtLoc(1,$68303550,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
set q8=GetLastCreatedUnit()
call Bjf(1.,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
call StopSoundBJ(d,false)
call PlaySoundOnUnitBJ(d,100,pq)
call SetUnitAnimation(GetLastCreatedUnit(),"death 3")
call SetUnitAnimation(pq,"attack")
set i8=GetUnitLoc(pq)
set fP=Biq(400.,i8,Condition(function Clg))
call ForGroupBJ(fP,function Clh)
call DestroyGroup(fP)
call RemoveLocation(i8)
set lG=GetUnitLoc(pq)
call CreateNUnitsAtLoc(1,$68303551,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimation(q8,"death 1")
call SetUnitAnimation(pq,"attack")
set i8=GetUnitLoc(pq)
set fP=Biq(400.,i8,Condition(function Cli))
call ForGroupBJ(fP,function Clj)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,50.,BiF(pq,q6))
call SetUnitPositionLoc(pq,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call SetUnitAnimation(pq,"attack")
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",pq,"origin"))
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cll takes nothing returns nothing
set q7=CreateTrigger()
call TriggerRegisterTimerExpireEvent(q7,ff)
call TriggerAddAction(q7,function Clk)
endfunction
function Clm takes nothing returns boolean
return GetSpellAbilityId()==$41305159
endfunction
function Cln takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(f,false)
call PlaySoundOnUnitBJ(f,100,pq)
set fh=GetUnitAbilityLevelSwapped($41305159,GetTriggerUnit())
set rB=GetSpellTargetLoc()
call StartTimerBJ(fi,true,.01)
call SetPlayerAbilityAvailableBJ(false,$41305159,GetOwningPlayer(GetTriggerUnit()))
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($4130515A,GetTriggerUnit())
call Biy(10.9)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($4130515A,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305236,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305159,GetOwningPlayer(GetTriggerUnit()))
set f0=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Clo takes nothing returns nothing
set q9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(q9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(q9,Condition(function Clm))
call TriggerAddAction(q9,function Cln)
endfunction
function Clp takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Clq takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(50.+.35*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fh)+.35*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(rE,GetEnumUnit(),1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Clr takes nothing returns nothing
set fj=fj+1
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(pq,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=rB
set rB=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",pq,"origin"))
if fj>=8 then
call PauseTimer(fi)
call SetUnitAnimation(pq,"attack")
set fj=0
call StopSoundBJ(Y,false)
call PlaySoundOnUnitBJ(Y,100,pq)
set qH=GetUnitLoc(pq)
call CreateNUnitsAtLoc(1,$68303552,GetOwningPlayer(pq),qH,BiF(pq,rB))
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set rD=GetLastCreatedUnit()
call RemoveLocation(qH)
call Bjf(.2,GetLastCreatedUnit())
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\by_wood_effect_order_dange_bh3_daoguang_2_r5.mdx",GetLastCreatedUnit(),"origin"))
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,100.,BiF(pq,rB))
call CreateNUnitsAtLoc(1,$68303553,GetOwningPlayer(pq),lG,BiF(pq,rB))
set rE=GetLastCreatedUnit()
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(.5,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(rE)
set fP=Biq(300.,i8,Condition(function Clp))
call ForGroupBJ(fP,function Clq)
call DestroyGroup(fP)
call RemoveLocation(i8)
call StartTimerBJ(fk,true,.01)
else
call DoNothing()
endif
endfunction
function Cls takes nothing returns nothing
set rC=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rC,fi)
call TriggerAddAction(rC,function Clr)
endfunction
function Clt takes nothing returns boolean
return GetEventDamageSource()==rE and GetUnitTypeId(GetEventDamageSource())==$68303553 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Clu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(fl,true,.01)
call GroupAddUnitSimple(GetTriggerUnit(),fm)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Clv takes nothing returns nothing
set rF=CreateTrigger()
call Bi3(rF)
call TriggerAddCondition(rF,Condition(function Clt))
call TriggerAddAction(rF,function Clu)
endfunction
function Clw takes nothing returns nothing
set i8=GetUnitLoc(GetEnumUnit())
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(GetEnumUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Clx takes nothing returns nothing
set fn=fn+1
call ForGroupBJ(fm,function Clw)
if fn>=8 then
call PauseTimer(fl)
set fn=0
call GroupClear(fm)
else
call DoNothing()
endif
endfunction
function Cly takes nothing returns nothing
set rG=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rG,fl)
call TriggerAddAction(rG,function Clx)
endfunction
function Clz takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cl0 takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(50.+.35*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fh)+.35*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(rE,GetEnumUnit(),1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cl1 takes nothing returns nothing
set fj=fj+1
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(pq,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=rB
set rB=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",pq,"origin"))
if fj>=8 then
call PauseTimer(fk)
call SetUnitAnimation(pq,"attack")
set fj=0
call StopSoundBJ(Y,false)
call PlaySoundOnUnitBJ(Y,100,pq)
set qH=GetUnitLoc(pq)
call CreateNUnitsAtLoc(1,$68303552,GetOwningPlayer(pq),qH,BiF(pq,rB))
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set rD=GetLastCreatedUnit()
call RemoveLocation(qH)
call Bjf(.2,GetLastCreatedUnit())
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\by_wood_effect_order_dange_bh3_daoguang_2_r5.mdx",GetLastCreatedUnit(),"origin"))
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,100.,BiF(pq,rB))
call CreateNUnitsAtLoc(1,$68303553,GetOwningPlayer(pq),lG,BiF(pq,rB))
set rE=GetLastCreatedUnit()
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(.5,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(rE)
set fP=Biq(300.,i8,Condition(function Clz))
call ForGroupBJ(fP,function Cl0)
call DestroyGroup(fP)
call RemoveLocation(i8)
call StartTimerBJ(fo,true,.01)
else
call DoNothing()
endif
endfunction
function Cl2 takes nothing returns nothing
set rH=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rH,fk)
call TriggerAddAction(rH,function Cl1)
endfunction
function Cl3 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cl4 takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(50.+.35*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fh)+.35*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(rJ,GetEnumUnit(),1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Cl5 takes nothing returns nothing
set fj=fj+1
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(pq,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=rB
set rB=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",pq,"origin"))
if fj>=8 then
call PauseTimer(fo)
call SetUnitAnimation(pq,"attack")
set fj=0
call StopSoundBJ(Y,false)
call PlaySoundOnUnitBJ(Y,100,pq)
set qH=GetUnitLoc(pq)
call CreateNUnitsAtLoc(1,$68303552,GetOwningPlayer(pq),qH,BiF(pq,rB))
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set rD=GetLastCreatedUnit()
call RemoveLocation(qH)
call Bjf(.2,GetLastCreatedUnit())
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\by_wood_effect_order_dange_bh3_daoguang_2_r5.mdx",GetLastCreatedUnit(),"origin"))
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,100.,BiF(pq,rB))
call CreateNUnitsAtLoc(1,$68303553,GetOwningPlayer(pq),lG,BiF(pq,rB))
set rJ=GetLastCreatedUnit()
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(.5,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(rJ)
set fP=Biq(300.,i8,Condition(function Cl3))
call ForGroupBJ(fP,function Cl4)
call DestroyGroup(fP)
call RemoveLocation(i8)
call StartTimerBJ(fp,true,.01)
else
call DoNothing()
endif
endfunction
function Cl6 takes nothing returns nothing
set rI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rI,fo)
call TriggerAddAction(rI,function Cl5)
endfunction
function Cl7 takes nothing returns boolean
return GetEventDamageSource()==rJ and GetUnitTypeId(GetEventDamageSource())==$68303553 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cl8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(fq,true,.01)
call GroupAddUnitSimple(GetTriggerUnit(),fr)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cl9 takes nothing returns nothing
set rK=CreateTrigger()
call Bi3(rK)
call TriggerAddCondition(rK,Condition(function Cl7))
call TriggerAddAction(rK,function Cl8)
endfunction
function CmB takes nothing returns nothing
set i8=GetUnitLoc(GetEnumUnit())
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(GetEnumUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function CmC takes nothing returns nothing
set fs=fs+1
call ForGroupBJ(fr,function CmB)
if fs>=24 then
call PauseTimer(fq)
set fs=0
call GroupClear(fr)
else
call DoNothing()
endif
endfunction
function CmD takes nothing returns nothing
set rN=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rN,fq)
call TriggerAddAction(rN,function CmC)
endfunction
function CmE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CmF takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(125.+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fh)+.5*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(rM,GetEnumUnit(),1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CmG takes nothing returns nothing
set fj=fj+1
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(pq,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=rB
set rB=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",pq,"origin"))
if fj>=24 then
call PauseTimer(fp)
call RemoveUnit(rD)
call SetUnitAnimation(pq,"attack")
set fj=0
call StopSoundBJ(i,false)
call PlaySoundOnUnitBJ(i,100,pq)
set qH=GetUnitLoc(pq)
call CreateNUnitsAtLoc(1,$68303552,GetOwningPlayer(pq),qH,BiF(pq,rB))
call SetUnitVertexColor(GetLastCreatedUnit(),255,255,255,100)
set rD=GetLastCreatedUnit()
call RemoveLocation(qH)
call Bjf(.2,GetLastCreatedUnit())
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[dz.spell]006.mdx",pq,"origin"))
call EXSetEffectSize(bj_lastCreatedEffect,1.5)
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,100.,BiF(pq,rB))
call CreateNUnitsAtLoc(1,$68303553,GetOwningPlayer(pq),lG,BiF(pq,rB))
set rM=GetLastCreatedUnit()
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(.5,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(rM)
set fP=Biq(525.,i8,Condition(function CmE))
call ForGroupBJ(fP,function CmF)
call DestroyGroup(fP)
call RemoveLocation(i8)
set lG=GetUnitLoc(pq)
call CreateNUnitsAtLoc(1,$68303554,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
else
call DoNothing()
endif
endfunction
function CmH takes nothing returns nothing
set rP=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rP,fp)
call TriggerAddAction(rP,function CmG)
endfunction
function CmI takes nothing returns boolean
return GetEventDamageSource()==rM and GetUnitTypeId(GetEventDamageSource())==$68303553 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CmJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(ft,true,.01)
call GroupAddUnitSimple(GetTriggerUnit(),fu)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CmK takes nothing returns nothing
set rL=CreateTrigger()
call Bi3(rL)
call TriggerAddCondition(rL,Condition(function CmI))
call TriggerAddAction(rL,function CmJ)
endfunction
function CmL takes nothing returns nothing
set i8=GetUnitLoc(GetEnumUnit())
set lG=PolarProjectionBJ(i8,30.,BiF(pq,rB))
call SetUnitPositionLoc(GetEnumUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function CmM takes nothing returns nothing
set fv=fv+1
call ForGroupBJ(fu,function CmL)
if fv>=16 then
call PauseTimer(ft)
set fv=0
call GroupClear(fu)
else
call DoNothing()
endif
endfunction
function CmN takes nothing returns nothing
set rO=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rO,ft)
call TriggerAddAction(rO,function CmM)
endfunction
function CmO takes nothing returns boolean
return GetSpellAbilityId()==$4130515A
endfunction
function CmP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set rR=GetSpellTargetLoc()
set f0=true
call UnitRemoveAbilityBJ($4130515A,GetTriggerUnit())
call SetUnitAnimation(pq,"attack")
set bj_forLoopAIndex=-1
set bj_forLoopAIndexEnd=1
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,200.,BiF(GetTriggerUnit(),rR)+30.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$68303555,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\by_wood_effect_d2_shadowfiend_shadowraze_1.mdx",GetLastCreatedUnit(),"origin"))
call SetUnitPathing(GetLastCreatedUnit(),false)
call Bjf(.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StopSoundBJ(g,false)
call PlaySoundOnUnitBJ(g,100,pq)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimation(pq,"attack")
set bj_forLoopAIndex=-2
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,400.,BiF(GetTriggerUnit(),rR)+30.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$68303555,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\by_wood_effect_d2_shadowfiend_shadowraze_1.mdx",GetLastCreatedUnit(),"origin"))
call SetUnitPathing(GetLastCreatedUnit(),false)
call Bjf(.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StopSoundBJ(g,false)
call PlaySoundOnUnitBJ(g,100,pq)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimation(pq,"attack")
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,600.,BiF(GetTriggerUnit(),rR)+30.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$68303555,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\by_wood_effect_d2_shadowfiend_shadowraze_1.mdx",GetLastCreatedUnit(),"origin"))
call SetUnitPathing(GetLastCreatedUnit(),false)
call Bjf(.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StopSoundBJ(g,false)
call PlaySoundOnUnitBJ(g,100,pq)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CmQ takes nothing returns nothing
set rQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(rQ,Condition(function CmO))
call TriggerAddAction(rQ,function CmP)
endfunction
function CmR takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303555
endfunction
function CmS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(pq,GetTriggerUnit(),(100.+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fh)+.1*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CmT takes nothing returns nothing
set rS=CreateTrigger()
call Bi3(rS)
call TriggerAddCondition(rS,Condition(function CmR))
call TriggerAddAction(rS,function CmS)
endfunction
function CmU takes nothing returns boolean
return GetEventDamageSource()==pq and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and fw>=1
endfunction
function CmV takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(pq))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CmW takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"chest"))
call UnitDamageTargetBJ(pq,GetEnumUnit(),(30.+.2*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fw)+.02*I2R(fw)*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function CmX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,100.,BiH(pq,GetTriggerUnit()))
call CreateNUnitsAtLoc(1,$68303556,GetOwningPlayer(pq),i8,bj_UNIT_FACING)
call Bjf(.2,GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,$68303557,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
set rU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(.2,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(rU)
set fP=Biq(215.,i8,Condition(function CmV))
call ForGroupBJ(fP,function CmW)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CmY takes nothing returns nothing
set rT=CreateTrigger()
call Bi3(rT)
call TriggerAddCondition(rT,Condition(function CmU))
call TriggerAddAction(rT,function CmX)
endfunction
function CmZ takes nothing returns boolean
return GetLearnedSkill()==$41305233 and GetTriggerUnit()==pq
endfunction
function Cma takes nothing returns nothing
set fx=fx+1
set fw=GetUnitAbilityLevelSwapped($41305233,GetTriggerUnit())
if fx>=11 then
call DisableTrigger(GetTriggeringTrigger())
else
set e3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=e3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4.
set fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02*.1
endif
endfunction
function Cmb takes nothing returns nothing
set rV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(rV,Condition(function CmZ))
call TriggerAddAction(rV,function Cma)
endfunction
function Cmc takes nothing returns boolean
return GetSpellAbilityId()==$41305234
endfunction
function Cmd takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(h,false)
call PlaySoundOnUnitBJ(h,100,pq)
call RemoveUnit(rX)
call RemoveUnit(rY)
call RemoveUnit(rZ)
call SetUnitAnimationByIndex(pq,12)
set fz=GetUnitAbilityLevelSwapped($41305234,GetTriggerUnit())
call SetUnitState(GetTriggerUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit())+600.)
call SetUnitAcquireRange(pq,GetUnitAcquireRange(pq)+600.)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,50.,GetUnitFacing(GetTriggerUnit())+120.)
call CreateNUnitsAtLoc(1,$68303558,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(i8)
call RemoveLocation(lG)
set rX=GetLastCreatedUnit()
call SetUnitPathing(GetLastCreatedUnit(),false)
call SetUnitState(GetLastCreatedUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit()))
call SetUnitAcquireRange(GetLastCreatedUnit(),GetUnitAcquireRange(GetTriggerUnit()))
call Bjf(30.,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),GetUnitFacing(GetTriggerUnit())+120.,400.,.1,.03,0,false,true,false,"origin","Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl","")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimationByIndex(pq,12)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,50.,GetUnitFacing(GetTriggerUnit())+240.)
call CreateNUnitsAtLoc(1,$68303558,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(i8)
call RemoveLocation(lG)
set rY=GetLastCreatedUnit()
call SetUnitPathing(GetLastCreatedUnit(),false)
call SetUnitState(GetLastCreatedUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit()))
call SetUnitAcquireRange(GetLastCreatedUnit(),GetUnitAcquireRange(GetTriggerUnit()))
call Bjf(30.,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),GetUnitFacing(GetTriggerUnit())+240.,400.,.1,.03,0,false,true,false,"origin","Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl","")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimationByIndex(pq,12)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,50.,GetUnitFacing(GetTriggerUnit())+360.)
call CreateNUnitsAtLoc(1,$68303558,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(i8)
call RemoveLocation(lG)
set rZ=GetLastCreatedUnit()
call SetUnitPathing(GetLastCreatedUnit(),false)
call SetUnitState(GetLastCreatedUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit()))
call SetUnitAcquireRange(GetLastCreatedUnit(),GetUnitAcquireRange(GetTriggerUnit()))
call Bjf(30.,GetLastCreatedUnit())
call BjX(GetLastCreatedUnit(),GetUnitFacing(GetTriggerUnit())+360.,400.,.1,.03,0,false,true,false,"origin","Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl","")
call StartTimerBJ(fy,true,1.)
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(fy)
call SetUnitState(GetTriggerUnit(),ConvertUnitState(22),GetUnitStateSwap(ConvertUnitState(22),GetTriggerUnit())-600.)
call SetUnitAcquireRange(pq,GetUnitAcquireRange(pq)-600.)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cme takes nothing returns nothing
set rW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rW,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(rW,Condition(function Cmc))
call TriggerAddAction(rW,function Cmd)
endfunction
function Cmf takes nothing returns nothing
set i8=GetUnitLoc(pq)
call MoveRectToLoc(SJ,i8)
call RemoveLocation(i8)
if IsUnitInRange(rX,pq,1000.)==false then
set i8=GetRandomLocInRect(SJ)
set lG=PolarProjectionBJ(i8,300.,BiF(rX,i8))
call SetUnitPositionLoc(rX,lG)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",rX,"chest"))
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
if IsUnitInRange(rY,pq,1000.)==false then
set i8=GetRandomLocInRect(SJ)
set lG=PolarProjectionBJ(i8,300.,BiF(rX,i8))
call SetUnitPositionLoc(rY,lG)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",rY,"chest"))
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
if IsUnitInRange(rZ,pq,1000.)==false then
set i8=GetRandomLocInRect(SJ)
set lG=PolarProjectionBJ(i8,300.,BiF(rX,i8))
call SetUnitPositionLoc(rZ,lG)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",rZ,"chest"))
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
set i8=GetRandomLocInRect(SJ)
set lG=PolarProjectionBJ(i8,300.,BiF(rX,i8))
call IssuePointOrderLoc(rX,"patrol",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetRandomLocInRect(SJ)
set lG=PolarProjectionBJ(i8,300.,BiF(rY,i8))
call IssuePointOrderLoc(rY,"patrol",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetRandomLocInRect(SJ)
set lG=PolarProjectionBJ(i8,300.,BiF(rZ,i8))
call IssuePointOrderLoc(rZ,"patrol",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Cmg takes nothing returns nothing
set ra=CreateTrigger()
call TriggerRegisterTimerExpireEvent(ra,fy)
call TriggerAddAction(ra,function Cmf)
endfunction
function Cmh takes nothing returns boolean
return GetEventDamageSource()==rX or GetEventDamageSource()==rY or GetEventDamageSource()==rZ and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cmi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303556,GetOwningPlayer(pq),i8,bj_UNIT_FACING)
call Bjf(.2,GetLastCreatedUnit())
call RemoveLocation(i8)
call UnitDamageTargetBJ(pq,GetTriggerUnit(),(0.+.3*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fz)+.25*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cmj takes nothing returns nothing
set rb=CreateTrigger()
call Bi3(rb)
call TriggerAddCondition(rb,Condition(function Cmh))
call TriggerAddAction(rb,function Cmi)
endfunction
function Cmk takes nothing returns boolean
return GetSpellAbilityId()==$41305155
endfunction
function Cml takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if f0==true then
set f1=true
call UnitAddAbilityBJ($41305236,GetTriggerUnit())
call Biy(.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305236,GetTriggerUnit())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cmm takes nothing returns nothing
set rc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(rc,Condition(function Cmk))
call TriggerAddAction(rc,function Cml)
endfunction
function Cmn takes nothing returns boolean
return GetSpellAbilityId()==$41305236
endfunction
function Cmo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set f2=true
set re=GetSpellTargetLoc()
call UnitRemoveAbilityBJ($41305236,GetTriggerUnit())
call MoveRectToLoc(SK,re)
call StartTimerBJ(f3,true,.1)
call StartTimerBJ(f4,true,.01)
call PauseUnitBJ(true,GetTriggerUnit())
call SetUnitAnimation(GetTriggerUnit(),"attack")
call UnitAddAbilityBJ($41305235,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(f4)
call Biy(1.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseUnitBJ(false,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305235,GetTriggerUnit())
call PauseTimer(f3)
set f2=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cmp takes nothing returns nothing
set rd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(rd,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(rd,Condition(function Cmn))
call TriggerAddAction(rd,function Cmo)
endfunction
function Cmq takes nothing returns nothing
call StopSoundBJ(X,false)
call PlaySoundOnUnitBJ(X,100.,pq)
call SetUnitAnimation(pq,"attack")
set i8=GetUnitLoc(pq)
set lG=GetRandomLocInRect(SK)
call CreateNUnitsAtLoc(1,$68303559,GetOwningPlayer(pq),i8,BiF(pq,GetRandomLocInRect(SK)))
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(1.,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Cmr takes nothing returns nothing
set rf=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rf,f3)
call TriggerAddAction(rf,function Cmq)
endfunction
function Cms takes nothing returns nothing
set i8=GetUnitLoc(pq)
set lG=PolarProjectionBJ(i8,38.,BiF(pq,re)+180.)
call SetUnitPositionLoc(pq,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Cmt takes nothing returns nothing
set rg=CreateTrigger()
call TriggerRegisterTimerExpireEvent(rg,f4)
call TriggerAddAction(rg,function Cms)
endfunction
function Cmu takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303559 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cmv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set lG=GetRandomLocInRect(SK)
call CreateNUnitsAtLoc(1,$6830354F,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"slow",GetTriggerUnit())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetTriggerUnit(),"chest"))
call UnitDamageTargetBJ(pq,GetTriggerUnit(),(20.+.35*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,pq,true)))*I2R(fc)+.1*(GetUnitStateSwap(ConvertUnitState(18),pq)+GetUnitStateSwap(ConvertUnitState(19),pq))+0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6830355A,GetOwningPlayer(pq),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call Bjf(1.,GetLastCreatedUnit())
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cmw takes nothing returns nothing
set rh=CreateTrigger()
call Bi3(rh)
call TriggerAddCondition(rh,Condition(function Cmu))
call TriggerAddAction(rh,function Cmv)
endfunction
function Cmx takes nothing returns boolean
return GetSpellAbilityId()==$41305236
endfunction
function Cmy takes nothing returns nothing
set i8=GetSpellTargetLoc()
if IsTerrainPathableBJ(i8,PATHING_TYPE_WALKABILITY)==true then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.,"该地形不可释放")
else
call DoNothing()
endif
call RemoveLocation(i8)
endfunction
function Cmz takes nothing returns nothing
set ri=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ri,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(ri,Condition(function Cmx))
call TriggerAddAction(ri,function Cmy)
endfunction
function Cm0 takes nothing returns boolean
return GetTriggerUnit()==ZK and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cm1 takes nothing returns nothing
if g2>=1000 then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(sP)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你已完成抗打击训练，白字力量+25，绿字护甲+10，生命恢复速度+10")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,25)
call UnitAddAbilityBJ($41305350,GetTriggerUnit())
call UnitAddAbilityBJ($41305351,GetTriggerUnit())
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
set g5=true
else
set g2=g2+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,1.5,"抗打击训练"+I2S(g2)+"/1000")
endif
endfunction
function Cm2 takes nothing returns nothing
set sQ=CreateTrigger()
call Bi3(sQ)
call TriggerAddCondition(sQ,Condition(function Cm0))
call TriggerAddAction(sQ,function Cm1)
endfunction
function Cm3 takes nothing returns boolean
return GetEventDamageSource()==ZK and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cm4 takes nothing returns nothing
if g3>=300 then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(sP)
call DisplayTextToPlayer(GetOwningPlayer(GetEventDamageSource()),0,0,"你已完成击打训练，白字力量+20，绿字攻击力+100")
call ModifyHeroStat(bj_HEROSTAT_STR,GetEventDamageSource(),bj_MODIFYMETHOD_ADD,20)
call UnitAddAbilityBJ($41305352,GetEventDamageSource())
call SetUnitLifePercentBJ(GetEventDamageSource(),100)
set g6=true
else
set g3=g3+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetEventDamageSource()),0,0,1.5,"击打训练"+I2S(g3)+"/300")
endif
endfunction
function Cm5 takes nothing returns nothing
set sR=CreateTrigger()
call Bi3(sR)
call TriggerAddCondition(sR,Condition(function Cm3))
call TriggerAddAction(sR,function Cm4)
endfunction
function Cm6 takes nothing returns boolean
return GetKillingUnitBJ()==ZK and IsUnitEnemy(GetKillingUnitBJ(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function Cm7 takes nothing returns nothing
if g4>=100 then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(sP)
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"你已完成击杀训练，白字全属性增加20点")
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_INT,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,20)
call SetUnitLifePercentBJ(GetKillingUnitBJ(),100)
set g7=true
else
set g4=g4+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"击杀训练"+I2S(g4)+"/100")
endif
endfunction
function Cm8 takes nothing returns nothing
set sS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sS,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(sS,Condition(function Cm6))
call TriggerAddAction(sS,function Cm7)
endfunction
function Cm9 takes nothing returns boolean
return GetEventDamageSource()==ZK and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and g5==true and g7==true and g6==true
endfunction
function CnB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitRemoveAbilityBJ($41305141,GetEventDamageSource())
call UnitAddAbilityBJ($41305355,GetEventDamageSource())
call DisplayTimedTextToPlayer(GetOwningPlayer(GetEventDamageSource()),0,0,8.,"你已成功迈向炼体路线，获得“炼体拳”技能")
set f5[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=f5[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+.05
set fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=fF[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+.1
endfunction
function CnC takes nothing returns nothing
set wG=CreateTrigger()
call Bi3(wG)
call TriggerAddCondition(wG,Condition(function Cm9))
call TriggerAddAction(wG,function CnB)
endfunction
function CnD takes nothing returns boolean
return GetEventDamageSource()==ZK or GetEventDamageSource()==wI and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and g5==true and g7==true and g6==true and (ATTACK_TYPE_HERO==ConvertAttackType(EXGetEventDamageData(qk))==true and DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true) or (ATTACK_TYPE_CHAOS==ConvertAttackType(EXGetEventDamageData(qk))==true and DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true) or (ATTACK_TYPE_MELEE==ConvertAttackType(EXGetEventDamageData(qk))==true and DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true)
endfunction
function CnE takes nothing returns nothing
if hM==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(wI,GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,wI,true))*1.+100.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(ZK,GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,ZK,true))*1.+100.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function CnF takes nothing returns nothing
set wH=CreateTrigger()
call Bi3(wH)
call TriggerAddCondition(wH,Condition(function CnD))
call TriggerAddAction(wH,function CnE)
endfunction
function CnG takes nothing returns boolean
return GetTriggerUnit()==ZK and GetHeroLevel(GetTriggerUnit())>=10 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and g5==true and g7==true and g6==true
endfunction
function CnH takes nothing returns nothing
if g2>=3000 then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305356,GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你已完成抗打击训练-进阶，获取铁布衫技能")
call UnitAddAbilityBJ($41305357,GetTriggerUnit())
call UnitAddAbilityBJ($41305358,GetTriggerUnit())
call UnitAddAbilityBJ($41305359,GetTriggerUnit())
set gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gF[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
set g8=true
else
set g2=g2+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,1.5,"抗打击训练"+I2S(g2)+"/3000")
endif
endfunction
function CnI takes nothing returns nothing
set sT=CreateTrigger()
call Bi3(sT)
call TriggerAddCondition(sT,Condition(function CnG))
call TriggerAddAction(sT,function CnH)
endfunction
function CnJ takes nothing returns boolean
return GetEventDamageSource()==ZK and GetHeroLevel(GetEventDamageSource())>=15 and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and g5==true and g8==true and g7==true and g6==true
endfunction
function CnK takes nothing returns nothing
if g3>=1500 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToPlayer(GetOwningPlayer(GetEventDamageSource()),0,0,"你已完成击打训练-进阶，逐渐掌握战斗技巧，身体素质得到增强，力敏+20（注：同时完成移动训练+击打训练-进阶，可获取疾风身法技能）")
call ModifyHeroStat(bj_HEROSTAT_STR,GetEventDamageSource(),bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetEventDamageSource(),bj_MODIFYMETHOD_ADD,20)
set g9=true
else
set g3=g3+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetEventDamageSource()),0,0,1.5,"击打训练"+I2S(g3)+"/1500")
endif
endfunction
function CnL takes nothing returns nothing
set wJ=CreateTrigger()
call Bi3(wJ)
call TriggerAddCondition(wJ,Condition(function CnJ))
call TriggerAddAction(wJ,function CnK)
endfunction
function CnM takes nothing returns boolean
return g5==true and g8==true and g7==true and g6==true and g9==true
endfunction
function CnN takes nothing returns nothing
set i8=GetUnitLoc(ZK)
call MoveRectToLoc(Sw,i8)
call RemoveLocation(i8)
set hE=true
endfunction
function CnO takes nothing returns nothing
set wK=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(wK,.1)
call TriggerAddCondition(wK,Condition(function CnM))
call TriggerAddAction(wK,function CnN)
endfunction
function CnP takes nothing returns boolean
return g5==true and g8==true and g7==true and g6==true and g9==true and hE==true
endfunction
function CnQ takes nothing returns nothing
if BiE(ZK,GetRectCenter(Sw))>0. and hB<10000. then
if BiE(ZK,GetRectCenter(Sw))>100. then
set hB=hB+1.+0.
call DisplayTimedTextToPlayer(GetOwningPlayer(ZK),0,0,.5,"移动训练"+R2S(hB)+"/10000")
else
set hB=hB+BiE(ZK,GetRectCenter(Sw))*.04
call DisplayTimedTextToPlayer(GetOwningPlayer(ZK),0,0,.5,"移动训练"+R2S(hB)+"/10000")
endif
else
if hB>=10000. then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(wK)
call DisplayTextToPlayer(GetOwningPlayer(ZK),0,0,"你已完成移动训练，体能得到进一步锻炼，力敏+20")
call ModifyHeroStat(bj_HEROSTAT_STR,ZK,bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,ZK,bj_MODIFYMETHOD_ADD,20)
set hC=true
else
call DoNothing()
endif
endif
endfunction
function CnR takes nothing returns nothing
set wL=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(wL,.01)
call TriggerAddCondition(wL,Condition(function CnP))
call TriggerAddAction(wL,function CnQ)
endfunction
function CnS takes nothing returns boolean
return GetEventDamageSource()==ZK and GetHeroLevel(GetEventDamageSource())>=15 and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and g5==true and g8==true and g7==true and g6==true and g9==true and hC==true
endfunction
function CnT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToPlayer(GetOwningPlayer(GetEventDamageSource()),0,0,"你已获取疾风身法 E 初级")
call UnitAddAbilityBJ($4130535A,GetEventDamageSource())
set hG=true
if gN[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+100.>522. then
set gN[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=gN[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+100.
call SetUnitMoveSpeed(GetEventDamageSource(),522.)
else
set gN[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=gN[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+100.
call SetUnitMoveSpeed(GetEventDamageSource(),gN[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))])
endif
call UnitAddAbilityBJ($41305430,GetEventDamageSource())
set fK[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]=fK[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]+5.
endfunction
function CnU takes nothing returns nothing
set wM=CreateTrigger()
call Bi3(wM)
call TriggerAddCondition(wM,Condition(function CnS))
call TriggerAddAction(wM,function CnT)
endfunction
function CnV takes nothing returns boolean
return GetSpellAbilityId()==$4130535A
endfunction
function CnW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCW=GetTriggerUnit()
set i8=GetSpellTargetLoc()
call MoveRectToLoc(Sw,i8)
call RemoveLocation(i8)
call StartTimerBJ(hD,true,.01)
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hD)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CnX takes nothing returns nothing
set BCV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCV,Condition(function CnV))
call TriggerAddAction(BCV,function CnW)
endfunction
function CnY takes nothing returns nothing
if RectContainsUnit(Sw,BCW)==false then
set i8=GetUnitLoc(BCW)
set lG=PolarProjectionBJ(i8,30.,BiF(BCW,GetRectCenter(Sw)))
call SetUnitPositionLoc(BCW,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
endfunction
function CnZ takes nothing returns nothing
set BCX=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BCX,hD)
call TriggerAddAction(BCX,function CnY)
endfunction
function Cna takes nothing returns boolean
return GetHeroLevel(GetTriggerUnit())>=20 and GetTriggerUnit()==ZK and hG==true
endfunction
function Cnb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if hO==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41305432,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),15.,"在历经磨砺下，"+GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"已踏入炼体之路的崭新境界，体内武魂之力汹涌澎湃，白字力量+88，白字敏捷+50。")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,88)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,50)
set hH=true
set hJ=3.
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopMusic(true)
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlaySoundBJ(z)
set wO=GetLastPlayedSound()
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,12.,"在武魂之力的感知下，东北方向有一件属于你的专属拳套在呼唤着你")
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.,"已满足武魂觉醒等级条件，请在初步筑体完成后，提升等级获取")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cnc takes nothing returns nothing
set wN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wN,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(wN,Condition(function Cna))
call TriggerAddAction(wN,function Cnb)
endfunction
function Cnd takes nothing returns boolean
return GetTriggerUnit()==ZK and hG==true and GetItemTypeId(GetManipulatedItem())==$49303143 or GetItemTypeId(GetManipulatedItem())==$49303246 or GetItemTypeId(GetManipulatedItem())==$49303356 or GetItemTypeId(GetManipulatedItem())==$4930424F or GetItemTypeId(GetManipulatedItem())==$49303145 or GetItemTypeId(GetManipulatedItem())==$49303248 or GetItemTypeId(GetManipulatedItem())==$4930334F or GetItemTypeId(GetManipulatedItem())==$4930424C
endfunction
function Cne takes nothing returns nothing
if hN>=50 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你已完成初步筑体，白字力量+10，并获取武魂觉醒的资格")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,10)
set hO=true
else
set hN=hN+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,1.5,"筑体次数"+I2S(hN)+"/50")
endif
endfunction
function Cnf takes nothing returns nothing
set wY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wY,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(wY,Condition(function Cnd))
call TriggerAddAction(wY,function Cne)
endfunction
function Cng takes nothing returns boolean
return GetTriggerUnit()==ZK or GetTriggerUnit()==wI and IsUnitAliveBJ(GetTriggerUnit())==true and GetUnitTypeId(GetEventDamageSource())==$6E303139 and hH==true
endfunction
function Cnh takes nothing returns nothing
if hP>=50 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你已完成进阶筑体，白字力量+10，并获取洗髓的资格")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,10)
set hQ=true
else
set hP=hP+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,1.5,"火灵筑体次数"+I2S(hP)+"/50")
endif
endfunction
function Cni takes nothing returns nothing
set wZ=CreateTrigger()
call Bi3(wZ)
call TriggerAddCondition(wZ,Condition(function Cng))
call TriggerAddAction(wZ,function Cnh)
endfunction
function Cnj takes nothing returns boolean
return GetTriggerUnit()==ZK and RectContainsUnit(S1,GetTriggerUnit())==true and hQ==true and GetItemTypeId(GetManipulatedItem())==$49303356 or GetItemTypeId(GetManipulatedItem())==$4930424F or GetItemTypeId(GetManipulatedItem())==$4930334F or GetItemTypeId(GetManipulatedItem())==$4930424C
endfunction
function Cnk takes nothing returns nothing
if hR>=50 then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"圣池之中，灵液翻涌，蕴含天地间的至纯至净，你感受到体内涌动着一股前所未有的力量..你已完成洗髓，白字力量+10，并获取天人合一的资格")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,10)
set hS=true
else
set hR=hR+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,1.5,"洗髓次数"+I2S(hR)+"/50")
endif
endfunction
function Cnl takes nothing returns nothing
set wa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wa,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(wa,Condition(function Cnj))
call TriggerAddAction(wa,function Cnk)
endfunction
function Cnm takes nothing returns boolean
return GetTriggerUnit()==ZK or GetTriggerUnit()==wI and IsUnitAliveBJ(GetTriggerUnit())==true and hH==true
endfunction
function Cnn takes nothing returns nothing
set hI=GetEventDamage()
if hI>=GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()) and hJ>0. then
call DisableTrigger(GetTriggeringTrigger())
call EXSetEventDamage(0.*1.)
set hJ=hJ-1.
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.3+0)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\[tx] (1139).mdx",GetTriggerUnit(),"origin"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.,"当前武魂守护数量剩余"+R2S(hJ)+"")
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function Cno takes nothing returns nothing
set wP=CreateTrigger()
call Bi3(wP)
call TriggerAddCondition(wP,Condition(function Cnm))
call TriggerAddAction(wP,function Cnn)
endfunction
function Cnp takes nothing returns boolean
return hH==true
endfunction
function Cnq takes nothing returns nothing
if hM==true then
if hJ<3. then
set hJ=hJ+1.
call DisplayTimedTextToPlayer(GetOwningPlayer(wI),0,0,3.,"当前武魂守护数量剩余"+R2S(hJ)+"")
else
call DoNothing()
endif
else
if hJ<3. then
set hJ=hJ+1.
call DisplayTimedTextToPlayer(GetOwningPlayer(ZK),0,0,3.,"当前武魂守护数量剩余"+R2S(hJ)+"")
else
call DoNothing()
endif
endif
endfunction
function Cnr takes nothing returns nothing
set wQ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(wQ,120.)
call TriggerAddCondition(wQ,Condition(function Cnp))
call TriggerAddAction(wQ,function Cnq)
endfunction
function Cns takes nothing returns boolean
return GetSpellAbilityId()==$41305432
endfunction
function Cnt takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveUnit(wS)
set lG=GetUnitLoc(GetTriggerUnit())
set i8=PolarProjectionBJ(lG,100.,BiH(GetTriggerUnit(),GetLastCreatedUnit())+180.)
call CreateNUnitsAtLoc(1,$6830364C,GetOwningPlayer(GetTriggerUnit()),i8,BiH(GetLastCreatedUnit(),GetTriggerUnit()))
set wS=GetLastCreatedUnit()
call SetUnitAnimation(wS,"attack")
call Bjf(60.,GetLastCreatedUnit())
call RemoveLocation(i8)
call RemoveLocation(lG)
call StartTimerBJ(hK,true,.1)
set lG=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6830364D,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetTriggerUnit(),"origin"))
call EXSetEffectSize(bj_lastCreatedEffect,3.5)
set hL=true
call Biy(60.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set hL=false
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cnu takes nothing returns nothing
set wR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(wR,Condition(function Cns))
call TriggerAddAction(wR,function Cnt)
endfunction
function Cnv takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6830364D and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cnw takes nothing returns nothing
if hM==true then
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(wI,GetTriggerUnit(),20.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,wI,true))+10000.+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(ZK,GetTriggerUnit(),20.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,ZK,true))+10000.+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function Cnx takes nothing returns nothing
set wT=CreateTrigger()
call Bi3(wT)
call TriggerAddCondition(wT,Condition(function Cnv))
call TriggerAddAction(wT,function Cnw)
endfunction
function Cny takes nothing returns nothing
if hM==true then
set i8=GetUnitLoc(wI)
set lG=PolarProjectionBJ(i8,225.,BiH(wS,wI)+180.)
call SetUnitPositionLocFacingBJ(wS,lG,BiH(wS,wI))
call RemoveLocation(i8)
call RemoveLocation(lG)
else
set i8=GetUnitLoc(ZK)
set lG=PolarProjectionBJ(i8,225.,BiH(wS,ZK)+180.)
call SetUnitPositionLocFacingBJ(wS,lG,BiH(wS,ZK))
call RemoveLocation(i8)
call RemoveLocation(lG)
endif
endfunction
function Cnz takes nothing returns nothing
set wU=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wU,hK)
call TriggerAddAction(wU,function Cny)
endfunction
function Cn0 takes nothing returns boolean
return GetEventDamageSource()==ZK or GetEventDamageSource()==wI and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and 0!=EXGetEventDamageData(mY)==true and hL==true
endfunction
function Cn1 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cn2 takes nothing returns nothing
call UnitDamageTargetBJ(ZK,GetEnumUnit(),2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,ZK,true))+1.*(GetUnitStateSwap(ConvertUnitState(18),ZK)+GetUnitStateSwap(ConvertUnitState(19),ZK))+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cn3 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function Cn4 takes nothing returns nothing
call UnitDamageTargetBJ(wI,GetEnumUnit(),2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,wI,true))+1.*(GetUnitStateSwap(ConvertUnitState(18),wI)+GetUnitStateSwap(ConvertUnitState(19),wI))+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Cn5 takes nothing returns nothing
if hM==true then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAnimation(wS,"attack")
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function Cn3))
call ForGroupBJ(fP,function Cn4)
call RemoveLocation(i8)
call DestroyGroup(fP)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetTriggerUnit(),"origin"))
call EnableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAnimation(wS,"attack")
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function Cn1))
call ForGroupBJ(fP,function Cn2)
call RemoveLocation(i8)
call DestroyGroup(fP)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetTriggerUnit(),"origin"))
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function Cn6 takes nothing returns nothing
set wV=CreateTrigger()
call Bi3(wV)
call TriggerAddCondition(wV,Condition(function Cn0))
call TriggerAddAction(wV,function Cn5)
endfunction
function Cn7 takes nothing returns boolean
return GetHeroLevel(GetTriggerUnit())>=35 and GetTriggerUnit()==ZK and hH==true
endfunction
function Cn8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if hS==true then
call DisableTrigger(GetTriggeringTrigger())
set hM=true
set u1=UnitItemInSlotBJ(GetTriggerUnit(),1)
set u2=UnitItemInSlotBJ(GetTriggerUnit(),2)
set u3=UnitItemInSlotBJ(GetTriggerUnit(),3)
set u4=UnitItemInSlotBJ(GetTriggerUnit(),4)
set u5=UnitItemInSlotBJ(GetTriggerUnit(),5)
set u6=UnitItemInSlotBJ(GetTriggerUnit(),6)
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),1),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),2),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),3),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),4),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),5),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),6),GetUnitLoc(GetTriggerUnit()))
set gU=GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),false)
set gV=GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),false)
set gW=GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),false)
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetTriggerUnit(),"chest"))
call DisplayTimedTextToForce(GetPlayersAll(),15.,"在漫长的修炼中，"+GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"终于抵达了梦寐以求的天人合一境界，身心的力量开始与天地元气进行融合，形成一种难以言喻的和谐与统一")
call Biz(GetTriggerUnit(),$4830364E,bj_UNIT_STATE_METHOD_DEFAULTS)
set wI=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
call SetHeroStr(wI,gU+0+0,true)
call SetHeroAgi(wI,gV+0+0,true)
call SetHeroInt(wI,gW+0+0,true)
call UnitAddItemSwapped(u1,wI)
call UnitAddItemSwapped(u2,wI)
call UnitAddItemSwapped(u3,wI)
call UnitAddItemSwapped(u4,wI)
call UnitAddItemSwapped(u5,wI)
call UnitAddItemSwapped(u6,wI)
call SetUnitMoveSpeed(wI,gN[GetPlayerId(GetOwningPlayer(wI))])
call UnitAddAbilityBJ($41305355,wI)
call UnitAddAbilityBJ($41305356,wI)
call UnitAddAbilityBJ($4130535A,wI)
call UnitAddAbilityBJ($41305432,wI)
call UnitAddAbilityBJ($41305433,wI)
call UnitAddAbilityBJ($41305350,wI)
call UnitAddAbilityBJ($41305351,wI)
call UnitAddAbilityBJ($41305352,wI)
call UnitAddAbilityBJ($41305357,wI)
call UnitAddAbilityBJ($41305358,wI)
call UnitAddAbilityBJ($41305359,wI)
call UnitAddAbilityBJ($41305430,wI)
call UnitAddAbilityBJ($41305434,wI)
call UnitAddAbilityBJ($41305437,wI)
call UnitAddAbilityBJ($41305436,wI)
call UnitAddAbilityBJ($41305435,wI)
set f5[GetPlayerId(GetOwningPlayer(wI))]=f5[GetPlayerId(GetOwningPlayer(wI))]+.1
set f6[GetPlayerId(GetOwningPlayer(wI))]=f6[GetPlayerId(GetOwningPlayer(wI))]+.25
set fF[GetPlayerId(GetOwningPlayer(wI))]=fF[GetPlayerId(GetOwningPlayer(wI))]+.25
set gC[GetPlayerId(GetOwningPlayer(wI))]=gC[GetPlayerId(GetOwningPlayer(wI))]+.15
if gN[GetPlayerId(GetOwningPlayer(wI))]+300.>522. then
set gN[GetPlayerId(GetOwningPlayer(wI))]=gN[GetPlayerId(GetOwningPlayer(wI))]+300.
call SetUnitMoveSpeed(wI,522.)
else
set gN[GetPlayerId(GetOwningPlayer(wI))]=gN[GetPlayerId(GetOwningPlayer(wI))]+300.
call SetUnitMoveSpeed(wI,gN[GetPlayerId(GetOwningPlayer(wI))])
endif
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",wI,"origin"))
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlaySoundBJ(y)
set wO=GetLastPlayedSound()
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.,"已满足天人合一等级条件，请在洗髓完成后，提升等级获取")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cn9 takes nothing returns nothing
set wW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wW,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(wW,Condition(function Cn7))
call TriggerAddAction(wW,function Cn8)
endfunction
function CoB takes nothing returns boolean
return GetTriggerUnit()==wI and IsUnitAliveBJ(GetTriggerUnit())==true and hM==true
endfunction
function CoC takes nothing returns nothing
if GetRandomInt(1,100)<=10 then
call DisableTrigger(GetTriggeringTrigger())
call EXSetEventDamage(0.*1.)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",GetTriggerUnit(),"chest"))
call CreateTextTagUnitBJ("|Cffffff00天地护佑！|R",GetTriggerUnit(),128.,10,100.,100.,100.,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call Bjq(.5,GetLastCreatedTextTag())
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function CoD takes nothing returns nothing
set wX=CreateTrigger()
call Bi3(wX)
call TriggerAddCondition(wX,Condition(function CoB))
call TriggerAddAction(wX,function CoC)
endfunction
function CoE takes nothing returns boolean
return hL==true and GetTriggerUnit()==ZK or GetTriggerUnit()==wI
endfunction
function CoF takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,12.,"在武魂的感知下，此处似乎隐藏着一件专为你量身打造的专属装备")
endfunction
function CoG takes nothing returns nothing
set zW=CreateTrigger()
call Bi7(zW,SV)
call TriggerAddCondition(zW,Condition(function CoE))
call TriggerAddAction(zW,function CoF)
endfunction
function CoH takes nothing returns boolean
return hL==true and GetTriggerUnit()==ZK or GetTriggerUnit()==wI
endfunction
function CoI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(zW)
call CameraSetEQNoiseForPlayer(GetOwningPlayer(GetTriggerUnit()),8.)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CameraClearNoiseForPlayer(GetOwningPlayer(GetTriggerUnit()))
call ShowUnit(aH,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CoJ takes nothing returns nothing
set zX=CreateTrigger()
call Bi7(zX,TJ)
call TriggerAddCondition(zX,Condition(function CoH))
call TriggerAddAction(zX,function CoI)
endfunction
function CoK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(aH,false)
endfunction
function CoL takes nothing returns nothing
set zY=CreateTrigger()
call TriggerRegisterTimerEventSingle(zY,5)
call TriggerAddAction(zY,function CoK)
endfunction
function CoM takes nothing returns boolean
return GetEventDamageSource()==aH and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and 0!=EXGetEventDamageData(mY)==true
endfunction
function CoN takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CoO takes nothing returns nothing
call UnitDamageTargetBJ(aH,GetEnumUnit(),800.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CoP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function CoN))
call ForGroupBJ(fP,function CoO)
call RemoveLocation(i8)
call DestroyGroup(fP)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetTriggerUnit(),"origin"))
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CoQ takes nothing returns nothing
set zZ=CreateTrigger()
call Bi3(zZ)
call TriggerAddCondition(zZ,Condition(function CoM))
call TriggerAddAction(zZ,function CoP)
endfunction
function CoR takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304C38)==true and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and GetEventDamageSource()==ZK or GetEventDamageSource()==wI
endfunction
function CoS takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CoT takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),0.+1.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetEventDamageSource(),true))+200.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function CoU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(385.,i8,Condition(function CoS))
call ForGroupBJ(fP,function CoT)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CoV takes nothing returns nothing
set za=CreateTrigger()
call Bi3(za)
call TriggerAddCondition(za,Condition(function CoR))
call TriggerAddAction(za,function CoU)
endfunction
function CoW takes nothing returns boolean
return GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi and GetSpellAbilityId()==$41305245 or GetSpellAbilityId()==$41305251
endfunction
function CoX takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetUnitTypeId(GetSpellTargetUnit())==$75303035 or GetUnitTypeId(GetSpellTargetUnit())==$75303037 then
call KillUnit(GetSpellTargetUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
call DisplayTimedTextToForce(GetPlayersAll(),5.,GetUnitName(GetTriggerUnit())+"吸收了一只无名残魂，白字全属性+3"+"")
set gR=gR+1
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"吸收无名残魂数量"+(I2S(gR)+"/60（遗迹区域10只、漠尔区域15只、色尔根山谷11只、色尔根要塞和虫洞15只、艾瑞镇9只）")+"")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
if gR>=43 then
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),5.,GetUnitName(GetTriggerUnit())+"吞噬了足够多的灵魂，实现了力量上的极大提升"+"")
else
call DoNothing()
endif
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CoY takes nothing returns nothing
set oh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oh,Condition(function CoW))
call TriggerAddAction(oh,function CoX)
endfunction
function CoZ takes nothing returns boolean
return GetSpellAbilityId()==$41305246
endfunction
function Coa takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,30.,90.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$75303034,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
set oJ=GetLastCreatedUnit()
call RemoveLocation(i8)
call RemoveLocation(lG)
call UnitApplyTimedLifeBJ(30.,$42726169,oJ)
call SetUnitState(oJ,UNIT_STATE_MAX_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*1.+0+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oJ)+0)
call SetUnitState(oJ,UNIT_STATE_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*1.+0+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oJ)+0)
set i8=GetUnitLoc(oJ)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function Cob takes nothing returns nothing
set oI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oI,Condition(function CoZ))
call TriggerAddAction(oI,function Coa)
endfunction
function Coc takes nothing returns boolean
return GetSpellAbilityId()==$4130524E
endfunction
function Cod takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,30.,60.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$75303036,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
set oJ=GetLastCreatedUnit()
call RemoveLocation(i8)
call RemoveLocation(lG)
call UnitApplyTimedLifeBJ(30.,$42726169,oJ)
call SetUnitState(oJ,UNIT_STATE_MAX_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*1.+0+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oJ)+0)
call SetUnitState(oJ,UNIT_STATE_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*1.+0+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oJ)+0)
set i8=GetUnitLoc(oJ)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function Coe takes nothing returns nothing
set oK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oK,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oK,Condition(function Coc))
call TriggerAddAction(oK,function Cod)
endfunction
function Cof takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$75303034 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cog takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Zi,GetTriggerUnit(),30.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Zi,true))*.5+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Coh takes nothing returns nothing
set oL=CreateTrigger()
call Bi3(oL)
call TriggerAddCondition(oL,Condition(function Cof))
call TriggerAddAction(oL,function Cog)
endfunction
function Coi takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$75303036 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Coj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(oN,GetTriggerUnit(),60.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oN,true))*.5+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cok takes nothing returns nothing
set oM=CreateTrigger()
call Bi3(oM)
call TriggerAddCondition(oM,Condition(function Coi))
call TriggerAddAction(oM,function Coj)
endfunction
function Col takes nothing returns boolean
return GetSpellAbilityId()==$41305247
endfunction
function Com takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,$68303637,GetOwningPlayer(GetTriggerUnit()),i8,BiF(GetTriggerUnit(),lG))
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(2.,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Con takes nothing returns nothing
set oO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oO,Condition(function Col))
call TriggerAddAction(oO,function Com)
endfunction
function Coo takes nothing returns boolean
return GetSpellAbilityId()==$4130524F
endfunction
function Cop takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,$68303639,GetOwningPlayer(GetTriggerUnit()),i8,BiF(GetTriggerUnit(),lG))
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(2.,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Coq takes nothing returns nothing
set oR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oR,Condition(function Coo))
call TriggerAddAction(oR,function Cop)
endfunction
function Cor takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303637 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cot takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(Zi,GetTriggerUnit(),200.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Zi,true))*2.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cou takes nothing returns nothing
set oS=CreateTrigger()
call Bi3(oS)
call TriggerAddCondition(oS,Condition(function Cor))
call TriggerAddAction(oS,function Cot)
endfunction
function Cov takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303639 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cow takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(oN,GetTriggerUnit(),400.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oN,true))*4.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cox takes nothing returns nothing
set oT=CreateTrigger()
call Bi3(oT)
call TriggerAddCondition(oT,Condition(function Cov))
call TriggerAddAction(oT,function Cow)
endfunction
function Coy takes nothing returns boolean
return GetSpellAbilityId()==$41305249
endfunction
function Coz takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetUnitLoc(GetSpellTargetUnit())
set oV=GetSpellTargetUnit()
set oW=GetRectCenter(SS)
set oX=GetRectCenter(ST)
call MoveRectToLoc(SS,i8)
call MoveRectToLoc(ST,lG)
call AddLightningLoc("DRAM",oW,oX)
set oY=GetLastCreatedLightningBJ()
call Bjn(3.,GetLastCreatedLightningBJ())
call RemoveLocation(i8)
call RemoveLocation(lG)
call StartTimerBJ(gQ,true,.1)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gQ)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Co0 takes nothing returns nothing
set oU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oU,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oU,Condition(function Coy))
call TriggerAddAction(oU,function Coz)
endfunction
function Co1 takes nothing returns boolean
return GetSpellAbilityId()==$41305250
endfunction
function Co2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetUnitLoc(GetSpellTargetUnit())
set oV=GetSpellTargetUnit()
set oW=GetRectCenter(SS)
set oX=GetRectCenter(ST)
call MoveRectToLoc(SS,i8)
call MoveRectToLoc(ST,lG)
call AddLightningLoc("DRAM",oW,oX)
set oY=GetLastCreatedLightningBJ()
call Bjn(3.,GetLastCreatedLightningBJ())
call RemoveLocation(i8)
call RemoveLocation(lG)
call StartTimerBJ(gT,true,.1)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gT)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Co3 takes nothing returns nothing
set oc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(oc,Condition(function Co1))
call TriggerAddAction(oc,function Co2)
endfunction
function Co4 takes nothing returns nothing
if IsUnitAliveBJ(oV)==true then
set oa=GetUnitLoc(Zi)
set ob=GetUnitLoc(oV)
call MoveRectToLoc(SS,oa)
call MoveRectToLoc(ST,ob)
call MoveLightningLoc(oY,oa,ob)
call UnitDamageTargetBJ(Zi,oV,10.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Zi,true))*.2+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call SetUnitManaBJ(Zi,GetUnitStateSwap(UNIT_STATE_MANA,Zi)+((10.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Zi,true))*.2)*.2+0)+0)
else
call PauseTimer(gQ)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
endif
endfunction
function Co5 takes nothing returns nothing
set od=CreateTrigger()
call TriggerRegisterTimerExpireEvent(od,gQ)
call TriggerAddAction(od,function Co4)
endfunction
function Co6 takes nothing returns nothing
if IsUnitAliveBJ(oV)==true then
set oa=GetUnitLoc(oN)
set ob=GetUnitLoc(oV)
call MoveRectToLoc(SS,oa)
call MoveRectToLoc(ST,ob)
call MoveLightningLoc(oY,oa,ob)
call UnitDamageTargetBJ(oN,oV,20.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oN,true))*.4+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call SetUnitManaBJ(oN,GetUnitStateSwap(UNIT_STATE_MANA,oN)+((20.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oN,true))*.4)*.2+0)+0)
else
call PauseTimer(gT)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
endif
endfunction
function Co7 takes nothing returns nothing
set oe=CreateTrigger()
call TriggerRegisterTimerExpireEvent(oe,gT)
call TriggerAddAction(oe,function Co6)
endfunction
function Co8 takes nothing returns boolean
return GetSpellAbilityId()==$41305249
endfunction
function Co9 takes nothing returns nothing
call PauseTimer(gQ)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
endfunction
function CpB takes nothing returns nothing
set of=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(of,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(of,Condition(function Co8))
call TriggerAddAction(of,function Co9)
endfunction
function CpC takes nothing returns boolean
return GetSpellAbilityId()==$41305250
endfunction
function CpD takes nothing returns nothing
call PauseTimer(gT)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
endfunction
function CpE takes nothing returns nothing
set og=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(og,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(og,Condition(function CpC))
call TriggerAddAction(og,function CpD)
endfunction
function CpF takes nothing returns boolean
return GetSpellAbilityId()==$41305257
endfunction
function CpG takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(oi)
set lG=PolarProjectionBJ(i8,30.,60.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$75303038,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
set oJ=GetLastCreatedUnit()
call RemoveLocation(i8)
call RemoveLocation(lG)
call UnitApplyTimedLifeBJ(30.,$42726169,oJ)
call SetUnitState(oJ,UNIT_STATE_MAX_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*1.+0+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oJ)+0)
call SetUnitState(oJ,UNIT_STATE_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*1.+0+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oJ)+0)
set i8=GetUnitLoc(oJ)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function CpH takes nothing returns nothing
set BCL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCL,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCL,Condition(function CpF))
call TriggerAddAction(BCL,function CpG)
endfunction
function CpI takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$75303038 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CpJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(oi,GetTriggerUnit(),120.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.5+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CpK takes nothing returns nothing
set BCM=CreateTrigger()
call Bi3(BCM)
call TriggerAddCondition(BCM,Condition(function CpI))
call TriggerAddAction(BCM,function CpJ)
endfunction
function CpL takes nothing returns boolean
return GetSpellAbilityId()==$41305258
endfunction
function CpM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set BCO=GetSpellTargetLoc()
set i8=GetUnitLoc(oi)
call CreateNUnitsAtLoc(1,$68303642,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call SetUnitPathing(GetLastCreatedUnit(),false)
call RemoveLocation(i8)
set BCP=GetLastCreatedUnit()
call Bjf(5.,GetLastCreatedUnit())
call IssuePointOrderLoc(BCP,"move",BCO)
call StartTimerBJ(gl,true,.1)
call SetPlayerAbilityAvailableBJ(false,$41305258,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305330,GetTriggerUnit())
call Biy(.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305330,GetTriggerUnit())
call Biy(4.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gl)
call Biy(5.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305333,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305258,GetOwningPlayer(GetTriggerUnit()))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CpN takes nothing returns nothing
set BCN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCN,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCN,Condition(function CpL))
call TriggerAddAction(BCN,function CpM)
endfunction
function CpO takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(BCP))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CpP takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
call UnitDamageTargetBJ(oi,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.2+20.+0.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CpQ takes nothing returns nothing
set i8=GetUnitLoc(BCP)
set fP=Biq(400.,i8,Condition(function CpO))
call ForGroupBJ(fP,function CpP)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CpR takes nothing returns nothing
set BCQ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BCQ,gl)
call TriggerAddAction(BCQ,function CpQ)
endfunction
function CpS takes nothing returns boolean
return gf==true and GetEventDamageSource()==oi and (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_MAGIC==ConvertAttackType(EXGetEventDamageData(qk))==true) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CpT takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(oi))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CpU takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
call UnitDamageTargetBJ(oi,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*3.+(GetUnitStateSwap(ConvertUnitState(18),oi)+GetUnitStateSwap(ConvertUnitState(19),oi))*.5+500.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CpV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set gm=gm+1.
if gm>=4. then
set gm=0.
set BBl=GetUnitLoc(GetEventDamageSource())
set BBm=GetUnitLoc(GetTriggerUnit())
call AddLightningLoc("AFOD",BBl,BBm)
set BBn=GetLastCreatedLightningBJ()
call Bjn(.33,BBn)
call RemoveLocation(BBl)
call RemoveLocation(BBm)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function CpT))
call ForGroupBJ(fP,function CpU)
call DestroyGroup(fP)
call RemoveLocation(i8)
set lG=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(lG,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CpW takes nothing returns nothing
set BCR=CreateTrigger()
call Bi3(BCR)
call TriggerAddCondition(BCR,Condition(function CpS))
call TriggerAddAction(BCR,function CpV)
endfunction
function CpX takes nothing returns boolean
return GetSpellAbilityId()==$41305330
endfunction
function CpY takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(oi))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CpZ takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),gn)
endfunction
function Cpa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInRange(GetSpellTargetUnit(),oi,1200.)==true then
set BCT=GetSpellTargetUnit()
set i8=GetUnitLoc(BCT)
set fP=Biq(600.,i8,Condition(function CpY))
call ForGroupBJ(fP,function CpZ)
call DestroyGroup(fP)
call RemoveLocation(i8)
call UnitRemoveAbilityBJ($41305330,GetTriggerUnit())
call UnitRemoveAbilityBJ($41305335,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41305259,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($4130525A,GetTriggerUnit())
call StartTimerBJ(go,true,.33)
call Biy(.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($4130525A,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305259,GetOwningPlayer(GetTriggerUnit()))
call Biy(1.52)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(go)
call GroupClear(gn)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"敌人距离本体太远（请在距离本体1200范围内使用）")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cpb takes nothing returns nothing
set BCS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCS,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCS,Condition(function CpX))
call TriggerAddAction(BCS,function Cpa)
endfunction
function Cpc takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Undead\\Sleep\\SleepSpecialArt.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
call UnitDamageTargetBJ(oi,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.7+150.+0.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set lG=GetUnitLoc(oi)
call MoveRectToLoc(SU,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(SU)
call CreateNUnitsAtLoc(1,$68303643,GetOwningPlayer(oi),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function Cpd takes nothing returns nothing
call ForGroupBJ(gn,function Cpc)
endfunction
function Cpe takes nothing returns nothing
set BCU=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BCU,go)
call TriggerAddAction(BCU,function Cpd)
endfunction
function Cpf takes nothing returns boolean
return GetSpellAbilityId()==$4130525A
endfunction
function Cpg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInRange(GetSpellTargetUnit(),oi,1600.)==true then
set i8=GetUnitLoc(oi)
set lG=GetUnitLoc(GetSpellTargetUnit())
set oV=GetSpellTargetUnit()
set oW=GetRectCenter(SS)
set oX=GetRectCenter(ST)
call MoveRectToLoc(SS,i8)
call MoveRectToLoc(ST,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call UnitRemoveAbilityBJ($4130525A,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305259,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305333,GetTriggerUnit())
call StartTimerBJ(gp,true,.1)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305333,GetTriggerUnit())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gp)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"敌人距离本体太远（请在距离本体1600范围内使用）")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cph takes nothing returns nothing
set BCK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCK,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCK,Condition(function Cpf))
call TriggerAddAction(BCK,function Cpg)
endfunction
function Cpi takes nothing returns nothing
if IsUnitAliveBJ(oV)==true and IsUnitInRange(oV,oi,1600.)==true then
set oa=GetUnitLoc(oi)
set ob=GetUnitLoc(oV)
call MoveRectToLoc(SS,oa)
call MoveRectToLoc(ST,ob)
call AddLightningLoc("DRAM",oa,ob)
set oY=GetLastCreatedLightningBJ()
call Bjn(.1,GetLastCreatedLightningBJ())
call RemoveLocation(oa)
call RemoveLocation(ob)
call UnitDamageTargetBJ(oi,oV,50.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.5+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call SetUnitManaBJ(oi,GetUnitStateSwap(UNIT_STATE_MANA,oi)+((50.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.5)*.2+0)+0)
set i8=GetUnitLoc(oi)
call CreateNUnitsAtLoc(1,$6830364B,GetOwningPlayer(oi),i8,BiH(oi,oV))
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(.5,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",oV)
else
call PauseTimer(gp)
call DestroyLightning(oY)
call RemoveLocation(oW)
call RemoveLocation(oX)
call RemoveLocation(oa)
call RemoveLocation(ob)
endif
if gy==true then
call SetUnitManaBJ(Zp,GetUnitStateSwap(UNIT_STATE_MANA,Zp)+((50.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.5)*.2+0)+0)
else
call DoNothing()
endif
endfunction
function Cpj takes nothing returns nothing
set BCJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BCJ,gp)
call TriggerAddAction(BCJ,function Cpi)
endfunction
function Cpk takes nothing returns boolean
return GetSpellAbilityId()==$41305333
endfunction
function Cpl takes nothing returns nothing
set BB3=GetSpellTargetLoc()
call SetUnitAnimation(oi,"attack")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(oi)
set lG=PolarProjectionBJ(i8,200.*I2R(GetForLoopIndexA()),BiF(oi,BB3)+0.)
call CreateNUnitsAtLoc(1,$68303644,GetOwningPlayer(GetTriggerUnit()),lG,bj_UNIT_FACING)
call SetUnitPathing(GetLastCreatedUnit(),false)
call Bjf(.5,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StopSoundBJ(g,false)
call PlaySoundOnUnitBJ(g,100,oi)
endfunction
function Cpm takes nothing returns nothing
set BB2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BB2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BB2,Condition(function Cpk))
call TriggerAddAction(BB2,function Cpl)
endfunction
function Cpn takes nothing returns boolean
return GetSpellAbilityId()==$41305333
endfunction
function Cpo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAbilityAvailableBJ(false,$41305259,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305335,GetTriggerUnit())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305335,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305259,GetOwningPlayer(GetTriggerUnit()))
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cpp takes nothing returns nothing
set BB4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BB4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BB4,Condition(function Cpn))
call TriggerAddAction(BB4,function Cpo)
endfunction
function Cpq takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$68303644
endfunction
function Cpr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(oi,GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*5.+0+0+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call StartTimerBJ(gq,true,.01)
call GroupAddUnitSimple(GetTriggerUnit(),gs)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cps takes nothing returns nothing
set BB5=CreateTrigger()
call Bi3(BB5)
call TriggerAddCondition(BB5,Condition(function Cpq))
call TriggerAddAction(BB5,function Cpr)
endfunction
function Cpt takes nothing returns nothing
set i8=GetUnitLoc(GetEnumUnit())
set lG=PolarProjectionBJ(i8,30.,BiF(oi,BB3))
call SetUnitPositionLoc(GetEnumUnit(),lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
endfunction
function Cpu takes nothing returns nothing
set gr=gr+.01
call ForGroupBJ(gs,function Cpt)
if gr>=.1 then
call PauseTimer(gq)
set gr=0.
call GroupClear(gs)
else
call DoNothing()
endif
endfunction
function Cpv takes nothing returns nothing
set BB6=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BB6,gq)
call TriggerAddAction(BB6,function Cpu)
endfunction
function Cpw takes nothing returns boolean
return GetSpellAbilityId()==$41305335
endfunction
function Cpx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetPlayerAbilityAvailableBJ(false,$41305259,GetOwningPlayer(GetTriggerUnit()))
set i8=GetSpellTargetLoc()
call MoveRectToLoc(Sh,i8)
call RemoveLocation(i8)
call StartTimerBJ(gt,true,.01)
call UnitAddItemByIdSwapped($49304634,GetTriggerUnit())
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gt)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cpy takes nothing returns nothing
set BB7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BB7,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BB7,Condition(function Cpw))
call TriggerAddAction(BB7,function Cpx)
endfunction
function Cpz takes nothing returns boolean
return GetSpellAbilityId()==$41305335
endfunction
function Cp0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set gu=true
call Biy(.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set gu=false
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cp1 takes nothing returns nothing
set BB8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BB8,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BB8,Condition(function Cpz))
call TriggerAddAction(BB8,function Cp0)
endfunction
function Cp2 takes nothing returns nothing
if RectContainsUnit(Sh,oi)==false then
set i8=GetUnitLoc(oi)
set lG=PolarProjectionBJ(i8,50.,BiF(oi,GetRectCenter(Sh)))
call SetUnitPositionLoc(oi,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set i8=GetUnitLoc(oi)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
if gy==true and RectContainsUnit(Sh,BBg)==false then
set i8=GetUnitLoc(BBg)
set lG=PolarProjectionBJ(i8,50.,BiF(BBg,GetRectCenter(Sh)))
call SetUnitPositionLoc(BBg,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call DoNothing()
endif
endfunction
function Cp3 takes nothing returns nothing
set BB9=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BB9,gt)
call TriggerAddAction(BB9,function Cp2)
endfunction
function Cp4 takes nothing returns boolean
return GetSpellAbilityId()==$41305257 and gu==true
endfunction
function Cp5 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAbilityAvailableBJ(false,$41305245,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($41305336,GetTriggerUnit())
call Biy(.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305336,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305245,GetOwningPlayer(GetTriggerUnit()))
if gv==true then
call DoNothing()
else
call EnableTrigger(GetTriggeringTrigger())
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cp6 takes nothing returns nothing
set BCB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCB,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCB,Condition(function Cp4))
call TriggerAddAction(BCB,function Cp5)
endfunction
function Cp7 takes nothing returns boolean
return GetSpellAbilityId()==$41305336
endfunction
function Cp8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInRange(GetSpellTargetUnit(),oi,1600.)==true then
call StopSoundBJ(Z,false)
call PlaySoundBJ(Z)
set gv=true
set i8=GetUnitLoc(GetTriggerUnit())
set lG=GetUnitLoc(GetSpellTargetUnit())
set BCD=GetSpellTargetUnit()
set BCE=GetRectCenter(Si)
set BCF=GetRectCenter(Sj)
call MoveRectToLoc(Si,i8)
call MoveRectToLoc(Sj,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
call UnitRemoveAbilityBJ($41305336,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(true,$41305245,GetOwningPlayer(GetTriggerUnit()))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"幻梦霜华发动")
call StartTimerBJ(gw,true,.1)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gw)
call RemoveLocation(BCE)
call RemoveLocation(BCF)
call RemoveLocation(BCG)
call RemoveLocation(BCH)
call Biy(35.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set gv=false
call EnableTrigger(BCB)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"幻梦霜华已冷却完毕")
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"敌人距离本体太远（请在距离本体1600范围内使用）")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cp9 takes nothing returns nothing
set BCC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCC,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BCC,Condition(function Cp7))
call TriggerAddAction(BCC,function Cp8)
endfunction
function CqB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(oi))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CqC takes nothing returns nothing
call UnitDamageTargetBJ(oi,GetEnumUnit(),250.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.5+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CqD takes nothing returns nothing
if IsUnitAliveBJ(BCD)==true and IsUnitInRange(BCD,oi,1600.)==true then
set BCG=GetUnitLoc(oi)
set BCH=GetUnitLoc(BCD)
call MoveRectToLoc(Si,BCG)
call MoveRectToLoc(Sj,BCH)
call AddLightningLoc("AFOD",BCG,BCH)
call Bjn(.1,GetLastCreatedLightningBJ())
call RemoveLocation(BCG)
call RemoveLocation(BCH)
set i8=GetUnitLoc(BCD)
set fP=Biq(600.,i8,Condition(function CqB))
call ForGroupBJ(fP,function CqC)
call DestroyGroup(fP)
call RemoveLocation(i8)
set lG=GetUnitLoc(BCD)
call AddSpecialEffectLocBJ(lG,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(lG)
call EXSetEffectSize(bj_lastCreatedEffect,2.2)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetUnitLoc(oi)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(oi),i8,BiH(oi,BCD))
call RemoveLocation(i8)
call ShowUnitHide(GetLastCreatedUnit())
call Bjf(.5,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",BCD)
else
call PauseTimer(gw)
call RemoveLocation(BCE)
call RemoveLocation(BCF)
call RemoveLocation(BCG)
call RemoveLocation(BCH)
endif
endfunction
function CqE takes nothing returns nothing
set BCI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BCI,gw)
call TriggerAddAction(BCI,function CqD)
endfunction
function CqF takes nothing returns boolean
return GetSpellAbilityId()==$41305337
endfunction
function CqG takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call StopSoundBJ(Z,false)
call PlaySoundBJ(Z)
call KillUnit(BBg)
call RemoveUnit(BBg)
set i8=GetUnitLoc(oi)
set BBh=GetSpellTargetLoc()
call MoveRectToLoc(Sk,BBh)
call CreateNUnitsAtLoc(1,$6E303541,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
set BBg=GetLastCreatedUnit()
call RemoveLocation(i8)
call RemoveLocation(BBh)
call SetUnitState(BBg,UNIT_STATE_MAX_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*10.+0.+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oi)+0)
call SetUnitState(BBg,UNIT_STATE_LIFE,I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*10.+0.+0+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,oi)+0)
call SetUnitState(BBg,ConvertUnitState(32),GetUnitStateSwap(ConvertUnitState(32),oi)*.5+0+0)
call AddSpecialEffectTargetUnitBJ("overhead",BBg,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call EXSetEffectSize(bj_lastCreatedEffect,4.)
call StartTimerBJ(gx,true,.01)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gx)
set i8=GetUnitLoc(BBg)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call EXSetEffectSize(bj_lastCreatedEffect,3.)
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
set i8=GetUnitLoc(BBg)
call CreateNUnitsAtLoc(1,$68303645,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call SetUnitPathing(GetLastCreatedUnit(),false)
call Bjf(1.,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CqH takes nothing returns nothing
set BBf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBf,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBf,Condition(function CqF))
call TriggerAddAction(BBf,function CqG)
endfunction
function CqI takes nothing returns nothing
if RectContainsUnit(Sk,BBg)==false then
set i8=GetUnitLoc(BBg)
set lG=PolarProjectionBJ(i8,50.,BiF(BBg,GetRectCenter(Sk)))
call SetUnitPositionLoc(BBg,lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
else
call PauseTimer(gx)
endif
endfunction
function CqJ takes nothing returns nothing
set BBi=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BBi,gx)
call TriggerAddAction(BBi,function CqI)
endfunction
function CqK takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6E303541 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function CqL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(oi,GetTriggerUnit(),300.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*3.+(GetUnitStateSwap(ConvertUnitState(18),oi)+GetUnitStateSwap(ConvertUnitState(19),oi))*.3+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CqM takes nothing returns nothing
set BBj=CreateTrigger()
call Bi3(BBj)
call TriggerAddCondition(BBj,Condition(function CqK))
call TriggerAddAction(BBj,function CqL)
endfunction
function CqN takes nothing returns boolean
return GetUnitTypeId(GetEventDamageSource())==$6E303541 and 0!=EXGetEventDamageData(mY)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and gy==true
endfunction
function CqO takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(oi))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CqP takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
call UnitDamageTargetBJ(oi,GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*3.+(GetUnitStateSwap(ConvertUnitState(18),oi)+GetUnitStateSwap(ConvertUnitState(19),oi))*.5+500.+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CqQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set gm=gm+1.
if gm>=4. then
set gm=0.
set BBl=GetUnitLoc(GetEventDamageSource())
set BBm=GetUnitLoc(GetTriggerUnit())
call AddLightningLoc("AFOD",BBl,BBm)
set BBn=GetLastCreatedLightningBJ()
call Bjn(.33,BBn)
call RemoveLocation(BBl)
call RemoveLocation(BBm)
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(400.,i8,Condition(function CqO))
call ForGroupBJ(fP,function CqP)
call DestroyGroup(fP)
call RemoveLocation(i8)
set lG=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(lG,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function CqR takes nothing returns nothing
set BBk=CreateTrigger()
call Bi3(BBk)
call TriggerAddCondition(BBk,Condition(function CqN))
call TriggerAddAction(BBk,function CqQ)
endfunction
function CqS takes nothing returns boolean
return GetSpellAbilityId()==$41305339 and GetUnitTypeId(GetTriggerUnit())==$6E303541
endfunction
function CqT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(oi)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CqU takes nothing returns nothing
set BBo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBo,Condition(function CqS))
call TriggerAddAction(BBo,function CqT)
endfunction
function CqV takes nothing returns boolean
return GetSpellAbilityId()==$41305341 and GetTriggerUnit()==BBg
endfunction
function CqW takes nothing returns nothing
if IsUnitInRange(GetTriggerUnit(),oi,300.)==true and gy==false then
set gy=true
call ShowUnit(oi,false)
set i8=GetUnitLoc(BBg)
call CreateNUnitsAtLoc(1,$68303649,GetOwningPlayer(GetTriggerUnit()),i8,GetUnitFacing(BBg))
set BBq=GetLastCreatedUnit()
call RemoveLocation(i8)
call GroupAddUnitSimple(BBg,bJ)
call SetUnitPathing(oi,false)
call SetUnitInvulnerable(oi,true)
call BiJ(oi)
call SetUnitFlyHeight(oi,600.,0.)
call EnableTrigger(BBr)
call EnableTrigger(BBs)
call ShowUnit(Zp,true)
call SelectUnitForPlayerSingle(Zp,GetOwningPlayer(oi))
call SetUnitState(Zp,UNIT_STATE_MAX_MANA,GetUnitStateSwap(UNIT_STATE_MAX_MANA,oi)+0+0)
call SetUnitManaBJ(Zp,GetUnitStateSwap(UNIT_STATE_MANA,oi)+0+0)
set i8=GetUnitLoc(BBg)
call CreateNUnitsAtLoc(1,$68303647,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set ve=GetLastCreatedUnit()
call ShowUnit(bj_lastCreatedUnit,false)
call StartTimerBJ(gz,true,.05)
else
if gy==true then
set gy=false
call RemoveUnit(ve)
call RemoveUnit(BBq)
call GroupRemoveUnitSimple(BBg,bJ)
call PauseTimer(gz)
call SetUnitPathing(oi,true)
call SetUnitInvulnerable(oi,false)
call SetUnitFlyHeight(oi,0.,0.)
call EXSetUnitMoveType(oi,2)
call DisableTrigger(BBr)
call DisableTrigger(BBs)
call ShowUnit(Zp,false)
call ShowUnit(oi,true)
call SelectUnitForPlayerSingle(oi,GetOwningPlayer(oi))
else
call DoNothing()
endif
endif
endfunction
function CqX takes nothing returns nothing
set BBp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBp,Condition(function CqV))
call TriggerAddAction(BBp,function CqW)
endfunction
function CqY takes nothing returns nothing
set i8=GetUnitLoc(BBg)
call SetUnitPositionLocFacingBJ(oi,i8,GetUnitFacing(BBg))
call RemoveLocation(i8)
set i8=GetUnitLoc(BBg)
call SetUnitPositionLocFacingBJ(ve,i8,GetUnitFacing(BBg))
call RemoveLocation(i8)
set i8=GetUnitLoc(BBg)
call SetUnitPositionLocFacingBJ(BBq,i8,GetUnitFacing(BBg))
call RemoveLocation(i8)
endfunction
function CqZ takes nothing returns nothing
set BBt=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BBt,gz)
call TriggerAddAction(BBt,function CqY)
endfunction
function Cqa takes nothing returns boolean
return GetEventDamageSource()==ve and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function Cqb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(oi,GetTriggerUnit(),(GetUnitStateSwap(ConvertUnitState(18),oi)+GetUnitStateSwap(ConvertUnitState(19),oi))*.05+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*.1+0+0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Cqc takes nothing returns nothing
set vd=CreateTrigger()
call Bi3(vd)
call TriggerAddCondition(vd,Condition(function Cqa))
call TriggerAddAction(vd,function Cqb)
endfunction
function Cqd takes nothing returns boolean
return GetDyingUnit()==BBg
endfunction
function Cqe takes nothing returns nothing
if gy==true then
set gy=false
call RemoveUnit(ve)
call RemoveUnit(BBq)
call GroupRemoveUnitSimple(BBg,bJ)
call PauseTimer(gz)
call SetUnitPathing(oi,true)
call SetUnitInvulnerable(oi,false)
call SetUnitFlyHeight(oi,0.,0.)
call EXSetUnitMoveType(oi,2)
call DisableTrigger(BBr)
call DisableTrigger(BBs)
call ShowUnit(Zp,false)
call ShowUnit(oi,true)
call SelectUnitForPlayerSingle(oi,GetOwningPlayer(oi))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),1),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),2),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),3),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),4),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),5),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),6),GetUnitLoc(GetTriggerUnit()))
else
call DoNothing()
endif
endfunction
function Cqf takes nothing returns nothing
set BBu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BBu,Condition(function Cqd))
call TriggerAddAction(BBu,function Cqe)
endfunction
function Cqg takes nothing returns boolean
return GetTriggerPlayer()==GetOwningPlayer(oi)
endfunction
function Cqh takes nothing returns nothing
call SelectUnitForPlayerSingle(Zp,GetTriggerPlayer())
endfunction
function Cqi takes nothing returns nothing
set BBr=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(0))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(1))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(2))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(3))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(4))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(5))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(6))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(7))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(8))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(9))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(10))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(11))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(12))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(13))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(14))
call TriggerRegisterPlayerEventEndCinematic(BBr,Player(15))
call TriggerAddCondition(BBr,Condition(function Cqg))
call TriggerAddAction(BBr,function Cqh)
endfunction
function Cqj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BBr)
call DisableTrigger(BBs)
call ShowUnit(Zp,false)
endfunction
function Cqk takes nothing returns nothing
set BBv=CreateTrigger()
call TriggerRegisterTimerEventSingle(BBv,.1)
call TriggerAddAction(BBv,function Cqj)
endfunction
function Cql takes nothing returns boolean
return GetTriggerUnit()==Zp and GetSpellAbilityId()==$41305342
endfunction
function Cqm takes nothing returns nothing
call SetUnitState(Zp,UNIT_STATE_MAX_MANA,GetUnitStateSwap(UNIT_STATE_MAX_MANA,oi)+0+0)
call SetUnitManaBJ(Zp,GetUnitStateSwap(UNIT_STATE_MANA,oi)+0+0)
endfunction
function Cqn takes nothing returns nothing
set BBs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBs,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBs,Condition(function Cql))
call TriggerAddAction(BBs,function Cqm)
endfunction
function Cqo takes nothing returns boolean
return GetTriggerUnit()==Zp
endfunction
function Cqp takes nothing returns nothing
call SetUnitState(oi,UNIT_STATE_MANA,GetUnitStateSwap(UNIT_STATE_MANA,Zp)+0+0)
endfunction
function Cqq takes nothing returns nothing
set BBw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBw,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BBw,Condition(function Cqo))
call TriggerAddAction(BBw,function Cqp)
endfunction
function Cqr takes nothing returns boolean
return GetTriggerUnit()==Zp and GetIssuedOrderIdBJ()==String2OrderIdBJ("smart")
endfunction
function Cqs takes nothing returns nothing
set i8=GetOrderPointLoc()
call IssuePointOrderLoc(BBg,"move",i8)
call RemoveLocation(i8)
endfunction
function Cqt takes nothing returns nothing
set BBx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBx,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(BBx,Condition(function Cqr))
call TriggerAddAction(BBx,function Cqs)
endfunction
function Cqu takes nothing returns boolean
return GetTriggerUnit()==Zp and GetIssuedOrderIdBJ()==String2OrderIdBJ("attack")
endfunction
function Cqv takes nothing returns nothing
call IssueTargetOrder(BBg,"attack",GetOrderTargetUnit())
endfunction
function Cqw takes nothing returns nothing
set BBy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBy,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(BBy,Condition(function Cqu))
call TriggerAddAction(BBy,function Cqv)
endfunction
function Cqx takes nothing returns boolean
return GetTriggerUnit()==Zp and GetIssuedOrderIdBJ()==String2OrderIdBJ("stop")
endfunction
function Cqy takes nothing returns nothing
call IssueImmediateOrder(BBg,"stop")
endfunction
function Cqz takes nothing returns nothing
set BBz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBz,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(BBz,Condition(function Cqx))
call TriggerAddAction(BBz,function Cqy)
endfunction
function Cq0 takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(oi) and gy==true
endfunction
function Cq1 takes nothing returns nothing
set i8=GetUnitLoc(BBg)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),i8,0)
call RemoveLocation(i8)
endfunction
function Cq2 takes nothing returns nothing
set BB0=CreateTrigger()
call TriggerRegisterUnitEvent(BB0,Zp,EVENT_UNIT_SELECTED)
call TriggerAddCondition(BB0,Condition(function Cq0))
call TriggerAddAction(BB0,function Cq1)
endfunction
function Cq3 takes nothing returns boolean
return GetSpellAbilityId()==$4130534F
endfunction
function Cq4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(BBg,true)
call AddSpecialEffectTargetUnitBJ("overhead",BBg,"Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitLifeBJ(BBg,GetUnitStateSwap(UNIT_STATE_LIFE,BBg)+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,oi,true))*5.+0)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(BBg,false)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cq5 takes nothing returns nothing
set BB1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BB1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BB1,Condition(function Cq3))
call TriggerAddAction(BB1,function Cq4)
endfunction
function Cq6 takes nothing returns boolean
return GetSpellAbilityId()==$41305245
endfunction
function Cq7 takes nothing returns nothing
if GetSpellTargetUnit()==ZB then
if GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.1+0+0 then
call DisableTrigger(GetTriggeringTrigger())
set u1=UnitItemInSlotBJ(GetTriggerUnit(),1)
set u2=UnitItemInSlotBJ(GetTriggerUnit(),2)
set u3=UnitItemInSlotBJ(GetTriggerUnit(),3)
set u4=UnitItemInSlotBJ(GetTriggerUnit(),4)
set u5=UnitItemInSlotBJ(GetTriggerUnit(),5)
set u6=UnitItemInSlotBJ(GetTriggerUnit(),6)
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),1),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),2),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),3),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),4),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),5),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),6),GetUnitLoc(GetTriggerUnit()))
set gU=GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),false)
set gV=GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),false)
set gW=GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),false)
call KillUnit(GetSpellTargetUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"小残魂的实力有了飞跃般的成长，进阶为大魂灵！（注：每额外吸收一只无名残魂，将额外增加2点白字全属性）")
call Biz(GetTriggerUnit(),$48303638,bj_UNIT_STATE_METHOD_DEFAULTS)
set oN=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
call SetHeroStr(oN,gU+gR*2+0,true)
call SetHeroAgi(oN,gV+gR*2+0,true)
call SetHeroInt(oN,gW+gR*2+0,true)
set gS=true
set i8=GetUnitLoc(oN)
if gR>=10 then
call CreateItemLoc($49304B46,i8)
else
call DoNothing()
endif
call RemoveLocation(i8)
call UnitAddItemSwapped(u1,oN)
call UnitAddItemSwapped(u2,oN)
call UnitAddItemSwapped(u3,oN)
call UnitAddItemSwapped(u4,oN)
call UnitAddItemSwapped(u5,oN)
call UnitAddItemSwapped(u6,oN)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"这只魂魄的实力太过强大，请将其生命值降低至10%以下，再将其吞噬..（如有“封魂贴”可直接对其使用将其降低至10%以下）")
endif
else
call DoNothing()
endif
endfunction
function Cq8 takes nothing returns nothing
set u0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(u0,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(u0,Condition(function Cq6))
call TriggerAddAction(u0,function Cq7)
endfunction
function Cq9 takes nothing returns boolean
return GetSpellAbilityId()==$41305245
endfunction
function CrB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetSpellTargetUnit()==XQ then
if GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.1+0+0 and gd==true and ge==true and gk==true and gc==true and gb==true and gS==true and gh==true and gg==true and gR>=21 then
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Zn,true)
set u1=UnitItemInSlotBJ(GetTriggerUnit(),1)
set u2=UnitItemInSlotBJ(GetTriggerUnit(),2)
set u3=UnitItemInSlotBJ(GetTriggerUnit(),3)
set u4=UnitItemInSlotBJ(GetTriggerUnit(),4)
set u5=UnitItemInSlotBJ(GetTriggerUnit(),5)
set u6=UnitItemInSlotBJ(GetTriggerUnit(),6)
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),1),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),2),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),3),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),4),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),5),GetUnitLoc(GetTriggerUnit()))
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),6),GetUnitLoc(GetTriggerUnit()))
set gU=GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),false)
set gV=GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),false)
set gW=GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),false)
call KillUnit(GetSpellTargetUnit())
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"大魂影的实力有了飞跃般的成长，进阶为幽梦魂灵！（注：每额外吸收一只无名残魂，将额外增加2点白字全属性）（另提高6%魔抗）")
call Biz(GetTriggerUnit(),$48303641,bj_UNIT_STATE_METHOD_DEFAULTS)
set oi=GetLastReplacedUnitBJ()
call GroupAddUnitSimple(GetLastReplacedUnitBJ(),bJ)
set jO[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastReplacedUnitBJ()
call SetHeroStr(oi,gU+gR*2+0,true)
call SetHeroAgi(oi,gV+gR*2+0,true)
call SetHeroInt(oi,gW+gR*2+0,true)
set gf=true
call UnitAddItemSwapped(u1,oi)
call UnitAddItemSwapped(u2,oi)
call UnitAddItemSwapped(u3,oi)
call UnitAddItemSwapped(u4,oi)
call UnitAddItemSwapped(u5,oi)
call UnitAddItemSwapped(u6,oi)
call UnitAddAbilityBJ($41305252,oi)
call UnitAddAbilityBJ($41305253,oi)
call UnitAddAbilityBJ($41305254,oi)
call UnitAddAbilityBJ($41305255,oi)
set gC[GetPlayerId(GetOwningPlayer(oi))]=gC[GetPlayerId(GetOwningPlayer(oi))]+.06
set gN[GetPlayerId(GetOwningPlayer(oi))]=gN[GetPlayerId(GetOwningPlayer(oi))]+125.
call SetUnitMoveSpeed(oi,gN[GetPlayerId(GetOwningPlayer(oi))])
call SetUnitOwner(Zp,GetOwningPlayer(GetTriggerUnit()),true)
call StartTimerBJ(gj,true,.1)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(gj)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"你的实力还完全不足以吸收该魂魄...")
endif
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CrC takes nothing returns nothing
set u7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(u7,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(u7,Condition(function Cq9))
call TriggerAddAction(u7,function CrB)
endfunction
function CrD takes nothing returns nothing
set i8=GetUnitLoc(oi)
call MoveRectToLoc(Sg,i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(Sg)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
endfunction
function CrE takes nothing returns nothing
set u8=CreateTrigger()
call TriggerRegisterTimerExpireEvent(u8,gj)
call TriggerAddAction(u8,function CrD)
endfunction
function CrF takes nothing returns boolean
return GetSpellAbilityId()==$41305245
endfunction
function CrG takes nothing returns nothing
if GetSpellTargetUnit()==We or GetSpellTargetUnit()==XF or GetSpellTargetUnit()==XE then
if GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.1+0+0 then
call KillUnit(GetSpellTargetUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
call DisplayTimedTextToForce(GetPlayersAll(),5.,GetUnitName(GetTriggerUnit())+"吸收了一只寄魂者，白字全属性+5"+"")
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"这只魂魄的实力太过强大，请将其生命值降低至10%以下，再将其吞噬..（如有“封魂贴”可直接对其使用将其降低至10%以下）")
endif
else
call DoNothing()
endif
endfunction
function CrH takes nothing returns nothing
set u9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(u9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(u9,Condition(function CrF))
call TriggerAddAction(u9,function CrG)
endfunction
function CrI takes nothing returns boolean
return GetSpellAbilityId()==$41305251 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CrJ takes nothing returns nothing
if GetSpellTargetUnit()==ZB or GetSpellTargetUnit()==XQ or GetSpellTargetUnit()==XF or GetSpellTargetUnit()==We or GetSpellTargetUnit()==XE or GetUnitTypeId(GetSpellTargetUnit())==$6E303251 then
call SetUnitLifePercentBJ(GetSpellTargetUnit(),5.)
set i8=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(1.,bj_lastCreatedEffect)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function CrK takes nothing returns nothing
set vB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vB,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vB,Condition(function CrI))
call TriggerAddAction(vB,function CrJ)
endfunction
function CrL takes nothing returns boolean
return GetSpellAbilityId()==$41305251 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CrM takes nothing returns nothing
if GetSpellTargetUnit()==ZB then
call DisableTrigger(GetTriggeringTrigger())
set gb=true
call AddItemToStockBJ($49304B45,Uk,1,1)
else
call DoNothing()
endif
endfunction
function CrN takes nothing returns nothing
set vC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vC,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vC,Condition(function CrL))
call TriggerAddAction(vC,function CrM)
endfunction
function CrO takes nothing returns boolean
return GetSpellAbilityId()==$41305251 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CrP takes nothing returns nothing
if GetSpellTargetUnit()==XQ then
call DisableTrigger(GetTriggeringTrigger())
set gc=true
else
call DoNothing()
endif
endfunction
function CrQ takes nothing returns nothing
set vD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vD,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vD,Condition(function CrO))
call TriggerAddAction(vD,function CrP)
endfunction
function CrR takes nothing returns boolean
return GetSpellAbilityId()==$41305251 or GetSpellAbilityId()==$41305245 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CrS takes nothing returns nothing
if GetSpellTargetUnit()==Zm then
call DisableTrigger(GetTriggeringTrigger())
set gd=true
else
call DoNothing()
endif
endfunction
function CrT takes nothing returns nothing
set vE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vE,Condition(function CrR))
call TriggerAddAction(vE,function CrS)
endfunction
function CrU takes nothing returns boolean
return GetSpellAbilityId()==$41305251 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CrV takes nothing returns nothing
if GetSpellTargetUnit()==Zo then
call DisableTrigger(GetTriggeringTrigger())
set ge=true
else
call DoNothing()
endif
endfunction
function CrW takes nothing returns nothing
set vF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vF,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vF,Condition(function CrU))
call TriggerAddAction(vF,function CrV)
endfunction
function CrX takes nothing returns boolean
return GetSpellAbilityId()==$41305251 or GetSpellAbilityId()==$41305245 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CrY takes nothing returns nothing
if GetSpellTargetUnit()==Zk then
call DisableTrigger(GetTriggeringTrigger())
set gk=true
else
call DoNothing()
endif
endfunction
function CrZ takes nothing returns nothing
set vG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vG,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vG,Condition(function CrX))
call TriggerAddAction(vG,function CrY)
endfunction
function Cra takes nothing returns boolean
return GetSpellAbilityId()==$41305245
endfunction
function Crb takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==$75303035 or GetUnitTypeId(GetFilterUnit())==$75303037
endfunction
function Crc takes nothing returns nothing
call UnitRemoveAbilityBJ($4130524D,GetEnumUnit())
endfunction
function Crd takes nothing returns nothing
if GetSpellTargetUnit()==Zi or GetSpellTargetUnit()==oN or GetSpellTargetUnit()==oi then
set js=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(SU,js)
call RemoveLocation(js)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Other\\Andt\\Andt.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
set i8=GetRectCenter(SU)
set fP=Biq(500.,i8,Condition(function Crb))
call ForGroupBJ(fP,function Crc)
call DestroyGroup(fP)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function Cre takes nothing returns nothing
set vH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vH,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vH,Condition(function Cra))
call TriggerAddAction(vH,function Crd)
endfunction
function Crf takes nothing returns nothing
if GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=350. then
call DisableTrigger(GetTriggeringTrigger())
set js=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304B45,js)
call RemoveLocation(js)
else
call DisableTrigger(GetTriggeringTrigger())
call DoNothing()
endif
endfunction
function Crg takes nothing returns nothing
set vL=CreateTrigger()
call TriggerRegisterUnitEvent(vL,Zj,EVENT_UNIT_DEATH)
call TriggerAddAction(vL,function Crf)
endfunction
function Crh takes nothing returns boolean
return GetTriggerUnit()==Zj and Bi9(GetTriggerUnit(),$49303042)==true or GetItemCharges(Bio(GetTriggerUnit(),$49303044))>=10
endfunction
function Cri takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303042))
call RemoveItem(Bio(GetTriggerUnit(),$49303044))
call SetUnitManaBJ(GetTriggerUnit(),350.)
endfunction
function Crj takes nothing returns nothing
set vM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vM,Condition(function Crh))
call TriggerAddAction(vM,function Cri)
endfunction
function Crk takes nothing returns boolean
return GetSpellAbilityId()==$41305251 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Crl takes nothing returns nothing
if GetSpellTargetUnit()==XF then
call DisableTrigger(GetTriggeringTrigger())
set gg=true
call UnitAddItemByIdSwapped($49304B45,GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function Crm takes nothing returns nothing
set vT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vT,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vT,Condition(function Crk))
call TriggerAddAction(vT,function Crl)
endfunction
function Crn takes nothing returns boolean
return gg==true and Bi9(GetTriggerUnit(),$49304B45)==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Cro takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),6.,"腾魔吉：这个东西看上去很有意思..")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"腾魔吉：我可以帮你复制1份.但不是免费的")
call AddItemToStockBJ($49304B45,U9,1,1)
set gh=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Crp takes nothing returns nothing
set vU=CreateTrigger()
call Bi7(vU,Sa)
call TriggerAddCondition(vU,Condition(function Crn))
call TriggerAddAction(vU,function Cro)
endfunction
function Crq takes nothing returns boolean
return gi==true and gh==true and ge==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi and Bi9(GetTriggerUnit(),$49303658)==true and Bi9(GetTriggerUnit(),$49304B45)==true
endfunction
function Crr takes nothing returns nothing
call SetUnitPathing(GetTriggerUnit(),false)
endfunction
function Crs takes nothing returns nothing
set vV=CreateTrigger()
call Bi7(vV,Sb)
call TriggerAddCondition(vV,Condition(function Crq))
call TriggerAddAction(vV,function Crr)
endfunction
function Crt takes nothing returns boolean
return GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Cru takes nothing returns nothing
call SetUnitPathing(GetTriggerUnit(),true)
endfunction
function Crv takes nothing returns nothing
set vW=CreateTrigger()
call Bi8(vW,Sb)
call TriggerAddCondition(vW,Condition(function Crt))
call TriggerAddAction(vW,function Cru)
endfunction
function Crw takes nothing returns boolean
return gi==true and gh==true and ge==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Crx takes nothing returns nothing
set i8=GetRectCenter(Sc)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function Cry takes nothing returns nothing
set vX=CreateTrigger()
call Bi7(vX,Se)
call TriggerAddCondition(vX,Condition(function Crw))
call TriggerAddAction(vX,function Crx)
endfunction
function Crz takes nothing returns boolean
return gi==true and gh==true and ge==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Cr0 takes nothing returns nothing
set i8=GetRectCenter(Sc)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function Cr1 takes nothing returns nothing
set vY=CreateTrigger()
call Bi7(vY,Sd)
call TriggerAddCondition(vY,Condition(function Crz))
call TriggerAddAction(vY,function Cr0)
endfunction
function Cr2 takes nothing returns boolean
return GetSpellAbilityId()==$41305245
endfunction
function Cr3 takes nothing returns nothing
if gd==true and ge==true and gb==true and gh==true and gg==true and gS==true and RectContainsUnit(Sf,GetTriggerUnit())==true and GetSpellTargetUnit()==Zi or GetSpellTargetUnit()==oN or GetSpellTargetUnit()==oi then
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(XQ,true)
else
call DoNothing()
endif
endfunction
function Cr4 takes nothing returns nothing
set vZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vZ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(vZ,Condition(function Cr2))
call TriggerAddAction(vZ,function Cr3)
endfunction
function Cr5 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B46 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Cr6 takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+I2R(gR)*.01
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+I2R(gR)*(.01*.5)
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+I2R(gR)*(.01*.5)
set e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+I2R(gR)*(.01*.5)
set gY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I2R(gR)*.01
set gX[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I2R(gR)*(.01*.5)
set gZ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I2R(gR)*(.01*.5)
set ga[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I2R(gR)*(.01*.5)
endfunction
function Cr7 takes nothing returns nothing
set vN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vN,Condition(function Cr5))
call TriggerAddAction(vN,function Cr6)
endfunction
function Cr8 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B46 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Cr9 takes nothing returns nothing
set fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-gY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-gX[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-gZ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=e8[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-ga[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
endfunction
function CsB takes nothing returns nothing
set vO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vO,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vO,Condition(function Cr8))
call TriggerAddAction(vO,function Cr9)
endfunction
function CsC takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B46 or GetItemTypeId(GetManipulatedItem())==$49304B47 or GetItemTypeId(GetManipulatedItem())==$49304B50 or GetItemTypeId(GetManipulatedItem())==$49304B52
endfunction
function CsD takes nothing returns nothing
if GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi then
call DoNothing()
else
call SetItemPositionLoc(GetManipulatedItem(),GetUnitLoc(GetTriggerUnit()))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这件灵器拒绝了你...")
endif
endfunction
function CsE takes nothing returns nothing
set vQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vQ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vQ,Condition(function CsC))
call TriggerAddAction(vQ,function CsD)
endfunction
function CsF takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B47 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsG takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.02
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.1)
endfunction
function CsH takes nothing returns nothing
set vR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vR,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vR,Condition(function CsF))
call TriggerAddAction(vR,function CsG)
endfunction
function CsI takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B47 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsJ takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.02
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())+.1)
endfunction
function CsK takes nothing returns nothing
set vS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vS,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(vS,Condition(function CsI))
call TriggerAddAction(vS,function CsJ)
endfunction
function CsL takes nothing returns boolean
return gf==true and Bi9(GetTriggerUnit(),$4930494F)==true and Bi9(GetTriggerUnit(),$49303651)==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930494F))
call RemoveItem(Bio(GetTriggerUnit(),$49303651))
call UnitAddItemByIdSwapped($49304B47,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CsN takes nothing returns nothing
set va=CreateTrigger()
call Bi7(va,Lg)
call TriggerAddCondition(va,Condition(function CsL))
call TriggerAddAction(va,function CsM)
endfunction
function CsO takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B50 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsP takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.03
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.2)
endfunction
function CsQ takes nothing returns nothing
set v5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(v5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(v5,Condition(function CsO))
call TriggerAddAction(v5,function CsP)
endfunction
function CsR takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B50 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsS takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.03
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.15
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())+.2)
endfunction
function CsT takes nothing returns nothing
set v6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(v6,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(v6,Condition(function CsR))
call TriggerAddAction(v6,function CsS)
endfunction
function CsU takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B47)==true and Bi9(GetTriggerUnit(),$49304B51)==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B47))
call RemoveItem(Bio(GetTriggerUnit(),$49304B51))
call UnitAddItemByIdSwapped($49304B50,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CsW takes nothing returns nothing
set v8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(v8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(v8,Condition(function CsU))
call TriggerAddAction(v8,function CsV)
endfunction
function CsX takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304B50)==true and Bi9(GetTriggerUnit(),$49304B51)==true and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function CsY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304B50))
call RemoveItem(Bio(GetTriggerUnit(),$49304B51))
call UnitAddItemByIdSwapped($49304B52,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function CsZ takes nothing returns nothing
set v9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(v9,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(v9,Condition(function CsX))
call TriggerAddAction(v9,function CsY)
endfunction
function Csa takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B52 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Csb takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.04
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())-.3)
endfunction
function Csc takes nothing returns nothing
set wB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wB,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(wB,Condition(function Csa))
call TriggerAddAction(wB,function Csb)
endfunction
function Csd takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304B52 and GetTriggerUnit()==Zi or GetTriggerUnit()==oN or GetTriggerUnit()==oi
endfunction
function Cse takes nothing returns nothing
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.04
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.2
call SetUnitState(GetTriggerUnit(),ConvertUnitState(37),GetUnitStateSwap(ConvertUnitState(37),GetTriggerUnit())+.3)
endfunction
function Csf takes nothing returns nothing
set wC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(wC,Condition(function Csd))
call TriggerAddAction(wC,function Cse)
endfunction
function Csg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Zm,false)
call ShowUnit(Zl,false)
call ShowUnit(Zk,false)
call ShowUnit(Zo,false)
call ShowUnit(Zn,false)
endfunction
function Csh takes nothing returns nothing
set vP=CreateTrigger()
call TriggerRegisterTimerEventSingle(vP,.8)
call TriggerAddAction(vP,function Csg)
endfunction
function Csi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Zq,false)
endfunction
function Csj takes nothing returns nothing
set v7=CreateTrigger()
call TriggerRegisterTimerEventSingle(v7,.8)
call TriggerAddAction(v7,function Csi)
endfunction
function Csk takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304C39)==true or Bi9(GetEventDamageSource(),$49304C41)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and 0!=EXGetEventDamageData(mY)==true
endfunction
function Csl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetEventDamageSource(),true))*1.+50.+0+0,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Csm takes nothing returns nothing
set zT=CreateTrigger()
call Bi3(zT)
call TriggerAddCondition(zT,Condition(function Csk))
call TriggerAddAction(zT,function Csl)
endfunction
function Csn takes nothing returns boolean
return Bi9(GetEventDamageSource(),$49304C39)==true or Bi9(GetEventDamageSource(),$49304C41)==true and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetTriggerUnit())==true and (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_HERO==ConvertAttackType(EXGetEventDamageData(qk))==true) or (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_CHAOS==ConvertAttackType(EXGetEventDamageData(qk))==true) or (DAMAGE_TYPE_NORMAL==ConvertDamageType(EXGetEventDamageData(qj))==true and ATTACK_TYPE_MELEE==ConvertAttackType(EXGetEventDamageData(qk))==true)
endfunction
function Cso takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitStateSwap(UNIT_STATE_LIFE,GetEventDamageSource())+10.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function Csp takes nothing returns nothing
set zU=CreateTrigger()
call Bi3(zU)
call TriggerAddCondition(zU,Condition(function Csn))
call TriggerAddAction(zU,function Cso)
endfunction
function Csq takes nothing returns boolean
return GetTriggerUnit()==ZI
endfunction
function Csr takes nothing returns nothing
if Bi9(GetTriggerUnit(),$49304A34)==true or Bi9(GetTriggerUnit(),$49303036)==true or Bi9(GetTriggerUnit(),$4930304D)==true or Bi9(GetTriggerUnit(),$4930304E)==true or Bi9(GetTriggerUnit(),$49303441)==true or Bi9(GetTriggerUnit(),$49303442)==true then
call DoNothing()
else
if Bi9(GetTriggerUnit(),$49304A32)==true or Bi9(GetTriggerUnit(),$49303443)==true then
set iG=iG+1
if iG>=10 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A32))
call RemoveItem(Bio(GetTriggerUnit(),$4930304E))
call RemoveItem(Bio(GetTriggerUnit(),$49303443))
call UnitAddItemByIdSwapped($49304C39,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),12.,"在轰鸣的雷击之中，历经淬炼，青芒破云剑横空出世！")
else
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\97.mdx",GetTriggerUnit(),"chest"))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetTriggerUnit(),"origin"))
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),2000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endif
else
call DoNothing()
endif
endif
endfunction
function Css takes nothing returns nothing
set zV=CreateTrigger()
call Bi7(zV,TK)
call TriggerAddCondition(zV,Condition(function Csq))
call TriggerAddAction(zV,function Csr)
endfunction
function Cst takes nothing returns boolean
return GetKillingUnitBJ()==ZI and IsUnitEnemy(GetKillingUnitBJ(),GetOwningPlayer(GetTriggerUnit()))==true and Bi9(GetKillingUnitBJ(),$49304C39)==true
endfunction
function Csu takes nothing returns nothing
set iH=iH+1
if iH>=300 then
call UnitDamageTargetBJ(GetKillingUnitBJ(),GetKillingUnitBJ(),10000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("war3mapImported\\97.mdx",GetKillingUnitBJ(),"chest"))
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetKillingUnitBJ(),"origin"))
if IsUnitAliveBJ(GetKillingUnitBJ())==true then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,12.,"你的青芒破云剑已满足击杀条件，得到晋升")
call RemoveItem(Bio(GetKillingUnitBJ(),$49304C39))
call UnitAddItemByIdSwapped($49304C41,GetKillingUnitBJ())
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl",GetKillingUnitBJ(),"chest"))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,12.,"晋升失败")
set iH=150
endif
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,1.5,"击杀次数"+I2S(iH)+"/300")
endif
endfunction
function Csv takes nothing returns nothing
set w5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(w5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(w5,Condition(function Cst))
call TriggerAddAction(w5,function Csu)
endfunction
function Csw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304237
endfunction
function Csx takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nt))
endfunction
function Csy takes nothing returns nothing
set BOP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOP,Condition(function Csw))
call TriggerAddAction(BOP,function Csx)
endfunction
function Csz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304239
endfunction
function Cs0 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nu))
endfunction
function Cs1 takes nothing returns nothing
set BOQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOQ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOQ,Condition(function Csz))
call TriggerAddAction(BOQ,function Cs0)
endfunction
function Cs2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304238
endfunction
function Cs3 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ns))
endfunction
function Cs4 takes nothing returns nothing
set BOR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOR,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOR,Condition(function Cs2))
call TriggerAddAction(BOR,function Cs3)
endfunction
function Cs5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304334
endfunction
function Cs6 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OO))
endfunction
function Cs7 takes nothing returns nothing
set BOS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOS,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOS,Condition(function Cs5))
call TriggerAddAction(BOS,function Cs6)
endfunction
function Cs8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304335
endfunction
function Cs9 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OP))
endfunction
function CtB takes nothing returns nothing
set BOT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOT,Condition(function Cs8))
call TriggerAddAction(BOT,function Cs9)
endfunction
function CtC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304336
endfunction
function CtD takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OQ))
endfunction
function CtE takes nothing returns nothing
set BOU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOU,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOU,Condition(function CtC))
call TriggerAddAction(BOU,function CtD)
endfunction
function CtF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304337
endfunction
function CtG takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OR))
endfunction
function CtH takes nothing returns nothing
set BOV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOV,Condition(function CtF))
call TriggerAddAction(BOV,function CtG)
endfunction
function CtI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304338
endfunction
function CtJ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bp))
endfunction
function CtK takes nothing returns nothing
set BOW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOW,Condition(function CtI))
call TriggerAddAction(BOW,function CtJ)
endfunction
function CtL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304339
endfunction
function CtM takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CE))
endfunction
function CtN takes nothing returns nothing
set BOX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOX,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOX,Condition(function CtL))
call TriggerAddAction(BOX,function CtM)
endfunction
function CtO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304341
endfunction
function CtP takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OS))
endfunction
function CtQ takes nothing returns nothing
set BOY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOY,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOY,Condition(function CtO))
call TriggerAddAction(BOY,function CtP)
endfunction
function CtR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304244
endfunction
function CtS takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nx))
endfunction
function CtT takes nothing returns nothing
set BOZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOZ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOZ,Condition(function CtR))
call TriggerAddAction(BOZ,function CtS)
endfunction
function CtU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304243
endfunction
function CtV takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CY))
endfunction
function CtW takes nothing returns nothing
set BOa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOa,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOa,Condition(function CtU))
call TriggerAddAction(BOa,function CtV)
endfunction
function CtX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304242
endfunction
function CtY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kl))
endfunction
function CtZ takes nothing returns nothing
set BOb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOb,Condition(function CtX))
call TriggerAddAction(BOb,function CtY)
endfunction
function Cta takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304241
endfunction
function Ctb takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nv))
endfunction
function Ctc takes nothing returns nothing
set BOc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOc,Condition(function Cta))
call TriggerAddAction(BOc,function Ctb)
endfunction
function Ctd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304245
endfunction
function Cte takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nw))
endfunction
function Ctf takes nothing returns nothing
set BOd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOd,Condition(function Ctd))
call TriggerAddAction(BOd,function Cte)
endfunction
function Ctg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B48
endfunction
function Cth takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Sm))
endfunction
function Cti takes nothing returns nothing
set vf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vf,Condition(function Ctg))
call TriggerAddAction(vf,function Cth)
endfunction
function Ctj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B49
endfunction
function Ctk takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Sn))
endfunction
function Ctl takes nothing returns nothing
set vg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vg,Condition(function Ctj))
call TriggerAddAction(vg,function Ctk)
endfunction
function Ctm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B4A
endfunction
function Ctn takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(So))
endfunction
function Cto takes nothing returns nothing
set vh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(vh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(vh,Condition(function Ctm))
call TriggerAddAction(vh,function Ctn)
endfunction
function Ctp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B5A
endfunction
function Ctq takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(S7))
endfunction
function Ctr takes nothing returns nothing
set wo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(wo,Condition(function Ctp))
call TriggerAddAction(wo,function Ctq)
endfunction
function Cts takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304B59
endfunction
function Ctt takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(S6))
endfunction
function Ctu takes nothing returns nothing
set wp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(wp,Condition(function Cts))
call TriggerAddAction(wp,function Ctt)
endfunction
function Ctv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304353
endfunction
function Ctw takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OX))
endfunction
function Ctx takes nothing returns nothing
set BOe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOe,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOe,Condition(function Ctv))
call TriggerAddAction(BOe,function Ctw)
endfunction
function Cty takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304354
endfunction
function Ctz takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OW))
endfunction
function Ct0 takes nothing returns nothing
set BOf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOf,Condition(function Cty))
call TriggerAddAction(BOf,function Ctz)
endfunction
function Ct1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304355
endfunction
function Ct2 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OV))
endfunction
function Ct3 takes nothing returns nothing
set BOg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOg,Condition(function Ct1))
call TriggerAddAction(BOg,function Ct2)
endfunction
function Ct4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304246
endfunction
function Ct5 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ny))
endfunction
function Ct6 takes nothing returns nothing
set BOh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOh,Condition(function Ct4))
call TriggerAddAction(BOh,function Ct5)
endfunction
function Ct7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304247
endfunction
function Ct8 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nz))
endfunction
function Ct9 takes nothing returns nothing
set BOi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOi,Condition(function Ct7))
call TriggerAddAction(BOi,function Ct8)
endfunction
function CuB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304248
endfunction
function CuC takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(N0))
endfunction
function CuD takes nothing returns nothing
set BOj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOj,Condition(function CuB))
call TriggerAddAction(BOj,function CuC)
endfunction
function CuE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304249
endfunction
function CuF takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(N2))
endfunction
function CuG takes nothing returns nothing
set BOk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOk,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOk,Condition(function CuE))
call TriggerAddAction(BOk,function CuF)
endfunction
function CuH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930424B
endfunction
function CuI takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(N1))
endfunction
function CuJ takes nothing returns nothing
set BOl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOl,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOl,Condition(function CuH))
call TriggerAddAction(BOl,function CuI)
endfunction
function CuK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930424A
endfunction
function CuL takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(N3))
endfunction
function CuM takes nothing returns nothing
set BOm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOm,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOm,Condition(function CuK))
call TriggerAddAction(BOm,function CuL)
endfunction
function CuN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304437
endfunction
function CuO takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Oh))
endfunction
function CuP takes nothing returns nothing
set BOn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOn,Condition(function CuN))
call TriggerAddAction(BOn,function CuO)
endfunction
function CuQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304259
endfunction
function CuR takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OG))
endfunction
function CuS takes nothing returns nothing
set BOo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOo,Condition(function CuQ))
call TriggerAddAction(BOo,function CuR)
endfunction
function CuT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930425A
endfunction
function CuU takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OH))
endfunction
function CuV takes nothing returns nothing
set BOp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOp,Condition(function CuT))
call TriggerAddAction(BOp,function CuU)
endfunction
function CuW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304330
endfunction
function CuX takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OI))
endfunction
function CuY takes nothing returns nothing
set BOq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOq,Condition(function CuW))
call TriggerAddAction(BOq,function CuX)
endfunction
function CuZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304331
endfunction
function Cua takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OL))
endfunction
function Cub takes nothing returns nothing
set BOr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOr,Condition(function CuZ))
call TriggerAddAction(BOr,function Cua)
endfunction
function Cuc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304332
endfunction
function Cud takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OK))
endfunction
function Cue takes nothing returns nothing
set BOs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOs,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOs,Condition(function Cuc))
call TriggerAddAction(BOs,function Cud)
endfunction
function Cuf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304333
endfunction
function Cug takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(OJ))
endfunction
function Cuh takes nothing returns nothing
set BOt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOt,Condition(function Cuf))
call TriggerAddAction(BOt,function Cug)
endfunction
function Cui takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304747
endfunction
function Cuj takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QO))
endfunction
function Cuk takes nothing returns nothing
set BOu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOu,Condition(function Cui))
call TriggerAddAction(BOu,function Cuj)
endfunction
function Cul takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304748
endfunction
function Cum takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QN))
endfunction
function Cun takes nothing returns nothing
set BOv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOv,Condition(function Cul))
call TriggerAddAction(BOv,function Cum)
endfunction
function Cuo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304430
endfunction
function Cup takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ob))
endfunction
function Cuq takes nothing returns nothing
set BOw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOw,Condition(function Cuo))
call TriggerAddAction(BOw,function Cup)
endfunction
function Cur takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304431
endfunction
function Cus takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Oa))
endfunction
function Cut takes nothing returns nothing
set BOx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOx,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOx,Condition(function Cur))
call TriggerAddAction(BOx,function Cus)
endfunction
function Cuu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304432
endfunction
function Cuv takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Od))
endfunction
function Cuw takes nothing returns nothing
set BOy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOy,Condition(function Cuu))
call TriggerAddAction(BOy,function Cuv)
endfunction
function Cux takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304433
endfunction
function Cuy takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Oc))
endfunction
function Cuz takes nothing returns nothing
set BOz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BOz,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BOz,Condition(function Cux))
call TriggerAddAction(BOz,function Cuy)
endfunction
function Cu0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304434
endfunction
function Cu1 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Og))
endfunction
function Cu2 takes nothing returns nothing
set BO0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BO0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BO0,Condition(function Cu0))
call TriggerAddAction(BO0,function Cu1)
endfunction
function Cu3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304435
endfunction
function Cu4 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Of))
endfunction
function Cu5 takes nothing returns nothing
set BO1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BO1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BO1,Condition(function Cu3))
call TriggerAddAction(BO1,function Cu4)
endfunction
function Cu6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304436
endfunction
function Cu7 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Oe))
endfunction
function Cu8 takes nothing returns nothing
set BO2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BO2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BO2,Condition(function Cu6))
call TriggerAddAction(BO2,function Cu7)
endfunction
function Cu9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetSpellAbilityId()==$41304D51
endfunction
function CvB takes nothing returns nothing
if GetUnitTypeId(GetSpellTargetUnit())==$6E303445 or GetUnitTypeId(GetSpellTargetUnit())==$6E30334D or GetUnitTypeId(GetSpellTargetUnit())==$6E303359 or GetUnitTypeId(GetSpellTargetUnit())==$6E303355 or GetUnitTypeId(GetSpellTargetUnit())==$6E303357 or GetUnitTypeId(GetSpellTargetUnit())==$6E303356 or GetUnitTypeId(GetSpellTargetUnit())==$6E303354 or GetUnitTypeId(GetSpellTargetUnit())==$6E30334B or GetUnitTypeId(GetSpellTargetUnit())==$6E303542 or GetUnitTypeId(GetSpellTargetUnit())==$6E303351 or GetUnitTypeId(GetSpellTargetUnit())==$6E303350 or GetUnitTypeId(GetSpellTargetUnit())==$6E303449 or GetUnitTypeId(GetSpellTargetUnit())==$6E30334C or GetUnitTypeId(GetSpellTargetUnit())==$6E30334A or GetUnitTypeId(GetSpellTargetUnit())==$6E303352 or GetUnitTypeId(GetSpellTargetUnit())==$6E303353 or GetUnitTypeId(GetSpellTargetUnit())==$6E303544 and GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_RED or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_BLUE or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_CYAN or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_PURPLE or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_YELLOW or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_ORANGE or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_GREEN or GetPlayerColor(GetOwningPlayer(GetSpellTargetUnit()))==PLAYER_COLOR_PINK then
set js=GetUnitLoc(GetSpellTargetUnit())
call SetUnitPositionLoc(GetTriggerUnit(),js)
call RemoveLocation(js)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetTriggerUnit(),"origin"))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"传送使用目标错误，无法传送")
endif
endfunction
function CvC takes nothing returns nothing
set BO3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BO3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(BO3,Condition(function Cu9))
call TriggerAddAction(BO3,function CvB)
endfunction
function CvD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yd,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvF takes nothing returns nothing
set BO4=CreateTrigger()
call Bi7(BO4,Pu)
call TriggerAddCondition(BO4,Condition(function CvD))
call TriggerAddAction(BO4,function CvE)
endfunction
function CvG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Ye,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvI takes nothing returns nothing
set BO5=CreateTrigger()
call Bi7(BO5,Pv)
call TriggerAddCondition(BO5,Condition(function CvG))
call TriggerAddAction(BO5,function CvH)
endfunction
function CvJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yf,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvL takes nothing returns nothing
set BO6=CreateTrigger()
call Bi7(BO6,Pw)
call TriggerAddCondition(BO6,Condition(function CvJ))
call TriggerAddAction(BO6,function CvK)
endfunction
function CvM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yg,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvO takes nothing returns nothing
set BO7=CreateTrigger()
call Bi7(BO7,Px)
call TriggerAddCondition(BO7,Condition(function CvM))
call TriggerAddAction(BO7,function CvN)
endfunction
function CvP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yh,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvR takes nothing returns nothing
set BO8=CreateTrigger()
call Bi7(BO8,Py)
call TriggerAddCondition(BO8,Condition(function CvP))
call TriggerAddAction(BO8,function CvQ)
endfunction
function CvS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yi,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvU takes nothing returns nothing
set BO9=CreateTrigger()
call Bi7(BO9,Pz)
call TriggerAddCondition(BO9,Condition(function CvS))
call TriggerAddAction(BO9,function CvT)
endfunction
function CvV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yj,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CvX takes nothing returns nothing
set BPB=CreateTrigger()
call Bi7(BPB,P0)
call TriggerAddCondition(BPB,Condition(function CvV))
call TriggerAddAction(BPB,function CvW)
endfunction
function CvY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CvZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yt,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cva takes nothing returns nothing
set BPC=CreateTrigger()
call Bi7(BPC,QF)
call TriggerAddCondition(BPC,Condition(function CvY))
call TriggerAddAction(BPC,function CvZ)
endfunction
function Cvb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yu,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvd takes nothing returns nothing
set BPD=CreateTrigger()
call Bi7(BPD,QG)
call TriggerAddCondition(BPD,Condition(function Cvb))
call TriggerAddAction(BPD,function Cvc)
endfunction
function Cve takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Y2,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvg takes nothing returns nothing
set kW=CreateTrigger()
call Bi7(kW,Q0)
call TriggerAddCondition(kW,Condition(function Cve))
call TriggerAddAction(kW,function Cvf)
endfunction
function Cvh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Y5,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvj takes nothing returns nothing
set kp=CreateTrigger()
call Bi7(kp,RB)
call TriggerAddCondition(kp,Condition(function Cvh))
call TriggerAddAction(kp,function Cvi)
endfunction
function Cvk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xf,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvm takes nothing returns nothing
set xR=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xR,250.,Xf)
call TriggerAddCondition(xR,Condition(function Cvk))
call TriggerAddAction(xR,function Cvl)
endfunction
function Cvn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xg,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvp takes nothing returns nothing
set xS=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xS,250.,Xg)
call TriggerAddCondition(xS,Condition(function Cvn))
call TriggerAddAction(xS,function Cvo)
endfunction
function Cvq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X6,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvs takes nothing returns nothing
set xT=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xT,250.,X6)
call TriggerAddCondition(xT,Condition(function Cvq))
call TriggerAddAction(xT,function Cvr)
endfunction
function Cvt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xh,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvv takes nothing returns nothing
set xU=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xU,250.,Xh)
call TriggerAddCondition(xU,Condition(function Cvt))
call TriggerAddAction(xU,function Cvu)
endfunction
function Cvw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cvx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X9,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cvy takes nothing returns nothing
set xV=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xV,250.,X9)
call TriggerAddCondition(xV,Condition(function Cvw))
call TriggerAddAction(xV,function Cvx)
endfunction
function Cvz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cv0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X4,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cv1 takes nothing returns nothing
set xW=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xW,250.,X4)
call TriggerAddCondition(xW,Condition(function Cvz))
call TriggerAddAction(xW,function Cv0)
endfunction
function Cv2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cv3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X3,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cv4 takes nothing returns nothing
set xX=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xX,250.,X3)
call TriggerAddCondition(xX,Condition(function Cv2))
call TriggerAddAction(xX,function Cv3)
endfunction
function Cv5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cv6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X5,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cv7 takes nothing returns nothing
set xY=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xY,250.,X5)
call TriggerAddCondition(xY,Condition(function Cv5))
call TriggerAddAction(xY,function Cv6)
endfunction
function Cv8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cv9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(aK,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwB takes nothing returns nothing
set xZ=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xZ,250.,aK)
call TriggerAddCondition(xZ,Condition(function Cv8))
call TriggerAddAction(xZ,function Cv9)
endfunction
function CwC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X8,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwE takes nothing returns nothing
set xa=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xa,250.,X8)
call TriggerAddCondition(xa,Condition(function CwC))
call TriggerAddAction(xa,function CwD)
endfunction
function CwF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X7,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwH takes nothing returns nothing
set xb=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xb,250.,X7)
call TriggerAddCondition(xb,Condition(function CwF))
call TriggerAddAction(xb,function CwG)
endfunction
function CwI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xi,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwK takes nothing returns nothing
set xc=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xc,250.,Xi)
call TriggerAddCondition(xc,Condition(function CwI))
call TriggerAddAction(xc,function CwJ)
endfunction
function CwL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xk,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwN takes nothing returns nothing
set xd=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xd,250.,Xk)
call TriggerAddCondition(xd,Condition(function CwL))
call TriggerAddAction(xd,function CwM)
endfunction
function CwO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xl,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwQ takes nothing returns nothing
set xe=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xe,250.,Xl)
call TriggerAddCondition(xe,Condition(function CwO))
call TriggerAddAction(xe,function CwP)
endfunction
function CwR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xm,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwT takes nothing returns nothing
set xf=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xf,250.,Xm)
call TriggerAddCondition(xf,Condition(function CwR))
call TriggerAddAction(xf,function CwS)
endfunction
function CwU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xj,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwW takes nothing returns nothing
set xg=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xg,250.,Xj)
call TriggerAddCondition(xg,Condition(function CwU))
call TriggerAddAction(xg,function CwV)
endfunction
function CwX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CwY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Zr,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CwZ takes nothing returns nothing
set xh=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xh,250.,Zr)
call TriggerAddCondition(xh,Condition(function CwX))
call TriggerAddAction(xh,function CwY)
endfunction
function Cwa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Zs,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwc takes nothing returns nothing
set xi=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xi,250.,Zs)
call TriggerAddCondition(xi,Condition(function Cwa))
call TriggerAddAction(xi,function Cwb)
endfunction
function Cwd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Zt,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwf takes nothing returns nothing
set xj=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xj,250.,Zt)
call TriggerAddCondition(xj,Condition(function Cwd))
call TriggerAddAction(xj,function Cwe)
endfunction
function Cwg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YB,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwi takes nothing returns nothing
set xk=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xk,250.,YB)
call TriggerAddCondition(xk,Condition(function Cwg))
call TriggerAddAction(xk,function Cwh)
endfunction
function Cwj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YC,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwl takes nothing returns nothing
set xl=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xl,250.,YC)
call TriggerAddCondition(xl,Condition(function Cwj))
call TriggerAddAction(xl,function Cwk)
endfunction
function Cwm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YD,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwo takes nothing returns nothing
set xm=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xm,250.,YD)
call TriggerAddCondition(xm,Condition(function Cwm))
call TriggerAddAction(xm,function Cwn)
endfunction
function Cwp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwq takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xx,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwr takes nothing returns nothing
set xn=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xn,250.,Xx)
call TriggerAddCondition(xn,Condition(function Cwp))
call TriggerAddAction(xn,function Cwq)
endfunction
function Cws takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xy,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwu takes nothing returns nothing
set xo=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xo,250.,Xy)
call TriggerAddCondition(xo,Condition(function Cws))
call TriggerAddAction(xo,function Cwt)
endfunction
function Cwv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cww takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xz,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cwx takes nothing returns nothing
set xp=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xp,250.,Xz)
call TriggerAddCondition(xp,Condition(function Cwv))
call TriggerAddAction(xp,function Cww)
endfunction
function Cwy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cwz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X0,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cw0 takes nothing returns nothing
set xq=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xq,250.,X0)
call TriggerAddCondition(xq,Condition(function Cwy))
call TriggerAddAction(xq,function Cwz)
endfunction
function Cw1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cw2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X1,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cw3 takes nothing returns nothing
set xr=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xr,250.,X1)
call TriggerAddCondition(xr,Condition(function Cw1))
call TriggerAddAction(xr,function Cw2)
endfunction
function Cw4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cw5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(X2,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cw6 takes nothing returns nothing
set xs=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xs,250.,X2)
call TriggerAddCondition(xs,Condition(function Cw4))
call TriggerAddAction(xs,function Cw5)
endfunction
function Cw7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cw8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yw,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cw9 takes nothing returns nothing
set xt=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xt,250.,Yw)
call TriggerAddCondition(xt,Condition(function Cw7))
call TriggerAddAction(xt,function Cw8)
endfunction
function CxB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Yv,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxD takes nothing returns nothing
set xu=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xu,250.,Yv)
call TriggerAddCondition(xu,Condition(function CxB))
call TriggerAddAction(xu,function CxC)
endfunction
function CxE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xn,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxG takes nothing returns nothing
set xv=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xv,250.,Xn)
call TriggerAddCondition(xv,Condition(function CxE))
call TriggerAddAction(xv,function CxF)
endfunction
function CxH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xo,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxJ takes nothing returns nothing
set xw=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xw,250.,Xo)
call TriggerAddCondition(xw,Condition(function CxH))
call TriggerAddAction(xw,function CxI)
endfunction
function CxK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YE,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxM takes nothing returns nothing
set xx=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xx,250.,YE)
call TriggerAddCondition(xx,Condition(function CxK))
call TriggerAddAction(xx,function CxL)
endfunction
function CxN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YF,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxP takes nothing returns nothing
set xy=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xy,250.,YF)
call TriggerAddCondition(xy,Condition(function CxN))
call TriggerAddAction(xy,function CxO)
endfunction
function CxQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YG,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxS takes nothing returns nothing
set xz=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(xz,250.,YG)
call TriggerAddCondition(xz,Condition(function CxQ))
call TriggerAddAction(xz,function CxR)
endfunction
function CxT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YH,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxV takes nothing returns nothing
set x0=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x0,250.,YH)
call TriggerAddCondition(x0,Condition(function CxT))
call TriggerAddAction(x0,function CxU)
endfunction
function CxW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CxX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YI,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function CxY takes nothing returns nothing
set x1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x1,250.,YI)
call TriggerAddCondition(x1,Condition(function CxW))
call TriggerAddAction(x1,function CxX)
endfunction
function CxZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YJ,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxb takes nothing returns nothing
set x2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x2,250.,YJ)
call TriggerAddCondition(x2,Condition(function CxZ))
call TriggerAddAction(x2,function Cxa)
endfunction
function Cxc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YK,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxe takes nothing returns nothing
set x3=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x3,250.,YK)
call TriggerAddCondition(x3,Condition(function Cxc))
call TriggerAddAction(x3,function Cxd)
endfunction
function Cxf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(YL,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxh takes nothing returns nothing
set x4=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x4,250.,YL)
call TriggerAddCondition(x4,Condition(function Cxf))
call TriggerAddAction(x4,function Cxg)
endfunction
function Cxi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xs,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxk takes nothing returns nothing
set x5=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x5,250.,Xs)
call TriggerAddCondition(x5,Condition(function Cxi))
call TriggerAddAction(x5,function Cxj)
endfunction
function Cxl takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxm takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xr,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxn takes nothing returns nothing
set x6=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x6,250.,Xr)
call TriggerAddCondition(x6,Condition(function Cxl))
call TriggerAddAction(x6,function Cxm)
endfunction
function Cxo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxp takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xp,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxq takes nothing returns nothing
set x7=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x7,250.,Xp)
call TriggerAddCondition(x7,Condition(function Cxo))
call TriggerAddAction(x7,function Cxp)
endfunction
function Cxr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(Xq,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxt takes nothing returns nothing
set x8=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x8,250.,Xq)
call TriggerAddCondition(x8,Condition(function Cxr))
call TriggerAddAction(x8,function Cxs)
endfunction
function Cxu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(aP,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxw takes nothing returns nothing
set x9=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(x9,250.,aP)
call TriggerAddCondition(x9,Condition(function Cxu))
call TriggerAddAction(x9,function Cxv)
endfunction
function Cxx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cxy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(aM,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cxz takes nothing returns nothing
set yB=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(yB,250.,aM)
call TriggerAddCondition(yB,Condition(function Cxx))
call TriggerAddAction(yB,function Cxy)
endfunction
function Cx0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cx1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(aN,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cx2 takes nothing returns nothing
set yC=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(yC,250.,aN)
call TriggerAddCondition(yC,Condition(function Cx0))
call TriggerAddAction(yC,function Cx1)
endfunction
function Cx3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cx4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(aO,GetOwningPlayer(GetTriggerUnit()),true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"获取传送石")
endfunction
function Cx5 takes nothing returns nothing
set yD=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(yD,250.,aO)
call TriggerAddCondition(yD,Condition(function Cx3))
call TriggerAddAction(yD,function Cx4)
endfunction
function Cx6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cx7 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱克茵：在非特殊情况下，如果你有队友死亡可以来找我复活。")
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cx8 takes nothing returns nothing
set BPE=CreateTrigger()
call Bi7(BPE,JM)
call TriggerAddCondition(BPE,Condition(function Cx6))
call TriggerAddAction(BPE,function Cx7)
endfunction
function Cx9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930364B
endfunction
function CyB takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(JN),true)
endfunction
function CyC takes nothing returns nothing
call ForGroupBJ(bJ,function CyB)
endfunction
function CyD takes nothing returns nothing
set BPF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPF,Condition(function Cx9))
call TriggerAddAction(BPF,function CyC)
endfunction
function CyE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CyF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱克茵：在非特殊情况下，如果你有队友死亡可以来找我复活。")
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CyG takes nothing returns nothing
set BPG=CreateTrigger()
call Bi7(BPG,JO)
call TriggerAddCondition(BPG,Condition(function CyE))
call TriggerAddAction(BPG,function CyF)
endfunction
function CyH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930364C
endfunction
function CyI takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(JP),true)
endfunction
function CyJ takes nothing returns nothing
call ForGroupBJ(bJ,function CyI)
endfunction
function CyK takes nothing returns nothing
set BPH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPH,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPH,Condition(function CyH))
call TriggerAddAction(BPH,function CyJ)
endfunction
function CyL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CyM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱克茵：在非特殊情况下，如果你有队友死亡可以来找我复活。")
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CyN takes nothing returns nothing
set BPI=CreateTrigger()
call Bi7(BPI,JQ)
call TriggerAddCondition(BPI,Condition(function CyL))
call TriggerAddAction(BPI,function CyM)
endfunction
function CyO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930364D
endfunction
function CyP takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(JR),true)
endfunction
function CyQ takes nothing returns nothing
call ForGroupBJ(bJ,function CyP)
endfunction
function CyR takes nothing returns nothing
set BPJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPJ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPJ,Condition(function CyO))
call TriggerAddAction(BPJ,function CyQ)
endfunction
function CyS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CyT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱克茵：在非特殊情况下，如果你有队友死亡可以来找我复活。")
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function CyU takes nothing returns nothing
set BPK=CreateTrigger()
call Bi7(BPK,JS)
call TriggerAddCondition(BPK,Condition(function CyS))
call TriggerAddAction(BPK,function CyT)
endfunction
function CyV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930364E
endfunction
function CyW takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(JT),true)
endfunction
function CyX takes nothing returns nothing
call ForGroupBJ(bJ,function CyW)
endfunction
function CyY takes nothing returns nothing
set BPL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPL,Condition(function CyV))
call TriggerAddAction(BPL,function CyX)
endfunction
function CyZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304231
endfunction
function Cya takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Np),true)
endfunction
function Cyb takes nothing returns nothing
call ForGroupBJ(bJ,function Cya)
endfunction
function Cyc takes nothing returns nothing
set BPM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPM,Condition(function CyZ))
call TriggerAddAction(BPM,function Cyb)
endfunction
function Cyd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304845
endfunction
function Cye takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Q9),true)
endfunction
function Cyf takes nothing returns nothing
call ForGroupBJ(bJ,function Cye)
endfunction
function Cyg takes nothing returns nothing
set BPN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPN,Condition(function Cyd))
call TriggerAddAction(BPN,function Cyf)
endfunction
function Cyh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304357
endfunction
function Cyi takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(OZ),true)
endfunction
function Cyj takes nothing returns nothing
call ForGroupBJ(bJ,function Cyi)
endfunction
function Cyk takes nothing returns nothing
set BPO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPO,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPO,Condition(function Cyh))
call TriggerAddAction(BPO,function Cyj)
endfunction
function Cyl takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cym takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(H3))
endfunction
function Cyn takes nothing returns nothing
set BPP=CreateTrigger()
call Bi7(BPP,H4)
call TriggerAddCondition(BPP,Condition(function Cyl))
call TriggerAddAction(BPP,function Cym)
endfunction
function Cyo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cyp takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(H5))
endfunction
function Cyq takes nothing returns nothing
set BPQ=CreateTrigger()
call Bi7(BPQ,H2)
call TriggerAddCondition(BPQ,Condition(function Cyo))
call TriggerAddAction(BPQ,function Cyp)
endfunction
function Cyr takes nothing returns nothing
call SetDestructableInvulnerable(T2,true)
endfunction
function Cys takes nothing returns nothing
set BPR=CreateTrigger()
call TriggerAddAction(BPR,function Cyr)
endfunction
function Cyt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(We)
endfunction
function Cyu takes nothing returns nothing
set BPS=CreateTrigger()
call TriggerRegisterTimerEventSingle(BPS,.1)
call TriggerAddAction(BPS,function Cyt)
endfunction
function Cyv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cyw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(We)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cyx takes nothing returns nothing
set BPT=CreateTrigger()
call Bi7(BPT,H9)
call TriggerAddCondition(BPT,Condition(function Cyv))
call TriggerAddAction(BPT,function Cyw)
endfunction
function Cyy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and IsUnitInGroup(Ue,bJ)==true then
call ConditionalTriggerExecute(BPV)
else
call ConditionalTriggerExecute(BPW)
endif
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BPX)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cyz takes nothing returns nothing
set BPU=CreateTrigger()
call TriggerRegisterUnitEvent(BPU,We,EVENT_UNIT_DEATH)
call TriggerAddAction(BPU,function Cyy)
endfunction
function Cy0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根：拉摩尔之魂？这什么东西.......")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：我对这个也不是很了解.......不过收集起来也不坏就是了......")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cy1 takes nothing returns nothing
set BPV=CreateTrigger()
call TriggerRegisterTimerEventSingle(BPV,1.)
call TriggerAddAction(BPV,function Cy0)
endfunction
function Cy2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这件东西似乎并不简单........")
endfunction
function Cy3 takes nothing returns nothing
set BPW=CreateTrigger()
call TriggerRegisterTimerEventSingle(BPW,1.)
call TriggerAddAction(BPW,function Cy2)
endfunction
function Cy4 takes nothing returns nothing
call DisableTrigger(BPV)
call DisableTrigger(BPW)
endfunction
function Cy5 takes nothing returns nothing
set BPY=CreateTrigger()
call TriggerAddAction(BPY,function Cy4)
endfunction
function Cy6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(b9)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Id)
call CreateNUnitsAtLoc(1,$6E303245,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BPZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b9)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cy7 takes nothing returns nothing
set BPX=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BPX,1.)
call TriggerAddAction(BPX,function Cy6)
endfunction
function Cy8 takes nothing returns nothing
call DisableTrigger(BPX)
endfunction
function Cy9 takes nothing returns nothing
set BPa=CreateTrigger()
call TriggerAddAction(BPa,function Cy8)
endfunction
function CzB takes nothing returns boolean
return GetDyingUnit()==BPZ
endfunction
function CzC takes nothing returns nothing
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303554,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303555,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303556,i8)
call RemoveLocation(i8)
endif
endif
endfunction
function CzD takes nothing returns nothing
set BPb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPb,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BPb,Condition(function CzB))
call TriggerAddAction(BPb,function CzC)
endfunction
function CzE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303651)==true
endfunction
function CzF takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(JV))
endfunction
function CzG takes nothing returns nothing
set BPc=CreateTrigger()
call Bi7(BPc,CX)
call TriggerAddCondition(BPc,Condition(function CzE))
call TriggerAddAction(BPc,function CzF)
endfunction
function CzH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CzI takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CY))
endfunction
function CzJ takes nothing returns nothing
set BPd=CreateTrigger()
call Bi7(BPd,JU)
call TriggerAddCondition(BPd,Condition(function CzH))
call TriggerAddAction(BPd,function CzI)
endfunction
function CzK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"........................................")
endfunction
function CzL takes nothing returns nothing
set BPe=CreateTrigger()
call TriggerRegisterUnitEvent(BPe,XE,EVENT_UNIT_DEATH)
call TriggerAddAction(BPe,function CzK)
endfunction
function CzM takes nothing returns boolean
return GetAttacker()==XE
endfunction
function CzN takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function CzO takes nothing returns nothing
call UnitDamageTargetBJ(XE,GetEnumUnit(),250.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function CzP takes nothing returns nothing
set i8=GetUnitLoc(GetAttacker())
set fP=Biq(600.,i8,Condition(function CzN))
call ForGroupBJ(fP,function CzO)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function CzQ takes nothing returns nothing
set BPf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPf,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BPf,Condition(function CzM))
call TriggerAddAction(BPf,function CzP)
endfunction
function CzR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CzS takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"缺足兔：咕咕咕........")
endfunction
function CzT takes nothing returns nothing
set BPg=CreateTrigger()
call Bi7(BPg,GZ)
call TriggerAddCondition(BPg,Condition(function CzR))
call TriggerAddAction(BPg,function CzS)
endfunction
function CzU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CzV takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ia))
endfunction
function CzW takes nothing returns nothing
set BPh=CreateTrigger()
call Bi7(BPh,IX)
call TriggerAddCondition(BPh,Condition(function CzU))
call TriggerAddAction(BPh,function CzV)
endfunction
function CzX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function CzY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(IY))
endfunction
function CzZ takes nothing returns nothing
set BPi=CreateTrigger()
call Bi7(BPi,IZ)
call TriggerAddCondition(BPi,Condition(function CzX))
call TriggerAddAction(BPi,function CzY)
endfunction
function Cza takes nothing returns nothing
call DisableTrigger(BPh)
endfunction
function Czb takes nothing returns nothing
set BPj=CreateTrigger()
call TriggerAddAction(BPj,function Cza)
endfunction
function Czc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303053)==true
endfunction
function Czd takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BPg)
call RemoveItem(Bio(GetTriggerUnit(),$49303053))
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveUnit(XD)
call SetDoodadAnimationRectBJ("show",$594F7232,IX)
call EnableTrigger(BPh)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cze takes nothing returns nothing
set BPk=CreateTrigger()
call Bi7(BPk,GZ)
call TriggerAddCondition(BPk,Condition(function Czc))
call TriggerAddAction(BPk,function Czd)
endfunction
function Czf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,IX)
endfunction
function Czg takes nothing returns nothing
set BPl=CreateTrigger()
call TriggerRegisterTimerEventSingle(BPl,.1)
call TriggerAddAction(BPl,function Czf)
endfunction
function Czh takes nothing returns nothing
call SetDestructableInvulnerable(T3,true)
endfunction
function Czi takes nothing returns nothing
set BPm=CreateTrigger()
call TriggerAddAction(BPm,function Czh)
endfunction
function Czj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T3)
endfunction
function Czk takes nothing returns nothing
set BPn=CreateTrigger()
call TriggerRegisterUnitEvent(BPn,XE,EVENT_UNIT_DEATH)
call TriggerAddAction(BPn,function Czj)
endfunction
function Czl takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303644
endfunction
function Czm takes nothing returns nothing
if GetRandomInt(1,100)<=99 then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你运气真差。")
else
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BPp)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人在赌博中获得了5000钱。")
call AdjustPlayerStateBJ(5000,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function Czn takes nothing returns nothing
set BPo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPo,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(BPo,Condition(function Czl))
call TriggerAddAction(BPo,function Czm)
endfunction
function Czo takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303644
endfunction
function Czp takes nothing returns nothing
if GetRandomInt(1,100)<=99 then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你运气真差。")
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你运气真差。")
endif
endfunction
function Czq takes nothing returns nothing
set BPp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPp,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(BPp,Condition(function Czo))
call TriggerAddAction(BPp,function Czp)
endfunction
function Czr takes nothing returns nothing
call DisableTrigger(BPp)
endfunction
function Czs takes nothing returns nothing
set BPq=CreateTrigger()
call TriggerAddAction(BPq,function Czr)
endfunction
function Czt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and GetItemTypeId(GetManipulatedItem())==$49303750
endfunction
function Czu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒野猎手奖励全属性+3")
call UnitAddAbilityBJ($41304441,Uf)
endfunction
function Czv takes nothing returns nothing
set BPr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPr,Condition(function Czt))
call TriggerAddAction(BPr,function Czu)
endfunction
function Czw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and GetItemTypeId(GetManipulatedItem())==$精致的刨地铲
endfunction
function Czx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒野猎手奖励力敏+3")
call UnitAddAbilityBJ($4130454D,Uf)
endfunction
function Czy takes nothing returns nothing
set BPs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPs,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPs,Condition(function Czw))
call TriggerAddAction(BPs,function Czx)
endfunction
function Czz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bR)==true and GetItemTypeId(GetManipulatedItem())==$49303759
endfunction
function Cz0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"荒野猎手奖励力敏+3")
call UnitAddAbilityBJ($4130454E,Uf)
endfunction
function Cz1 takes nothing returns nothing
set BPt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BPt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BPt,Condition(function Czz))
call TriggerAddAction(BPt,function Cz0)
endfunction
function Cz2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Cz3 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"里克尔：真想要一个普通的面具啊....")
endfunction
function Cz4 takes nothing returns nothing
set BPu=CreateTrigger()
call Bi7(BPu,Bw)
call TriggerAddCondition(BPu,Condition(function Cz2))
call TriggerAddAction(BPu,function Cz3)
endfunction
function Cz5 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304F)==true
endfunction
function Cz6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call RemoveItem(Bio(GetTriggerUnit(),$4930304F))
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BPu)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"里克尔：这....真是太谢谢你们了....")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"里克尔：我这有几个背包...反正我也用不到...就送给你们了....")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"现在开始所有玩家按方向键↑即可切换背包，总共5个背包.....")
call Biw(false)
call EnableTrigger(jN)
set eQ=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Cz7 takes nothing returns nothing
set BPv=CreateTrigger()
call Bi7(BPv,Bw)
call TriggerAddCondition(BPv,Condition(function Cz5))
call TriggerAddAction(BPv,function Cz6)
endfunction
function Cz8 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304F)==true and eQ==true
endfunction
function Cz9 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930304F))
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"里克尔：哇..是第二个...")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"里克尔：你真是太令我惊喜了...")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"里克尔：这个就作为奖励送给你吧...")
call UnitAddItemByIdSwapped($49304931,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0B takes nothing returns nothing
set pg=CreateTrigger()
call Bi7(pg,Bw)
call TriggerAddCondition(pg,Condition(function Cz8))
call TriggerAddAction(pg,function Cz9)
endfunction
function C0C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C0D takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：哎......最近我的矿铲有点生锈了....真希望有个新的矿铲啊.........")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9矿铲支线开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"不知名的矿工","如果能给这位不知名的矿工一把新矿铲就好了。","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set BPx=GetLastCreatedQuestBJ()
call EnableTrigger(BPy)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0E takes nothing returns nothing
set BPw=CreateTrigger()
call Bi7(BPw,BR)
call TriggerAddCondition(BPw,Condition(function C0C))
call TriggerAddAction(BPw,function C0D)
endfunction
function C0F takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if Bi9(GetTriggerUnit(),$49304A32)==true and IsUnitInGroup(GetTriggerUnit(),bJ)==true then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A32))
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：哇..这矿铲也太优质了吧..")
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：真是太感谢你了.....")
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：这个是我最近采的一条不错的金属石...就送给你当谢礼了....")
call CreateItemLoc($49303046,GetUnitLoc(GetTriggerUnit()))
call SetUnitOwner(Um,Player(8),true)
call SetUnitOwner(Un,Player(8),true)
call IssueTargetOrder(Um,"harvest",Ul)
call QuestSetCompleted(BPx,true)
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：这个鞋子也送给你了...想必对你来说一定会有不可或缺的用途...")
call CreateItemLoc($49303137,GetUnitLoc(GetTriggerUnit()))
call RemoveItem(Bio(Um,$49303137))
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"矿工：再顺便告诉你们，遗迹据说存在着以下几个难以发现的宝物。")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"妮雅娜个人相关：焰灵项链LV1及LV2、米克尔的祝福")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"西菲尔个人专属：雷翼宝石、两处制裁之力的痕迹")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"小残魂个人专属相关：灵魂吞噬者、进阶大魂影")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"莉尔娅-鹰眼个人相关：米克尔的欣赏")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"血公主个人专属：魔刃-莱瓦汀、血骨")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"海族武姬个人专属：碧蓝灵戟、碧蓝灵戟突破之玉、水皇钟")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"通用宝物：死亡面具、刻灵之弓、沉沦的意志、苍生之瓶LV0、被封印的圣雷头冠-0、残魂宝冠、两本法力之靴合成卷轴、面具饰品-初强化、力量之靴-初、拉摩尔之魂-碎片1、不可思议之靴、遗迹之杖、血魔面具")
else
if Bi9(GetTriggerUnit(),$49303045)==true and IsUnitInGroup(GetTriggerUnit(),bJ)==true then
call DisableTrigger(GetTriggeringTrigger())
set eh=true
call RemoveItem(Bio(GetTriggerUnit(),$49303045))
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：咦.....这把矿铲挺不错的.....")
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：真是太感谢你了.....")
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"矿工：这个是我最近采的一条不错的金属石...就送给你当谢礼了....")
call CreateItemLoc($49303046,GetUnitLoc(GetTriggerUnit()))
call SetUnitOwner(Um,Player(8),true)
call SetUnitOwner(Un,Player(8),true)
call IssueTargetOrder(Um,"harvest",Ul)
call QuestSetCompleted(BPx,true)
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"矿工：再顺便告诉你们，遗迹据说存在着以下几个难以发现的宝物。")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"妮雅娜个人相关：焰灵项链LV1及LV2、米克尔的祝福")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"西菲尔个人专属：雷翼宝石、两处制裁之力的痕迹")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"小残魂个人专属相关：灵魂吞噬者、进阶大魂影")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"莉尔娅-鹰眼个人相关：米克尔的欣赏")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"血公主个人相关：魔刃-莱瓦汀、血骨")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"海族武姬个人专属：碧蓝灵戟、碧蓝灵戟突破之玉、水皇钟")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"通用宝物：死亡面具、刻灵之弓、沉沦的意志、苍生之瓶LV0、被封印的圣雷头冠-0、残魂宝冠、两本法力之靴合成卷轴、面具饰品-初强化、力量之靴-初、拉摩尔之魂-碎片1、不可思议之靴、遗迹之杖、血魔面具")
else
call DoNothing()
endif
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0G takes nothing returns nothing
set BPy=CreateTrigger()
call Bi7(BPy,BR)
call TriggerAddAction(BPy,function C0F)
endfunction
function C0H takes nothing returns nothing
call DisableTrigger(BPy)
endfunction
function C0I takes nothing returns nothing
set BPz=CreateTrigger()
call TriggerAddAction(BPz,function C0H)
endfunction
function C0J takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if eh==true then
call DisableTrigger(nx)
else
call EnableTrigger(nx)
endif
endfunction
function C0K takes nothing returns nothing
set nw=CreateTrigger()
call TriggerRegisterUnitEvent(nw,ZE,EVENT_UNIT_DEATH)
call TriggerAddAction(nw,function C0J)
endfunction
function C0L takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C0M takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304A32,GetRectCenter(Rw))
endfunction
function C0N takes nothing returns nothing
set nx=CreateTrigger()
call Bi7(nx,Rw)
call TriggerAddCondition(nx,Condition(function C0L))
call TriggerAddAction(nx,function C0M)
endfunction
function C0O takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(nx)
endfunction
function C0P takes nothing returns nothing
set ny=CreateTrigger()
call TriggerRegisterTimerEventSingle(ny,.75)
call TriggerAddAction(ny,function C0O)
endfunction
function C0Q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C0R takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：嘿....来这里旅游的人可不多见啊...")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：我是这里的矿工头维鲁...")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：哎....你们也知道....这里的守卫真是麻烦...对我这里的采矿也是有一定的安全隐患...")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：所以我需要一些不错的材料来制作一些更精良的武器...如果你们能帮我找到我肯定会好好谢谢你们的....")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9支线维鲁的武器材料开启...")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"矿工头维鲁的请求","找一些精良的材料交给他吧。","ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp")
set BP0=GetLastCreatedQuestBJ()
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：你问我为什么不用采的金矿制作武器？")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：不不不不...这些金矿可是能卖好价钱的...这可不能拿来浪费在武器材料上.....")
call EnableTrigger(vz)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0S takes nothing returns nothing
set vy=CreateTrigger()
call Bi7(vy,Bd)
call TriggerAddCondition(vy,Condition(function C0Q))
call TriggerAddAction(vy,function C0R)
endfunction
function C0T takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304C)==true
endfunction
function C0U takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930304C))
call TriggerSleepAction(.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：哦！这可真是块不错的精钢....")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得400块钱")
call AdjustPlayerStateBJ(400,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(400,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：这是我用多余的精钢块做出来的剑...就当作给你们的谢礼吧....")
call CreateItemLoc($4930304D,GetRectCenter(Bd))
call QuestSetCompleted(BP0,true)
set eX=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0V takes nothing returns nothing
set vz=CreateTrigger()
call Bi7(vz,Bd)
call TriggerAddCondition(vz,Condition(function C0T))
call TriggerAddAction(vz,function C0U)
endfunction
function C0W takes nothing returns nothing
call DisableTrigger(vz)
endfunction
function C0X takes nothing returns nothing
set BP1=CreateTrigger()
call TriggerAddAction(BP1,function C0W)
endfunction
function C0Y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and eX==true
endfunction
function C0Z takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304938,GetRectCenter(RW))
set m5=GetLastCreatedItem()
endfunction
function C0a takes nothing returns nothing
set m4=CreateTrigger()
call Bi7(m4,RW)
call TriggerAddCondition(m4,Condition(function C0Y))
call TriggerAddAction(m4,function C0Z)
endfunction
function C0b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304938)==true
endfunction
function C0c takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304938))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：这...这个金子居然这么与众不同！")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：想必你根本看不出这块金子的作用...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"维鲁：这样..我在遗迹找到一个鞋子...送给你了..作为交换...")
call UnitAddItemByIdSwapped($49304937,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0d takes nothing returns nothing
set m6=CreateTrigger()
call Bi7(m6,Bd)
call TriggerAddCondition(m6,Condition(function C0b))
call TriggerAddAction(m6,function C0c)
endfunction
function C0e takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C0f takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米歇尔：嘿...年轻人....")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米歇尔：有没有兴趣帮我收集一些东西...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米歇尔：如你所见这个遗迹有许多的守卫......而这其中的少许守卫会带着一些精华.....")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米歇尔：如果你能给我一个遗迹大精华.....我就给你100块钱当报酬....当然如果你集齐五个大精华给我的话..我会额外送你一个特别的东西")
call EnableTrigger(BP3)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0g takes nothing returns nothing
set BP2=CreateTrigger()
call Bi7(BP2,IK)
call TriggerAddCondition(BP2,Condition(function C0e))
call TriggerAddAction(BP2,function C0f)
endfunction
function C0h takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303542)==true
endfunction
function C0i takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set fY=fY+1
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetUnitName(GetTriggerUnit())+"获得报酬100块钱.....")
call AdjustPlayerStateBJ(100,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
if fY==5 then
call CreateItemLoc($49304A43,GetRectCenter(SF))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米歇尔：太棒了.这个东西是我在遗迹里捡到的..就额外送给你了")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米歇尔：不过这看上去只是第一部分的碎片而已，下一个部分的你可以在魔法灯内的遗迹区域找找看")
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C0j takes nothing returns nothing
set BP3=CreateTrigger()
call Bi7(BP3,IK)
call TriggerAddCondition(BP3,Condition(function C0h))
call TriggerAddAction(BP3,function C0i)
endfunction
function C0k takes nothing returns nothing
call DisableTrigger(BP3)
endfunction
function C0l takes nothing returns nothing
set BP4=CreateTrigger()
call TriggerAddAction(BP4,function C0k)
endfunction
function C0m takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303030 or GetUnitTypeId(GetDyingUnit())==$6E303039
endfunction
function C0n takes nothing returns nothing
if GetRandomInt(1,100)<=5 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303542,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function C0o takes nothing returns nothing
set BP5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BP5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BP5,Condition(function C0m))
call TriggerAddAction(BP5,function C0n)
endfunction
function C0p takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304A43)==true and Bi9(GetTriggerUnit(),$49304A44)==true and Bi9(GetTriggerUnit(),$49304A42)==true
endfunction
function C0q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A43))
call RemoveItem(Bio(GetTriggerUnit(),$49304A44))
call RemoveItem(Bio(GetTriggerUnit(),$49304A42))
call UnitAddItemByIdSwapped($49304A45,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C0r takes nothing returns nothing
set sM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sM,Condition(function C0p))
call TriggerAddAction(sM,function C0q)
endfunction
function C0s takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or GetUnitTypeId(GetTriggerUnit())==$75303034 or GetUnitTypeId(GetTriggerUnit())==$75303036 or GetUnitTypeId(GetTriggerUnit())==$6E303532 or GetUnitTypeId(GetTriggerUnit())==$6E303533
endfunction
function C0t takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(RY))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"一股神秘力量将你阻挡在外....")
endfunction
function C0u takes nothing returns nothing
set nE=CreateTrigger()
call Bi7(nE,RX)
call TriggerAddCondition(nE,Condition(function C0s))
call TriggerAddAction(nE,function C0t)
endfunction
function C0v takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(na)
call DisableTrigger(nb)
call DisableTrigger(nc)
call ShowUnit(ZD,false)
call ShowUnit(ZE,false)
endfunction
function C0w takes nothing returns nothing
set nZ=CreateTrigger()
call TriggerRegisterTimerEventSingle(nZ,1.1)
call TriggerAddAction(nZ,function C0v)
endfunction
function C0x takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(na)
call ShowUnit(ZD,true)
endfunction
function C0y takes nothing returns nothing
set nd=CreateTrigger()
call TriggerRegisterUnitEvent(nd,U1,EVENT_UNIT_DEATH)
call TriggerAddAction(nd,function C0x)
endfunction
function C0z takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C00 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的长袍学者：你好，陌生的旅者，我在来到这所遗迹之前不小心丢了一本书，你能帮我找回吗？")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的长袍学者：帮我找回的话，我会告诉你一些关于某个遗迹秘宝的信息")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9支线“丢失的书”已开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"丢失的书","帮这位神秘的长袍学者找回他丢失的书，他或许会告诉一些有用的信息？","ReplaceableTextures\\CommandButtons\\BTNArcaneVault.blp")
set ne=GetLastCreatedQuestBJ()
set ec=true
call EnableTrigger(nb)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C01 takes nothing returns nothing
set na=CreateTrigger()
call Bi7(na,Rk)
call TriggerAddCondition(na,Condition(function C0z))
call TriggerAddAction(na,function C00)
endfunction
function C02 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C03 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304951,GetRectCenter(Rl))
endfunction
function C04 takes nothing returns nothing
set nf=CreateTrigger()
call Bi7(nf,Rl)
call TriggerAddCondition(nf,Condition(function C02))
call TriggerAddAction(nf,function C03)
endfunction
function C05 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304951)==true
endfunction
function C06 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304951))
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的长袍学者：感谢你..")
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的长袍学者：这是我在这里找到的一把雷鸣钥匙，或许能帮你找到这个遗迹的某个秘宝")
call CreateItemLoc($49304952,GetUnitLoc(GetTriggerUnit()))
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的长袍学者：不过与此相关的这件秘宝似乎被某股力量封印着，一般情况下无法入内，或许和某件头环有着联系，而且越多越好...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"神秘的长袍学者：祝你好运")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DestroyQuest(ne)
call RemoveUnit(ZD)
call EnableTrigger(nc)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C07 takes nothing returns nothing
set nb=CreateTrigger()
call Bi7(nb,Rk)
call TriggerAddCondition(nb,Condition(function C05))
call TriggerAddAction(nb,function C06)
endfunction
function C08 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304952)==true
endfunction
function C09 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Rm))
endfunction
function C1B takes nothing returns nothing
set ng=CreateTrigger()
call Bi7(ng,BY)
call TriggerAddCondition(ng,Condition(function C08))
call TriggerAddAction(ng,function C09)
endfunction
function C1C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1D takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bc))
endfunction
function C1E takes nothing returns nothing
set nh=CreateTrigger()
call Bi7(nh,Rn)
call TriggerAddCondition(nh,Condition(function C1C))
call TriggerAddAction(nh,function C1D)
endfunction
function C1F takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303039
endfunction
function C1G takes nothing returns nothing
set ed=0
set ni=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set ed=ed+1
if ed==5 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
call RemoveItem(Bio(GetTriggerUnit(),$49303039))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call UnitAddItemByIdSwapped($49304953,GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function C1H takes nothing returns nothing
set nc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nc,Condition(function C1F))
call TriggerAddAction(nc,function C1G)
endfunction
function C1I takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304952)==true and Bi9(GetTriggerUnit(),$49304953)==true and Bi9(GetTriggerUnit(),$49303542)==true
endfunction
function C1J takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304953))
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call UnitAddItemByIdSwapped($49304954,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C1K takes nothing returns nothing
set nj=CreateTrigger()
call Bi7(nj,BY)
call TriggerAddCondition(nj,Condition(function C1I))
call TriggerAddAction(nj,function C1J)
endfunction
function C1L takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304952)==true and Bi9(GetTriggerUnit(),$49304954)==true
endfunction
function C1M takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(UT)
call DisableTrigger(nE)
call RemoveItem(Bio(GetTriggerUnit(),$49304952))
call RemoveItem(Bio(GetTriggerUnit(),$49304954))
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnit(ZE,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C1N takes nothing returns nothing
set nk=CreateTrigger()
call Bi7(nk,RX)
call TriggerAddCondition(nk,Condition(function C1L))
call TriggerAddAction(nk,function C1M)
endfunction
function C1O takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304946,GetRectCenter(RX))
endfunction
function C1P takes nothing returns nothing
set nl=CreateTrigger()
call TriggerRegisterUnitEvent(nl,ZE,EVENT_UNIT_DEATH)
call TriggerAddAction(nl,function C1O)
endfunction
function C1Q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1R takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))==$49303051 and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))==$49303051 and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))==$49303051 and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),4))==$49303051 and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),5))==$49303051 and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),6))==$49303051 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(ZG)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(ZG)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"效果显著..水团被成功激活了..")
call CreateItemLoc($49304A46,GetRectCenter(SG))
set hi=true
else
if (Bi9(GetTriggerUnit(),$49303032)==true and Bi9(GetTriggerUnit(),$49303051)==true) or (Bi9(GetTriggerUnit(),$49303032)==true and Bi9(GetTriggerUnit(),$49303032)==true) or (Bi9(GetTriggerUnit(),$49303051)==true and Bi9(GetTriggerUnit(),$49303051)==true) then
call DisableTrigger(GetTriggeringTrigger())
call KillUnit(ZG)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"似乎效果还是远远不够..水团看起来并没有被完整激活..")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"水团支线任务勉强完成")
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"似乎是一只休眠的水团，用什么方法可以激活它呢...（颜色与水团相仿的两个以上配件相关物品）")
endif
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C1S takes nothing returns nothing
set np=CreateTrigger()
call Bi7(np,Ro)
call TriggerAddCondition(np,Condition(function C1Q))
call TriggerAddAction(np,function C1R)
endfunction
function C1T takes nothing returns boolean
return GetSpellAbilityId()==$41305154
endfunction
function C1U takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6830354B,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.,$42487765,GetLastCreatedUnit())
call Bjf(30.,GetLastCreatedUnit())
call RemoveLocation(i8)
endfunction
function C1V takes nothing returns nothing
set sO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(sO,Condition(function C1T))
call TriggerAddAction(sO,function C1U)
endfunction
function C1W takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1X takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if hi==true then
if GetTriggerUnit()==Z3 then
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水团：请带我...回家...（密语）")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"请对水团使用水精灵契约 R")
set hj=true
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"水团：%￥………………%#..（你根本听不懂）")
endif
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C1Y takes nothing returns nothing
set wh=CreateTrigger()
call Bi7(wh,Ro)
call TriggerAddCondition(wh,Condition(function C1W))
call TriggerAddAction(wh,function C1X)
endfunction
function C1Z takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1a takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"一扇封锁的大门，其上还有个球形的锁扣..")
endfunction
function C1b takes nothing returns nothing
set r1=CreateTrigger()
call Bi7(r1,R9)
call TriggerAddCondition(r1,Condition(function C1Z))
call TriggerAddAction(r1,function C1a)
endfunction
function C1c takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1d takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(SD))
endfunction
function C1e takes nothing returns nothing
set r2=CreateTrigger()
call Bi7(r2,SB)
call TriggerAddCondition(r2,Condition(function C1c))
call TriggerAddAction(r2,function C1d)
endfunction
function C1f takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1g takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(SC))
endfunction
function C1h takes nothing returns nothing
set r3=CreateTrigger()
call Bi7(r3,R8)
call TriggerAddCondition(r3,Condition(function C1f))
call TriggerAddAction(r3,function C1g)
endfunction
function C1i takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(r5)
call SetDestructableInvulnerable(UD,true)
call SetDestructableInvulnerable(UE,true)
call ShowUnit(ZL,false)
call ShowUnit(ZM,false)
call ShowUnit(ZN,false)
call ShowUnit(ZO,false)
call ShowUnit(ZP,false)
call ShowUnit(ZQ,false)
call ShowUnit(ZR,false)
call ShowUnit(ZS,false)
call SetItemVisibleBJ(false,UU)
call SetItemVisibleBJ(false,UV)
call SetItemVisibleBJ(false,UW)
call SetItemVisibleBJ(false,UX)
call SetItemVisibleBJ(false,UY)
endfunction
function C1j takes nothing returns nothing
set r4=CreateTrigger()
call TriggerRegisterTimerEventSingle(r4,.1)
call TriggerAddAction(r4,function C1i)
endfunction
function C1k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304958)==true or Bi9(GetTriggerUnit(),$49304A46)==true
endfunction
function C1l takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(r1)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,UD)
call ShowUnit(ZL,true)
call ShowUnit(ZM,true)
call ShowUnit(ZN,true)
call ShowUnit(ZO,true)
call ShowUnit(ZP,true)
call ShowUnit(ZQ,true)
call ShowUnit(ZR,true)
call ShowUnit(ZS,true)
endfunction
function C1m takes nothing returns nothing
set r6=CreateTrigger()
call Bi7(r6,R9)
call TriggerAddCondition(r6,Condition(function C1k))
call TriggerAddAction(r6,function C1l)
endfunction
function C1n takes nothing returns boolean
return GetEventDamageSource()==ZS and IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C1o takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"海迹守卫：愚蠢...你们不应该踏足此处..如果打破此处封印放出那个危险的东西离开..后果是你们无法承担的！")
endfunction
function C1p takes nothing returns nothing
set r7=CreateTrigger()
call Bi3(r7)
call TriggerAddCondition(r7,Condition(function C1n))
call TriggerAddAction(r7,function C1o)
endfunction
function C1q takes nothing returns boolean
return GetEventDamageSource()==ZS and 0!=EXGetEventDamageData(mY)==true
endfunction
function C1r takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and (IsUnitAliveBJ(GetFilterUnit())==true and GetFilterUnit()!=GetTriggerUnit())
endfunction
function C1s takes nothing returns nothing
call UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),450.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call Bjl(1.5,bj_lastCreatedEffect)
endfunction
function C1t takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set fW=fW+1.
if fW>=6. then
set fW=0.
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(600.,i8,Condition(function C1r))
call ForGroupBJ(fP,function C1s)
call RemoveLocation(i8)
call DestroyGroup(fP)
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),100.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call Bjl(1.5,bj_lastCreatedEffect)
else
call DoNothing()
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function C1u takes nothing returns nothing
set r8=CreateTrigger()
call Bi3(r8)
call TriggerAddCondition(r8,Condition(function C1q))
call TriggerAddAction(r8,function C1t)
endfunction
function C1v takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"海迹守卫：不...你们不应当...染指...封印...")
call RemoveDestructable(UE)
set fX=true
endfunction
function C1w takes nothing returns nothing
set r9=CreateTrigger()
call TriggerRegisterUnitEvent(r9,ZS,EVENT_UNIT_DEATH)
call TriggerAddAction(r9,function C1v)
endfunction
function C1x takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and fX==true
endfunction
function C1y takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if IsUnitInGroup(Uc,bJ)==true and IsUnitInGroup(Ue,bJ)==true then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请谨慎选择是否拆除封印，取走任一镇守物品同样会拆除封印")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303536,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(SE),bj_UNIT_FACING)
set sC=GetLastCreatedUnit()
call SetItemVisibleBJ(true,UU)
call SetItemVisibleBJ(true,UV)
call SetItemVisibleBJ(true,UW)
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请谨慎选择是否拆除封印，取走任一镇守物品同样会拆除封印")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303536,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(SE),bj_UNIT_FACING)
set sC=GetLastCreatedUnit()
call SetItemVisibleBJ(true,UU)
call SetItemVisibleBJ(true,UV)
call SetItemVisibleBJ(true,UW)
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C1z takes nothing returns nothing
set sB=CreateTrigger()
call Bi7(sB,SE)
call TriggerAddCondition(sB,Condition(function C1x))
call TriggerAddAction(sB,function C1y)
endfunction
function C10 takes nothing returns boolean
return GetDyingUnit()==sC
endfunction
function C11 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(po)
call DisableTrigger(pp)
call EnableTrigger(r5)
call CameraSetEQNoiseForPlayer(Player(0),6.)
call CameraSetEQNoiseForPlayer(Player(1),6.)
call CameraSetEQNoiseForPlayer(Player(2),6.)
call CameraSetEQNoiseForPlayer(Player(3),6.)
call CameraSetEQNoiseForPlayer(Player(4),6.)
call CameraSetEQNoiseForPlayer(Player(5),6.)
call CameraSetEQNoiseForPlayer(Player(6),6.)
call CameraSetEQNoiseForPlayer(Player(7),6.)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,UC)
call SetItemVisibleBJ(true,UX)
call SetItemVisibleBJ(true,UY)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set fb=true
call DisplayTimedTextToForce(GetPlayersAll(),10.,"一股不可思议的力量在晃动着...（如果遗迹沉沦者尚未击杀，则其将获得极大增强）")
call UnitAddAbilityBJ($4130514B,U6)
call UnitAddAbilityBJ($4130514F,U6)
call UnitAddAbilityBJ($4130514E,U6)
call UnitAddAbilityBJ($4130514D,U6)
call UnitAddAbilityBJ($4130514C,U6)
call SetUnitVertexColor(U6,255,0,0,255)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C12 takes nothing returns nothing
set sD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sD,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(sD,Condition(function C10))
call TriggerAddAction(sD,function C11)
endfunction
function C13 takes nothing returns boolean
return GetDyingUnit()==U6
endfunction
function C14 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304A39,GetUnitLoc(U6))
endfunction
function C15 takes nothing returns nothing
set r5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(r5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(r5,Condition(function C13))
call TriggerAddAction(r5,function C14)
endfunction
function C16 takes nothing returns boolean
return GetTriggerUnit()==Uf and GetItemTypeId(GetManipulatedItem())==$49304A39
endfunction
function C17 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱昂纳：血魔之力...这股力量..能为我所用..")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱昂纳汲取了部分血魔之力，全属性获得了提高..（绿字+10）")
call UnitAddAbilityBJ($41305150,Uf)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C18 takes nothing returns nothing
set sL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(sL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(sL,Condition(function C16))
call TriggerAddAction(sL,function C17)
endfunction
function C19 takes nothing returns nothing
if GetTriggerUnit()==Uc then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这里居然存在一处海迹..似乎在封印着一股无法想象的力量...")
else
if GetTriggerUnit()==Ui then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"海族公主：海迹...或许我们不应该轻易打开这里的封印..这里一定不同寻常..")
else
if IsUnitInGroup(GetTriggerUnit(),bJ)==true then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"看上去像是存在了很久的地方..这扇古老的大门似乎并没有那么容易打开..")
else
call DoNothing()
endif
endif
endif
endfunction
function C2B takes nothing returns nothing
set sN=CreateTrigger()
call Bi7(sN,SH)
call TriggerAddAction(sN,function C19)
endfunction
function C2C takes nothing returns boolean
return GetManipulatedItem()==UU or GetManipulatedItem()==UV or GetManipulatedItem()==UW
endfunction
function C2D takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call KillUnit(sC)
endfunction
function C2E takes nothing returns nothing
set wj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(wj,Condition(function C2C))
call TriggerAddAction(wj,function C2D)
endfunction
function C2F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C2G takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(I5))
endfunction
function C2H takes nothing returns nothing
set BP6=CreateTrigger()
call Bi7(BP6,I3)
call TriggerAddCondition(BP6,Condition(function C2F))
call TriggerAddAction(BP6,function C2G)
endfunction
function C2I takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C2J takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(I6))
endfunction
function C2K takes nothing returns nothing
set BP7=CreateTrigger()
call Bi7(BP7,I4)
call TriggerAddCondition(BP7,Condition(function C2I))
call TriggerAddAction(BP7,function C2J)
endfunction
function C2L takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cJ)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(45.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(I7)
call CreateNUnitsAtLoc(1,$6E30324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BP9=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cJ)
set i8=GetRandomLocInRect(I7)
call CreateNUnitsAtLoc(1,$6E30324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BP9=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cJ)
set i8=GetRandomLocInRect(I7)
call CreateNUnitsAtLoc(1,$6E30324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BP9=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cJ)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C2M takes nothing returns nothing
set BP8=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BP8,1.)
call TriggerAddAction(BP8,function C2L)
endfunction
function C2N takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cK)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(60.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(I8)
call CreateNUnitsAtLoc(1,$6E30324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BQC=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cK)
set i8=GetRandomLocInRect(I8)
call CreateNUnitsAtLoc(1,$6E30324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BQC=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cK)
set i8=GetRandomLocInRect(I8)
call CreateNUnitsAtLoc(1,$6E30324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BQC=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cK)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C2O takes nothing returns nothing
set BQB=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BQB,1.)
call TriggerAddAction(BQB,function C2N)
endfunction
function C2P takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C2Q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30324C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(JB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30324C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(JB),bj_UNIT_FACING)
endfunction
function C2R takes nothing returns nothing
set BQD=CreateTrigger()
call Bi7(BQD,JB)
call TriggerAddCondition(BQD,Condition(function C2P))
call TriggerAddAction(BQD,function C2Q)
endfunction
function C2S takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C2T takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(VC)
endfunction
function C2U takes nothing returns nothing
set BQE=CreateTrigger()
call Bi7(BQE,JC)
call TriggerAddCondition(BQE,Condition(function C2S))
call TriggerAddAction(BQE,function C2T)
endfunction
function C2V takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(VC)
call SetItemVisibleBJ(false,UI)
call SetItemVisibleBJ(false,UH)
call SetItemVisibleBJ(false,UK)
call SetItemVisibleBJ(false,Ua)
endfunction
function C2W takes nothing returns nothing
set BQF=CreateTrigger()
call TriggerRegisterTimerEventSingle(BQF,.1)
call TriggerAddAction(BQF,function C2V)
endfunction
function C2X takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你们成功消灭了施恐者...两件秘宝将会分别展现在闪电之下...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"但是值得注意的是，这两件秘宝一般情况下不能同时获得，一般只能择其一，所以请谨慎筛选...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetItemVisibleBJ(true,UI)
call SetItemVisibleBJ(true,UH)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"施恐者似乎还在守护着什么...")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C2Y takes nothing returns nothing
set BQG=CreateTrigger()
call TriggerRegisterUnitEvent(BQG,VC,EVENT_UNIT_DEATH)
call TriggerAddAction(BQG,function C2X)
endfunction
function C2Z takes nothing returns boolean
return GetManipulatedItem()==UI
endfunction
function C2a takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BQI)
call RemoveItem(UH)
endfunction
function C2b takes nothing returns nothing
set BQH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQH,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BQH,Condition(function C2Z))
call TriggerAddAction(BQH,function C2a)
endfunction
function C2c takes nothing returns boolean
return GetManipulatedItem()==UH
endfunction
function C2d takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BQH)
call RemoveItem(UI)
endfunction
function C2e takes nothing returns nothing
set BQI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BQI,Condition(function C2c))
call TriggerAddAction(BQI,function C2d)
endfunction
function C2f takes nothing returns boolean
return GetAttacker()==VC
endfunction
function C2g takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C2h takes nothing returns nothing
call UnitDamageTargetBJ(VC,GetEnumUnit(),120.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function C2i takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(1.,i8,Condition(function C2g))
call ForGroupBJ(fP,function C2h)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function C2j takes nothing returns nothing
set BQJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQJ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BQJ,Condition(function C2f))
call TriggerAddAction(BQJ,function C2i)
endfunction
function C2k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function C2l takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if Bi9(GetTriggerUnit(),$49303648)==true then
call DisableTrigger(GetTriggeringTrigger())
set gP=true
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你似乎踩到了什么意料之外的开关呢，到底是哪里发生了变化呢。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetItemVisibleBJ(true,UK)
else
if Bi9(GetTriggerUnit(),$49303649)==true then
call DisableTrigger(GetTriggeringTrigger())
set gP=true
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你似乎踩到了什么意料之外的开关呢，到底是哪里发生了变化呢。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetItemVisibleBJ(true,Ua)
else
call DoNothing()
endif
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C2m takes nothing returns nothing
set BQK=CreateTrigger()
call Bi7(BQK,Lf)
call TriggerAddCondition(BQK,Condition(function C2k))
call TriggerAddAction(BQK,function C2l)
endfunction
function C2n takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and Bi9(GetTriggerUnit(),$49303648)==false and Bi9(GetTriggerUnit(),$49303649)==false and gP==false
endfunction
function C2o takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),5.,"莉尔娅-鹰眼：是月鹰标记...这里需要我携带某件遗迹秘宝来触发开关..")
call Biy(6.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C2p takes nothing returns nothing
set pk=CreateTrigger()
call Bi7(pk,Lf)
call TriggerAddCondition(pk,Condition(function C2n))
call TriggerAddAction(pk,function C2o)
endfunction
function C2q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true and GetManipulatedItem()==UK or GetManipulatedItem()==Ua
endfunction
function C2r takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"看来你是个很有意思的家伙呢。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅获得了米克尔的欣赏。")
call UnitAddAbilityBJ($4130444B,Uj)
call UnitAddAbilityBJ($4130444C,Uj)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C2s takes nothing returns nothing
set BQL=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQL,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BQL,Condition(function C2q))
call TriggerAddAction(BQL,function C2r)
endfunction
function C2t takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304A33
endfunction
function C2u takes nothing returns nothing
call SetItemPositionLoc(GetManipulatedItem(),GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,$68303543,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call ShowUnit(bj_lastCreatedUnit,false)
call Bjf(2,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"polymorph",GetTriggerUnit())
endfunction
function C2v takes nothing returns nothing
set oF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(oF,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(oF,Condition(function C2t))
call TriggerAddAction(oF,function C2u)
endfunction
function C2w takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C2x takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ru))
endfunction
function C2y takes nothing returns nothing
set pm=CreateTrigger()
call Bi7(pm,Rr)
call TriggerAddCondition(pm,Condition(function C2w))
call TriggerAddAction(pm,function C2x)
endfunction
function C2z takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C20 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Rs))
endfunction
function C21 takes nothing returns nothing
set pn=CreateTrigger()
call Bi7(pn,Rt)
call TriggerAddCondition(pn,Condition(function C2z))
call TriggerAddAction(pn,function C20)
endfunction
function C22 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C23 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你从这扇门的背后感受到了无尽的危险...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"确定要打开吗？")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C24 takes nothing returns nothing
set po=CreateTrigger()
call Bi7(po,Rv)
call TriggerAddCondition(po,Condition(function C22))
call TriggerAddAction(po,function C23)
endfunction
function C25 takes nothing returns boolean
return IsUnitInGroup(GetFilterUnit(),bJ)==true and GetFilterUnit()!=pq
endfunction
function C26 takes nothing returns nothing
call UnitDamageTargetBJ(ZU,GetEnumUnit(),99999.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set i8=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C27 takes nothing returns nothing
call DestructableRestoreLife(UC,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"一股无形的禁制阻止了你...")
set fP=Bir(R5,Condition(function C25))
call ForGroupBJ(fP,function C26)
call DestroyGroup(fP)
endfunction
function C28 takes nothing returns nothing
set pp=CreateTrigger()
call TriggerRegisterDeathEvent(pp,UC)
call TriggerAddAction(pp,function C27)
endfunction
function C29 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(ZU,false)
endfunction
function C3B takes nothing returns nothing
set pr=CreateTrigger()
call TriggerRegisterTimerEventSingle(pr,.1)
call TriggerAddAction(pr,function C29)
endfunction
function C3C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C3D takes nothing returns nothing
set i8=GetRectCenter(TT)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function C3E takes nothing returns nothing
set yN=CreateTrigger()
call Bi7(yN,TU)
call TriggerAddCondition(yN,Condition(function C3C))
call TriggerAddAction(yN,function C3D)
endfunction
function C3F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C3G takes nothing returns nothing
set i8=GetRectCenter(TV)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function C3H takes nothing returns nothing
set yO=CreateTrigger()
call Bi7(yO,TS)
call TriggerAddCondition(yO,Condition(function C3F))
call TriggerAddAction(yO,function C3G)
endfunction
function C3I takes nothing returns nothing
call ShowUnit(aS,false)
call ShowUnit(aT,false)
endfunction
function C3J takes nothing returns nothing
set yP=CreateTrigger()
call TriggerRegisterTimerEventSingle(yP,.3)
call TriggerAddAction(yP,function C3I)
endfunction
function C3K takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C3L takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：哦！居然还能看到有活人能到这里，真是太好了..咳咳..")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：能帮我找几件材料吗，我正在研究一项神秘魔法，到时成功了是不会少你们报酬的")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请在按钮石碑处选择接受或拒绝")
call ShowUnit(aS,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C3M takes nothing returns nothing
set yQ=CreateTrigger()
call Bi7(yQ,TW)
call TriggerAddCondition(yQ,Condition(function C3K))
call TriggerAddAction(yQ,function C3L)
endfunction
function C3N takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4E
endfunction
function C3O takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(aS)
call SetUnitInvulnerable(aR,false)
call SetUnitInvulnerable(aQ,false)
call SetUnitOwner(aR,Player(11),true)
call SetUnitOwner(aQ,Player(11),true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：不！你们休想打乱老夫的计划！")
endfunction
function C3P takes nothing returns nothing
set yR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yR,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(yR,Condition(function C3N))
call TriggerAddAction(yR,function C3O)
endfunction
function C3Q takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4D
endfunction
function C3R takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(aS)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"那真是太好了，先帮我找两本小经验之书吧")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9支线任务炼魔法师的神秘魔法已开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"炼魔法师的神秘魔法","帮这位年老的法师找来两本小经验之书","ReplaceableTextures\\CommandButtons\\BTNNecromancer.blp")
set yW=GetLastCreatedQuestBJ()
set ir=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C3S takes nothing returns nothing
set yV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(yV,Condition(function C3Q))
call TriggerAddAction(yV,function C3R)
endfunction
function C3T takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and ir==true and Bi9(GetTriggerUnit(),$49303734)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303734))>=2
endfunction
function C3U takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303734))
call RemoveItem(Bio(GetTriggerUnit(),$49303734))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：好极了！但是光是只有这个还不够，还需要帮我找来两件铁质物品，且分别带有两种伤害类型的吸血作用（F9支线任务更新）")
call DestroyQuest(yW)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"炼魔法师的神秘魔法","帮这位年老的法师找来两件铁质物品，且这两件物品要分别拥有两种伤害类型的吸血作用","ReplaceableTextures\\CommandButtons\\BTNNecromancer.blp")
set yW=GetLastCreatedQuestBJ()
set is=true
endfunction
function C3V takes nothing returns nothing
set yX=CreateTrigger()
call Bi7(yX,TW)
call TriggerAddCondition(yX,Condition(function C3T))
call TriggerAddAction(yX,function C3U)
endfunction
function C3W takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and is==true and Bi9(GetTriggerUnit(),$49304C4B)==true and Bi9(GetTriggerUnit(),$49304C4C)==true
endfunction
function C3X takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304C4B))
call RemoveItem(Bio(GetTriggerUnit(),$49304C4C))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：好极了！但是还不够，请你再帮我找来一件遗迹之力比较充足的物品。（F9支线任务更新）")
call DestroyQuest(yW)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"炼魔法师的神秘魔法","帮这位年老的法师找来“遗落之玉（完整）”","ReplaceableTextures\\CommandButtons\\BTNNecromancer.blp")
set yW=GetLastCreatedQuestBJ()
set it=true
endfunction
function C3Y takes nothing returns nothing
set yY=CreateTrigger()
call Bi7(yY,TW)
call TriggerAddCondition(yY,Condition(function C3W))
call TriggerAddAction(yY,function C3X)
endfunction
function C3Z takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and it==true and Bi9(GetTriggerUnit(),$49304A45)==true
endfunction
function C3a takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304A45))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：太好了！这样我就有机会能成功了！等我启动我的器具。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectTargetUnitBJ("chest",aQ,"Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl")
call ShowUnit(aT,true)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：太妙了！居然能召唤如此强大的生物！")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：咦.但是我好像..控制不了它")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：我先躲躲，交给你们了")
call ShowUnit(aR,false)
call SetUnitOwner(aT,Player(11),true)
call DestroyQuest(yW)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"炼魔法师的神秘魔法","击杀失控的大型尸魔","ReplaceableTextures\\CommandButtons\\BTNNecromancer.blp")
set yW=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C3b takes nothing returns nothing
set yZ=CreateTrigger()
call Bi7(yZ,TW)
call TriggerAddCondition(yZ,Condition(function C3Z))
call TriggerAddAction(yZ,function C3a)
endfunction
function C3c takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(aT)
call CreateItemLoc($49304C4F,i8)
call RemoveLocation(i8)
call ShowUnit(aR,true)
set iu=true
endfunction
function C3d takes nothing returns nothing
set ya=CreateTrigger()
call TriggerRegisterUnitEvent(ya,aT,EVENT_UNIT_DEATH)
call TriggerAddAction(ya,function C3c)
endfunction
function C3e takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4F
endfunction
function C3f takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.01
endfunction
function C3g takes nothing returns nothing
set yb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(yb,Condition(function C3e))
call TriggerAddAction(yb,function C3f)
endfunction
function C3h takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C4F
endfunction
function C3i takes nothing returns nothing
set f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f5[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=f7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.1
set fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fJ[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01
set fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=fI[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.01
endfunction
function C3j takes nothing returns nothing
set yc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yc,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(yc,Condition(function C3h))
call TriggerAddAction(yc,function C3i)
endfunction
function C3k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and iu==true
endfunction
function C3l takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call QuestSetCompleted(yW,true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：哎...看来还是没有完全掌握这个魔法")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：你先走吧，让我先静一静，我要再好好研究研究")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"炼魔法师：那个遗落之玉就当作是给你们的报酬了")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9炼魔法师支线任务完成")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C3m takes nothing returns nothing
set yd=CreateTrigger()
call Bi7(yd,TW)
call TriggerAddCondition(yd,Condition(function C3k))
call TriggerAddAction(yd,function C3l)
endfunction
function C3n takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304934)==false
endfunction
function C3o takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这个人对你一点兴趣都没有....似乎在眺望着什么...（请携带“遗迹残力碎片”与其交互）")
endfunction
function C3p takes nothing returns nothing
set nH=CreateTrigger()
call Bi7(nH,RZ)
call TriggerAddCondition(nH,Condition(function C3n))
call TriggerAddAction(nH,function C3o)
endfunction
function C3q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(nJ)
call DisableTrigger(nK)
call DisableTrigger(nL)
call ShowUnit(ZB,false)
call SetDoodadAnimationRectBJ("hide",$44303034,Ra)
call SetDoodadAnimationRectBJ("hide",$594F7232,Rg)
set eb=0
endfunction
function C3r takes nothing returns nothing
set nI=CreateTrigger()
call TriggerRegisterTimerEventSingle(nI,1.2)
call TriggerAddAction(nI,function C3q)
endfunction
function C3s takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304934)==true
endfunction
function C3t takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(nH)
call SetUnitFacing(ZC,270.)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：你的身上有一股与这所遗迹息息相关的法力流动...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：这所遗迹名为米克尔遗迹...历史悠久...但随着其创造者米克尔的消亡...如今已是无主之地...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：虽然遗迹之主米克尔的本体已经消亡，但是我仍然能从这所遗迹中感受到其残存的力量...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：要想寻找到遗迹之主的残息...必须集齐六样与这所遗迹能量息息相关的东西...并在合适的位置...打开通往的大门...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：如果你能寻找到...那将是一笔巨大的收获...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9支线任务“遗迹之主的残息”开启，将“残魂之缕”带给这位奇怪的女士")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"遗迹之主的残息","寻找遗迹之主的残息，集齐六样与这所遗迹能量息息相关的东西，并在合适的位置，打开通往的大门，最终将“残魂之缕”带给这位奇怪的女士","ReplaceableTextures\\CommandButtons\\BTNRevenant.blp")
set nN=GetLastCreatedQuestBJ()
set ea=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C3u takes nothing returns nothing
set nM=CreateTrigger()
call Bi7(nM,RZ)
call TriggerAddCondition(nM,Condition(function C3s))
call TriggerAddAction(nM,function C3t)
endfunction
function C3v takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true
endfunction
function C3w takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call CreateItemLoc($49304947,GetRectCenter(BV))
endfunction
function C3x takes nothing returns nothing
set nO=CreateTrigger()
call Bi7(nO,BV)
call TriggerAddCondition(nO,Condition(function C3v))
call TriggerAddAction(nO,function C3w)
endfunction
function C3y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true
endfunction
function C3z takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call CreateItemLoc($49304948,GetRectCenter(Rb))
endfunction
function C30 takes nothing returns nothing
set nP=CreateTrigger()
call Bi7(nP,Rb)
call TriggerAddCondition(nP,Condition(function C3y))
call TriggerAddAction(nP,function C3z)
endfunction
function C31 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true
endfunction
function C32 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call CreateItemLoc($49304949,GetRectCenter(Rc))
endfunction
function C33 takes nothing returns nothing
set nQ=CreateTrigger()
call Bi7(nQ,Rc)
call TriggerAddCondition(nQ,Condition(function C31))
call TriggerAddAction(nQ,function C32)
endfunction
function C34 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$49303032)==true and Bi9(GetTriggerUnit(),$49303051)==true
endfunction
function C35 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call RemoveItem(Bio(GetTriggerUnit(),$49303032))
call RemoveItem(Bio(GetTriggerUnit(),$49303051))
call CreateItemLoc($4930494A,GetRectCenter(Rd))
endfunction
function C36 takes nothing returns nothing
set nR=CreateTrigger()
call Bi7(nR,Rd)
call TriggerAddCondition(nR,Condition(function C34))
call TriggerAddAction(nR,function C35)
endfunction
function C37 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$49304947)==true and Bi9(GetTriggerUnit(),$49304948)==true and Bi9(GetTriggerUnit(),$49304949)==true and Bi9(GetTriggerUnit(),$4930494A)==true
endfunction
function C38 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call CreateItemLoc($4930494C,GetRectCenter(Re))
endfunction
function C39 takes nothing returns nothing
set nS=CreateTrigger()
call Bi7(nS,Re)
call TriggerAddCondition(nS,Condition(function C37))
call TriggerAddAction(nS,function C38)
endfunction
function C4B takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304947)==true and Bi9(GetTriggerUnit(),$49304948)==true and Bi9(GetTriggerUnit(),$49304949)==true and Bi9(GetTriggerUnit(),$4930494A)==true and Bi9(GetTriggerUnit(),$4930494C)==true
endfunction
function C4C takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304947))
call RemoveItem(Bio(GetTriggerUnit(),$49304948))
call RemoveItem(Bio(GetTriggerUnit(),$49304949))
call RemoveItem(Bio(GetTriggerUnit(),$4930494A))
call RemoveItem(Bio(GetTriggerUnit(),$4930494C))
call UnitAddItemByIdSwapped($4930494B,GetTriggerUnit())
endfunction
function C4D takes nothing returns nothing
set nT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(nT,Condition(function C4B))
call TriggerAddAction(nT,function C4C)
endfunction
function C4E takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$4930494B)==true and Bi9(GetTriggerUnit(),$49304934)==true and Bi9(GetTriggerUnit(),$49304853)==true and Bi9(GetTriggerUnit(),$49304931)==true and Bi9(GetTriggerUnit(),$49304938)==true or Bi9(GetTriggerUnit(),$49304937)==true and ea==true
endfunction
function C4F takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call RemoveItem(Bio(GetTriggerUnit(),$4930494B))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"某个机关正在响起...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"一扇大门即将被打开...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"值得注意的是...这扇门一旦进入...如不击败里面的守护者...则无法从里面出来...请做好万分准备再进入...")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(nJ)
call EnableTrigger(nL)
call SetDoodadAnimationRectBJ("show",$44303034,Ra)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C4G takes nothing returns nothing
set nU=CreateTrigger()
call Bi7(nU,Ra)
call TriggerAddCondition(nU,Condition(function C4E))
call TriggerAddAction(nU,function C4F)
endfunction
function C4H takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C4I takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Rh))
endfunction
function C4J takes nothing returns nothing
set nJ=CreateTrigger()
call Bi7(nJ,Ra)
call TriggerAddCondition(nJ,Condition(function C4H))
call TriggerAddAction(nJ,function C4I)
endfunction
function C4K takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C4L takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Rf))
endfunction
function C4M takes nothing returns nothing
set nK=CreateTrigger()
call Bi7(nK,Rg)
call TriggerAddCondition(nK,Condition(function C4K))
call TriggerAddAction(nK,function C4L)
endfunction
function C4N takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C4O takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"继承....")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"或者...")
call Biy(.75)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"毁灭...")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnit(ZB,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C4P takes nothing returns nothing
set nL=CreateTrigger()
call Bi7(nL,Ri)
call TriggerAddCondition(nL,Condition(function C4N))
call TriggerAddAction(nL,function C4O)
endfunction
function C4Q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(nK)
call SetDoodadAnimationRectBJ("show",$594F7232,Rg)
endfunction
function C4R takes nothing returns nothing
set nV=CreateTrigger()
call TriggerRegisterUnitEvent(nV,ZB,EVENT_UNIT_DEATH)
call TriggerAddAction(nV,function C4Q)
endfunction
function C4S takes nothing returns boolean
return GetAttacker()==ZB
endfunction
function C4T takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZB))==true
endfunction
function C4U takes nothing returns nothing
set lG=GetRandomLocInRect(Ri)
call CreateNUnitsAtLoc(1,$68303459,GetOwningPlayer(ZB),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set nX=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetEnumUnit())
endfunction
function C4V takes nothing returns nothing
if eb<=5 then
set eb=eb+1
else
set eb=0
set i8=GetUnitLoc(ZB)
set fP=Biq(1150.,i8,Condition(function C4T))
call ForGroupBJ(fP,function C4U)
call DestroyGroup(fP)
call RemoveLocation(i8)
endif
endfunction
function C4W takes nothing returns nothing
set nW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(nW,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(nW,Condition(function C4S))
call TriggerAddAction(nW,function C4V)
endfunction
function C4X takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930494E)==true
endfunction
function C4Y takes nothing returns nothing
call UnitAddAbilityBJ($41305035,GetEnumUnit())
endfunction
function C4Z takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930494E))
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：你们的能力令人赞叹.")
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：以下是你们应得的奖励")
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家每人获得2000金钱")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得全属性+10")
call ForGroupBJ(bJ,function C4Y)
call TriggerSleepAction(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得“遗迹之杖”、“不可思议之靴”")
call CreateItemLoc($49304950,GetRectCenter(Rj))
call CreateItemLoc($4930494F,GetRectCenter(Rj))
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：你们从米克尔的残息身上得到的残魂宝冠，我感受到了无比强大的黑暗力量，要想逐步解开封印，与“异变的灵魂”密切相关，在漠尔沙漠应该会有些线索...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务遗迹之主的残息完成..")
call QuestSetCompleted(nN,true)
call RemoveUnit(ZC)
set hs=true
call ShowUnit(Z4,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C4a takes nothing returns nothing
set nY=CreateTrigger()
call Bi7(nY,RZ)
call TriggerAddCondition(nY,Condition(function C4X))
call TriggerAddAction(nY,function C4Z)
endfunction
function C4b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930494B)==true
endfunction
function C4c takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：不错，你终于找到了，但“神秘遗迹能量-12345”只是其中一样开启机关所需物品，你还需要找到剩下的与这所遗迹息息相关的五样物品")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C4d takes nothing returns nothing
set xI=CreateTrigger()
call Bi7(xI,RZ)
call TriggerAddCondition(xI,Condition(function C4b))
call TriggerAddAction(xI,function C4c)
endfunction
function C4e takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$4930494B)==true and Bi9(GetTriggerUnit(),$49304934)==true and Bi9(GetTriggerUnit(),$49304853)==true and Bi9(GetTriggerUnit(),$49304931)==true and Bi9(GetTriggerUnit(),$49304938)==true or Bi9(GetTriggerUnit(),$49304937)==true
endfunction
function C4f takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：太好了，这就是所需的全部物品，你需要找到隐藏在遗迹某处的传送门，打开通往隐藏的通道")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C4g takes nothing returns nothing
set xL=CreateTrigger()
call Bi7(xL,RZ)
call TriggerAddCondition(xL,Condition(function C4e))
call TriggerAddAction(xL,function C4f)
endfunction
function C4h takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C4i takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetOwningPlayer(GetTriggerUnit()))
endfunction
function C4j takes nothing returns nothing
set yE=CreateTrigger()
call Bi7(yE,TQ)
call TriggerAddCondition(yE,Condition(function C4h))
call TriggerAddAction(yE,function C4i)
endfunction
function C4k takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C4l takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetOwningPlayer(GetTriggerUnit()))
endfunction
function C4m takes nothing returns nothing
set yF=CreateTrigger()
call Bi8(yF,TQ)
call TriggerAddCondition(yF,Condition(function C4k))
call TriggerAddAction(yF,function C4l)
endfunction
function C4n takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C4o takes nothing returns nothing
if Bi9(GetTriggerUnit(),$精致的刨地铲)==true then
call DisableTrigger(GetTriggeringTrigger())
set g1=true
set i8=GetRectCenter(Sr)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
call DisplayTimedTextToForce(GetPlayersAll(),5.,"这里居然被你挖出了一条路！")
call ShowUnit(Zu,true)
call ShowUnit(Zv,true)
call ShowUnit(Zw,true)
call ShowUnit(Zz,true)
call ShowUnit(Z1,true)
call ShowUnit(Z0,true)
call ShowUnit(Zx,true)
call ShowUnit(Zy,true)
call RemoveUnit(Uw)
call RemoveUnit(Uy)
call RemoveUnit(Ux)
call DisableTrigger(vy)
call DisableTrigger(vz)
call DisableTrigger(m4)
call DisableTrigger(m6)
else
call DisplayTimedTextToForce(GetPlayersAll(),3.,"这片泥土似乎有被挖掘过的痕迹...")
endif
endfunction
function C4p takes nothing returns nothing
set vx=CreateTrigger()
call Bi7(vx,Ss)
call TriggerAddCondition(vx,Condition(function C4n))
call TriggerAddAction(vx,function C4o)
endfunction
function C4q takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Zu,false)
call ShowUnit(Zv,false)
call ShowUnit(Zw,false)
call ShowUnit(Zz,false)
call ShowUnit(Z1,false)
call ShowUnit(Z0,false)
call ShowUnit(Zx,false)
call ShowUnit(Zy,false)
call ShowUnit(Z2,false)
endfunction
function C4r takes nothing returns nothing
set v0=CreateTrigger()
call TriggerRegisterTimerEventSingle(v0,.1)
call TriggerAddAction(v0,function C4q)
endfunction
function C4s takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and g1==true
endfunction
function C4t takes nothing returns nothing
set i8=GetRectCenter(Sr)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function C4u takes nothing returns nothing
set v1=CreateTrigger()
call Bi7(v1,Ss)
call TriggerAddCondition(v1,Condition(function C4s))
call TriggerAddAction(v1,function C4t)
endfunction
function C4v takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and g1==true
endfunction
function C4w takes nothing returns nothing
set i8=GetRectCenter(St)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function C4x takes nothing returns nothing
set v2=CreateTrigger()
call Bi7(v2,Sq)
call TriggerAddCondition(v2,Condition(function C4v))
call TriggerAddAction(v2,function C4w)
endfunction
function C4y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and g1==true
endfunction
function C4z takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),5.,"维鲁：诶？你看起来好像很面熟.")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),5.,"维鲁：听说这片区域有一所不为人知的地下金矿，我和伙计们挖了很久都没找到..")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),5.,"维鲁：如果你能帮我找到的话，报酬不会少你的")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),5.,"维鲁：我在这里等你好消息")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"维鲁的金矿","帮维鲁在漠尔区域寻找金矿吧，并把好消息带给他","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set v4=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C40 takes nothing returns nothing
set v3=CreateTrigger()
call Bi7(v3,Su)
call TriggerAddCondition(v3,Condition(function C4y))
call TriggerAddAction(v3,function C4z)
endfunction
function C41 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C42 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：你知道如何区别装备的品质吗？")
call TriggerSleepAction(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"白色-普通级")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|Cff00ff00绿色-加工级|R")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|Cff0000ff蓝色-精良级|R")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|CFF8080FF淡紫色-稀有级|R")
call TriggerSleepAction(3.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：你现在知道你身上的装备情况了吧。")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：据说在这四种颜色等级之外还有粉色、橙色和黑色。。真想在有生之年能看到一件阿。。")
call TriggerSleepAction(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：据说有一个材质特殊的材料，和某件能凿地的物品相关联，能够结合并提升品质，如果你找到的话可以带到我这里来.")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"野外商人","找到“小生命符-特殊”和“矿铲”，并带至漠尔沙漠野外商人处..","ReplaceableTextures\\CommandButtons\\BTNGrabTree.blp")
set BQN=GetLastCreatedQuestBJ()
call EnableTrigger(BQO)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C43 takes nothing returns nothing
set BQM=CreateTrigger()
call Bi7(BQM,Ie)
call TriggerAddCondition(BQM,Condition(function C41))
call TriggerAddAction(BQM,function C42)
endfunction
function C44 takes nothing returns nothing
call DisableTrigger(BQO)
endfunction
function C45 takes nothing returns nothing
set BQP=CreateTrigger()
call TriggerAddAction(BQP,function C44)
endfunction
function C46 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303045)==true and Bi9(GetTriggerUnit(),$49303750)==true
endfunction
function C47 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303045))
call RemoveItem(Bio(GetTriggerUnit(),$49303750))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：你身上这把矿铲和小生命符-特殊在材质上很搭。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：也许你这个外行人看不出来，拿着也没用，但是你把这两个东西给我的话，对我来说作用很大。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"野外商人：我用这把精致的刨地铲跟你交换，你作为冒险者，这把铲子对你来说应该更有用。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你获得了一把精致的刨地铲。")
call UnitAddItemByIdSwapped($精致的刨地铲,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call QuestSetCompleted(BQN,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C48 takes nothing returns nothing
set BQO=CreateTrigger()
call Bi7(BQO,Ie)
call TriggerAddCondition(BQO,Condition(function C46))
call TriggerAddAction(BQO,function C47)
endfunction
function C49 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function C5B takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BQR)
call SetDoodadAnimationRectBJ("show",$594F7232,La)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你似乎刨到了一条隐藏的通路。")
endfunction
function C5C takes nothing returns nothing
set BQQ=CreateTrigger()
call Bi7(BQQ,La)
call TriggerAddCondition(BQQ,Condition(function C49))
call TriggerAddAction(BQQ,function C5B)
endfunction
function C5D takes nothing returns nothing
call DisableTrigger(BQR)
call SetDoodadAnimationRectBJ("hide",$594F7232,La)
endfunction
function C5E takes nothing returns nothing
set BQS=CreateTrigger()
call TriggerAddAction(BQS,function C5D)
endfunction
function C5F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C5G takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ld))
endfunction
function C5H takes nothing returns nothing
set BQR=CreateTrigger()
call Bi7(BQR,La)
call TriggerAddCondition(BQR,Condition(function C5F))
call TriggerAddAction(BQR,function C5G)
endfunction
function C5I takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C5J takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Lb))
endfunction
function C5K takes nothing returns nothing
set BQT=CreateTrigger()
call Bi7(BQT,Lc)
call TriggerAddCondition(BQT,Condition(function C5I))
call TriggerAddAction(BQT,function C5J)
endfunction
function C5L takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true and Bi9(GetTriggerUnit(),$49303336)==true
endfunction
function C5M takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ly))
endfunction
function C5N takes nothing returns nothing
set BQU=CreateTrigger()
call Bi7(BQU,Lv)
call TriggerAddCondition(BQU,Condition(function C5L))
call TriggerAddAction(BQU,function C5M)
endfunction
function C5O takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C5P takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Lw))
endfunction
function C5Q takes nothing returns nothing
set BQV=CreateTrigger()
call Bi7(BQV,Lx)
call TriggerAddCondition(BQV,Condition(function C5O))
call TriggerAddAction(BQV,function C5P)
endfunction
function C5R takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true and Bi9(GetTriggerUnit(),$49303336)==true
endfunction
function C5S takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303839,GetRectCenter(Lz))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你用铲子和斧子凿出了一个东西。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C5T takes nothing returns nothing
set BQW=CreateTrigger()
call Bi7(BQW,Lv)
call TriggerAddCondition(BQW,Condition(function C5R))
call TriggerAddAction(BQW,function C5S)
endfunction
function C5U takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C5V takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：哎..想当年我也是个高级刺客...如今只能猥琐在这个小镇生活..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：如果你能给我一堆土石、完整的电蜥蜴唾液、1个电蜥灵核、1把速戟、1件蝎爪我就把我珍藏的刺客佩刀送给你.")
call EnableTrigger(BQY)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"莫斯的刺客佩刀","莫斯要求一堆土石、完整的电蜥蜴唾液、1个电蜥灵核、1把速戟、1件蝎爪","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set BQZ=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C5W takes nothing returns nothing
set BQX=CreateTrigger()
call Bi7(BQX,O2)
call TriggerAddCondition(BQX,Condition(function C5U))
call TriggerAddAction(BQX,function C5V)
endfunction
function C5X takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303141)==true and Bi9(GetTriggerUnit(),$49303150)==true and Bi9(GetTriggerUnit(),$49303637)==true and Bi9(GetTriggerUnit(),$4930364A)==true and Bi9(GetTriggerUnit(),$49303744)==true
endfunction
function C5Y takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call RemoveItem(Bio(GetTriggerUnit(),$4930364A))
call RemoveItem(Bio(GetTriggerUnit(),$49303637))
call RemoveItem(Bio(GetTriggerUnit(),$49303150))
call RemoveItem(Bio(GetTriggerUnit(),$49303744))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莫斯：干得不错.刺客佩刀属于你了")
call CreateItemLoc($4930454A,GetUnitLoc(GetTriggerUnit()))
call QuestSetCompleted(BQZ,true)
set gO=true
endfunction
function C5Z takes nothing returns nothing
set BQY=CreateTrigger()
call Bi7(BQY,O2)
call TriggerAddCondition(BQY,Condition(function C5X))
call TriggerAddAction(BQY,function C5Y)
endfunction
function C5a takes nothing returns nothing
call DisableTrigger(BQY)
endfunction
function C5b takes nothing returns nothing
set BQa=CreateTrigger()
call TriggerAddAction(BQa,function C5a)
endfunction
function C5c takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930454A)==true and Bi9(GetTriggerUnit(),$49303439)==true
endfunction
function C5d takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930454A))
call RemoveItem(Bio(GetTriggerUnit(),$49303439))
call UnitAddItemByIdSwapped($4930454B,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C5e takes nothing returns nothing
set BQb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BQb,Condition(function C5c))
call TriggerAddAction(BQb,function C5d)
endfunction
function C5f takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930454B)==true and Bi9(GetTriggerUnit(),$49303444)==true
endfunction
function C5g takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930454B))
call RemoveItem(Bio(GetTriggerUnit(),$49303444))
call UnitAddItemByIdSwapped($4930454C,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C5h takes nothing returns nothing
set BQc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BQc,Condition(function C5f))
call TriggerAddAction(BQc,function C5g)
endfunction
function C5i takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930454C)==true and Bi9(GetTriggerUnit(),$49304559)==true
endfunction
function C5j takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930454C))
call RemoveItem(Bio(GetTriggerUnit(),$49304559))
call UnitAddItemByIdSwapped($4930455A,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C5k takes nothing returns nothing
set BQd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BQd,Condition(function C5i))
call TriggerAddAction(BQd,function C5j)
endfunction
function C5l takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C5m takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：哎....如果能有一堆土石就好了.......")
endfunction
function C5n takes nothing returns nothing
set BQe=CreateTrigger()
call Bi7(BQe,Cn)
call TriggerAddCondition(BQe,Condition(function C5l))
call TriggerAddAction(BQe,function C5m)
endfunction
function C5o takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303141)==true
endfunction
function C5p takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BQe)
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：哦！你可真是帮了我的大忙了....")
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：我想你是一位冒险者..我以前冒险的时候这盾一直陪伴着我......我想就送给你了......")
call CreateItemLoc($49303139,GetUnitLoc(GetTriggerUnit()))
set eR=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C5q takes nothing returns nothing
set BQf=CreateTrigger()
call Bi7(BQf,Cn)
call TriggerAddCondition(BQf,Condition(function C5o))
call TriggerAddAction(BQf,function C5p)
endfunction
function C5r takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E30304E or GetUnitTypeId(GetDyingUnit())==$6E30304F
endfunction
function C5s takes nothing returns nothing
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303545,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function C5t takes nothing returns nothing
set BQg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQg,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BQg,Condition(function C5r))
call TriggerAddAction(BQg,function C5s)
endfunction
function C5u takes nothing returns boolean
return eR==true and Bi9(GetTriggerUnit(),$49304931)==true
endfunction
function C5v takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：等一下...这个面具...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：有一股熟悉的感觉...但是似乎被什么封印了...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：这样..你带上遗迹大精华+一堆土石+10个蝎尾+力量头环+漠尔生命符，再带上这个面具交给我..我应该能解开这件面具一部分力量...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务“亚克-奇怪的封印”开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"亚克-奇怪的封印","关于“面具饰品-初强化”，亚克表示如果能交给他遗迹大精华+一堆土石+10个蝎尾+漠尔生命符+力量头环，就能解开部分力量...","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set mz=GetLastCreatedQuestBJ()
set eS=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C5w takes nothing returns nothing
set ph=CreateTrigger()
call Bi7(ph,Cn)
call TriggerAddCondition(ph,Condition(function C5u))
call TriggerAddAction(ph,function C5v)
endfunction
function C5x takes nothing returns boolean
return eS==true and Bi9(GetTriggerUnit(),$49304931)==true and Bi9(GetTriggerUnit(),$49303542)==true and Bi9(GetTriggerUnit(),$49303141)==true and Bi9(GetTriggerUnit(),$49303146)==true and Bi9(GetTriggerUnit(),$4930314D)==true and Bi9(GetTriggerUnit(),$49303747)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303747))==10
endfunction
function C5y takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304931))
call RemoveItem(Bio(GetTriggerUnit(),$49303542))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call RemoveItem(Bio(GetTriggerUnit(),$49303146))
call RemoveItem(Bio(GetTriggerUnit(),$4930314D))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：不错...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"亚克：我已帮你解开了这个面具饰品的部分封印...但是剩下的只能靠你自己了...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务亚克-奇怪的封印完成，获得面具饰品-中强化，并奖励所有玩家300元")
call UnitAddItemByIdSwapped($49304932,GetTriggerUnit())
call AdjustPlayerStateBJ(300,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call QuestSetCompleted(mz,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C5z takes nothing returns nothing
set pi=CreateTrigger()
call Bi7(pi,Cn)
call TriggerAddCondition(pi,Condition(function C5x))
call TriggerAddAction(pi,function C5y)
endfunction
function C50 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C51 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：你知道这门里面藏着什么吗？")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：你当然不会知道.....")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：这里面可是...冒险者们练怪的好地方...可以为低级的冒险者们提供一个良好的练经验场所....")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：想进去吗？")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：当然不会免费让你进去....你也知道这沙漠水奇缺...商店卖的很贵...如果你能给我带一桶水来....我就给你开放这处练怪所....")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线莱纳多的练怪所开启")
call EnableTrigger(BQi)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C52 takes nothing returns nothing
set BQh=CreateTrigger()
call Bi7(BQh,CZ)
call TriggerAddCondition(BQh,Condition(function C50))
call TriggerAddAction(BQh,function C51)
endfunction
function C53 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303136)==true
endfunction
function C54 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：嗯...不错.....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：不好意思我突然有点改变主意了.....你再给我买双普通的鞋子吧....我就给你开放练怪场.....")
call TriggerSleepAction(4.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"去买双鞋子吧.....")
call EnableTrigger(BQj)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C55 takes nothing returns nothing
set BQi=CreateTrigger()
call Bi7(BQi,CZ)
call TriggerAddCondition(BQi,Condition(function C53))
call TriggerAddAction(BQi,function C54)
endfunction
function C56 takes nothing returns nothing
call DisableTrigger(BQi)
call DisableTrigger(BQj)
endfunction
function C57 takes nothing returns nothing
set BQk=CreateTrigger()
call TriggerAddAction(BQk,function C56)
endfunction
function C58 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303137)==true
endfunction
function C59 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303137))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：嗯...不错.....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莱纳多：现在你们可以进去了.....")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Ti)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6B takes nothing returns nothing
set BQj=CreateTrigger()
call Bi7(BQj,CZ)
call TriggerAddCondition(BQj,Condition(function C58))
call TriggerAddAction(BQj,function C59)
endfunction
function C6C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6D takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Cb))
endfunction
function C6E takes nothing returns nothing
set BQl=CreateTrigger()
call Bi7(BQl,Ca)
call TriggerAddCondition(BQl,Condition(function C6C))
call TriggerAddAction(BQl,function C6D)
endfunction
function C6F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6G takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这练怪场......为什么没有怪？？？")
call RemoveUnit(VZ)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"回去问问莱纳多吧.....")
call SetDoodadAnimationRectBJ("show",$594F7232,Cc)
call EnableTrigger(BQn)
call EnableTrigger(BQo)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6H takes nothing returns nothing
set BQm=CreateTrigger()
call Bi7(BQm,Cd)
call TriggerAddCondition(BQm,Condition(function C6F))
call TriggerAddAction(BQm,function C6G)
endfunction
function C6I takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6J takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ce))
endfunction
function C6K takes nothing returns nothing
set BQn=CreateTrigger()
call Bi7(BQn,Cc)
call TriggerAddCondition(BQn,Condition(function C6I))
call TriggerAddAction(BQn,function C6J)
endfunction
function C6L takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,Cc)
endfunction
function C6M takes nothing returns nothing
set BQp=CreateTrigger()
call TriggerRegisterTimerEventSingle(BQp,.1)
call TriggerAddAction(BQp,function C6L)
endfunction
function C6N takes nothing returns nothing
call DisableTrigger(BQn)
call DisableTrigger(BQo)
endfunction
function C6O takes nothing returns nothing
set BQq=CreateTrigger()
call TriggerAddAction(BQq,function C6N)
endfunction
function C6P takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6Q takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,".....................")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"人不见了！")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6R takes nothing returns nothing
set BQo=CreateTrigger()
call Bi7(BQo,JE)
call TriggerAddCondition(BQo,Condition(function C6P))
call TriggerAddAction(BQo,function C6Q)
endfunction
function C6S takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6T takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"汐娜：呜呜...请救救我的孩子...他快渴死了....")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请在60秒内买“一瓶水”帮助汐娜")
call StartTimerBJ(bU,false,60.)
call CreateTimerDialogBJ(bU,"拯救汐娜的孩子")
call TimerDialogDisplayBJ(true,GetLastCreatedTimerDialogBJ())
call EnableTrigger(BQs)
call Biy(60.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bV==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call DisableTrigger(BQs)
call TimerDialogDisplayBJ(false,GetLastCreatedTimerDialogBJ())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"孩子已死亡.....该支线任务失败.....")
call KillUnit(WL)
call EnableTrigger(BQt)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6U takes nothing returns nothing
set BQr=CreateTrigger()
call Bi7(BQr,Cu)
call TriggerAddCondition(BQr,Condition(function C6S))
call TriggerAddAction(BQr,function C6T)
endfunction
function C6V takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303135)==true or Bi9(GetTriggerUnit(),$49303136)==true
endfunction
function C6W takes nothing returns nothing
call UnitAddAbilityBJ($41303456,GetEnumUnit())
endfunction
function C6X takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set bV=true
call TimerDialogDisplayBJ(false,GetLastCreatedTimerDialogBJ())
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"！！！！！")
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"咕咚咕咚咕咚...（灌水声")
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimation(WL,"stand")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"汐娜：谢谢你们....我实在太穷了....什么都没办法送你们....")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"汐娜：但是我可以给你们这个......")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家全属性获得+5")
call ForGroupBJ(bJ,function C6W)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得物品：善意碎片 1")
call CreateItemLoc($49303156,GetRectCenter(Cv))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"汐娜：再次谢谢你们.....")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6Y takes nothing returns nothing
set BQs=CreateTrigger()
call Bi7(BQs,Cu)
call TriggerAddCondition(BQs,Condition(function C6V))
call TriggerAddAction(BQs,function C6X)
endfunction
function C6Z takes nothing returns nothing
call DisableTrigger(BQs)
call DisableTrigger(BQt)
endfunction
function C6a takes nothing returns nothing
set BQu=CreateTrigger()
call TriggerAddAction(BQu,function C6Z)
endfunction
function C6b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6c takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"汐娜：呜呜....我的孩子渴死了...")
endfunction
function C6d takes nothing returns nothing
set BQt=CreateTrigger()
call Bi7(BQt,Cu)
call TriggerAddCondition(BQt,Condition(function C6b))
call TriggerAddAction(BQt,function C6c)
endfunction
function C6e takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6f takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：哎...外面的土傀儡真是越来越影响这个小镇的安全了....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：如果你们能击败那些大型土傀儡..将它的头颅带回....我想它们就不敢猖狂了....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线大型土傀儡的头颅开启..")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"大型土傀儡的头颅","找到大型土傀儡并击败它，将它的头颅给予斯尔德","ReplaceableTextures\\CommandButtons\\BTNRockGolem.blp")
set BQw=GetLastCreatedQuestBJ()
call EnableTrigger(BQx)
call EnableTrigger(BQy)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：另外值得一提的是，在漠尔镇外那个封印的岩石屏障，似乎隐藏着一只极强的魔物，建议不要随便打破那个封印.")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6g takes nothing returns nothing
set BQv=CreateTrigger()
call Bi7(BQv,Cw)
call TriggerAddCondition(BQv,Condition(function C6e))
call TriggerAddAction(BQv,function C6f)
endfunction
function C6h takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303157)==true
endfunction
function C6i takes nothing returns nothing
call UnitAddAbilityBJ($41303458,GetEnumUnit())
endfunction
function C6j takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303157))
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：太好了...这样以后小镇的安全就有了保证了...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家增加全属性3点")
call ForGroupBJ(bJ,function C6i)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得300块钱")
call AdjustPlayerStateBJ(300,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(300,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：再次谢谢你们的帮助....")
call QuestSetCompleted(BQw,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6k takes nothing returns nothing
set BQx=CreateTrigger()
call Bi7(BQx,Cw)
call TriggerAddCondition(BQx,Condition(function C6h))
call TriggerAddAction(BQx,function C6j)
endfunction
function C6l takes nothing returns nothing
call DisableTrigger(BQx)
call DisableTrigger(BQy)
endfunction
function C6m takes nothing returns nothing
set BQz=CreateTrigger()
call TriggerAddAction(BQz,function C6l)
endfunction
function C6n takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==$6E303248
endfunction
function C6o takes nothing returns nothing
call UnitAddAbilityBJ($41304230,GetEnumUnit())
endfunction
function C6p takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BQx)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：哇噻！你是怎么做到的！你居然控制了土傀儡的首领！太厉害了！")
call TriggerSleepAction(3.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你们完美的完成了这次任务，奖励所有玩家增加全属性6点")
call ForGroupBJ(bJ,function C6o)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你们完美的完成了这次任务，奖励所有玩家获得2000块钱")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"斯尔德：再次谢谢你们的完美帮助....")
call QuestSetCompleted(BQw,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6q takes nothing returns nothing
set BQy=CreateTrigger()
call Bi7(BQy,Cw)
call TriggerAddCondition(BQy,Condition(function C6n))
call TriggerAddAction(BQy,function C6p)
endfunction
function C6r takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6s takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雅西妮：哎....在这种地方也就只能种种仙人掌了....")
endfunction
function C6t takes nothing returns nothing
set BQ0=CreateTrigger()
call Bi7(BQ0,Cm)
call TriggerAddCondition(BQ0,Condition(function C6r))
call TriggerAddAction(BQ0,function C6s)
endfunction
function C6u takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303153)==true
endfunction
function C6v takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BQ0)
call RemoveItem(Bio(GetTriggerUnit(),$49303153))
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雅西妮：这个是.......")
call TriggerSleepAction(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雅西妮：没想到....这个地方居然还有这种植物....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雅西妮：太谢谢你了...我想以后我可以种除了仙人掌以外的植物了......")
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得200金钱")
call AdjustPlayerStateBJ(200,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"雅西妮：这个东西就当做给你们的谢礼吧.......")
call CreateItemLoc($49303154,GetUnitLoc(GetTriggerUnit()))
call TriggerSleepAction(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"雅西妮：对了，据说漠尔地区存在着以下几十件难为人知的东西，不知道你们能得到多少呢。")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"妮雅娜个人专属：火焰之剑LV2、炎土甲、烈焰魔衣（残缺一半）、炎能之心、炎焚头骨（初）、炎焚头骨（中）、炎焚手套、浴火之体、焰灵项链LV3、通用之鞋-炎、灾厄之石（残缺）")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"西菲尔个人相关：镰刀LV2、雷翼铠甲、雷翼之刃、制裁之力、雷蜥宝物、雷蜥鳞甲")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"莉尔娅-鹰眼个人专属：月之护甲、月之宝石（残缺）、附灵之弓")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"筱芙娜个人专属：冰晶法衣（初）、冰晶戒指（初）、冰晶法靴（初）")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"小残魂-个人专属相关：进阶幽梦魂灵（请先进阶为大魂影）、幽梦之杖、幽璇碎片（幽璇魂袍合成配件之一）")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"罗米尔个人专属：队长徽章")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"艾布茹个人专属：牧师法衣（初）、牧师法靴（初）、苍生之瓶LV1以及相应石头（苍生之瓶和相关材料其他角色同样可获得）")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"海族武姬个人专属：碧蓝灵戟-海露轻吟、碧蓝灵羽甲")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"通用宝物：被祝福的头环、亚克的盾-魔化、手套配饰（小）、雷霆战斧（初）、幽魂杖、幽魂甲、遗忘之杖、倩女之袍、苍生之瓶LV1以及苍生之石材料、死亡面具-死亡、拉摩尔之魂-碎片2、蝎王瑟卡德之核、蝎王瑟卡德之凯、土王石凯、土王石拳、通用之鞋、雷蜥闪电刃、黄土噬魂典、荒漠行者甲、残魂符、解印之符）")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"雅西妮：祝你们好运")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6w takes nothing returns nothing
set BQ1=CreateTrigger()
call Bi7(BQ1,Cm)
call TriggerAddCondition(BQ1,Condition(function C6u))
call TriggerAddAction(BQ1,function C6v)
endfunction
function C6x takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C6y takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"萨塔娅：听说这里的土石做成护肤品可以美容养颜........")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"萨塔娅：你如果帮我收集5个土石合成一堆土石给我，我就给你一些只有从我这里才能获取的装备（土沙轻甲、黄土尘环、沙硕手环三个随机一个）")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BQ3)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C6z takes nothing returns nothing
set BQ2=CreateTrigger()
call Bi7(BQ2,IL)
call TriggerAddCondition(BQ2,Condition(function C6x))
call TriggerAddAction(BQ2,function C6y)
endfunction
function C60 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303141)==true
endfunction
function C61 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetUnitName(GetTriggerUnit())+"获得随机一样装备")
if GetRandomReal(1.,100.)<=33. then
call CreateItemLoc($49304A53,GetUnitLoc(GetTriggerUnit()))
else
if GetRandomReal(1.,100.)<=42. then
call CreateItemLoc($49304A54,GetUnitLoc(GetTriggerUnit()))
else
call CreateItemLoc($沙硕手环,GetUnitLoc(GetTriggerUnit()))
endif
endif
endfunction
function C62 takes nothing returns nothing
set BQ3=CreateTrigger()
call Bi7(BQ3,IL)
call TriggerAddCondition(BQ3,Condition(function C60))
call TriggerAddAction(BQ3,function C61)
endfunction
function C63 takes nothing returns nothing
call DisableTrigger(BQ3)
endfunction
function C64 takes nothing returns nothing
set BQ4=CreateTrigger()
call TriggerAddAction(BQ4,function C63)
endfunction
function C65 takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303157 or GetUnitTypeId(GetDyingUnit())==$6E303046
endfunction
function C66 takes nothing returns nothing
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303138,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function C67 takes nothing returns nothing
set BQ5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BQ5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BQ5,Condition(function C65))
call TriggerAddAction(BQ5,function C66)
endfunction
function C68 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C69 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"扎里克：给我完整的电蜥蜴唾液吧，每次完成我会给你一些只有从我这里才能获取的装备（电光蜥坠、电蜥手环、蜥蜴闪电衫三个随机一个）")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线扎里克的请求开启。")
call EnableTrigger(BQ7)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C7B takes nothing returns nothing
set BQ6=CreateTrigger()
call Bi7(BQ6,JL)
call TriggerAddCondition(BQ6,Condition(function C68))
call TriggerAddAction(BQ6,function C69)
endfunction
function C7C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930364A)==true
endfunction
function C7D takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930364A))
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetUnitName(GetTriggerUnit())+"获得随机一样装备")
if GetRandomReal(1.,100.)<=33. then
call CreateItemLoc($49304B30,GetUnitLoc(GetTriggerUnit()))
else
if GetRandomReal(1.,100.)<=42. then
call CreateItemLoc($49304A5A,GetUnitLoc(GetTriggerUnit()))
else
call CreateItemLoc($49304A59,GetUnitLoc(GetTriggerUnit()))
endif
endif
endfunction
function C7E takes nothing returns nothing
set BQ7=CreateTrigger()
call Bi7(BQ7,JL)
call TriggerAddCondition(BQ7,Condition(function C7C))
call TriggerAddAction(BQ7,function C7D)
endfunction
function C7F takes nothing returns nothing
call DisableTrigger(BQ7)
endfunction
function C7G takes nothing returns nothing
set BQ8=CreateTrigger()
call TriggerAddAction(BQ8,function C7F)
endfunction
function C7H takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C7I takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"库耳斌：你好，我这里需要10个蝎尾，如果你有的话可以给我，我会有相应报酬。")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BRB)
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"库耳斌的蝎子材料","交给其10个蝎尾","ReplaceableTextures\\CommandButtons\\BTNVillagerMan1.blp")
set BRC=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C7J takes nothing returns nothing
set BQ9=CreateTrigger()
call Bi7(BQ9,Kq)
call TriggerAddCondition(BQ9,Condition(function C7H))
call TriggerAddAction(BQ9,function C7I)
endfunction
function C7K takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303747)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303747))==10
endfunction
function C7L takes nothing returns nothing
call UnitAddAbilityBJ($41304434,GetEnumUnit())
endfunction
function C7M takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call RemoveItem(Bio(GetTriggerUnit(),$49303747))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"库耳斌：感谢你，这是我的报酬。")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家增加500金币")
call AdjustPlayerStateBJ(500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家增加全属性+3。")
call ForGroupBJ(bJ,function C7L)
call DestroyQuest(BRC)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"库耳斌：不过我还有一个请求，如果你们能把蝎王的头冠带给我的话，我会有更加丰厚的奖励给你们。（注：大蝎子不是蝎王）")
call EnableTrigger(BRD)
call EnableTrigger(BRE)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"库耳斌的蝎子材料","交给其蝎王的头冠。（注：大蝎子不是蝎王）","ReplaceableTextures\\CommandButtons\\BTNVillagerMan1.blp")
set BRF=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C7N takes nothing returns nothing
set BRB=CreateTrigger()
call Bi7(BRB,Kq)
call TriggerAddCondition(BRB,Condition(function C7K))
call TriggerAddAction(BRB,function C7M)
endfunction
function C7O takes nothing returns nothing
call DisableTrigger(BRB)
endfunction
function C7P takes nothing returns nothing
set BRG=CreateTrigger()
call TriggerAddAction(BRG,function C7O)
endfunction
function C7Q takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303748)==true
endfunction
function C7R takes nothing returns nothing
call UnitAddAbilityBJ($41304436,GetEnumUnit())
endfunction
function C7S takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303748))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"库耳斌：感谢你，这是我的报酬。")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家增加2000金币")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家全属性+5")
call ForGroupBJ(bJ,function C7R)
call QuestSetCompleted(BRF,true)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"库耳斌：再次感谢你们的帮助。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C7T takes nothing returns nothing
set BRD=CreateTrigger()
call Bi7(BRD,Kq)
call TriggerAddCondition(BRD,Condition(function C7Q))
call TriggerAddAction(BRD,function C7S)
endfunction
function C7U takes nothing returns nothing
call DisableTrigger(BRD)
endfunction
function C7V takes nothing returns nothing
set BRH=CreateTrigger()
call TriggerAddAction(BRH,function C7U)
endfunction
function C7W takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C7X takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ku))
endfunction
function C7Y takes nothing returns nothing
set BRE=CreateTrigger()
call Bi7(BRE,Kr)
call TriggerAddCondition(BRE,Condition(function C7W))
call TriggerAddAction(BRE,function C7X)
endfunction
function C7Z takes nothing returns nothing
call DisableTrigger(BRE)
endfunction
function C7a takes nothing returns nothing
set BRI=CreateTrigger()
call TriggerAddAction(BRI,function C7Z)
endfunction
function C7b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C7c takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kv))
endfunction
function C7d takes nothing returns nothing
set BRJ=CreateTrigger()
call Bi7(BRJ,Kt)
call TriggerAddCondition(BRJ,Condition(function C7b))
call TriggerAddAction(BRJ,function C7c)
endfunction
function C7e takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C7f takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？：自找死路。")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(XL)
call CreateNUnitsAtLoc(1,$6E30325A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Kw),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30325A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Kw),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30325A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Kw),bj_UNIT_FACING)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(XL,"patrol",GetRandomLocInRect(Ku))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C7g takes nothing returns nothing
set BRK=CreateTrigger()
call Bi7(BRK,Ks)
call TriggerAddCondition(BRK,Condition(function C7e))
call TriggerAddAction(BRK,function C7f)
endfunction
function C7h takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(XL)
endfunction
function C7i takes nothing returns nothing
set BRL=CreateTrigger()
call TriggerRegisterTimerEventSingle(BRL,.1)
call TriggerAddAction(BRL,function C7h)
endfunction
function C7j takes nothing returns boolean
return GetAttacker()==XL
endfunction
function C7k takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C7l takes nothing returns nothing
call UnitDamageTargetBJ(XL,GetEnumUnit(),250.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function C7m takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function C7k))
call ForGroupBJ(fP,function C7l)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function C7n takes nothing returns nothing
set BRM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRM,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BRM,Condition(function C7j))
call TriggerAddAction(BRM,function C7m)
endfunction
function C7o takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303258
endfunction
function C7p takes nothing returns nothing
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303747,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function C7q takes nothing returns nothing
set BRN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRN,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BRN,Condition(function C7o))
call TriggerAddAction(BRN,function C7p)
endfunction
function C7r takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"蝎王瑟卡德：渺小的东西。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E30325A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Kw),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30325A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Kw),bj_UNIT_FACING)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C7s takes nothing returns nothing
set BRO=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BRO,XL,LESS_THAN,15000.)
call TriggerAddAction(BRO,function C7r)
endfunction
function C7t takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(ZF,false)
endfunction
function C7u takes nothing returns nothing
set nm=CreateTrigger()
call TriggerRegisterTimerEventSingle(nm,1.2)
call TriggerAddAction(nm,function C7t)
endfunction
function C7v takes nothing returns boolean
return GetEventDamageSource()==ZF and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and 0!=EXGetEventDamageData(mY)==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function C7w takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C7x takes nothing returns nothing
call UnitDamageTargetBJ(ZF,GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function C7y takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(300.,i8,Condition(function C7w))
call ForGroupBJ(fP,function C7x)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function C7z takes nothing returns nothing
set nn=CreateTrigger()
call Bi3(nn)
call TriggerAddCondition(nn,Condition(function C7v))
call TriggerAddAction(nn,function C7y)
endfunction
function C70 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(ZF,true)
endfunction
function C71 takes nothing returns nothing
set no=CreateTrigger()
call TriggerRegisterDeathEvent(no,UB)
call TriggerAddAction(no,function C70)
endfunction
function C72 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and hs==true
endfunction
function C73 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：（惊讶）没想到居然还能在这里见到你们")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：正好，我也需要你们帮助..")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：遗迹之主米克尔在彻底消亡前，用他的本体最后的力量封印了一股非常强大的邪恶力量。")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：然而，他留下的残魂已经愈来愈虚弱，无法再支撑封印多久了。")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：随着封印的逐渐松动，那股邪恶力量随时再次肆虐。这所遗迹，正是为了封印那股力量而存在的。")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：现在，我需要利用遗迹之主残存的力量，也就是你们帮我得到的残魂之缕，去加固这个封印。但是，在施法加固的过程中，封印会暂时解开一部分，到时候会有一些恶魔出来干扰。所以，我需要你们在我施法期间保护我，确保我能顺利完成加固封印的任务。")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：但是，在施法加固的过程中，封印会暂时解开一部分，到时候会有一些恶魔出来干扰。所以，我需要你们在我施法期间保护我")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：聪明的你们一定听明白了吧？我已经开好传送石，你们直接传送过来就行")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"始印之地支线任务开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"始印封魔之地","帮助女士加固封印","ReplaceableTextures\\CommandButtons\\BTNJaina.blp")
set nN=GetLastCreatedQuestBJ()
call ShowUnit(aB,true)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,UF)
call ShowUnit(Z4,false)
call ShowUnit(aC,true)
set hu=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C74 takes nothing returns nothing
set wi=CreateTrigger()
call Bi7(wi,S3)
call TriggerAddCondition(wi,Condition(function C72))
call TriggerAddAction(wi,function C73)
endfunction
function C75 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Z4,false)
endfunction
function C76 takes nothing returns nothing
set wk=CreateTrigger()
call TriggerRegisterTimerEventSingle(wk,2.)
call TriggerAddAction(wk,function C75)
endfunction
function C77 takes nothing returns nothing
call IssueTargetOrder(Z5,"drain",Z9)
call IssueTargetOrder(Z6,"drain",Z9)
call IssueTargetOrder(Z7,"drain",Z9)
call IssueTargetOrder(Z8,"drain",Z9)
endfunction
function C78 takes nothing returns nothing
set wl=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(wl,6.)
call TriggerAddAction(wl,function C77)
endfunction
function C79 takes nothing returns nothing
call ShowUnit(aB,false)
call SetDestructableInvulnerable(UF,true)
call ShowUnit(aC,false)
call ShowUnit(aF,false)
call ShowUnit(aE,false)
call ShowUnit(aD,false)
call UnitRemoveAbilityBJ($41304B4A,Zu)
call UnitRemoveAbilityBJ($41304B4B,Zu)
endfunction
function C8B takes nothing returns nothing
set wm=CreateTrigger()
call TriggerRegisterTimerEventSingle(wm,3.78)
call TriggerAddAction(wm,function C79)
endfunction
function C8C takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and hu==true
endfunction
function C8D takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：这里就是始印之地，我需要暂时解开部分损坏的封印，并重新弥补")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：请你们务必在此期间保护好我")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：如果你们准备好的话，就按下旁边能量圈的“准备好了”按钮.（注：该支线难度极大，请准备充足再挑战）")
call ShowUnit(aD,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C8E takes nothing returns nothing
set wn=CreateTrigger()
call Bi7(wn,S8)
call TriggerAddCondition(wn,Condition(function C8C))
call TriggerAddAction(wn,function C8D)
endfunction
function C8F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304C30
endfunction
function C8G takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set h2=true
call ShowUnit(aD,false)
call StopMusic(true)
call SetUnitInvulnerable(aC,false)
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StopMusic(true)
call StopSoundBJ(wO,true)
call PlayMusicBJ(n)
call SetUnitAnimation(aC,"spell")
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",aC,"chest"))
call StartTimerBJ(hv,true,.5)
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hv)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StartTimerBJ(hx,true,1.)
call Biy(8.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hx)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StartTimerBJ(hv,true,.5)
call Biy(8.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hv)
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StartTimerBJ(hy,true,5.)
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hy)
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StartTimerBJ(hv,true,.5)
call StartTimerBJ(hx,true,1.)
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hv)
call PauseTimer(hx)
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StartTimerBJ(hy,true,5.)
call StartTimerBJ(hz,true,5.)
call Biy(20.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(hy)
call PauseTimer(hz)
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"一股无名的威压正在降临")
call CameraSetEQNoiseForPlayer(Player(0),8.)
call CameraSetEQNoiseForPlayer(Player(1),8.)
call CameraSetEQNoiseForPlayer(Player(2),8.)
call CameraSetEQNoiseForPlayer(Player(3),8.)
call CameraSetEQNoiseForPlayer(Player(4),8.)
call CameraSetEQNoiseForPlayer(Player(5),8.)
call CameraSetEQNoiseForPlayer(Player(6),8.)
call CameraSetEQNoiseForPlayer(Player(7),8.)
call Biy(6.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
if h3==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StartTimerBJ(hv,true,1.)
call StartTimerBJ(hx,true,3.)
call StartTimerBJ(hy,true,8.)
call StartTimerBJ(hz,true,12.)
call ShowUnit(aE,true)
call GroupAddUnitSimple(aE,hw)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",aE,"chest"))
set i8=GetRectCenter(S8)
call IssuePointOrderLoc(aE,"patrol",i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C8H takes nothing returns nothing
set wq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wq,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(wq,Condition(function C8F))
call TriggerAddAction(wq,function C8G)
endfunction
function C8I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function C8J takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StopMusic(true)
set h2=false
set h3=true
call PauseTimer(hv)
call PauseTimer(hx)
call PauseTimer(hy)
call PauseTimer(hz)
call ForGroupBJ(hw,function C8I)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务：始印封魔之地失败")
call QuestSetFailed(nN,true)
endfunction
function C8K takes nothing returns nothing
set wr=CreateTrigger()
call TriggerRegisterUnitEvent(wr,aC,EVENT_UNIT_DEATH)
call TriggerAddAction(wr,function C8J)
endfunction
function C8L takes nothing returns nothing
set i8=GetRandomLocInRect(S9)
call CreateNUnitsAtLoc(1,$6E303546,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call GroupAddUnitSimple(GetLastCreatedUnit(),hw)
set i8=GetRectCenter(S8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",i8)
call RemoveLocation(i8)
endfunction
function C8M takes nothing returns nothing
set ws=CreateTrigger()
call TriggerRegisterTimerExpireEvent(ws,hv)
call TriggerAddAction(ws,function C8L)
endfunction
function C8N takes nothing returns nothing
set i8=GetRandomLocInRect(S9)
call CreateNUnitsAtLoc(1,$6E303547,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call GroupAddUnitSimple(GetLastCreatedUnit(),hw)
set i8=GetRectCenter(S8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",i8)
call RemoveLocation(i8)
endfunction
function C8O takes nothing returns nothing
set wt=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wt,hx)
call TriggerAddAction(wt,function C8N)
endfunction
function C8P takes nothing returns nothing
set i8=GetRandomLocInRect(S9)
call CreateNUnitsAtLoc(1,$6E303548,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call GroupAddUnitSimple(GetLastCreatedUnit(),hw)
set i8=GetRectCenter(S8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",i8)
call RemoveLocation(i8)
endfunction
function C8Q takes nothing returns nothing
set wu=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wu,hy)
call TriggerAddAction(wu,function C8P)
endfunction
function C8R takes nothing returns nothing
set i8=GetRandomLocInRect(S9)
call CreateNUnitsAtLoc(1,$6E303549,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
call GroupAddUnitSimple(GetLastCreatedUnit(),hw)
set i8=GetRectCenter(S8)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",i8)
call RemoveLocation(i8)
endfunction
function C8S takes nothing returns nothing
set wv=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wv,hz)
call TriggerAddAction(wv,function C8R)
endfunction
function C8T takes nothing returns boolean
return GetEventDamageSource()==aE and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and 0!=EXGetEventDamageData(mY)==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function C8U takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C8V takes nothing returns nothing
call UnitDamageTargetBJ(aE,GetEnumUnit(),250.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function C8W takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C8X takes nothing returns nothing
call UnitDamageTargetBJ(aE,GetEnumUnit(),100.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl",GetEnumUnit(),"chest"))
endfunction
function C8Y takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function C8U))
call ForGroupBJ(fP,function C8V)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Bjl(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetTriggerUnit(),"chest"))
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(1200.,i8,Condition(function C8W))
call ForGroupBJ(fP,function C8X)
call DestroyGroup(fP)
call RemoveLocation(i8)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function C8Z takes nothing returns nothing
set ww=CreateTrigger()
call Bi3(ww)
call TriggerAddCondition(ww,Condition(function C8T))
call TriggerAddAction(ww,function C8Y)
endfunction
function C8a takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function C8b takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call PauseTimer(hv)
call PauseTimer(hx)
call PauseTimer(hy)
call PauseTimer(hz)
call ForGroupBJ(hw,function C8a)
set h2=false
call StartTimerBJ(h0,true,.1)
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseTimer(h0)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：太好了..封印已经完成了")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奖励所有玩家5000元")
call AdjustPlayerStateBJ(5000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奖励物品|Cff0000ff元素法杖|R、|Cff0000ff时空精华|R、|Cff0000ff毁灭之刃|R（毁灭守卫-破晓者·加洛达尔掉落）")
set i8=GetRectCenter(TH)
call CreateItemLoc($49304C32,i8)
call RemoveLocation(i8)
set i8=GetRectCenter(TH)
call CreateItemLoc($49304C33,i8)
call RemoveLocation(i8)
set i8=GetRectCenter(TH)
call CreateItemLoc($49304C33,i8)
call RemoveLocation(i8)
call QuestSetCompleted(nN,true)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：真是太感谢你们了！没有你们的勇敢与坚持，这封印根本无法如此顺利地加固。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：你们不仅保护了这片土地，也守护了无数无辜的生命。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：再次感谢你们的英勇付出！愿你们的未来充满光明与希望，愿好运永远伴随着你们。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务：始印封魔之地完成")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C8c takes nothing returns nothing
set wx=CreateTrigger()
call TriggerRegisterUnitEvent(wx,aE,EVENT_UNIT_DEATH)
call TriggerAddAction(wx,function C8b)
endfunction
function C8d takes nothing returns nothing
call Bjl(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",aC,"overhead"))
set i8=GetRandomLocInRect(S8)
call Bjl(1.,AddSpecialEffectLoc("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",i8))
call RemoveLocation(i8)
endfunction
function C8e takes nothing returns nothing
set wy=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wy,h0)
call TriggerAddAction(wy,function C8d)
endfunction
function C8f takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and h1==true
endfunction
function C8g takes nothing returns nothing
set i8=GetRectCenter(S6)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function C8h takes nothing returns nothing
set w0=CreateTrigger()
call Bi7(w0,TD)
call TriggerAddCondition(w0,Condition(function C8f))
call TriggerAddAction(w0,function C8g)
endfunction
function C8i takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and h2!=true
endfunction
function C8j takes nothing returns nothing
set h1=true
call ShowUnit(aF,true)
set i8=GetRectCenter(TE)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function C8k takes nothing returns nothing
set w1=CreateTrigger()
call Bi7(w1,TC)
call TriggerAddCondition(w1,Condition(function C8i))
call TriggerAddAction(w1,function C8j)
endfunction
function C8l takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function C8m takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(L3))
endfunction
function C8n takes nothing returns nothing
set BRP=CreateTrigger()
call Bi7(BRP,L0)
call TriggerAddCondition(BRP,Condition(function C8l))
call TriggerAddAction(BRP,function C8m)
endfunction
function C8o takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function C8p takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BRR)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里居然有一条路。")
call ShowUnitShow(XN)
endfunction
function C8q takes nothing returns nothing
set BRQ=CreateTrigger()
call Bi7(BRQ,L0)
call TriggerAddCondition(BRQ,Condition(function C8o))
call TriggerAddAction(BRQ,function C8p)
endfunction
function C8r takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C8s takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(L1))
endfunction
function C8t takes nothing returns nothing
set BRS=CreateTrigger()
call Bi7(BRS,L2)
call TriggerAddCondition(BRS,Condition(function C8r))
call TriggerAddAction(BRS,function C8s)
endfunction
function C8u takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(XN)
endfunction
function C8v takes nothing returns nothing
set BRT=CreateTrigger()
call TriggerRegisterTimerEventSingle(BRT,.1)
call TriggerAddAction(BRT,function C8u)
endfunction
function C8w takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C8x takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：哎，没想到现在还有人类会来这里。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：原本以前这个山谷的生物们和人类是和平共处的。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：直到后来。。就剩下我保持正常的理性了。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：因为我自己实在是没有能力，你能帮助我收集一个完整的山石吗，我想现在我应该得分析一下造成现状的原因了。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得支线任务“有人性的山石傀儡”")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"有人性的山石傀儡","找一份完整的山石给到这个有人性的山石傀儡。","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set BRU=GetLastCreatedQuestBJ()
call EnableTrigger(BRV)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C8y takes nothing returns nothing
set BRR=CreateTrigger()
call Bi7(BRR,L4)
call TriggerAddCondition(BRR,Condition(function C8w))
call TriggerAddAction(BRR,function C8x)
endfunction
function C8z takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BRR)
endfunction
function C80 takes nothing returns nothing
set BRW=CreateTrigger()
call TriggerRegisterTimerEventSingle(BRW,.1)
call TriggerAddAction(BRW,function C8z)
endfunction
function C81 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303759)==true
endfunction
function C82 takes nothing returns nothing
call UnitAddAbilityBJ($41304455,GetEnumUnit())
endfunction
function C83 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303759))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：嗯，谢谢你。")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家金币+1000，全属性+5。")
call AdjustPlayerStateBJ(1000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function C82)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：但是光有完整的山石似乎还不够分析原因。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：如果你能提供给我与造成这种异变相符合的气质的物品，我想这将更有利于研究。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得支线任务进阶有人性的山石傀儡。")
call DestroyQuest(BRU)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"有人性的山石傀儡","找到与山谷异变相符合气质的物品。","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set BRX=GetLastCreatedQuestBJ()
call EnableTrigger(BRY)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C84 takes nothing returns nothing
set BRV=CreateTrigger()
call Bi7(BRV,L4)
call TriggerAddCondition(BRV,Condition(function C81))
call TriggerAddAction(BRV,function C83)
endfunction
function C85 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BRV)
endfunction
function C86 takes nothing returns nothing
set BRZ=CreateTrigger()
call TriggerRegisterTimerEventSingle(BRZ,.1)
call TriggerAddAction(BRZ,function C85)
endfunction
function C87 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304132)==true
endfunction
function C88 takes nothing returns nothing
call UnitAddAbilityBJ($41304456,GetEnumUnit())
endfunction
function C89 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304132))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：嗯，没错了，这个狂暴山石傀儡，和山谷异变事件的发生息息相关。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家全属性+8")
call ForGroupBJ(bJ,function C88)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：你做的真是太棒了，我认为我应该把我保存至今的宝物交给你。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得物品色尔根山谷之宝")
call CreateItemLoc($49303842,GetUnitLoc(GetTriggerUnit()))
call QuestSetCompleted(BRX,true)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有人性的山石傀儡：但是我的同胞们到底是怎么变成这样的...我要好好研究研究")
set g0=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C9B takes nothing returns nothing
set BRY=CreateTrigger()
call Bi7(BRY,L4)
call TriggerAddCondition(BRY,Condition(function C87))
call TriggerAddAction(BRY,function C89)
endfunction
function C9C takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BRY)
endfunction
function C9D takes nothing returns nothing
set BRa=CreateTrigger()
call TriggerRegisterTimerEventSingle(BRa,.1)
call TriggerAddAction(BRa,function C9C)
endfunction
function C9E takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$尖锐之石)==true and Bi9(GetTriggerUnit(),$49303759)==true and Bi9(GetTriggerUnit(),$49303833)==true and Bi9(GetTriggerUnit(),$精致的刨地铲)==true
endfunction
function C9F takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(NV))
call ShowUnitShow(XW)
endfunction
function C9G takes nothing returns nothing
set BRb=CreateTrigger()
call Bi7(BRb,NT)
call TriggerAddCondition(BRb,Condition(function C9E))
call TriggerAddAction(BRb,function C9F)
endfunction
function C9H takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C9I takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(NU))
endfunction
function C9J takes nothing returns nothing
set BRc=CreateTrigger()
call Bi7(BRc,NW)
call TriggerAddCondition(BRc,Condition(function C9H))
call TriggerAddAction(BRc,function C9I)
endfunction
function C9K takes nothing returns nothing
call ShowUnitHide(XW)
endfunction
function C9L takes nothing returns nothing
set BRd=CreateTrigger()
call TriggerAddAction(BRd,function C9K)
endfunction
function C9M takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303842)==true and Bi9(GetTriggerUnit(),$49303352)==true
endfunction
function C9N takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303842))
call UnitAddItemByIdSwapped($49303843,GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在圣雷石的加持下，色尔根山谷之宝获得了增强。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C9O takes nothing returns nothing
set BRe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRe,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BRe,Condition(function C9M))
call TriggerAddAction(BRe,function C9N)
endfunction
function C9P takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303843 and GetTriggerUnit()==Ug or GetTriggerUnit()==Ue
endfunction
function C9Q takes nothing returns nothing
call UnitAddAbilityBJ($41304457,GetTriggerUnit())
endfunction
function C9R takes nothing returns nothing
set BRf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BRf,Condition(function C9P))
call TriggerAddAction(BRf,function C9Q)
endfunction
function C9S takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303843 and GetTriggerUnit()==Ug or GetTriggerUnit()==Ue
endfunction
function C9T takes nothing returns nothing
call UnitRemoveAbilityBJ($41304457,GetTriggerUnit())
endfunction
function C9U takes nothing returns nothing
set BRg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRg,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BRg,Condition(function C9S))
call TriggerAddAction(BRg,function C9T)
endfunction
function C9V takes nothing returns boolean
return Bi9(GetAttacker(),$49303843)==true and GetAttacker()==Ug or GetAttacker()==Ue
endfunction
function C9W takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C9X takes nothing returns nothing
set lG=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(lG,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(lG)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C9Y takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function C9Z takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true))*2.+200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function C9a takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=25 then
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(GetAttacker())
set fP=Biq(300.,i8,Condition(function C9W))
call ForGroupBJ(fP,function C9X)
call DestroyGroup(fP)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetAttacker())
set fP=Biq(300.,i8,Condition(function C9Y))
call ForGroupBJ(fP,function C9Z)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C9b takes nothing returns nothing
set BRh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRh,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BRh,Condition(function C9V))
call TriggerAddAction(BRh,function C9a)
endfunction
function C9c takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930394A)==true and g0==true
endfunction
function C9d takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930394A))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),5.,"有人性的山石傀儡：嗯？这个是什么东西.？")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"有人性的山石傀儡：啊啊啊啊啊！~~")
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(L4)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call Bjl(.1,bj_lastCreatedEffect)
call RemoveLocation(i8)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($41305346,XN)
call UnitAddAbilityBJ($41305347,XN)
call UnitAddAbilityBJ($41305349,XN)
call UnitAddAbilityBJ($41305348,XN)
call UnitAddAbilityBJ($4130534A,XN)
call SetUnitVertexColor(XN,255,0,0,255)
call SetUnitOwner(XN,Player(11),true)
call SetUnitInvulnerable(XN,false)
call SetUnitAcquireRange(XN,1000.)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C9e takes nothing returns nothing
set vm=CreateTrigger()
call Bi7(vm,L4)
call TriggerAddCondition(vm,Condition(function C9c))
call TriggerAddAction(vm,function C9d)
endfunction
function C9f takes nothing returns boolean
return g0==true
endfunction
function C9g takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetUnitLoc(XN)
call CreateItemLoc($49304A30,i8)
call RemoveLocation(i8)
call ShowUnit(Zq,true)
endfunction
function C9h takes nothing returns nothing
set vn=CreateTrigger()
call TriggerRegisterUnitEvent(vn,XN,EVENT_UNIT_DEATH)
call TriggerAddCondition(vn,Condition(function C9f))
call TriggerAddAction(vn,function C9g)
endfunction
function C9i takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C9j takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ky))
endfunction
function C9k takes nothing returns nothing
set BRi=CreateTrigger()
call Bi7(BRi,Kz)
call TriggerAddCondition(BRi,Condition(function C9i))
call TriggerAddAction(BRi,function C9j)
endfunction
function C9l takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C9m takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(K0))
endfunction
function C9n takes nothing returns nothing
set BRj=CreateTrigger()
call Bi7(BRj,Kx)
call TriggerAddCondition(BRj,Condition(function C9l))
call TriggerAddAction(BRj,function C9m)
endfunction
function C9o takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303330,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(K1),bj_UNIT_FACING)
set BRl=GetLastCreatedUnit()
endfunction
function C9p takes nothing returns nothing
set BRk=CreateTrigger()
call TriggerRegisterTimerEventSingle(BRk,.1)
call TriggerAddAction(BRk,function C9o)
endfunction
function C9q takes nothing returns boolean
return GetDyingUnit()==BRl
endfunction
function C9r takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930374C,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930374D,i8)
call RemoveLocation(i8)
endif
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(K1)
call CreateNUnitsAtLoc(1,$6E303330,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BRl=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C9s takes nothing returns nothing
set BRm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BRm,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BRm,Condition(function C9q))
call TriggerAddAction(BRm,function C9r)
endfunction
function C9t takes nothing returns nothing
if IsUnitGroupDeadBJ(cY)==true then
set i8=GetRandomLocInRect(K1)
call CreateNUnitsAtLoc(1,$6E303331,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BRo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cY)
set i8=GetRandomLocInRect(K1)
call CreateNUnitsAtLoc(1,$6E303331,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BRo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cY)
set i8=GetRandomLocInRect(K1)
call CreateNUnitsAtLoc(1,$6E303331,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BRo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cY)
set i8=GetRandomLocInRect(K1)
call CreateNUnitsAtLoc(1,$6E303331,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BRo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cY)
else
call DoNothing()
endif
endfunction
function C9u takes nothing returns nothing
set BRn=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BRn,25.)
call TriggerAddAction(BRn,function C9t)
endfunction
function C9v takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C9w takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮布尔：我想要完整的山石，英德石，松劲石，集合这三份材料给我，我有报酬奖励你。")
endfunction
function C9x takes nothing returns nothing
set BRp=CreateTrigger()
call Bi7(BRp,K3)
call TriggerAddCondition(BRp,Condition(function C9v))
call TriggerAddAction(BRp,function C9w)
endfunction
function C9y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303759)==true and Bi9(GetTriggerUnit(),$49303657)==true and Bi9(GetTriggerUnit(),$4930374B)==true
endfunction
function C9z takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BRp)
call RemoveItem(Bio(GetTriggerUnit(),$4930374B))
call RemoveItem(Bio(GetTriggerUnit(),$49303657))
call RemoveItem(Bio(GetTriggerUnit(),$49303759))
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮布尔：你们真是棒极了。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮布尔：这个东西就奖励给你们吧")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($尖锐之石,GetUnitLoc(GetTriggerUnit()))
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"皮布尔：顺便我在这个山谷里面打听过一些东西，你们可以尝试寻找一下。")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"妮雅娜个人相关：山谷火种、焰焱意志、凤焰之心")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"西菲尔个人相关：雷摄之饰")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"海族武姬个人专属：碧蓝灵戟突破之玉")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"通用宝物：色尔根山谷之宝及增强、?????（变异）、敏捷披风、苍生之石LV1、狂暴项链、残魂符、解印之符")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C90 takes nothing returns nothing
set BRq=CreateTrigger()
call Bi7(BRq,K3)
call TriggerAddCondition(BRq,Condition(function C9y))
call TriggerAddAction(BRq,function C9z)
endfunction
function C91 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C92 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BRs)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"伯希来：你见过一个叫佛列得的人吗。这个人欠了我一笔钱。如果你见到他的话麻烦你把这封欠条给他看一下。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线“欠债还钱”开启")
call CreateItemLoc($49303641,GetUnitLoc(GetTriggerUnit()))
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"欠债还钱","找一个名为佛列得的人，并帮助伯希来讨回这笔钱","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set BRt=GetLastCreatedQuestBJ()
call EnableTrigger(BRu)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C93 takes nothing returns nothing
set BRr=CreateTrigger()
call Bi7(BRr,Ir)
call TriggerAddCondition(BRr,Condition(function C91))
call TriggerAddAction(BRr,function C92)
endfunction
function C94 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303641)==true
endfunction
function C95 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303641))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"佛列得：这封欠条是。。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"佛列得：我从来就没跟伯希来借过什么钱！这封欠条一看就是伪造的！想要欺诈我的钱财，没门！")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303642,GetUnitLoc(GetTriggerUnit()))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"带着这封被撕碎的欠条回去转告伯希来吧。")
call EnableTrigger(BRv)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C96 takes nothing returns nothing
set BRu=CreateTrigger()
call Bi7(BRu,Is)
call TriggerAddCondition(BRu,Condition(function C94))
call TriggerAddAction(BRu,function C95)
endfunction
function C97 takes nothing returns nothing
call DisableTrigger(BRu)
endfunction
function C98 takes nothing returns nothing
set BRw=CreateTrigger()
call TriggerAddAction(BRw,function C97)
endfunction
function C99 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303642)==true
endfunction
function C_B takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303642))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"伯希来：真是该死的家伙。")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"伯希来：这把锤子给你，你拿这锤子去威胁他交出欠款。")
call CreateItemLoc($49303643,GetUnitLoc(GetTriggerUnit()))
set BRx=GetLastCreatedItem()
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,".............................")
call EnableTrigger(BRy)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_C takes nothing returns nothing
set BRv=CreateTrigger()
call Bi7(BRv,Ir)
call TriggerAddCondition(BRv,Condition(function C99))
call TriggerAddAction(BRv,function C_B)
endfunction
function C_D takes nothing returns nothing
call DisableTrigger(BRv)
endfunction
function C_E takes nothing returns nothing
set BRz=CreateTrigger()
call TriggerAddAction(BRz,function C_D)
endfunction
function C_F takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303643)==true
endfunction
function C_G takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"佛列得：什么！你敢威胁我！")
call EnableTrigger(BR0)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(Uo,false)
call SetUnitOwner(Uo,Player(PLAYER_NEUTRAL_AGGRESSIVE),true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_H takes nothing returns nothing
set BRy=CreateTrigger()
call Bi7(BRy,Is)
call TriggerAddCondition(BRy,Condition(function C_F))
call TriggerAddAction(BRy,function C_G)
endfunction
function C_I takes nothing returns nothing
call DisableTrigger(BRy)
endfunction
function C_J takes nothing returns nothing
set BR1=CreateTrigger()
call TriggerAddAction(BR1,function C_I)
endfunction
function C_K takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(BRx)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哦！不小心下手有点重...")
call Biy(2.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BR2)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"算了..回去找伯希来吧。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_L takes nothing returns nothing
set BR0=CreateTrigger()
call TriggerRegisterUnitEvent(BR0,Uo,EVENT_UNIT_DEATH)
call TriggerAddAction(BR0,function C_K)
endfunction
function C_M takes nothing returns nothing
call DisableTrigger(BR0)
endfunction
function C_N takes nothing returns nothing
set BR3=CreateTrigger()
call TriggerAddAction(BR3,function C_M)
endfunction
function C_O takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C_P takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"伯希来：什么！我只是叫你去威胁他没让你杀了他阿！")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"伯希来：这样我永远都没办法拿回我的钱了")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"伯希来：你真是蠢的可以。")
call Biy(2.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"该支线失败...")
call DestroyQuest(BRt)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_Q takes nothing returns nothing
set BR2=CreateTrigger()
call Bi7(BR2,Ir)
call TriggerAddCondition(BR2,Condition(function C_O))
call TriggerAddAction(BR2,function C_P)
endfunction
function C_R takes nothing returns nothing
call DisableTrigger(BR2)
endfunction
function C_S takes nothing returns nothing
set BR4=CreateTrigger()
call TriggerAddAction(BR4,function C_R)
endfunction
function C_T takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303644)==true
endfunction
function C_U takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BRr)
call EnableTrigger(BR5)
call RemoveItem(Bio(GetTriggerUnit(),$49303644))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"佛列得：太棒了，我最喜欢赌博了....")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303656,GetRectCenter(JW))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_V takes nothing returns nothing
set BRs=CreateTrigger()
call Bi7(BRs,Is)
call TriggerAddCondition(BRs,Condition(function C_T))
call TriggerAddAction(BRs,function C_U)
endfunction
function C_W takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303656)==true
endfunction
function C_X takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303656))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"伯希来：这是佛列得的钱？")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"伯希来：反正他借过我钱还没还，我就先拿着了...")
call Biy(2.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303657,GetRectCenter(JX))
call CreateItemLoc($49303352,GetRectCenter(JX))
call Biy(2.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),15.,"伯希来：这两个是给你的奖励...")
call QuestSetCompleted(BRt,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_Y takes nothing returns nothing
set BR5=CreateTrigger()
call Bi7(BR5,Ir)
call TriggerAddCondition(BR5,Condition(function C_W))
call TriggerAddAction(BR5,function C_X)
endfunction
function C_Z takes nothing returns nothing
call DisableTrigger(BR5)
endfunction
function C_a takes nothing returns nothing
set BR6=CreateTrigger()
call TriggerAddAction(BR6,function C_Z)
endfunction
function C_b takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C_c takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"普尼迪：你有布娃娃吗？")
endfunction
function C_d takes nothing returns nothing
set BR7=CreateTrigger()
call Bi7(BR7,IN)
call TriggerAddCondition(BR7,Condition(function C_b))
call TriggerAddAction(BR7,function C_c)
endfunction
function C_e takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930354C)==true
endfunction
function C_f takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BR7)
call DisableTrigger(BR9)
call DisableTrigger(BSB)
call RemoveItem(Bio(GetTriggerUnit(),$4930354C))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"普尼迪：谢谢你......")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"普尼迪：你可以走了......")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BSC)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_g takes nothing returns nothing
set BR8=CreateTrigger()
call Bi7(BR8,IN)
call TriggerAddCondition(BR8,Condition(function C_e))
call TriggerAddAction(BR8,function C_f)
endfunction
function C_h takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C_i takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"普尼迪：你可以走了......")
endfunction
function C_j takes nothing returns nothing
set BSC=CreateTrigger()
call Bi7(BSC,IN)
call TriggerAddCondition(BSC,Condition(function C_h))
call TriggerAddAction(BSC,function C_i)
endfunction
function C_k takes nothing returns nothing
call DisableTrigger(BSC)
endfunction
function C_l takes nothing returns nothing
set BSD=CreateTrigger()
call TriggerAddAction(BSD,function C_k)
endfunction
function C_m takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930354C)==true
endfunction
function C_n takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BR8)
call DisableTrigger(BSC)
call RemoveItem(Bio(GetTriggerUnit(),$4930354C))
call UnitAddItemByIdSwapped($4930414C,GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你手上的布娃娃似乎沾上了诅咒。")
endfunction
function C_o takes nothing returns nothing
set BR9=CreateTrigger()
call Bi7(BR9,MD)
call TriggerAddCondition(BR9,Condition(function C_m))
call TriggerAddAction(BR9,function C_n)
endfunction
function C_p takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930414C)==true
endfunction
function C_q takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BR7)
call DisableTrigger(BR8)
call DisableTrigger(BSC)
call RemoveItem(Bio(GetTriggerUnit(),$4930414C))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"普尼迪：有意思的布娃娃呢.....")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"普尼迪：这个东西就送给你吧")
call UnitAddItemByIdSwapped($4930414D,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_r takes nothing returns nothing
set BSB=CreateTrigger()
call Bi7(BSB,IN)
call TriggerAddCondition(BSB,Condition(function C_p))
call TriggerAddAction(BSB,function C_q)
endfunction
function C_s takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930414D)==true and Bi9(GetTriggerUnit(),$4930365A)==true
endfunction
function C_t takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$4930414D))
call RemoveItem(Bio(GetTriggerUnit(),$4930365A))
call UnitAddItemByIdSwapped($4930414E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function C_u takes nothing returns nothing
set BSE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BSE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BSE,Condition(function C_s))
call TriggerAddAction(BSE,function C_t)
endfunction
function C_v takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function C_w takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"迈鲁西：嘿...冒险者....我这有一庄生意我想你一定会愿意做的...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"迈鲁西：帮我把这匹马送到色尔根要塞里，然后将马上的货物安全的交给那里的一个人...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"迈鲁西：那个人名字叫赛里尔...是我的生意对象...")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"迈鲁西：如果你们能安然无恙的将这匹马送到他手里....你们会得到重酬的.....")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线护送商马开启......")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"迈鲁西的商马护送","护送迈鲁西的商马到目的地吧。","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set BSG=GetLastCreatedQuestBJ()
call IssuePointOrderLoc(Wg,"patrol",GetRectCenter(D3))
set bc=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_x takes nothing returns nothing
set BSF=CreateTrigger()
call Bi7(BSF,Er)
call TriggerAddCondition(BSF,Condition(function C_v))
call TriggerAddAction(BSF,function C_w)
endfunction
function C_y takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function C_z takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Es))
call SetUnitInvulnerable(GetTriggerUnit(),true)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"先让这匹商马休息下吧....我们先去前面看看....")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_0 takes nothing returns nothing
set BSH=CreateTrigger()
call Bi7(BSH,Es)
call TriggerAddCondition(BSH,Condition(function C_y))
call TriggerAddAction(BSH,function C_z)
endfunction
function C_1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"商马已经死亡...该支线失败...")
call QuestSetFailed(BSG,true)
endfunction
function C_2 takes nothing returns nothing
set BSI=CreateTrigger()
call TriggerRegisterUnitEvent(BSI,Wg,EVENT_UNIT_DEATH)
call TriggerAddAction(BSI,function C_1)
endfunction
function C_3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function C_4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(Wg,"patrol",GetRectCenter(Es))
endfunction
function C_5 takes nothing returns nothing
set BSJ=CreateTrigger()
call Bi7(BSJ,D3)
call TriggerAddCondition(BSJ,Condition(function C_3))
call TriggerAddAction(BSJ,function C_4)
endfunction
function C_6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitPositionLoc(Wg,GetRectCenter(Ev))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(Wg,"patrol",GetRectCenter(Fk))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function C_7 takes nothing returns nothing
set BSK=CreateTrigger()
call TriggerRegisterTimerEventSingle(BSK,1.)
call TriggerAddAction(BSK,function C_6)
endfunction
function C_8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function C_9 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Fk))
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛里尔：不错...感谢你们能把货物送来.....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛里尔：这是给你们的奖励...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得1500块钱......")
call AdjustPlayerStateBJ(1500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"赛里尔：还有这个...也送给你们吧....")
call CreateItemLoc($49303343,GetRectCenter(Fv))
call QuestSetCompleted(BSG,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBB takes nothing returns nothing
set BSL=CreateTrigger()
call Bi7(BSL,Fk)
call TriggerAddCondition(BSL,Condition(function C_8))
call TriggerAddAction(BSL,function C_9)
endfunction
function DBC takes nothing returns nothing
call DisableTrigger(BSK)
endfunction
function DBD takes nothing returns nothing
set BSM=CreateTrigger()
call TriggerAddAction(BSM,function DBC)
endfunction
function DBE takes nothing returns nothing
call SetDestructableInvulnerable(Tr,true)
endfunction
function DBF takes nothing returns nothing
set BSN=CreateTrigger()
call TriggerAddAction(BSN,function DBE)
endfunction
function DBG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBH takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Gc))
endfunction
function DBI takes nothing returns nothing
set BSO=CreateTrigger()
call Bi7(BSO,GI)
call TriggerAddCondition(BSO,Condition(function DBG))
call TriggerAddAction(BSO,function DBH)
endfunction
function DBJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBK takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(GT))
endfunction
function DBL takes nothing returns nothing
set BSP=CreateTrigger()
call Bi7(BSP,Ga)
call TriggerAddCondition(BSP,Condition(function DBJ))
call TriggerAddAction(BSP,function DBK)
endfunction
function DBM takes nothing returns nothing
call DisableTrigger(BSR)
endfunction
function DBN takes nothing returns nothing
set BSQ=CreateTrigger()
call TriggerAddAction(BSQ,function DBM)
endfunction
function DBO takes nothing returns nothing
if IsUnitGroupDeadBJ(bd)==true then
set i8=GetRandomLocInRect(Gd)
call CreateNUnitsAtLoc(1,$6E303133,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bd)
set i8=GetRandomLocInRect(Gd)
call CreateNUnitsAtLoc(1,$6E303133,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bd)
set i8=GetRandomLocInRect(Gd)
call CreateNUnitsAtLoc(1,$6E303133,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bd)
set i8=GetRandomLocInRect(Gd)
call CreateNUnitsAtLoc(1,$6E303133,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bd)
set i8=GetRandomLocInRect(Gd)
call CreateNUnitsAtLoc(1,$6E303133,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bd)
else
call DoNothing()
endif
endfunction
function DBP takes nothing returns nothing
set BSR=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BSR,2.)
call TriggerAddAction(BSR,function DBO)
endfunction
function DBQ takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303345
endfunction
function DBR takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支付成功....")
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tr)
call EnableTrigger(BSR)
call Biy(150.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BSR)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"两分半钟已过...练怪场不再刷怪....想继续练习的请继续支付金钱....")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBS takes nothing returns nothing
set BST=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BST,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BST,Condition(function DBQ))
call TriggerAddAction(BST,function DBR)
endfunction
function DBT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"萝蜜：这里面是练怪场哦..2000块钱可以练习2分半钟哦....")
endfunction
function DBV takes nothing returns nothing
set BSU=CreateTrigger()
call Bi7(BSU,F6)
call TriggerAddCondition(BSU,Condition(function DBT))
call TriggerAddAction(BSU,function DBU)
endfunction
function DBW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBX takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：哎.....我的剑坏掉了啊.....")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：你愿意帮我修不？")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303441,GetRectCenter(Gy))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线卡罗尔坏掉的剑开启...")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"卡罗尔坏掉的剑","帮助卡罗尔修复坏掉的剑","ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp")
set BSW=GetLastCreatedQuestBJ()
set eY=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBY takes nothing returns nothing
set BSV=CreateTrigger()
call Bi7(BSV,Gy)
call TriggerAddCondition(BSV,Condition(function DBW))
call TriggerAddAction(BSV,function DBX)
endfunction
function DBZ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303442)==true
endfunction
function DBa takes nothing returns nothing
call UnitAddAbilityBJ($4130375A,GetEnumUnit())
endfunction
function DBb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BSY)
call RemoveItem(Bio(GetTriggerUnit(),$49303442))
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：好吧....那谢谢你了.....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得全属性+5")
call ForGroupBJ(bJ,function DBa)
call QuestSetCompleted(BSW,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBc takes nothing returns nothing
set BSX=CreateTrigger()
call Bi7(BSX,Gy)
call TriggerAddCondition(BSX,Condition(function DBZ))
call TriggerAddAction(BSX,function DBb)
endfunction
function DBd takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303443)==true
endfunction
function DBe takes nothing returns nothing
call UnitAddAbilityBJ($41303830,GetEnumUnit())
endfunction
function DBf takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BSX)
call RemoveItem(Bio(GetTriggerUnit(),$49303443))
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：哇！这把剑居然被修理的这么好....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：真是太感谢你们了.....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得全属性+10")
call ForGroupBJ(bJ,function DBe)
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得物品：头环超级强化石")
call CreateItemLoc($49303445,GetRectCenter(Gy))
call QuestSetCompleted(BSW,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBg takes nothing returns nothing
set BSY=CreateTrigger()
call Bi7(BSY,Gy)
call TriggerAddCondition(BSY,Condition(function DBd))
call TriggerAddAction(BSY,function DBf)
endfunction
function DBh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304941)==true and eY==true
endfunction
function DBi takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：诶..你这个力量之靴..")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：看你也不简单...这样...如果你能带给我罗伯特之靴+2个大蜘蛛尖牙+5个蜘蛛壳+融合之玉，再把这件力量之靴-上一起带过来，我就能帮你合成...")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"卡罗尔-力量之靴的晋升","带给卡罗尔以下几样材料：罗伯特之靴+2个大蜘蛛尖牙+5个蜘蛛壳+融合之玉，再把力量之靴-上一起带给他，就能合成...","ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp")
set nB=GetLastCreatedQuestBJ()
set eZ=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBj takes nothing returns nothing
set m9=CreateTrigger()
call Bi7(m9,Gy)
call TriggerAddCondition(m9,Condition(function DBh))
call TriggerAddAction(m9,function DBi)
endfunction
function DBk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and eZ==true and Bi9(GetTriggerUnit(),$49304941)==true and Bi9(GetTriggerUnit(),$4930354A)==true and Bi9(GetTriggerUnit(),$49304943)==true and Bi9(GetTriggerUnit(),$49304638)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304638))>=2 and Bi9(GetTriggerUnit(),$49304637)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304637))>=5
endfunction
function DBl takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304941))
call RemoveItem(Bio(GetTriggerUnit(),$4930354A))
call RemoveItem(Bio(GetTriggerUnit(),$49304943))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔：好...这个就是晋升后的力量之靴了...祝你一路顺风...")
call UnitAddItemByIdSwapped($49304942,GetTriggerUnit())
call QuestSetCompleted(nB,true)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"卡罗尔-力量之靴支线任务完成...奖励所有玩家500元..")
call AdjustPlayerStateBJ(500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBm takes nothing returns nothing
set nC=CreateTrigger()
call Bi7(nC,Gy)
call TriggerAddCondition(nC,Condition(function DBk))
call TriggerAddAction(nC,function DBl)
endfunction
function DBn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBo takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Gj))
endfunction
function DBp takes nothing returns nothing
set BSZ=CreateTrigger()
call Bi7(BSZ,Gk)
call TriggerAddCondition(BSZ,Condition(function DBn))
call TriggerAddAction(BSZ,function DBo)
endfunction
function DBq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBr takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Gl))
endfunction
function DBs takes nothing returns nothing
set BSa=CreateTrigger()
call Bi7(BSa,Gi)
call TriggerAddCondition(BSa,Condition(function DBq))
call TriggerAddAction(BSa,function DBr)
endfunction
function DBt takes nothing returns nothing
call SetDestructableInvulnerable(Ts,true)
endfunction
function DBu takes nothing returns nothing
set BSb=CreateTrigger()
call TriggerAddAction(BSb,function DBt)
endfunction
function DBv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：有兴趣帮我一个忙吗..是这样的..我们的动力炉坏了..但是需求修理的能量十分巨大..只有拥有岩溶王的头颅才能开始动工..")
call TriggerSleepAction(4.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：但是我们打不过那个岩溶王..如果你能帮我打败他的话那就再好不过了...")
call TriggerSleepAction(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线漠洛哈的请求开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"漠洛哈的请求","找到岩溶王并击败他得到头颅..","ReplaceableTextures\\CommandButtons\\BTNRockGolem.blp")
set BSd=GetLastCreatedQuestBJ()
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Ts)
call EnableTrigger(BSe)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DBx takes nothing returns nothing
set BSc=CreateTrigger()
call Bi7(BSc,Gn)
call TriggerAddCondition(BSc,Condition(function DBv))
call TriggerAddAction(BSc,function DBw)
endfunction
function DBy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DBz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gr),bj_UNIT_FACING)
endfunction
function DB0 takes nothing returns nothing
set BSf=CreateTrigger()
call Bi7(BSf,Gq)
call TriggerAddCondition(BSf,Condition(function DBy))
call TriggerAddAction(BSf,function DBz)
endfunction
function DB1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DB2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这地方似乎有点不太对....")
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$68303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Gu),bj_UNIT_FACING)
set BSh=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",GetRandomLocInRect(Gu))
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(W5)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DB3 takes nothing returns nothing
set BSg=CreateTrigger()
call Bi7(BSg,Gs)
call TriggerAddCondition(BSg,Condition(function DB1))
call TriggerAddAction(BSg,function DB2)
endfunction
function DB4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(W5)
endfunction
function DB5 takes nothing returns nothing
set BSi=CreateTrigger()
call TriggerRegisterTimerEventSingle(BSi,.1)
call TriggerAddAction(BSi,function DB4)
endfunction
function DB6 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303355)==true
endfunction
function DB7 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303355))
call QuestSetCompleted(BSd,true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：哦哦哦！没错我就是要这个.")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得2000块钱...")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(1.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：对了..本来我们这的商店是不对外人开放的，看在你们帮了我大忙的情况下，右下方向的商店就开放给你们了..")
call ShowUnitShow(W6)
set eT=true
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if cS==true then
call DoNothing()
else
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：我想还有个东西一定会有人需要....")
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303353,GetRectCenter(Gv))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DB8 takes nothing returns nothing
set BSe=CreateTrigger()
call Bi7(BSe,Gn)
call TriggerAddCondition(BSe,Condition(function DB6))
call TriggerAddAction(BSe,function DB7)
endfunction
function DB9 takes nothing returns nothing
call DisableTrigger(BSe)
endfunction
function DCB takes nothing returns nothing
set BSj=CreateTrigger()
call TriggerAddAction(BSj,function DB9)
endfunction
function DCC takes nothing returns nothing
call ShowUnitHide(W6)
endfunction
function DCD takes nothing returns nothing
set BSk=CreateTrigger()
call TriggerRegisterTimerEventSingle(BSk,.1)
call TriggerAddAction(BSk,function DCC)
endfunction
function DCE takes nothing returns boolean
return GetAttacker()==W5
endfunction
function DCF takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DCG takes nothing returns nothing
call UnitDamageTargetBJ(W5,GetEnumUnit(),225.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DCH takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DCF))
call ForGroupBJ(fP,function DCG)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DCI takes nothing returns nothing
set BSl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BSl,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BSl,Condition(function DCE))
call TriggerAddAction(BSl,function DCH)
endfunction
function DCJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304551,GetUnitLoc(W5))
endfunction
function DCK takes nothing returns nothing
set BSm=CreateTrigger()
call TriggerRegisterUnitEvent(BSm,W5,EVENT_UNIT_DEATH)
call TriggerAddAction(BSm,function DCJ)
endfunction
function DCL takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303139
endfunction
function DCM takes nothing returns nothing
if GetRandomInt(1,100)<=75 then
call DoNothing()
else
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304645,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304644,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endif
endif
endfunction
function DCN takes nothing returns nothing
set BSn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BSn,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BSn,Condition(function DCL))
call TriggerAddAction(BSn,function DCM)
endfunction
function DCO takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304932)==true and eT==true
endfunction
function DCP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：等一下...你这个面具...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：根据我多年以来的经验，我看得出你这个面具不简单...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：我可以帮你解除一部分封印，但是需要你提供给我如下材料：10个蜘蛛壳+5个大蜘蛛尖牙+融合之玉，再带上这个面具饰品-中强化...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务漠洛哈-奇怪的封印开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"漠洛哈 面具饰品-中强化","关于“面具饰品-中强化”，漠洛哈表示如果能交给他10个蜘蛛壳+5个大蜘蛛尖牙+融合之玉，就能解开部分力量...","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set mz=GetLastCreatedQuestBJ()
set eU=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCQ takes nothing returns nothing
set my=CreateTrigger()
call Bi7(my,Gn)
call TriggerAddCondition(my,Condition(function DCO))
call TriggerAddAction(my,function DCP)
endfunction
function DCR takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304932)==true and Bi9(GetTriggerUnit(),$4930354A)==true and Bi9(GetTriggerUnit(),$49304638)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304638))>=5 and Bi9(GetTriggerUnit(),$49304637)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304637))==10 and eU==true
endfunction
function DCS takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304932))
call RemoveItem(Bio(GetTriggerUnit(),$4930354A))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：很好..我马上帮你解析..")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠洛哈：已经帮你解除了部分封印...但是这个面具的力量远超我的想象...我只能帮你到此...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务漠洛哈-奇怪的封印完成..奖励面具饰品-高级强化，所有玩家获得500元金钱奖励")
call UnitAddItemByIdSwapped($49304933,GetTriggerUnit())
call AdjustPlayerStateBJ(500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call QuestSetCompleted(mz,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCT takes nothing returns nothing
set m0=CreateTrigger()
call Bi7(m0,Gn)
call TriggerAddCondition(m0,Condition(function DCR))
call TriggerAddAction(m0,function DCS)
endfunction
function DCU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==false and GetItemTypeId(GetManipulatedItem())==$4930364F
endfunction
function DCV takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
call SetItemPositionLoc(GetManipulatedItem(),i8)
call RemoveLocation(i8)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这块石头犹如排斥你一般，产生一小股火焰能量将你排斥..")
endfunction
function DCW takes nothing returns nothing
set BSo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BSo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BSo,Condition(function DCU))
call TriggerAddAction(BSo,function DCV)
endfunction
function DCX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bK)==true and GetItemTypeId(GetManipulatedItem())==$4930364F
endfunction
function DCY takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetManipulatedItem())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if c7==true then
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"在吸收了熔岩核心后，妮雅娜体内的凤焰之心也愈发涌动，妮雅娜“炽热焰心 W”技能得到了进阶...（具体详看技能说明）")
call UnitRemoveAbilityBJ($41303033,GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,$41303033,GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ($4130524A,GetTriggerUnit())
call UnitAddAbilityBJ($4130524B,GetTriggerUnit())
call UnitAddAbilityBJ($4130524C,GetTriggerUnit())
call SetUnitState(GetTriggerUnit(),ConvertUnitState(18),GetUnitStateSwap(ConvertUnitState(18),GetTriggerUnit())+650.+0)
set gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gC[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.08
set gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+150.
call SetUnitMoveSpeed(GetTriggerUnit(),gN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
call DisplayTimedTextToForce(GetPlayersAll(),6.,"在吸收了熔岩核心后，妮雅娜的力量得到了提升，绿字全属性额外+6")
call UnitAddAbilityBJ($41304252,GetTriggerUnit())
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"妮雅娜：感觉不应该只有这点力量...")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"由于妮雅娜未获取凤焰之心，此次无法获取真正的进阶，个人进阶“熔岩核心的力量”任务失败..")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCZ takes nothing returns nothing
set BSp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BSp,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BSp,Condition(function DCX))
call TriggerAddAction(BSp,function DCY)
endfunction
function DCa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DCb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($49303731,GetRectCenter(KT))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCc takes nothing returns nothing
set BSq=CreateTrigger()
call Bi7(BSq,KT)
call TriggerAddCondition(BSq,Condition(function DCa))
call TriggerAddAction(BSq,function DCb)
endfunction
function DCd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DCe takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(PC))
endfunction
function DCf takes nothing returns nothing
set BSr=CreateTrigger()
call Bi7(BSr,PE)
call TriggerAddCondition(BSr,Condition(function DCd))
call TriggerAddAction(BSr,function DCe)
endfunction
function DCg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DCh takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(PD))
endfunction
function DCi takes nothing returns nothing
set BSs=CreateTrigger()
call Bi7(BSs,PB)
call TriggerAddCondition(BSs,Condition(function DCg))
call TriggerAddAction(BSs,function DCh)
endfunction
function DCj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DCk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(PG),bj_UNIT_FACING)
endfunction
function DCl takes nothing returns nothing
set BSt=CreateTrigger()
call Bi7(BSt,PF)
call TriggerAddCondition(BSt,Condition(function DCj))
call TriggerAddAction(BSt,function DCk)
endfunction
function DCm takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dZ)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(12.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PH)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dZ)
set i8=GetRandomLocInRect(PH)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dZ)
set i8=GetRandomLocInRect(PH)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dZ)
set i8=GetRandomLocInRect(PH)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dZ)
set i8=GetRandomLocInRect(PH)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dZ)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCn takes nothing returns nothing
set BSu=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BSu,1.)
call TriggerAddAction(BSu,function DCm)
endfunction
function DCo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(db)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(12.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PK)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),db)
set i8=GetRandomLocInRect(PK)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),db)
set i8=GetRandomLocInRect(PK)
call CreateNUnitsAtLoc(1,$6E303432,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),db)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCp takes nothing returns nothing
set BSw=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BSw,1.)
call TriggerAddAction(BSw,function DCo)
endfunction
function DCq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(da)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PI)
call CreateNUnitsAtLoc(1,$6E303433,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BSz=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),da)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCr takes nothing returns nothing
set BSy=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BSy,1.)
call TriggerAddAction(BSy,function DCq)
endfunction
function DCs takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(de)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PR)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),de)
set i8=GetRandomLocInRect(PR)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),de)
set i8=GetRandomLocInRect(PR)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),de)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCt takes nothing returns nothing
set BS0=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BS0,1.)
call TriggerAddAction(BS0,function DCs)
endfunction
function DCu takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(df)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PS)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS3=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),df)
set i8=GetRandomLocInRect(PS)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS3=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),df)
set i8=GetRandomLocInRect(PS)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS3=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),df)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCv takes nothing returns nothing
set BS2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BS2,1.)
call TriggerAddAction(BS2,function DCu)
endfunction
function DCw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dg)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS5=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dg)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS5=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dg)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS5=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dg)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303434,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS5=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dg)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCx takes nothing returns nothing
set BS4=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BS4,1.)
call TriggerAddAction(BS4,function DCw)
endfunction
function DCy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dh)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS7=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dh)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS7=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dh)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS7=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dh)
set i8=GetRandomLocInRect(PT)
call CreateNUnitsAtLoc(1,$6E303435,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS7=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dh)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DCz takes nothing returns nothing
set BS6=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BS6,1.)
call TriggerAddAction(BS6,function DCy)
endfunction
function DC0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(di)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(PU)
call CreateNUnitsAtLoc(1,$6E303436,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BS9=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),di)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DC1 takes nothing returns nothing
set BS8=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BS8,1.)
call TriggerAddAction(BS8,function DC0)
endfunction
function DC2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DC3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你从前方感受到了无比危险的气息....（注：如无法消灭里面的boss，则无法从里面出来）")
endfunction
function DC4 takes nothing returns nothing
set BTB=CreateTrigger()
call Bi7(BTB,PV)
call TriggerAddCondition(BTB,Condition(function DC2))
call TriggerAddAction(BTB,function DC3)
endfunction
function DC5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(YY)
endfunction
function DC6 takes nothing returns nothing
set BTC=CreateTrigger()
call TriggerRegisterTimerEventSingle(BTC,.1)
call TriggerAddAction(BTC,function DC5)
endfunction
function DC7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DC8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"不知死活。")
call ShowUnitShow(YY)
call UnitAddAbilityBJ($4130325A,YY)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DC9 takes nothing returns nothing
set BTD=CreateTrigger()
call Bi7(BTD,Pa)
call TriggerAddCondition(BTD,Condition(function DC7))
call TriggerAddAction(BTD,function DC8)
endfunction
function DDB takes nothing returns boolean
return GetAttacker()==YY
endfunction
function DDC takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DDD takes nothing returns nothing
call UnitDamageTargetBJ(YY,GetEnumUnit(),315.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DDE takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DDC))
call ForGroupBJ(fP,function DDD)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DDF takes nothing returns nothing
set BTE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BTE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BTE,Condition(function DDB))
call TriggerAddAction(BTE,function DDE)
endfunction
function DDG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DDH takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(PZ))
endfunction
function DDI takes nothing returns nothing
set BTF=CreateTrigger()
call Bi7(BTF,PW)
call TriggerAddCondition(BTF,Condition(function DDG))
call TriggerAddAction(BTF,function DDH)
endfunction
function DDJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DDK takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(PC))
endfunction
function DDL takes nothing returns nothing
set BTG=CreateTrigger()
call Bi7(BTG,PY)
call TriggerAddCondition(BTG,Condition(function DDJ))
call TriggerAddAction(BTG,function DDK)
endfunction
function DDM takes nothing returns nothing
call DisableTrigger(BTG)
endfunction
function DDN takes nothing returns nothing
set BTH=CreateTrigger()
call TriggerRegisterTimerEventSingle(BTH,.1)
call TriggerAddAction(BTH,function DDM)
endfunction
function DDO takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Pa),true)
endfunction
function DDP takes nothing returns nothing
call UnitAddAbilityBJ($41304D38,GetEnumUnit())
endfunction
function DDQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BTJ)
call EnableTrigger(BTG)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家.")
call ForGroupBJ(bJ,function DDO)
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得2000元和10点全属性")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function DDP)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DDR takes nothing returns nothing
set BTI=CreateTrigger()
call TriggerRegisterUnitEvent(BTI,YY,EVENT_UNIT_DEATH)
call TriggerAddAction(BTI,function DDQ)
endfunction
function DDS takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(YY)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(YY)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(YY)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(YY)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(YY)
call CreateNUnitsAtLoc(1,$6830344A,GetOwningPlayer(YY),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BTL=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(YY)
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitManaBJ(YY,0)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(Pa)
call IssuePointOrderLoc(YY,"patrol",i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DDT takes nothing returns nothing
set BTK=CreateTrigger()
call TriggerRegisterUnitManaEvent(BTK,YY,GREATER_THAN_OR_EQUAL,3000.)
call TriggerAddAction(BTK,function DDS)
endfunction
function DDU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41304D59,YY)
call EnableTrigger(BTJ)
endfunction
function DDV takes nothing returns nothing
set BTM=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BTM,YY,LESS_THAN_OR_EQUAL,50000.)
call TriggerAddAction(BTM,function DDU)
endfunction
function DDW takes nothing returns nothing
call IssueImmediateOrder(YY,"locustswarm")
endfunction
function DDX takes nothing returns nothing
set BTJ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BTJ,1.)
call TriggerAddAction(BTJ,function DDW)
endfunction
function DDY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BTJ)
endfunction
function DDZ takes nothing returns nothing
set BTN=CreateTrigger()
call TriggerRegisterTimerEventSingle(BTN,.1)
call TriggerAddAction(BTN,function DDY)
endfunction
function DDa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DDb takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetOwningPlayer(GetTriggerUnit()))
endfunction
function DDc takes nothing returns nothing
set yG=CreateTrigger()
call Bi7(yG,TR)
call TriggerAddCondition(yG,Condition(function DDa))
call TriggerAddAction(yG,function DDb)
endfunction
function DDd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DDe takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetOwningPlayer(GetTriggerUnit()))
endfunction
function DDf takes nothing returns nothing
set yH=CreateTrigger()
call Bi8(yH,TR)
call TriggerAddCondition(yH,Condition(function DDd))
call TriggerAddAction(yH,function DDe)
endfunction
function DDg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DDh takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"平民：如果能有10个蜘蛛壳、5个巨型蜘蛛尖牙就好了。")
endfunction
function DDi takes nothing returns nothing
set BTO=CreateTrigger()
call Bi7(BTO,PJ)
call TriggerAddCondition(BTO,Condition(function DDg))
call TriggerAddAction(BTO,function DDh)
endfunction
function DDj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304638)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304638))>=5 and Bi9(GetTriggerUnit(),$49304637)==true and GetItemCharges(Bio(GetTriggerUnit(),$49304637))==10
endfunction
function DDk takes nothing returns nothing
call UnitAddAbilityBJ($41304D34,GetEnumUnit())
endfunction
function DDl takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BTO)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304638))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call RemoveItem(Bio(GetTriggerUnit(),$49304637))
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"平民：没想到居然真有人能搜集到。")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家增加1500金币和全属性5点")
call AdjustPlayerStateBJ(1500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function DDk)
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"平民：既然你这么有实力，相信你一定能前往更深处，往洞穴第一层右下角蓝火处进入更深处。（注：地穴领主boss位于第三层红色火焰处进入，一旦进入，则需消灭boss才能出来，建议自身有一定实力再进入）。")
call DisableTrigger(BTQ)
call EnableTrigger(BTR)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DDm takes nothing returns nothing
set BTP=CreateTrigger()
call Bi7(BTP,PJ)
call TriggerAddCondition(BTP,Condition(function DDj))
call TriggerAddAction(BTP,function DDl)
endfunction
function DDn takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303432
endfunction
function DDo takes nothing returns nothing
if GetRandomInt(1,100)<=75 then
call DoNothing()
else
if GetRandomInt(1,100)<=35 then
call CreateItemLoc($49304637,GetUnitLoc(GetDyingUnit()))
else
if GetRandomInt(1,100)<=35 then
call CreateItemLoc($49304641,GetUnitLoc(GetDyingUnit()))
else
if GetRandomInt(1,100)<=35 then
call CreateItemLoc($49304642,GetUnitLoc(GetDyingUnit()))
else
if GetRandomInt(1,100)<=35 then
call CreateItemLoc($49304639,GetUnitLoc(GetDyingUnit()))
else
call DoNothing()
endif
endif
endif
endif
endif
endfunction
function DDp takes nothing returns nothing
set BTS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BTS,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BTS,Condition(function DDn))
call TriggerAddAction(BTS,function DDo)
endfunction
function DDq takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303433
endfunction
function DDr takes nothing returns nothing
call CreateItemLoc($49304638,GetUnitLoc(GetDyingUnit()))
call CreateItemLoc($49304637,GetUnitLoc(GetDyingUnit()))
endfunction
function DDs takes nothing returns nothing
set BTT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BTT,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BTT,Condition(function DDq))
call TriggerAddAction(BTT,function DDr)
endfunction
function DDt takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303436
endfunction
function DDu takes nothing returns nothing
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930464E,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930464D,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930464C,i8)
call RemoveLocation(i8)
endif
endif
endfunction
function DDv takes nothing returns nothing
set BTU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BTU,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BTU,Condition(function DDt))
call TriggerAddAction(BTU,function DDu)
endfunction
function DDw takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304641)==true and Bi9(GetTriggerUnit(),$49304642)==true and Bi9(GetTriggerUnit(),$49304639)==true
endfunction
function DDx takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49304641))
call RemoveItem(Bio(GetTriggerUnit(),$49304642))
call RemoveItem(Bio(GetTriggerUnit(),$49304639))
call UnitAddItemByIdSwapped($49304643,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DDy takes nothing returns nothing
set BTV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BTV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BTV,Condition(function DDw))
call TriggerAddAction(BTV,function DDx)
endfunction
function DDz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DD0 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"目前你暂时无法进入")
endfunction
function DD1 takes nothing returns nothing
set BTQ=CreateTrigger()
call Bi7(BTQ,PN)
call TriggerAddCondition(BTQ,Condition(function DDz))
call TriggerAddAction(BTQ,function DD0)
endfunction
function DD2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DD3 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(PP))
endfunction
function DD4 takes nothing returns nothing
set BTR=CreateTrigger()
call Bi7(BTR,PN)
call TriggerAddCondition(BTR,Condition(function DD2))
call TriggerAddAction(BTR,function DD3)
endfunction
function DD5 takes nothing returns nothing
call DisableTrigger(BTR)
endfunction
function DD6 takes nothing returns nothing
set BTW=CreateTrigger()
call TriggerRegisterTimerEventSingle(BTW,.1)
call TriggerAddAction(BTW,function DD5)
endfunction
function DD7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DD8 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(PQ))
endfunction
function DD9 takes nothing returns nothing
set BTX=CreateTrigger()
call Bi7(BTX,PO)
call TriggerAddCondition(BTX,Condition(function DD7))
call TriggerAddAction(BTX,function DD8)
endfunction
function DEB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DEC takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：愿月之女神保佑你....")
endfunction
function DED takes nothing returns nothing
set BTY=CreateTrigger()
call Bi7(BTY,Gz)
call TriggerAddCondition(BTY,Condition(function DEB))
call TriggerAddAction(BTY,function DEC)
endfunction
function DEE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function DEF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call TriggerSleepAction(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BTY)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：你是......梅茜？")
call Biw(false)
call TriggerSleepAction(3.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：是的....莉尔娅大祭祀....好久不见....")
call TriggerSleepAction(4.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：噢...我的姐妹...你怎么会在这里....")
call TriggerSleepAction(4.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：月神殿让我来这里观察一些异常的事情........但是我的几个姐妹发生了点意外....我现在一个人有点难回去.......")
call TriggerSleepAction(5.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：愿月之女神为死者安度.....")
call TriggerSleepAction(3.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：愿她们的灵魂超生...我的姐妹...")
call TriggerSleepAction(3.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：你如果要回去的话...我可以带你一起走.....我这边也正好有些事情要回去交代.....")
call TriggerSleepAction(5.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：不过我这边暂时有些事情要处理.....等我这边处理完我就会来找你......")
call TriggerSleepAction(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：愿月神祝福你...我的姐妹....")
call TriggerSleepAction(3.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"等一切都准备完了再来找梅茜吧......")
call EnableTrigger(BTa)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEG takes nothing returns nothing
set BTZ=CreateTrigger()
call Bi7(BTZ,Gz)
call TriggerAddCondition(BTZ,Condition(function DEE))
call TriggerAddAction(BTZ,function DEF)
endfunction
function DEH takes nothing returns boolean
return bu==true and IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function DEI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：莉尔娅大祭祀....你准备好了吗...？")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：一切就绪...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：那我们即刻出发吧.......")
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"护送梅茜至月精灵-艾瑞镇...（进入艾瑞森林开启护送任务）")
call SetUnitPositionLoc(W9,GetRectCenter(H1))
call SetUnitInvulnerable(W9,false)
set cw=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEJ takes nothing returns nothing
set BTa=CreateTrigger()
call Bi7(BTa,Gz)
call TriggerAddCondition(BTa,Condition(function DEH))
call TriggerAddAction(BTa,function DEI)
endfunction
function DEK takes nothing returns nothing
call DisableTrigger(BTa)
endfunction
function DEL takes nothing returns nothing
set BTb=CreateTrigger()
call TriggerAddAction(BTb,function DEK)
endfunction
function DEM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call GroupAddUnitSimple(W9,b5)
endfunction
function DEN takes nothing returns nothing
set BTc=CreateTrigger()
call TriggerRegisterTimerEventSingle(BTc,.1)
call TriggerAddAction(BTc,function DEM)
endfunction
function DEO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and cw==true
endfunction
function DEP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(W9,"patrol",GetRectCenter(Mx))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEQ takes nothing returns nothing
set BTd=CreateTrigger()
call Bi7(BTd,IO)
call TriggerAddCondition(BTd,Condition(function DEO))
call TriggerAddAction(BTd,function DEP)
endfunction
function DER takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function DES takes nothing returns nothing
call UnitAddAbilityBJ($4130475A,GetEnumUnit())
endfunction
function DET takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：感谢你们的帮助，这是我的奖励。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家奖励3000钱，全属性+10，并奖励月之宝物和木灵雕LV3在艾瑞镇门口。")
call ForGroupBJ(bJ,function DES)
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call CreateItemLoc($49304250,GetRectCenter(OF))
call CreateItemLoc($49304257,GetRectCenter(OF))
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜：因事务紧急，我必须先回月精灵圣都，后会有期。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEU takes nothing returns nothing
set BTe=CreateTrigger()
call Bi7(BTe,Mx)
call TriggerAddCondition(BTe,Condition(function DER))
call TriggerAddAction(BTe,function DET)
endfunction
function DEV takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304250)==true and Bi9(GetTriggerUnit(),$49303830)==true
endfunction
function DEW takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303830))
call RemoveItem(Bio(GetTriggerUnit(),$49304250))
call UnitAddItemByIdSwapped($49304251,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DEX takes nothing returns nothing
set BTf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BTf,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BTf,Condition(function DEV))
call TriggerAddAction(BTf,function DEW)
endfunction
function DEY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"梅茜已经死亡，该护送任务失败。")
endfunction
function DEZ takes nothing returns nothing
set BTg=CreateTrigger()
call TriggerRegisterUnitEvent(BTg,W9,EVENT_UNIT_DEATH)
call TriggerAddAction(BTg,function DEY)
endfunction
function DEa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DEb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"欧普克：可以帮我弄一桶水来吗？谢谢...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线欧普克的水开启...")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"欧普克的请求","给欧普克一桶水吧","ReplaceableTextures\\CommandButtons\\BTNVillagerMan.blp")
set BTi=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEc takes nothing returns nothing
set BTh=CreateTrigger()
call Bi7(BTh,HV)
call TriggerAddCondition(BTh,Condition(function DEa))
call TriggerAddAction(BTh,function DEb)
endfunction
function DEd takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303135)==true
endfunction
function DEe takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303135))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"欧普克：我要的是一桶，不是一瓶，不过算了，聊胜于无，但是这样的话我是不会给你奖励的")
endfunction
function DEf takes nothing returns nothing
set BTj=CreateTrigger()
call Bi7(BTj,HV)
call TriggerAddCondition(BTj,Condition(function DEd))
call TriggerAddAction(BTj,function DEe)
endfunction
function DEg takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303136)==true or Bi9(GetTriggerUnit(),$49304A35)==true
endfunction
function DEh takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BTj)
call RemoveItem(Bio(GetTriggerUnit(),$49303136))
call RemoveItem(Bio(GetTriggerUnit(),$49304A35))
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"欧普克：你真厉害.")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得物品：善意碎片 2")
call CreateItemLoc($4930344B,GetRectCenter(HV))
call EnableTrigger(BTl)
call QuestSetCompleted(BTi,true)
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"欧普克：你知道吗，色尔根要塞和那边虫洞里都有许多难以寻觅的东西，听我慢慢给你讲。")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"妮雅娜个人相关：火焰之剑LV3及LV4、烈皇盾、烈焰魔衣（初）、圣焰之心、统凰火莲、灾厄之石（完整）")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"西菲尔个人相关：镰刀LV3及LV4、锐电套装、风驰翡翠、异变之源→净化之源")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"莉尔娅个人相关：月之护甲、风佑祝福")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"艾布茹个人相关：牧师法衣（中）、牧师法靴（中）、苍生之瓶LV3")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"海族武姬个人专属：碧蓝灵戟突破之玉、碧澜灵羽甲-紫韵")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"通用宝物：拉摩尔之魂-碎片3、?????（二次变异）、岩溶套、火灵灵、水灵灵、恶意之力、巨力铠甲、诅咒之力（可进化死灵面具-死亡）、蝙蝠套、地穴蜘蛛套-恶意之力、沉沦之石（用于进化沉沦的意志）、头环超级强化石、黑暗术士法杖、残魂符、解印之符")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEi takes nothing returns nothing
set BTk=CreateTrigger()
call Bi7(BTk,HV)
call TriggerAddCondition(BTk,Condition(function DEg))
call TriggerAddAction(BTk,function DEh)
endfunction
function DEj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DEk takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"欧普克：你真厉害..")
endfunction
function DEl takes nothing returns nothing
set BTl=CreateTrigger()
call Bi7(BTl,HV)
call TriggerAddCondition(BTl,Condition(function DEj))
call TriggerAddAction(BTl,function DEk)
endfunction
function DEm takes nothing returns nothing
call DisableTrigger(BTl)
endfunction
function DEn takes nothing returns nothing
set BTm=CreateTrigger()
call TriggerAddAction(BTm,function DEm)
endfunction
function DEo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DEp takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莎莎：真麻烦...我家下水道最近好像堵了...日常生活被折腾的很不方便....")
call TriggerSleepAction(4.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莎莎：如果你能帮我去下水道里解决一下就好了....")
call TriggerSleepAction(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线疏通下水道开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"疏通下水道","帮助莎莎疏通下水道吧","ReplaceableTextures\\CommandButtons\\BTNRockGolem.blp")
set BTo=GetLastCreatedQuestBJ()
call TriggerSleepAction(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莎莎：下水道入口就在我上方蓝火处..阿..对了...下水道里的路比较谜...你小心一点..")
call EnableTrigger(BTp)
call SetDoodadAnimationRectBJ("show",$594F7232,JY)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DEq takes nothing returns nothing
set BTn=CreateTrigger()
call Bi7(BTn,HW)
call TriggerAddCondition(BTn,Condition(function DEo))
call TriggerAddAction(BTn,function DEp)
endfunction
function DEr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DEs takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DEt takes nothing returns nothing
set BTp=CreateTrigger()
call Bi7(BTp,JY)
call TriggerAddCondition(BTp,Condition(function DEr))
call TriggerAddAction(BTp,function DEs)
endfunction
function DEu takes nothing returns nothing
call DisableTrigger(BTp)
endfunction
function DEv takes nothing returns nothing
set BTq=CreateTrigger()
call TriggerAddAction(BTq,function DEu)
endfunction
function DEw takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,JY)
endfunction
function DEx takes nothing returns nothing
set BTr=CreateTrigger()
call TriggerRegisterTimerEventSingle(BTr,.1)
call TriggerAddAction(BTr,function DEw)
endfunction
function DEy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DEz takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(JZ))
endfunction
function DE0 takes nothing returns nothing
set BTs=CreateTrigger()
call Bi7(BTs,Ja)
call TriggerAddCondition(BTs,Condition(function DEy))
call TriggerAddAction(BTs,function DEz)
endfunction
function DE1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DE2 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jf))
endfunction
function DE3 takes nothing returns nothing
set BTt=CreateTrigger()
call Bi7(BTt,Jc)
call TriggerAddCondition(BTt,Condition(function DE1))
call TriggerAddAction(BTt,function DE2)
endfunction
function DE4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DE5 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DE6 takes nothing returns nothing
set BTu=CreateTrigger()
call Bi7(BTu,Jd)
call TriggerAddCondition(BTu,Condition(function DE4))
call TriggerAddAction(BTu,function DE5)
endfunction
function DE7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DE8 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jg))
endfunction
function DE9 takes nothing returns nothing
set BTv=CreateTrigger()
call Bi7(BTv,Je)
call TriggerAddCondition(BTv,Condition(function DE7))
call TriggerAddAction(BTv,function DE8)
endfunction
function DFB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFC takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DFD takes nothing returns nothing
set BTw=CreateTrigger()
call Bi7(BTw,Jh)
call TriggerAddCondition(BTw,Condition(function DFB))
call TriggerAddAction(BTw,function DFC)
endfunction
function DFE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFF takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DFG takes nothing returns nothing
set BTx=CreateTrigger()
call Bi7(BTx,Jk)
call TriggerAddCondition(BTx,Condition(function DFE))
call TriggerAddAction(BTx,function DFF)
endfunction
function DFH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFI takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jf))
endfunction
function DFJ takes nothing returns nothing
set BTy=CreateTrigger()
call Bi7(BTy,Jj)
call TriggerAddCondition(BTy,Condition(function DFH))
call TriggerAddAction(BTy,function DFI)
endfunction
function DFK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFL takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jl))
endfunction
function DFM takes nothing returns nothing
set BTz=CreateTrigger()
call Bi7(BTz,Ji)
call TriggerAddCondition(BTz,Condition(function DFK))
call TriggerAddAction(BTz,function DFL)
endfunction
function DFN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFO takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jg))
endfunction
function DFP takes nothing returns nothing
set BT0=CreateTrigger()
call Bi7(BT0,Jm)
call TriggerAddCondition(BT0,Condition(function DFN))
call TriggerAddAction(BT0,function DFO)
endfunction
function DFQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFR takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(JZ))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莎莎：我一看就知道你迷路了...")
endfunction
function DFS takes nothing returns nothing
set BT1=CreateTrigger()
call Bi7(BT1,Jn)
call TriggerAddCondition(BT1,Condition(function DFQ))
call TriggerAddAction(BT1,function DFR)
endfunction
function DFT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFU takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DFV takes nothing returns nothing
set BT2=CreateTrigger()
call Bi7(BT2,Jo)
call TriggerAddCondition(BT2,Condition(function DFT))
call TriggerAddAction(BT2,function DFU)
endfunction
function DFW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFX takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DFY takes nothing returns nothing
set BT3=CreateTrigger()
call Bi7(BT3,Jq)
call TriggerAddCondition(BT3,Condition(function DFW))
call TriggerAddAction(BT3,function DFX)
endfunction
function DFZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFa takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Js))
endfunction
function DFb takes nothing returns nothing
set BT4=CreateTrigger()
call Bi7(BT4,Jr)
call TriggerAddCondition(BT4,Condition(function DFZ))
call TriggerAddAction(BT4,function DFa)
endfunction
function DFc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFd takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DFe takes nothing returns nothing
set BT5=CreateTrigger()
call Bi7(BT5,Jt)
call TriggerAddCondition(BT5,Condition(function DFc))
call TriggerAddAction(BT5,function DFd)
endfunction
function DFf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFg takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jl))
endfunction
function DFh takes nothing returns nothing
set BT6=CreateTrigger()
call Bi7(BT6,Ju)
call TriggerAddCondition(BT6,Condition(function DFf))
call TriggerAddAction(BT6,function DFg)
endfunction
function DFi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFj takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Js))
endfunction
function DFk takes nothing returns nothing
set BT7=CreateTrigger()
call Bi7(BT7,Jw)
call TriggerAddCondition(BT7,Condition(function DFi))
call TriggerAddAction(BT7,function DFj)
endfunction
function DFl takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFm takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DFn takes nothing returns nothing
set BT8=CreateTrigger()
call Bi7(BT8,Jx)
call TriggerAddCondition(BT8,Condition(function DFl))
call TriggerAddAction(BT8,function DFm)
endfunction
function DFo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFp takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jy))
endfunction
function DFq takes nothing returns nothing
set BT9=CreateTrigger()
call Bi7(BT9,Jv)
call TriggerAddCondition(BT9,Condition(function DFo))
call TriggerAddAction(BT9,function DFp)
endfunction
function DFr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFs takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Js))
endfunction
function DFt takes nothing returns nothing
set BUB=CreateTrigger()
call Bi7(BUB,Jz)
call TriggerAddCondition(BUB,Condition(function DFr))
call TriggerAddAction(BUB,function DFs)
endfunction
function DFu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFv takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DFw takes nothing returns nothing
set BUC=CreateTrigger()
call Bi7(BUC,J0)
call TriggerAddCondition(BUC,Condition(function DFu))
call TriggerAddAction(BUC,function DFv)
endfunction
function DFx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DFy takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jl))
endfunction
function DFz takes nothing returns nothing
set BUD=CreateTrigger()
call Bi7(BUD,J1)
call TriggerAddCondition(BUD,Condition(function DFx))
call TriggerAddAction(BUD,function DFy)
endfunction
function DF0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DF1 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DF2 takes nothing returns nothing
set BUE=CreateTrigger()
call Bi7(BUE,J2)
call TriggerAddCondition(BUE,Condition(function DF0))
call TriggerAddAction(BUE,function DF1)
endfunction
function DF3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DF4 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(J4))
endfunction
function DF5 takes nothing returns nothing
set BUF=CreateTrigger()
call Bi7(BUF,J3)
call TriggerAddCondition(BUF,Condition(function DF3))
call TriggerAddAction(BUF,function DF4)
endfunction
function DF6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DF7 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jg))
endfunction
function DF8 takes nothing returns nothing
set BUG=CreateTrigger()
call Bi7(BUG,J5)
call TriggerAddCondition(BUG,Condition(function DF6))
call TriggerAddAction(BUG,function DF7)
endfunction
function DF9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGB takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jl))
endfunction
function DGC takes nothing returns nothing
set BUH=CreateTrigger()
call Bi7(BUH,J6)
call TriggerAddCondition(BUH,Condition(function DF9))
call TriggerAddAction(BUH,function DGB)
endfunction
function DGD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGE takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DGF takes nothing returns nothing
set BUI=CreateTrigger()
call Bi7(BUI,J7)
call TriggerAddCondition(BUI,Condition(function DGD))
call TriggerAddAction(BUI,function DGE)
endfunction
function DGG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGH takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DGI takes nothing returns nothing
set BUJ=CreateTrigger()
call Bi7(BUJ,J8)
call TriggerAddCondition(BUJ,Condition(function DGG))
call TriggerAddAction(BUJ,function DGH)
endfunction
function DGJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGK takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KB))
endfunction
function DGL takes nothing returns nothing
set BUK=CreateTrigger()
call Bi7(BUK,KE)
call TriggerAddCondition(BUK,Condition(function DGJ))
call TriggerAddAction(BUK,function DGK)
endfunction
function DGM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGN takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jg))
endfunction
function DGO takes nothing returns nothing
set BUL=CreateTrigger()
call Bi7(BUL,KC)
call TriggerAddCondition(BUL,Condition(function DGM))
call TriggerAddAction(BUL,function DGN)
endfunction
function DGP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGQ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Js))
endfunction
function DGR takes nothing returns nothing
set BUM=CreateTrigger()
call Bi7(BUM,KD)
call TriggerAddCondition(BUM,Condition(function DGP))
call TriggerAddAction(BUM,function DGQ)
endfunction
function DGS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGT takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(J4))
endfunction
function DGU takes nothing returns nothing
set BUN=CreateTrigger()
call Bi7(BUN,KG)
call TriggerAddCondition(BUN,Condition(function DGS))
call TriggerAddAction(BUN,function DGT)
endfunction
function DGV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGW takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jp))
endfunction
function DGX takes nothing returns nothing
set BUO=CreateTrigger()
call Bi7(BUO,KF)
call TriggerAddCondition(BUO,Condition(function DGV))
call TriggerAddAction(BUO,function DGW)
endfunction
function DGY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303658)==false
endfunction
function DGZ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jg))
endfunction
function DGa takes nothing returns nothing
set BUP=CreateTrigger()
call Bi7(BUP,KH)
call TriggerAddCondition(BUP,Condition(function DGY))
call TriggerAddAction(BUP,function DGZ)
endfunction
function DGb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303658)==true
endfunction
function DGc takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KI))
endfunction
function DGd takes nothing returns nothing
set BUQ=CreateTrigger()
call Bi7(BUQ,KH)
call TriggerAddCondition(BUQ,Condition(function DGb))
call TriggerAddAction(BUQ,function DGc)
endfunction
function DGe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGf takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KL))
endfunction
function DGg takes nothing returns nothing
set BUR=CreateTrigger()
call Bi7(BUR,KJ)
call TriggerAddCondition(BUR,Condition(function DGe))
call TriggerAddAction(BUR,function DGf)
endfunction
function DGh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGi takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DGj takes nothing returns nothing
set BUS=CreateTrigger()
call Bi7(BUS,KK)
call TriggerAddCondition(BUS,Condition(function DGh))
call TriggerAddAction(BUS,function DGi)
endfunction
function DGk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGl takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KO))
endfunction
function DGm takes nothing returns nothing
set BUT=CreateTrigger()
call Bi7(BUT,KM)
call TriggerAddCondition(BUT,Condition(function DGk))
call TriggerAddAction(BUT,function DGl)
endfunction
function DGn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGo takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Jb))
endfunction
function DGp takes nothing returns nothing
set BUU=CreateTrigger()
call Bi7(BUU,KN)
call TriggerAddCondition(BUU,Condition(function DGn))
call TriggerAddAction(BUU,function DGo)
endfunction
function DGq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGr takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(J9))
endfunction
function DGs takes nothing returns nothing
set BUV=CreateTrigger()
call Bi7(BUV,KP)
call TriggerAddCondition(BUV,Condition(function DGq))
call TriggerAddAction(BUV,function DGr)
endfunction
function DGt takes nothing returns nothing
call SetDestructableInvulnerable(T4,true)
endfunction
function DGu takes nothing returns nothing
set BUW=CreateTrigger()
call TriggerAddAction(BUW,function DGt)
endfunction
function DGv takes nothing returns nothing
call SetDestructableInvulnerable(T5,true)
endfunction
function DGw takes nothing returns nothing
set BUX=CreateTrigger()
call TriggerAddAction(BUX,function DGv)
endfunction
function DGx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DGy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveDestructable(T4)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"背后似乎有一股庞大的杀气..")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetDestructableInvulnerable(T5,false)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DGz takes nothing returns nothing
set BUY=CreateTrigger()
call Bi7(BUY,MJ)
call TriggerAddCondition(BUY,Condition(function DGx))
call TriggerAddAction(BUY,function DGy)
endfunction
function DG0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateItemLoc($4930384F,GetRectCenter(MJ))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(XO)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DG1 takes nothing returns nothing
set BUZ=CreateTrigger()
call TriggerRegisterDeathEvent(BUZ,T5)
call TriggerAddAction(BUZ,function DG0)
endfunction
function DG2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(XO)
endfunction
function DG3 takes nothing returns nothing
set BUa=CreateTrigger()
call TriggerRegisterTimerEventSingle(BUa,.1)
call TriggerAddAction(BUa,function DG2)
endfunction
function DG4 takes nothing returns boolean
return GetAttacker()==XO
endfunction
function DG5 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DG6 takes nothing returns nothing
call UnitDamageTargetBJ(XO,GetEnumUnit(),400.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DG7 takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DG5))
call ForGroupBJ(fP,function DG6)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DG8 takes nothing returns nothing
set BUb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BUb,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BUb,Condition(function DG4))
call TriggerAddAction(BUb,function DG7)
endfunction
function DG9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303839)==true
endfunction
function DHB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303839))
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T4)
endfunction
function DHC takes nothing returns nothing
set BUc=CreateTrigger()
call Bi7(BUc,MK)
call TriggerAddCondition(BUc,Condition(function DG9))
call TriggerAddAction(BUc,function DHB)
endfunction
function DHD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303851)==true
endfunction
function DHE takes nothing returns nothing
call UnitAddAbilityBJ($41304541,GetEnumUnit())
endfunction
function DHF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303851))
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetUnitName(GetTriggerUnit())+"：下水道不通的问题我们已经帮你清理了。"+"")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莎莎：那真是太好了，感谢你们。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得3500金币，并全属性+8")
call AdjustPlayerStateBJ(3500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function DHE)
call QuestSetCompleted(BTo,true)
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莎莎：还有这个东西..我相信你们应该会有人需要..")
set i8=GetRectCenter(JZ)
call CreateItemLoc($4930495A,i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHG takes nothing returns nothing
set BUd=CreateTrigger()
call Bi7(BUd,HW)
call TriggerAddCondition(BUd,Condition(function DHD))
call TriggerAddAction(BUd,function DHF)
endfunction
function DHH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49303851,GetUnitLoc(XO))
endfunction
function DHI takes nothing returns nothing
set BUe=CreateTrigger()
call TriggerRegisterUnitEvent(BUe,XO,EVENT_UNIT_DEATH)
call TriggerAddAction(BUe,function DHH)
endfunction
function DHJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DHK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"朵尔莉：真是讨厌，上次去月森林采树果的时候弄丢了我心爱的发簪。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"朵尔莉：如果你能帮我找到，我就给你奖励。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务朵尔莉弄丢的发簪开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"朵尔莉的发簪","在艾瑞森林找找看哪里有朵尔莉弄丢的发簪吧","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BUg=GetLastCreatedQuestBJ()
call EnableTrigger(BUh)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHL takes nothing returns nothing
set BUf=CreateTrigger()
call Bi7(BUf,M7)
call TriggerAddCondition(BUf,Condition(function DHJ))
call TriggerAddAction(BUf,function DHK)
endfunction
function DHM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DHN takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetItemVisibleBJ(true,UL)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHO takes nothing returns nothing
set BUi=CreateTrigger()
call Bi7(BUi,NH)
call TriggerAddCondition(BUi,Condition(function DHM))
call TriggerAddAction(BUi,function DHN)
endfunction
function DHP takes nothing returns nothing
call SetItemVisibleBJ(false,UL)
call DisableTrigger(BUh)
endfunction
function DHQ takes nothing returns nothing
set BUj=CreateTrigger()
call TriggerAddAction(BUj,function DHP)
endfunction
function DHR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303948)==true
endfunction
function DHS takes nothing returns nothing
call UnitAddAbilityBJ($41303542,GetEnumUnit())
endfunction
function DHT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303948))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"朵尔莉：没错了这就是我的发簪")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奖励所有玩家3000钱，全属性+5")
call ForGroupBJ(bJ,function DHS)
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"朵尔莉：顺便这个也送给你们吧....使用正确的话应该对你们有很大的帮助....")
call CreateItemLoc($49304142,GetRectCenter(NZ))
call QuestSetCompleted(BUg,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHU takes nothing returns nothing
set BUh=CreateTrigger()
call Bi7(BUh,M7)
call TriggerAddCondition(BUh,Condition(function DHR))
call TriggerAddAction(BUh,function DHT)
endfunction
function DHV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DHW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"爱美迩：听说艾瑞生命草异常难寻，如果你能帮我找到的话，我一定好好奖励你。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务爱美迩的艾瑞生命草开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"爱美迩的艾瑞生命草","艾瑞生命草，究竟在哪里呢","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BUl=GetLastCreatedQuestBJ()
call EnableTrigger(BUm)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHX takes nothing returns nothing
set BUk=CreateTrigger()
call Bi7(BUk,M8)
call TriggerAddCondition(BUk,Condition(function DHV))
call TriggerAddAction(BUk,function DHW)
endfunction
function DHY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DHZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($49304232,GetRectCenter(Nq))
endfunction
function DHa takes nothing returns nothing
set BUn=CreateTrigger()
call Bi7(BUn,Nq)
call TriggerAddCondition(BUn,Condition(function DHY))
call TriggerAddAction(BUn,function DHZ)
endfunction
function DHb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304232)==true
endfunction
function DHc takes nothing returns nothing
call UnitAddAbilityBJ($41304749,GetEnumUnit())
endfunction
function DHd takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"爱美迩：谢谢你")
call RemoveItem(Bio(GetTriggerUnit(),$49304232))
call QuestSetCompleted(BUl,true)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家奖励3000钱，全属性+5")
call ForGroupBJ(bJ,function DHc)
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"获得善意碎片3")
call UnitAddItemByIdSwapped($49304233,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHe takes nothing returns nothing
set BUm=CreateTrigger()
call Bi7(BUm,M8)
call TriggerAddCondition(BUm,Condition(function DHb))
call TriggerAddAction(BUm,function DHd)
endfunction
function DHf takes nothing returns nothing
call DisableTrigger(BUm)
endfunction
function DHg takes nothing returns nothing
set BUo=CreateTrigger()
call TriggerAddAction(BUo,function DHf)
endfunction
function DHh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DHi takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：月精灵向往和平，但也不怕武力")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：最近外面的熊怪和巨魔实在太猖狂了，请你帮我找月圣钢助我打造武器，我会给予你重酬")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务诺德米寻找月圣钢材料开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"诺德米的月圣钢","帮诺德米寻找月圣钢","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BUq=GetLastCreatedQuestBJ()
call EnableTrigger(BUr)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHj takes nothing returns nothing
set BUp=CreateTrigger()
call Bi7(BUp,M9)
call TriggerAddCondition(BUp,Condition(function DHh))
call TriggerAddAction(BUp,function DHi)
endfunction
function DHk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DHl takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(NG))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有一股神秘力量将你阻挡在外")
endfunction
function DHm takes nothing returns nothing
set BUs=CreateTrigger()
call Bi7(BUs,NF)
call TriggerAddCondition(BUs,Condition(function DHk))
call TriggerAddAction(BUs,function DHl)
endfunction
function DHn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303947)==true
endfunction
function DHo takes nothing returns nothing
call UnitAddAbilityBJ($41303836,GetEnumUnit())
endfunction
function DHp takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303947))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：没错....就是要这个")
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家奖励3000钱，全属性+5")
call ForGroupBJ(bJ,function DHo)
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：这个东西就送给你们了。")
call UnitAddItemByIdSwapped($49304149,GetTriggerUnit())
call TriggerSleepAction(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务诺德米的月圣钢完成")
call QuestSetCompleted(BUq,true)
set eV=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHq takes nothing returns nothing
set BUr=CreateTrigger()
call Bi7(BUr,M9)
call TriggerAddCondition(BUr,Condition(function DHn))
call TriggerAddAction(BUr,function DHp)
endfunction
function DHr takes nothing returns nothing
call DisableTrigger(BUr)
endfunction
function DHs takes nothing returns nothing
set BUt=CreateTrigger()
call TriggerAddAction(BUt,function DHr)
endfunction
function DHt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304142)==true or Bi9(GetTriggerUnit(),$49304443)==true or Bi9(GetTriggerUnit(),$49304445)==true or Bi9(GetTriggerUnit(),$49304444)==true or Bi9(GetTriggerUnit(),$49304447)==true
endfunction
function DHu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304445))
call RemoveItem(Bio(GetTriggerUnit(),$49304444))
call RemoveItem(Bio(GetTriggerUnit(),$49304447))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里的神秘结界被消除了....")
call DisableTrigger(BUs)
endfunction
function DHv takes nothing returns nothing
set BUu=CreateTrigger()
call Bi7(BUu,NF)
call TriggerAddCondition(BUu,Condition(function DHt))
call TriggerAddAction(BUu,function DHu)
endfunction
function DHw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and eV==true and Bi9(GetTriggerUnit(),$49304933)==true
endfunction
function DHx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：这个面具....")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：我从这个面具上察觉到了不可思议的力量...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：如果你能带给我领主熊爪+领主熊袍+艾瑞红玉+长者面具饰品，再带上这个面具饰品-高级强化，我就能帮你破解这个面具的一部分封印")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务诺德米-奇怪的封印开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"诺德米-奇怪的封印","关于“面具饰品-高级强化”，诺德米表示如果能交给他领主熊爪+领主熊袍+艾瑞红玉+长者面具饰品这四样材料，再带上前述面具饰品，就能解开面具饰品-高级强化的部分力量...","ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set mz=GetLastCreatedQuestBJ()
set eW=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DHy takes nothing returns nothing
set m2=CreateTrigger()
call Bi7(m2,M9)
call TriggerAddCondition(m2,Condition(function DHw))
call TriggerAddAction(m2,function DHx)
endfunction
function DHz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and eW==true and Bi9(GetTriggerUnit(),$49304933)==true and Bi9(GetTriggerUnit(),$49304936)==true and Bi9(GetTriggerUnit(),$49303942)==true and Bi9(GetTriggerUnit(),$49303941)==true and Bi9(GetTriggerUnit(),$49304554)==true
endfunction
function DH0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304933))
call RemoveItem(Bio(GetTriggerUnit(),$49304936))
call RemoveItem(Bio(GetTriggerUnit(),$49303942))
call RemoveItem(Bio(GetTriggerUnit(),$49303941))
call RemoveItem(Bio(GetTriggerUnit(),$49304554))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：好...这样我就可以处理了..")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"诺德米：凭我的能力也只能帮你解除这个面具的一部分封印...这个面具有着不可思议的远古力量...在月精灵圣都一定有能帮到你的高人...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务诺德米-奇怪的封印完成..奖励面具饰品-超级强化，所有玩家获得1500元金钱奖励")
call UnitAddItemByIdSwapped($49304935,GetTriggerUnit())
call AdjustPlayerStateBJ(1500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call QuestSetCompleted(mz,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DH1 takes nothing returns nothing
set m3=CreateTrigger()
call Bi7(m3,M9)
call TriggerAddCondition(m3,Condition(function DHz))
call TriggerAddAction(m3,function DH0)
endfunction
function DH2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DH3 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"威里莫：我需要6个大型巨魔的头颅来研究新的物品，如果你有的话可以给我。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务威里莫的大森林巨魔头颅开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"威里莫的大森林巨魔头颅","威里莫需要大森林巨魔头颅6个","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BUw=GetLastCreatedQuestBJ()
call EnableTrigger(BUx)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DH4 takes nothing returns nothing
set BUv=CreateTrigger()
call Bi7(BUv,NB)
call TriggerAddCondition(BUv,Condition(function DH2))
call TriggerAddAction(BUv,function DH3)
endfunction
function DH5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303933)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303933))==6
endfunction
function DH6 takes nothing returns nothing
call UnitAddAbilityBJ($41304732,GetEnumUnit())
endfunction
function DH7 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303933))
call RemoveItem(Bio(GetTriggerUnit(),$49303933))
call RemoveItem(Bio(GetTriggerUnit(),$49303933))
call RemoveItem(Bio(GetTriggerUnit(),$49303933))
call RemoveItem(Bio(GetTriggerUnit(),$49303933))
call RemoveItem(Bio(GetTriggerUnit(),$49303933))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"威里莫：谢谢你...这是我给你的奖励")
call QuestSetCompleted(BUw,true)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家奖励3000钱，全属性+5")
call ForGroupBJ(bJ,function DH6)
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(3.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"威里莫：这个至强头环强化石也送给你们")
call UnitAddItemByIdSwapped($4930414F,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DH8 takes nothing returns nothing
set BUx=CreateTrigger()
call Bi7(BUx,NB)
call TriggerAddCondition(BUx,Condition(function DH5))
call TriggerAddAction(BUx,function DH7)
endfunction
function DH9 takes nothing returns nothing
call DisableTrigger(BUx)
endfunction
function DIB takes nothing returns nothing
set BUy=CreateTrigger()
call TriggerAddAction(BUy,function DH9)
endfunction
function DIC takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930414F)==true and Bi9(GetTriggerUnit(),$49303446)==true
endfunction
function DID takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303446))
call RemoveItem(Bio(GetTriggerUnit(),$4930414F))
call UnitAddItemByIdSwapped($49304150,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DIE takes nothing returns nothing
set BUz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BUz,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BUz,Condition(function DIC))
call TriggerAddAction(BUz,function DID)
endfunction
function DIF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIG takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"铆克丽：我需要6个大型熊怪的头颅，如果你能帮我的话那真是太好了。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务铆克丽的大型熊怪头颅开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"铆克丽的大型熊怪头颅","铆克丽需要6个大型熊怪头颅","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BU1=GetLastCreatedQuestBJ()
call EnableTrigger(BU2)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIH takes nothing returns nothing
set BU0=CreateTrigger()
call Bi7(BU0,NC)
call TriggerAddCondition(BU0,Condition(function DIF))
call TriggerAddAction(BU0,function DIG)
endfunction
function DII takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303934)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303934))==6
endfunction
function DIJ takes nothing returns nothing
call UnitAddAbilityBJ($41304748,GetEnumUnit())
endfunction
function DIK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303934))
call RemoveItem(Bio(GetTriggerUnit(),$49303934))
call RemoveItem(Bio(GetTriggerUnit(),$49303934))
call RemoveItem(Bio(GetTriggerUnit(),$49303934))
call RemoveItem(Bio(GetTriggerUnit(),$49303934))
call RemoveItem(Bio(GetTriggerUnit(),$49303934))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"铆克丽：谢谢你")
call QuestSetCompleted(BU1,true)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家奖励3000钱，全属性+10，并奖励智慧宝珠")
call ForGroupBJ(bJ,function DIJ)
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddItemByIdSwapped($4930354D,GetTriggerUnit())
call UnitAddItemByIdSwapped($49304352,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIL takes nothing returns nothing
set BU2=CreateTrigger()
call Bi7(BU2,NC)
call TriggerAddCondition(BU2,Condition(function DII))
call TriggerAddAction(BU2,function DIK)
endfunction
function DIM takes nothing returns nothing
call DisableTrigger(BU2)
endfunction
function DIN takes nothing returns nothing
set BU3=CreateTrigger()
call TriggerAddAction(BU3,function DIM)
endfunction
function DIO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"爱耶西：嘿嘿，其实艾瑞镇的好东西都在我这里卖")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"爱耶西：不过呢你要是想进去买我的好东西的话，就要让我变成艾瑞镇最漂亮的精灵")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务使爱耶西变为艾瑞镇最漂亮的精灵开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"爱漂亮的爱耶西","使爱耶西变为艾瑞镇最漂亮的精灵，将“艾瑞灵水-生命融合”带给她","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BU5=GetLastCreatedQuestBJ()
call EnableTrigger(BU6)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIQ takes nothing returns nothing
set BU4=CreateTrigger()
call Bi7(BU4,ND)
call TriggerAddCondition(BU4,Condition(function DIO))
call TriggerAddAction(BU4,function DIP)
endfunction
function DIR takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304232)==true and Bi9(GetTriggerUnit(),$49303954)==true and Bi9(GetTriggerUnit(),$49303141)==true and Bi9(GetTriggerUnit(),$49304456)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function DIS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49303954))
call RemoveItem(Bio(GetTriggerUnit(),$49303141))
call RemoveItem(Bio(GetTriggerUnit(),$49304456))
call RemoveItem(Bio(GetTriggerUnit(),$4930434E))
call UnitAddItemByIdSwapped($49304438,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DIT takes nothing returns nothing
set BU7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BU7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BU7,Condition(function DIR))
call TriggerAddAction(BU7,function DIS)
endfunction
function DIU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304438)==true
endfunction
function DIV takes nothing returns nothing
call UnitAddAbilityBJ($41304855,GetEnumUnit())
endfunction
function DIW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304438))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"爱耶西：天啊，这个肯定能让我成为最漂亮的精灵，你真是太棒了。")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"全体玩家奖励3000钱，全属性+10点")
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function DIV)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"爱耶西支线任务完成，爱耶西旁的蓝火可以进入。")
call QuestSetCompleted(BU5,true)
call EnableTrigger(BU8)
call ShowUnitShow(YM)
call SetItemVisibleBJ(true,UM)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIX takes nothing returns nothing
set BU6=CreateTrigger()
call Bi7(BU6,ND)
call TriggerAddCondition(BU6,Condition(function DIU))
call TriggerAddAction(BU6,function DIW)
endfunction
function DIY takes nothing returns nothing
call DisableTrigger(BU6)
call ShowUnitHide(YM)
call SetItemVisibleBJ(false,UM)
call SetItemVisibleBJ(false,UN)
endfunction
function DIZ takes nothing returns nothing
set BU9=CreateTrigger()
call TriggerAddAction(BU9,function DIY)
endfunction
function DIa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIb takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Oj))
endfunction
function DIc takes nothing returns nothing
set BU8=CreateTrigger()
call Bi7(BU8,Ok)
call TriggerAddCondition(BU8,Condition(function DIa))
call TriggerAddAction(BU8,function DIb)
endfunction
function DId takes nothing returns nothing
call DisableTrigger(BU8)
call DisableTrigger(BVC)
endfunction
function DIe takes nothing returns nothing
set BVB=CreateTrigger()
call TriggerAddAction(BVB,function DId)
endfunction
function DIf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIg takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ol))
endfunction
function DIh takes nothing returns nothing
set BVD=CreateTrigger()
call Bi7(BVD,Oi)
call TriggerAddCondition(BVD,Condition(function DIf))
call TriggerAddAction(BVD,function DIg)
endfunction
function DIi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BVC)
endfunction
function DIj takes nothing returns nothing
set BVE=CreateTrigger()
call TriggerRegisterUnitEvent(BVE,XZ,EVENT_UNIT_DEATH)
call TriggerAddAction(BVE,function DIi)
endfunction
function DIk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function DIl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetItemVisibleBJ(true,UN)
endfunction
function DIm takes nothing returns nothing
set BVC=CreateTrigger()
call Bi7(BVC,No)
call TriggerAddCondition(BVC,Condition(function DIk))
call TriggerAddAction(BVC,function DIl)
endfunction
function DIn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮沫愉：你看看我种的鲜花漂亮吗。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮沫愉：很漂亮吧")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮沫愉：但是你刚刚把它们踩了。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"皮沫愉：我不会给你任何奖励了")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务“讨厌别人踩花的皮沫愉”失败。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIp takes nothing returns nothing
set BVF=CreateTrigger()
call Bi7(BVF,NK)
call TriggerAddCondition(BVF,Condition(function DIn))
call TriggerAddAction(BVF,function DIo)
endfunction
function DIq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIr takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：你知道吗，上面有个叫皮沫愉的精灵，特别讨厌别人踩她的花。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIs takes nothing returns nothing
set BVG=CreateTrigger()
call Bi7(BVG,NL)
call TriggerAddCondition(BVG,Condition(function DIq))
call TriggerAddAction(BVG,function DIr)
endfunction
function DIt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DIu takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：如果你能给我6个艾瑞灵水才能合成的“艾瑞灵水-大”，我就给你开一条通往各个远古领主藏匿地点的传送门。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务“阿赛德的要求”开启")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"阿赛德的要求","要不要听他的话给他买6个艾瑞灵水才能合成的艾瑞灵水-大呢？","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BVI=GetLastCreatedQuestBJ()
call EnableTrigger(BDw)
call EnableTrigger(BVJ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIv takes nothing returns nothing
set BVH=CreateTrigger()
call Bi7(BVH,NM)
call TriggerAddCondition(BVH,Condition(function DIt))
call TriggerAddAction(BVH,function DIu)
endfunction
function DIw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304138)==true
endfunction
function DIx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BVJ)
call RemoveItem(Bio(GetTriggerUnit(),$49304138))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：你真棒")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：准备传送门需要一点时间，你等个5分钟后再过来吧")
call Biy(300.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BVK)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DIy takes nothing returns nothing
set BDw=CreateTrigger()
call Bi7(BDw,NM)
call TriggerAddCondition(BDw,Condition(function DIw))
call TriggerAddAction(BDw,function DIx)
endfunction
function DIz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DI0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：真是不好意思，似乎因为能力有限，传送门开启失败了")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：等我练好了再帮你..")
call QuestSetFailed(BVI,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DI1 takes nothing returns nothing
set BVK=CreateTrigger()
call Bi7(BVK,NM)
call TriggerAddCondition(BVK,Condition(function DIz))
call TriggerAddAction(BVK,function DI0)
endfunction
function DI2 takes nothing returns nothing
call DisableTrigger(BVK)
call DisableTrigger(BDw)
call DisableTrigger(BVJ)
call ShowUnitHide(YN)
call ShowUnitHide(YO)
call ShowUnitHide(YQ)
call ShowUnitHide(YP)
endfunction
function DI3 takes nothing returns nothing
set BVL=CreateTrigger()
call TriggerAddAction(BVL,function DI2)
endfunction
function DI4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304448)==true
endfunction
function DI5 takes nothing returns nothing
call UnitAddAbilityBJ($41304930,GetEnumUnit())
endfunction
function DI6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(BDw)
call RemoveItem(Bio(GetTriggerUnit(),$49304448))
call QuestSetCompleted(BVI,true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：哇，有这个东西我一定是能成功了。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"阿赛德：开启成功，希望能对你有所帮助。")
call ShowUnitShow(XY)
call ShowUnitShow(XZ)
call ShowUnitShow(Xa)
call ShowUnitShow(Xb)
call ShowUnitShow(Xd)
call ShowUnitShow(Xc)
call ShowUnitShow(Xe)
call ShowUnitShow(XX)
call ShowUnitShow(YN)
call ShowUnitShow(YP)
call ShowUnitShow(YQ)
call ShowUnitShow(YO)
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"全体玩家获得3000钱奖励和全属性+10")
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function DI5)
set dC=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DI7 takes nothing returns nothing
set BVJ=CreateTrigger()
call Bi7(BVJ,NM)
call TriggerAddCondition(BVJ,Condition(function DI4))
call TriggerAddAction(BVJ,function DI6)
endfunction
function DI8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930444C
endfunction
function DI9 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Om))
endfunction
function DJB takes nothing returns nothing
set BVM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVM,Condition(function DI8))
call TriggerAddAction(BVM,function DI9)
endfunction
function DJC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$49304449
endfunction
function DJD takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nf))
endfunction
function DJE takes nothing returns nothing
set BVN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVN,Condition(function DJC))
call TriggerAddAction(BVN,function DJD)
endfunction
function DJF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930444B
endfunction
function DJG takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nd))
endfunction
function DJH takes nothing returns nothing
set BVO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVO,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVO,Condition(function DJF))
call TriggerAddAction(BVO,function DJG)
endfunction
function DJI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and GetItemTypeId(GetManipulatedItem())==$4930444A
endfunction
function DJJ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nh))
endfunction
function DJK takes nothing returns nothing
set BVP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVP,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVP,Condition(function DJI))
call TriggerAddAction(BVP,function DJJ)
endfunction
function DJL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DJM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"腾魔吉：我们是不是又见面了呢")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"腾魔吉：有时候这种机缘巧合，代表着你我有必然的利益结合。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"腾魔吉：我卖的东西，你可以考虑一下。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DJN takes nothing returns nothing
set BVQ=CreateTrigger()
call Bi7(BVQ,NO)
call TriggerAddCondition(BVQ,Condition(function DJL))
call TriggerAddAction(BVQ,function DJM)
endfunction
function DJO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and IsUnitInGroup(GetTriggerUnit(),bN)==false
endfunction
function DJP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：你觉得你现在看到的艾瑞镇，是真实存在的吗")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：外来者.....有时候不要太依赖于表面，看到的，可不一定是真实的。")
call TriggerSleepAction(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：如果你能破解，那么你自然会有很大的获益。")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DJQ takes nothing returns nothing
set BVR=CreateTrigger()
call Bi7(BVR,NP)
call TriggerAddCondition(BVR,Condition(function DJO))
call TriggerAddAction(BVR,function DJP)
endfunction
function DJR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function DJS takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：这不是莉尔娅大人吗。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：你现在来这里的话，会不会有点不太合适？")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：毕竟艾瑞镇是什么地方，您应该不会不明白。")
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),20.,"提切罗：不过在艾瑞森林中，倒是有不少隐藏的地方拥有着只有莉尔娅大人才能得到的装备，但是需要您携带与生命相关的物品和与月属性相关的物品才能寻觅得到，希望您能成功。（对莉尔娅玩家而言，艾瑞森林能进阶至以下装备：弓LV5，附灵之弓-月之宝物，月之护甲-祝福之力，月之宝石（大），月之箭袋-祝福之力）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DJT takes nothing returns nothing
set BVS=CreateTrigger()
call Bi7(BVS,NP)
call TriggerAddCondition(BVS,Condition(function DJR))
call TriggerAddAction(BVS,function DJS)
endfunction
function DJU takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304142
endfunction
function DJV takes nothing returns nothing
set c1=0
set BVU=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set c1=c1+1
if c1==3 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call UnitAddItemByIdSwapped($49304444,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function DJW takes nothing returns nothing
set BVT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVT,Condition(function DJU))
call TriggerAddAction(BVT,function DJV)
endfunction
function DJX takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304443
endfunction
function DJY takes nothing returns nothing
set c2=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set c2=c2+1
if c2==1 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call UnitAddItemByIdSwapped($49304445,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function DJZ takes nothing returns nothing
set BVV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVV,Condition(function DJX))
call TriggerAddAction(BVV,function DJY)
endfunction
function DJa takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49304444)==true and Bi9(GetTriggerUnit(),$49304445)==true and Bi9(GetTriggerUnit(),$49304446)==true
endfunction
function DJb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BVR)
call DisableTrigger(BVS)
call RemoveItem(Bio(GetTriggerUnit(),$49304446))
call RemoveItem(Bio(GetTriggerUnit(),$49304445))
call RemoveItem(Bio(GetTriggerUnit(),$49304444))
call UnitAddItemByIdSwapped($49304447,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DJc takes nothing returns nothing
set BVW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVW,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BVW,Condition(function DJa))
call TriggerAddAction(BVW,function DJb)
endfunction
function DJd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304447)==true
endfunction
function DJe takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304447))
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"艾瑞镇的秘密","某个深处的通道已经被打开..到底在哪里呢","ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp")
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：看来你很有潜力..")
call TriggerSleepAction(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"某个深处的通道已经被打开")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"提切罗：接下来.就由你自己去发现秘密吧")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DJf takes nothing returns nothing
set BVX=CreateTrigger()
call Bi7(BVX,NP)
call TriggerAddCondition(BVX,Condition(function DJd))
call TriggerAddAction(BVX,function DJe)
endfunction
function DJg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304443)==true and Bi9(GetTriggerUnit(),$49304446)==true and Bi9(GetTriggerUnit(),$49304457)==true
endfunction
function DJh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304142,GetTriggerUnit())
endfunction
function DJi takes nothing returns nothing
set BVY=CreateTrigger()
call Bi7(BVY,Op)
call TriggerAddCondition(BVY,Condition(function DJg))
call TriggerAddAction(BVY,function DJh)
endfunction
function DJj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304443)==true and Bi9(GetTriggerUnit(),$49304446)==true and Bi9(GetTriggerUnit(),$49304457)==true
endfunction
function DJk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped($49304142,GetTriggerUnit())
endfunction
function DJl takes nothing returns nothing
set BVZ=CreateTrigger()
call Bi7(BVZ,Oq)
call TriggerAddCondition(BVZ,Condition(function DJj))
call TriggerAddAction(BVZ,function DJk)
endfunction
function DJm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DJn takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Mp))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有一股神秘力量将你阻挡在外")
endfunction
function DJo takes nothing returns nothing
set BVa=CreateTrigger()
call Bi7(BVa,Mo)
call TriggerAddCondition(BVa,Condition(function DJm))
call TriggerAddAction(BVa,function DJn)
endfunction
function DJp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DJq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：听说活了上千年的远古巨魔之王拉德克至今仍在呢，据说在树魔领主右侧走过去的一条路，不过破解不了结界的话可进不去。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DJr takes nothing returns nothing
set BVb=CreateTrigger()
call Bi7(BVb,M0)
call TriggerAddCondition(BVb,Condition(function DJp))
call TriggerAddAction(BVb,function DJq)
endfunction
function DJs takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304142)==true or Bi9(GetTriggerUnit(),$49304443)==true or Bi9(GetTriggerUnit(),$49304445)==true or Bi9(GetTriggerUnit(),$49304444)==true or Bi9(GetTriggerUnit(),$49304447)==true
endfunction
function DJt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304445))
call RemoveItem(Bio(GetTriggerUnit(),$49304444))
call RemoveItem(Bio(GetTriggerUnit(),$49304447))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里的神秘结界被消除了....")
call DisableTrigger(BVa)
call ShowUnitShow(XY)
endfunction
function DJu takes nothing returns nothing
set BVc=CreateTrigger()
call Bi7(BVc,Mo)
call TriggerAddCondition(BVc,Condition(function DJs))
call TriggerAddAction(BVc,function DJt)
endfunction
function DJv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DJw takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nf))
endfunction
function DJx takes nothing returns nothing
set BVd=CreateTrigger()
call Bi7(BVd,Ni)
call TriggerAddCondition(BVd,Condition(function DJv))
call TriggerAddAction(BVd,function DJw)
endfunction
function DJy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DJz takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nj))
endfunction
function DJ0 takes nothing returns nothing
set BVe=CreateTrigger()
call Bi7(BVe,Ne)
call TriggerAddCondition(BVe,Condition(function DJy))
call TriggerAddAction(BVe,function DJz)
endfunction
function DJ1 takes nothing returns boolean
return GetAttacker()==XY
endfunction
function DJ2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DJ3 takes nothing returns nothing
call UnitDamageTargetBJ(XY,GetEnumUnit(),1000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DJ4 takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DJ2))
call ForGroupBJ(fP,function DJ3)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DJ5 takes nothing returns nothing
set BVf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVf,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BVf,Condition(function DJ1))
call TriggerAddAction(BVf,function DJ4)
endfunction
function DJ6 takes nothing returns nothing
call ShowUnitHide(XY)
endfunction
function DJ7 takes nothing returns nothing
set BVg=CreateTrigger()
call TriggerAddAction(BVg,function DJ6)
endfunction
function DJ8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DJ9 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Mu))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有一股神秘力量将你阻挡在外")
endfunction
function DKB takes nothing returns nothing
set BVh=CreateTrigger()
call Bi7(BVh,Mt)
call TriggerAddCondition(BVh,Condition(function DJ8))
call TriggerAddAction(BVh,function DJ9)
endfunction
function DKC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKD takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：熊怪也分为两个权贵种族，一种是战士，一种是萨满，两族一向友好，不过萨满首领隐居在森林某处，据说是在熊怪领主左侧过去的一条路。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DKE takes nothing returns nothing
set BVi=CreateTrigger()
call Bi7(BVi,M1)
call TriggerAddCondition(BVi,Condition(function DKC))
call TriggerAddAction(BVi,function DKD)
endfunction
function DKF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304142)==true or Bi9(GetTriggerUnit(),$49304443)==true or Bi9(GetTriggerUnit(),$49304445)==true or Bi9(GetTriggerUnit(),$49304444)==true or Bi9(GetTriggerUnit(),$49304447)==true
endfunction
function DKG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304445))
call RemoveItem(Bio(GetTriggerUnit(),$49304444))
call RemoveItem(Bio(GetTriggerUnit(),$49304447))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里的神秘结界被消除了....")
call DisableTrigger(BVh)
call ShowUnitShow(XZ)
call ShowUnitShow(Xa)
call ShowUnitShow(Xb)
call ShowUnitShow(Xd)
call ShowUnitShow(Xc)
call ShowUnitShow(Xe)
endfunction
function DKH takes nothing returns nothing
set BVj=CreateTrigger()
call Bi7(BVj,Mt)
call TriggerAddCondition(BVj,Condition(function DKF))
call TriggerAddAction(BVj,function DKG)
endfunction
function DKI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKJ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nd))
endfunction
function DKK takes nothing returns nothing
set BVk=CreateTrigger()
call Bi7(BVk,Nk)
call TriggerAddCondition(BVk,Condition(function DKI))
call TriggerAddAction(BVk,function DKJ)
endfunction
function DKL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKM takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nl))
endfunction
function DKN takes nothing returns nothing
set BVl=CreateTrigger()
call Bi7(BVl,Nc)
call TriggerAddCondition(BVl,Condition(function DKL))
call TriggerAddAction(BVl,function DKM)
endfunction
function DKO takes nothing returns boolean
return GetAttacker()==XZ
endfunction
function DKP takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DKQ takes nothing returns nothing
call UnitDamageTargetBJ(XZ,GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DKR takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DKP))
call ForGroupBJ(fP,function DKQ)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DKS takes nothing returns nothing
set BVm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVm,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BVm,Condition(function DKO))
call TriggerAddAction(BVm,function DKR)
endfunction
function DKT takes nothing returns nothing
call ShowUnitHide(XZ)
call ShowUnitHide(Xa)
call ShowUnitHide(Xb)
call ShowUnitHide(Xd)
call ShowUnitHide(Xc)
call ShowUnitHide(Xe)
endfunction
function DKU takes nothing returns nothing
set BVn=CreateTrigger()
call TriggerAddAction(BVn,function DKT)
endfunction
function DKV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKW takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Mw))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有一股神秘力量将你阻挡在外")
endfunction
function DKX takes nothing returns nothing
set BVo=CreateTrigger()
call Bi7(BVo,Mv)
call TriggerAddCondition(BVo,Condition(function DKV))
call TriggerAddAction(BVo,function DKW)
endfunction
function DKY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKZ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：远古熊王索玛尔，据说现在仍然存在于这片月森林之中，但是要进入到其居所，要破除神秘结界。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DKa takes nothing returns nothing
set BVp=CreateTrigger()
call Bi7(BVp,M2)
call TriggerAddCondition(BVp,Condition(function DKY))
call TriggerAddAction(BVp,function DKZ)
endfunction
function DKb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304142)==true or Bi9(GetTriggerUnit(),$49304443)==true or Bi9(GetTriggerUnit(),$49304445)==true or Bi9(GetTriggerUnit(),$49304444)==true or Bi9(GetTriggerUnit(),$49304447)==true
endfunction
function DKc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304142))
call RemoveItem(Bio(GetTriggerUnit(),$49304443))
call RemoveItem(Bio(GetTriggerUnit(),$49304445))
call RemoveItem(Bio(GetTriggerUnit(),$49304444))
call RemoveItem(Bio(GetTriggerUnit(),$49304447))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这里的神秘结界被消除了....")
call DisableTrigger(BVo)
call ShowUnitShow(XX)
endfunction
function DKd takes nothing returns nothing
set BVq=CreateTrigger()
call Bi7(BVq,Mv)
call TriggerAddCondition(BVq,Condition(function DKb))
call TriggerAddAction(BVq,function DKc)
endfunction
function DKe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKf takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nh))
endfunction
function DKg takes nothing returns nothing
set BVr=CreateTrigger()
call Bi7(BVr,Na)
call TriggerAddCondition(BVr,Condition(function DKe))
call TriggerAddAction(BVr,function DKf)
endfunction
function DKh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKi takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Nb))
endfunction
function DKj takes nothing returns nothing
set BVs=CreateTrigger()
call Bi7(BVs,Ng)
call TriggerAddCondition(BVs,Condition(function DKh))
call TriggerAddAction(BVs,function DKi)
endfunction
function DKk takes nothing returns boolean
return GetAttacker()==XX
endfunction
function DKl takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DKm takes nothing returns nothing
call UnitDamageTargetBJ(XX,GetEnumUnit(),1000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DKn takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DKl))
call ForGroupBJ(fP,function DKm)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DKo takes nothing returns nothing
set BVt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVt,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BVt,Condition(function DKk))
call TriggerAddAction(BVt,function DKn)
endfunction
function DKp takes nothing returns nothing
call ShowUnitHide(XX)
endfunction
function DKq takes nothing returns nothing
set BVu=CreateTrigger()
call TriggerAddAction(BVu,function DKp)
endfunction
function DKr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DKs takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：总是会有几个大型熊怪和大型森林巨魔隐藏的很隐秘。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DKt takes nothing returns nothing
set BVv=CreateTrigger()
call Bi7(BVv,M3)
call TriggerAddCondition(BVv,Condition(function DKr))
call TriggerAddAction(BVv,function DKs)
endfunction
function DKu takes nothing returns boolean
return GetDyingUnit()==BVx
endfunction
function DKv takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303942,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303941,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303939,i8)
call RemoveLocation(i8)
endif
endif
call Biy(45.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Mq)
call CreateNUnitsAtLoc(1,$6E303234,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BVx=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DKw takes nothing returns nothing
set BVw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BVw,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BVw,Condition(function DKu))
call TriggerAddAction(BVw,function DKv)
endfunction
function DKx takes nothing returns nothing
set BVx=XS
call SetItemVisibleBJ(false,UO)
call DisableTrigger(BVz)
endfunction
function DKy takes nothing returns nothing
set BVy=CreateTrigger()
call TriggerAddAction(BVy,function DKx)
endfunction
function DKz takes nothing returns boolean
return GetAttacker()==BVx
endfunction
function DK0 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DK1 takes nothing returns nothing
call UnitDamageTargetBJ(BVx,GetEnumUnit(),275.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DK2 takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DK0))
call ForGroupBJ(fP,function DK1)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DK3 takes nothing returns nothing
set BV0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BV0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BV0,Condition(function DKz))
call TriggerAddAction(BV0,function DK2)
endfunction
function DK4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BVz)
endfunction
function DK5 takes nothing returns nothing
set BV1=CreateTrigger()
call TriggerRegisterUnitEvent(BV1,XX,EVENT_UNIT_DEATH)
call TriggerAddAction(BV1,function DK4)
endfunction
function DK6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function DK7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetItemVisibleBJ(true,UO)
endfunction
function DK8 takes nothing returns nothing
set BVz=CreateTrigger()
call Bi7(BVz,Nq)
call TriggerAddCondition(BVz,Condition(function DK6))
call TriggerAddAction(BVz,function DK7)
endfunction
function DK9 takes nothing returns boolean
return GetDyingUnit()==BV3
endfunction
function DLB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303945,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303944,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303946,i8)
call RemoveLocation(i8)
endif
endif
call Biy(45.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Mm)
call CreateNUnitsAtLoc(1,$6E303239,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BV3=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLC takes nothing returns nothing
set BV2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BV2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BV2,Condition(function DK9))
call TriggerAddAction(BV2,function DLB)
endfunction
function DLD takes nothing returns nothing
set BV3=XR
call SetItemVisibleBJ(false,UP)
call DisableTrigger(BV5)
endfunction
function DLE takes nothing returns nothing
set BV4=CreateTrigger()
call TriggerAddAction(BV4,function DLD)
endfunction
function DLF takes nothing returns boolean
return GetAttacker()==BV3
endfunction
function DLG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DLH takes nothing returns nothing
call UnitDamageTargetBJ(BV3,GetEnumUnit(),275.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DLI takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DLG))
call ForGroupBJ(fP,function DLH)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DLJ takes nothing returns nothing
set BV6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BV6,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BV6,Condition(function DLF))
call TriggerAddAction(BV6,function DLI)
endfunction
function DLK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BV5)
endfunction
function DLL takes nothing returns nothing
set BV7=CreateTrigger()
call TriggerRegisterUnitEvent(BV7,XY,EVENT_UNIT_DEATH)
call TriggerAddAction(BV7,function DLK)
endfunction
function DLM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930434E)==true
endfunction
function DLN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetItemVisibleBJ(true,UP)
endfunction
function DLO takes nothing returns nothing
set BV5=CreateTrigger()
call Bi7(BV5,On)
call TriggerAddCondition(BV5,Condition(function DLM))
call TriggerAddAction(BV5,function DLN)
endfunction
function DLP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：这片森林隐藏的东西可不少哦，要好好找找哦，别那么急着走哦。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLR takes nothing returns nothing
set BV8=CreateTrigger()
call Bi7(BV8,M4)
call TriggerAddCondition(BV8,Condition(function DLP))
call TriggerAddAction(BV8,function DLQ)
endfunction
function DLS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：熊怪领主掉落的装备有巨力意志、领主熊袍、领主熊爪，主要与力量属性相关。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLU takes nothing returns nothing
set BV9=CreateTrigger()
call Bi7(BV9,NI)
call TriggerAddCondition(BV9,Condition(function DLS))
call TriggerAddAction(BV9,function DLT)
endfunction
function DLV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：树魔领主掉落的装备有树魔项圈、领主树衣、领主之斧，主要与敏捷属性相关。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLX takes nothing returns nothing
set BWB=CreateTrigger()
call Bi7(BWB,NJ)
call TriggerAddCondition(BWB,Condition(function DLV))
call TriggerAddAction(BWB,function DLW)
endfunction
function DLY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLZ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵平民：上面有一个叫阿赛德的家伙，魔法技术很烂，经常会失败，如果没有100%成功的辅助魔法道具千万不要找他帮忙。")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLa takes nothing returns nothing
set BWC=CreateTrigger()
call Bi7(BWC,NN)
call TriggerAddCondition(BWC,Condition(function DLY))
call TriggerAddAction(BWC,function DLZ)
endfunction
function DLb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLc takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"民兵护卫：你知道装备品质要如何区分吗？反正我只知道白色的装备是最低级的。")
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLd takes nothing returns nothing
set BWD=CreateTrigger()
call Bi7(BWD,If)
call TriggerAddCondition(BWD,Condition(function DLb))
call TriggerAddAction(BWD,function DLc)
endfunction
function DLe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLf takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"平民：据说有一件手套配饰，需要小手套、小生命符、小头环、遗迹大精华、一堆土石才能合成，只能拥有一件。")
endfunction
function DLg takes nothing returns nothing
set BWE=CreateTrigger()
call Bi7(BWE,OM)
call TriggerAddCondition(BWE,Condition(function DLe))
call TriggerAddAction(BWE,function DLf)
endfunction
function DLh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLi takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"平民：据说漠尔镇存在着一把雷霆战斧，需要两样雷属性材料+金属石+漠尔生命符+巨力斧+力量头环才能合出，只能拥有一件。")
endfunction
function DLj takes nothing returns nothing
set BWF=CreateTrigger()
call Bi7(BWF,ON)
call TriggerAddCondition(BWF,Condition(function DLh))
call TriggerAddAction(BWF,function DLi)
endfunction
function DLk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DLl takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：你很强吗？")
endfunction
function DLm takes nothing returns nothing
set BWG=CreateTrigger()
call Bi7(BWG,Ih)
call TriggerAddCondition(BWG,Condition(function DLk))
call TriggerAddAction(BWG,function DLl)
endfunction
function DLn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303153)==false
endfunction
function DLo takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：相传有一种植物的种子只有在某种魔物身上才能找到。")
endfunction
function DLp takes nothing returns nothing
set BWH=CreateTrigger()
call Bi7(BWH,Ii)
call TriggerAddCondition(BWH,Condition(function DLn))
call TriggerAddAction(BWH,function DLo)
endfunction
function DLq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303153)==true
endfunction
function DLr takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：没错没错。就是这个种子。有个叫雅西妮的女人似乎很需要它...")
endfunction
function DLs takes nothing returns nothing
set BWI=CreateTrigger()
call Bi7(BWI,Ii)
call TriggerAddCondition(BWI,Condition(function DLq))
call TriggerAddAction(BWI,function DLr)
endfunction
function DLt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303558)==false and Bi9(GetTriggerUnit(),$49304A39)==false and Bi9(GetTriggerUnit(),$49304A58)==false and Bi9(GetTriggerUnit(),$49303746)==false and Bi9(GetTriggerUnit(),$49303757)==false and Bi9(GetTriggerUnit(),$49304B42)==false and Bi9(GetTriggerUnit(),$49304B53)==false and Bi9(GetTriggerUnit(),$49304B54)==false and Bi9(GetTriggerUnit(),$49304C4F)==false
endfunction
function DLu takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：你知道吗。你身上的装备好烂耶。")
endfunction
function DLv takes nothing returns nothing
set BWJ=CreateTrigger()
call Bi7(BWJ,Ij)
call TriggerAddCondition(BWJ,Condition(function DLt))
call TriggerAddAction(BWJ,function DLu)
endfunction
function DLw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303558)==true or Bi9(GetTriggerUnit(),$49304A39)==true or Bi9(GetTriggerUnit(),$49304A58)==true or Bi9(GetTriggerUnit(),$49303746)==true or Bi9(GetTriggerUnit(),$49303757)==true or Bi9(GetTriggerUnit(),$49304B42)==true or Bi9(GetTriggerUnit(),$49304B53)==true or Bi9(GetTriggerUnit(),$49304B54)==true or Bi9(GetTriggerUnit(),$49304C4F)==true
endfunction
function DLx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BWJ)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：哇噻！你有个装备好豪华的样子。。")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你获得了漠尔镇民的欣赏，奖励你全属性+1")
call UnitAddAbilityBJ($41304231,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DLy takes nothing returns nothing
set BWK=CreateTrigger()
call Bi7(BWK,Ij)
call TriggerAddCondition(BWK,Condition(function DLw))
call TriggerAddAction(BWK,function DLx)
endfunction
function DLz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DL0 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：最近来的冒险家真是。。感觉都没我当年一半强。")
endfunction
function DL1 takes nothing returns nothing
set BWL=CreateTrigger()
call Bi7(BWL,Ik)
call TriggerAddCondition(BWL,Condition(function DLz))
call TriggerAddAction(BWL,function DL0)
endfunction
function DL2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DL3 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"镇民：我觉得我们这个地方很安全，离外面那些魔物最远。。不过镇子里有个地方比这更安全，那个地方据说偶尔会有奇怪的火焰诞生。")
endfunction
function DL4 takes nothing returns nothing
set BWM=CreateTrigger()
call Bi7(BWM,Il)
call TriggerAddCondition(BWM,Condition(function DL2))
call TriggerAddAction(BWM,function DL3)
endfunction
function DL5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DL6 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"护卫：据说斯尔德一直在渴望有冒险家能杀掉一些大型土傀儡。。如果有哪位冒险家能够自由驾驭那些魔物的话，斯尔德会有多震惊呢？")
endfunction
function DL7 takes nothing returns nothing
set BWN=CreateTrigger()
call Bi7(BWN,Im)
call TriggerAddCondition(BWN,Condition(function DL5))
call TriggerAddAction(BWN,function DL6)
endfunction
function DL8 takes nothing returns nothing
call ShowUnitHide(Vu)
call ShowUnitHide(Vw)
endfunction
function DL9 takes nothing returns nothing
set BWO=CreateTrigger()
call TriggerRegisterTimerEventSingle(BWO,.1)
call TriggerAddAction(BWO,function DL8)
endfunction
function DMB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMC takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"居民：听说这个要塞里有一群黑暗术士在守护着什么东西..似乎隐藏在要塞内某处书架的角落...但是似乎要携带某个LV2的瓶子以及某个与法力流动相关的东西，并将这两样进行融合才能打开那处机关...")
endfunction
function DMD takes nothing returns nothing
set BWP=CreateTrigger()
call Bi7(BWP,P9)
call TriggerAddCondition(BWP,Condition(function DMB))
call TriggerAddAction(BWP,function DMC)
endfunction
function DME takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMF takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"士兵：这附近似乎藏着一处蜘蛛领地...真令人闹心...")
endfunction
function DMG takes nothing returns nothing
set BWQ=CreateTrigger()
call Bi7(BWQ,QB)
call TriggerAddCondition(BWQ,Condition(function DME))
call TriggerAddAction(BWQ,function DMF)
endfunction
function DMH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMI takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"士兵：听说镇长在要塞内某处地方隐藏了极具充沛的圣光能量，但是自从某件圣物被一群黑暗术士盗走后，就无法进入了..")
endfunction
function DMJ takes nothing returns nothing
set BWR=CreateTrigger()
call Bi7(BWR,QH)
call TriggerAddCondition(BWR,Condition(function DMH))
call TriggerAddAction(BWR,function DMI)
endfunction
function DMK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DML takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"古老的树人：已经有很久很久很久没有看到外来人了..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"古老的树人：外来人..小心点..最近通往地下的门不是很坚固..没准备充分的话最好不要乱搞破坏")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMM takes nothing returns nothing
set BWS=CreateTrigger()
call Bi7(BWS,Pg)
call TriggerAddCondition(BWS,Condition(function DMK))
call TriggerAddAction(BWS,function DML)
endfunction
function DMN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMO takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"精灵护卫：通往地下的门前段时间莫名其妙出现了点问题..现在很不牢固..要怎么修呢")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMP takes nothing returns nothing
set BWT=CreateTrigger()
call Bi7(BWT,Ph)
call TriggerAddCondition(BWT,Condition(function DMN))
call TriggerAddAction(BWT,function DMO)
endfunction
function DMQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDestructableInvulnerable(T7,true)
endfunction
function DMR takes nothing returns nothing
set lE=CreateTrigger()
call TriggerRegisterTimerEventSingle(lE,1.2)
call TriggerAddAction(lE,function DMQ)
endfunction
function DMS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"好美的雕像...但是总觉得哪里有点奇怪...")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMU takes nothing returns nothing
set BWU=CreateTrigger()
call Bi7(BWU,Pi)
call TriggerAddCondition(BWU,Condition(function DMS))
call TriggerAddAction(BWU,function DMT)
endfunction
function DMV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"老者：沿着前人的足迹...定能有所收获")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMX takes nothing returns nothing
set BWV=CreateTrigger()
call Bi7(BWV,Pk)
call TriggerAddCondition(BWV,Condition(function DMV))
call TriggerAddAction(BWV,function DMW)
endfunction
function DMY takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"老者：不错....")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"老者：看在你这么有眼力...如果你觉得有什么东西很奇怪的话..老夫可以帮你进行探知...")
call EnableTrigger(mJ)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"老者","如果觉得有什么东西比较奇怪的，可以交给这位老者探知..","ReplaceableTextures\\CommandButtons\\BTNDruidOfTheTalon.blp")
set mK=GetLastCreatedQuestBJ()
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9支线任务更新“老者”")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMZ takes nothing returns nothing
set mI=CreateTrigger()
call TriggerRegisterUnitManaEvent(mI,YZ,GREATER_THAN_OR_EQUAL,2000.)
call TriggerAddAction(mI,function DMY)
endfunction
function DMa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304753)==true
endfunction
function DMb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304753))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"老者：这个东西...老夫感受到了一股不详之气")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"老者：如果你们带着这个去玛嘉平原的泉水附近，一定会触怒那位守护者..那个泉水原本就已经遭到一部分污染了..")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"老者：老夫已经将这股不详之气进行了提取并净化，你们把这缕被净化的不详之气带到玛嘉平原泉水附近吧..守护者会告诉你们怎么做的...")
call UnitAddItemByIdSwapped($4930484B,GetTriggerUnit())
call QuestSetCompleted(mK,true)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"支线任务“老者”完成，所有玩家奖励3000元")
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMc takes nothing returns nothing
set mJ=CreateTrigger()
call Bi7(mJ,Pk)
call TriggerAddCondition(mJ,Condition(function DMa))
call TriggerAddAction(mJ,function DMb)
endfunction
function DMd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,QV)
call ShowUnit(Y8,false)
call DisableTrigger(mJ)
call DisableTrigger(mM)
endfunction
function DMe takes nothing returns nothing
set mL=CreateTrigger()
call TriggerRegisterTimerEventSingle(mL,3.)
call TriggerAddAction(mL,function DMd)
endfunction
function DMf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930484B)==true
endfunction
function DMg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930484B))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：看来你们已经有所发现...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：不过只是如此的话..我还是能轻松逃脱的..")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"他逃跑的时候落下了个东西..但是某个任务似乎失败了...")
call CreateItemLoc($49304848,GetRectCenter(Qg))
call RemoveUnit(Yx)
call DestroyQuest(kH)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMh takes nothing returns nothing
set mN=CreateTrigger()
call Bi7(mN,QV)
call TriggerAddCondition(mN,Condition(function DMf))
call TriggerAddAction(mN,function DMg)
endfunction
function DMi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930484B)==true
endfunction
function DMj takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930484B))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：这个是...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：有了这个..这里的泉水污染有希望能得到分析并解决了...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：外来者...麻烦你们把这个东西拿到产生这缕不详之气的魔物那，并消灭他，泉水净化后我将给予你们奖励")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9主线任务更新,把这个东西带到那位奇怪的年长者那吧..")
call DestroyQuest(kH)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"击杀","带着守护者-净化之符到奇怪的年长者面前，并消灭这个隐藏的魔物，顺便从他身上找到进入月神殿的方法..","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set mP=GetLastCreatedQuestBJ()
call UnitAddItemByIdSwapped($4930484C,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMk takes nothing returns nothing
set mO=CreateTrigger()
call Bi7(mO,Qh)
call TriggerAddCondition(mO,Condition(function DMi))
call TriggerAddAction(mO,function DMj)
endfunction
function DMl takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930484C)==true
endfunction
function DMm takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930484C))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者:不！这不可能....")
set i8=GetRandomLocInRect(QV)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitAnimation(Yx,"death")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(QV)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitAnimation(Yx,"death")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(QV)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitAnimation(Yx,"death")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(QV)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitAnimation(Yx,"death")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(QV)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitAnimation(Yx,"death")
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(QV)
call AddSpecialEffectLocBJ(i8,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitAnimation(Yx,"death")
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveUnit(Yx)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"他受伤了..跑不远..追上去（从他位置上的蓝火进入）")
call EnableTrigger(mM)
call SetDoodadAnimationRectBJ("show",$594F7232,QV)
call ShowUnit(Y8,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DMn takes nothing returns nothing
set mQ=CreateTrigger()
call Bi7(mQ,QV)
call TriggerAddCondition(mQ,Condition(function DMl))
call TriggerAddAction(mQ,function DMm)
endfunction
function DMo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMp takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(RS))
endfunction
function DMq takes nothing returns nothing
set mM=CreateTrigger()
call Bi7(mM,RQ)
call TriggerAddCondition(mM,Condition(function DMo))
call TriggerAddAction(mM,function DMp)
endfunction
function DMr takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DMs takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qg))
endfunction
function DMt takes nothing returns nothing
set mR=CreateTrigger()
call Bi7(mR,RR)
call TriggerAddCondition(mR,Condition(function DMr))
call TriggerAddAction(mR,function DMs)
endfunction
function DMu takes nothing returns boolean
return GetAttacker()==Y8
endfunction
function DMv takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DMw takes nothing returns nothing
call UnitDamageTargetBJ(Y8,GetEnumUnit(),1250.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DMx takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(350.,i8,Condition(function DMv))
call ForGroupBJ(fP,function DMw)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DMy takes nothing returns nothing
set mS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mS,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(mS,Condition(function DMu))
call TriggerAddAction(mS,function DMx)
endfunction
function DMz takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930414B)==true and Bi9(GetTriggerUnit(),$4930484D)==true
endfunction
function DM0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930414B))
call RemoveItem(Bio(GetTriggerUnit(),$4930484D))
call UnitAddItemByIdSwapped($4930484E,GetTriggerUnit())
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DM1 takes nothing returns nothing
set mT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(mT,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(mT,Condition(function DMz))
call TriggerAddAction(mT,function DM0)
endfunction
function DM2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyQuest(mP)
endfunction
function DM3 takes nothing returns nothing
set mU=CreateTrigger()
call TriggerRegisterUnitEvent(mU,Y8,EVENT_UNIT_DEATH)
call TriggerAddAction(mU,function DM2)
endfunction
function DM4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$4930484F)==true
endfunction
function DM5 takes nothing returns nothing
call UnitAddAbilityBJ($41304F46,GetEnumUnit())
endfunction
function DM6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$4930484F))
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：你们做的非常好...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：有了这个..我分析提取一段时间...就能够解决泉水的污染问题了..")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：这是你们应得的奖励...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得10000元，并且全属性+10...")
call ForGroupBJ(bJ,function DM5)
call AdjustPlayerStateBJ(10000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"并赠送守护者之矛、守护者之凯、守护者之手套")
call UnitAddItemByIdSwapped($49304756,GetTriggerUnit())
call UnitAddItemByIdSwapped($49304755,GetTriggerUnit())
call UnitAddItemByIdSwapped($49304851,GetTriggerUnit())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DM7 takes nothing returns nothing
set mV=CreateTrigger()
call Bi7(mV,Qh)
call TriggerAddCondition(mV,Condition(function DM4))
call TriggerAddAction(mV,function DM6)
endfunction
function DM8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDestructableInvulnerable(T9,true)
endfunction
function DM9 takes nothing returns nothing
set kN=CreateTrigger()
call TriggerRegisterTimerEventSingle(kN,.3)
call TriggerAddAction(kN,function DM8)
endfunction
function DNB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNC takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"红...")
endfunction
function DND takes nothing returns nothing
set kO=CreateTrigger()
call Bi7(kO,Qp)
call TriggerAddCondition(kO,Condition(function DNB))
call TriggerAddAction(kO,function DNC)
endfunction
function DNE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNF takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"黄...")
endfunction
function DNG takes nothing returns nothing
set kP=CreateTrigger()
call Bi7(kP,Qr)
call TriggerAddCondition(kP,Condition(function DNE))
call TriggerAddAction(kP,function DNF)
endfunction
function DNH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNI takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"蓝...")
endfunction
function DNJ takes nothing returns nothing
set kQ=CreateTrigger()
call Bi7(kQ,Qq)
call TriggerAddCondition(kQ,Condition(function DNH))
call TriggerAddAction(kQ,function DNI)
endfunction
function DNK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNL takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"绿...")
endfunction
function DNM takes nothing returns nothing
set kR=CreateTrigger()
call Bi7(kR,Qo)
call TriggerAddCondition(kR,Condition(function DNK))
call TriggerAddAction(kR,function DNL)
endfunction
function DNN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNO takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qu))
endfunction
function DNP takes nothing returns nothing
set kS=CreateTrigger()
call Bi7(kS,Qs)
call TriggerAddCondition(kS,Condition(function DNN))
call TriggerAddAction(kS,function DNO)
endfunction
function DNQ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNR takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qt))
endfunction
function DNS takes nothing returns nothing
set kT=CreateTrigger()
call Bi7(kT,Qn)
call TriggerAddCondition(kT,Condition(function DNQ))
call TriggerAddAction(kT,function DNR)
endfunction
function DNT takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNU takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qw))
endfunction
function DNV takes nothing returns nothing
set kU=CreateTrigger()
call Bi7(kU,Qy)
call TriggerAddCondition(kU,Condition(function DNT))
call TriggerAddAction(kU,function DNU)
endfunction
function DNW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNX takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qz))
endfunction
function DNY takes nothing returns nothing
set kV=CreateTrigger()
call Bi7(kV,Qv)
call TriggerAddCondition(kV,Condition(function DNW))
call TriggerAddAction(kV,function DNX)
endfunction
function DNZ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(eH)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(Qx)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kY=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eH)
set i8=GetRandomLocInRect(Qx)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kY=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eH)
set i8=GetRandomLocInRect(Qx)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kY=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eH)
set i8=GetRandomLocInRect(Qx)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kY=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eH)
set i8=GetRandomLocInRect(Qx)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kY=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eH)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DNa takes nothing returns nothing
set kX=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(kX,1.)
call TriggerAddAction(kX,function DNZ)
endfunction
function DNb takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303454
endfunction
function DNc takes nothing returns nothing
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304836,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function DNd takes nothing returns nothing
set kZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(kZ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(kZ,Condition(function DNb))
call TriggerAddAction(kZ,function DNc)
endfunction
function DNe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNf takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Q4))
endfunction
function DNg takes nothing returns nothing
set ka=CreateTrigger()
call Bi7(ka,Q1)
call TriggerAddCondition(ka,Condition(function DNe))
call TriggerAddAction(ka,function DNf)
endfunction
function DNh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DNi takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Q2))
endfunction
function DNj takes nothing returns nothing
set kb=CreateTrigger()
call Bi7(kb,Q3)
call TriggerAddCondition(kb,Condition(function DNh))
call TriggerAddAction(kb,function DNi)
endfunction
function DNk takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==$6E303454 or GetUnitTypeId(GetAttacker())==$6E303455
endfunction
function DNl takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DNm takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),100.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DNn takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(200.,i8,Condition(function DNl))
call ForGroupBJ(fP,function DNm)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DNo takes nothing returns nothing
set kc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(kc,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(kc,Condition(function DNk))
call TriggerAddAction(kc,function DNn)
endfunction
function DNp takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==$6E303457 or GetUnitTypeId(GetAttacker())==$6E303456
endfunction
function DNq takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DNr takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DNs takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DNq))
call ForGroupBJ(fP,function DNr)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DNt takes nothing returns nothing
set kd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(kd,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(kd,Condition(function DNp))
call TriggerAddAction(kd,function DNs)
endfunction
function DNu takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(eI)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(Q5)
call CreateNUnitsAtLoc(1,$6E303455,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eI)
set i8=GetRandomLocInRect(Q5)
call CreateNUnitsAtLoc(1,$6E303455,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eI)
set i8=GetRandomLocInRect(Q5)
call CreateNUnitsAtLoc(1,$6E303455,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eI)
set i8=GetRandomLocInRect(Q5)
call CreateNUnitsAtLoc(1,$6E303455,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eI)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DNv takes nothing returns nothing
set ke=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(ke,1.)
call TriggerAddAction(ke,function DNu)
endfunction
function DNw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(eJ)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(Q6)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eJ)
set i8=GetRandomLocInRect(Q6)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eJ)
set i8=GetRandomLocInRect(Q6)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eJ)
set i8=GetRandomLocInRect(Q6)
call CreateNUnitsAtLoc(1,$6E303454,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),eJ)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DNx takes nothing returns nothing
set kg=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(kg,1.)
call TriggerAddAction(kg,function DNw)
endfunction
function DNy takes nothing returns boolean
return GetDyingUnit()==kj
endfunction
function DNz takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304838,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304841,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304842,i8)
call RemoveLocation(i8)
endif
endif
call Biy(45.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Q7)
call CreateNUnitsAtLoc(1,$6E303457,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set kj=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DN0 takes nothing returns nothing
set ki=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ki,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ki,Condition(function DNy))
call TriggerAddAction(ki,function DNz)
endfunction
function DN1 takes nothing returns nothing
set kj=Y3
call DisableTrigger(GetTriggeringTrigger())
endfunction
function DN2 takes nothing returns nothing
set kk=CreateTrigger()
call TriggerRegisterTimerEventSingle(kk,1.2)
call TriggerAddAction(kk,function DN1)
endfunction
function DN3 takes nothing returns boolean
return GetDyingUnit()==km
endfunction
function DN4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304839,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304843,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304844,i8)
call RemoveLocation(i8)
endif
endif
call Biy(45.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Q8)
call CreateNUnitsAtLoc(1,$6E303456,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set km=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DN5 takes nothing returns nothing
set kl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(kl,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(kl,Condition(function DN3))
call TriggerAddAction(kl,function DN4)
endfunction
function DN6 takes nothing returns nothing
set km=Y4
call DisableTrigger(GetTriggeringTrigger())
endfunction
function DN7 takes nothing returns nothing
set kn=CreateTrigger()
call TriggerRegisterTimerEventSingle(kn,1.2)
call TriggerAddAction(kn,function DN6)
endfunction
function DN8 takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303455
endfunction
function DN9 takes nothing returns nothing
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304837,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function DOB takes nothing returns nothing
set ko=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ko,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ko,Condition(function DN8))
call TriggerAddAction(ko,function DN9)
endfunction
function DOC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DOD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你感到了一股浓厚的危险气息.....（注：进入该地深处后，如无法消灭领主，则无法从里面出来，同时禁止使用传送技能，请谨慎前往）")
endfunction
function DOE takes nothing returns nothing
set kq=CreateTrigger()
call Bi7(kq,RC)
call TriggerAddCondition(kq,Condition(function DOC))
call TriggerAddAction(kq,function DOD)
endfunction
function DOF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DOG takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(RG))
endfunction
function DOH takes nothing returns nothing
set kr=CreateTrigger()
call Bi7(kr,RD)
call TriggerAddCondition(kr,Condition(function DOF))
call TriggerAddAction(kr,function DOG)
endfunction
function DOI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DOJ takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(RE))
endfunction
function DOK takes nothing returns nothing
set ks=CreateTrigger()
call Bi7(ks,RF)
call TriggerAddCondition(ks,Condition(function DOI))
call TriggerAddAction(ks,function DOJ)
endfunction
function DOL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(ks)
call ShowUnit(Y6,false)
endfunction
function DOM takes nothing returns nothing
set kt=CreateTrigger()
call TriggerRegisterTimerEventSingle(kt,1.2)
call TriggerAddAction(kt,function DOL)
endfunction
function DON takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==$6E303458
endfunction
function DOO takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DOP takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),2500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DOQ takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(500.,i8,Condition(function DOO))
call ForGroupBJ(fP,function DOP)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DOR takes nothing returns nothing
set ku=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ku,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ku,Condition(function DON))
call TriggerAddAction(ku,function DOQ)
endfunction
function DOS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DOT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"自寻死路....")
call ShowUnit(Y6,true)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(Y6,"patrol",GetRectCenter(RI))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DOU takes nothing returns nothing
set kv=CreateTrigger()
call Bi7(kv,RH)
call TriggerAddCondition(kv,Condition(function DOS))
call TriggerAddAction(kv,function DOT)
endfunction
function DOV takes nothing returns nothing
call UnitAddAbilityBJ($41304F31,GetEnumUnit())
endfunction
function DOW takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ks)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"你们击败了食人鬼领主，所有玩家获得30000元和30点全属性")
call AdjustPlayerStateBJ(30000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(30000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ForGroupBJ(bJ,function DOV)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DOX takes nothing returns nothing
set kw=CreateTrigger()
call TriggerRegisterUnitEvent(kw,Y6,EVENT_UNIT_DEATH)
call TriggerAddAction(kw,function DOW)
endfunction
function DOY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DOZ takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetOwningPlayer(GetTriggerUnit()))
endfunction
function DOa takes nothing returns nothing
set kx=CreateTrigger()
call Bi7(kx,RI)
call TriggerAddCondition(kx,Condition(function DOY))
call TriggerAddAction(kx,function DOZ)
endfunction
function DOb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DOc takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetOwningPlayer(GetTriggerUnit()))
endfunction
function DOd takes nothing returns nothing
set ky=CreateTrigger()
call Bi8(ky,RI)
call TriggerAddCondition(ky,Condition(function DOb))
call TriggerAddAction(ky,function DOc)
endfunction
function DOe takes nothing returns nothing
if IsUnitGroupDeadBJ(bp)==true then
set i8=GetRandomLocInRect(GP)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bp)
set i8=GetRandomLocInRect(GP)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bp)
set i8=GetRandomLocInRect(GP)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bp)
else
call DoNothing()
endif
endfunction
function DOf takes nothing returns nothing
set BWW=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWW,25.)
call TriggerAddAction(BWW,function DOe)
endfunction
function DOg takes nothing returns nothing
if IsUnitGroupDeadBJ(bq)==true then
set i8=GetRandomLocInRect(GQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bq)
set i8=GetRandomLocInRect(GQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bq)
set i8=GetRandomLocInRect(GQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bq)
set i8=GetRandomLocInRect(GQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bq)
else
call DoNothing()
endif
endfunction
function DOh takes nothing returns nothing
set BWY=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWY,30.)
call TriggerAddAction(BWY,function DOg)
endfunction
function DOi takes nothing returns nothing
if IsUnitGroupDeadBJ(br)==true then
set i8=GetRandomLocInRect(GR)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWb=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),br)
set i8=GetRandomLocInRect(GR)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWb=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),br)
else
call DoNothing()
endif
endfunction
function DOj takes nothing returns nothing
set BWa=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWa,20.)
call TriggerAddAction(BWa,function DOi)
endfunction
function DOk takes nothing returns nothing
if IsUnitGroupDeadBJ(bs)==true then
set i8=GetRandomLocInRect(GS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bs)
set i8=GetRandomLocInRect(GS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bs)
set i8=GetRandomLocInRect(GS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bs)
set i8=GetRandomLocInRect(GS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bs)
set i8=GetRandomLocInRect(GS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bs)
set i8=GetRandomLocInRect(GS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bs)
else
call DoNothing()
endif
endfunction
function DOl takes nothing returns nothing
set BWc=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWc,30.)
call TriggerAddAction(BWc,function DOk)
endfunction
function DOm takes nothing returns nothing
if IsUnitGroupDeadBJ(bt)==true then
set i8=GetRandomLocInRect(GU)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bt)
set i8=GetRandomLocInRect(GU)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bt)
else
call DoNothing()
endif
endfunction
function DOn takes nothing returns nothing
set BWe=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWe,25.)
call TriggerAddAction(BWe,function DOm)
endfunction
function DOo takes nothing returns nothing
if IsUnitGroupDeadBJ(bv)==true then
set i8=GetRandomLocInRect(IQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bv)
set i8=GetRandomLocInRect(IQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bv)
set i8=GetRandomLocInRect(IQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bv)
set i8=GetRandomLocInRect(IQ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bv)
else
call DoNothing()
endif
endfunction
function DOp takes nothing returns nothing
set BWg=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWg,25.)
call TriggerAddAction(BWg,function DOo)
endfunction
function DOq takes nothing returns nothing
if IsUnitGroupDeadBJ(b8)==true then
set i8=GetRandomLocInRect(IM)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWj=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b8)
set i8=GetRandomLocInRect(IM)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWj=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b8)
else
call DoNothing()
endif
endfunction
function DOr takes nothing returns nothing
set BWi=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWi,25.)
call TriggerAddAction(BWi,function DOq)
endfunction
function DOs takes nothing returns nothing
if IsUnitGroupDeadBJ(cM)==true then
set i8=GetRandomLocInRect(JF)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWl=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cM)
set i8=GetRandomLocInRect(JF)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWl=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cM)
else
call DoNothing()
endif
endfunction
function DOt takes nothing returns nothing
set BWk=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWk,30.)
call TriggerAddAction(BWk,function DOs)
endfunction
function DOu takes nothing returns nothing
if IsUnitGroupDeadBJ(cN)==true then
set i8=GetRandomLocInRect(JG)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cN)
set i8=GetRandomLocInRect(JG)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cN)
else
call DoNothing()
endif
endfunction
function DOv takes nothing returns nothing
set BWm=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWm,30.)
call TriggerAddAction(BWm,function DOu)
endfunction
function DOw takes nothing returns nothing
if IsUnitGroupDeadBJ(cO)==true then
set i8=GetRandomLocInRect(JH)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWp=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cO)
set i8=GetRandomLocInRect(JH)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWp=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cO)
else
call DoNothing()
endif
endfunction
function DOx takes nothing returns nothing
set BWo=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWo,30.)
call TriggerAddAction(BWo,function DOw)
endfunction
function DOy takes nothing returns nothing
if IsUnitGroupDeadBJ(cP)==true then
set i8=GetRandomLocInRect(JI)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWr=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cP)
set i8=GetRandomLocInRect(JI)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWr=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cP)
set i8=GetRandomLocInRect(JI)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWr=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cP)
set i8=GetRandomLocInRect(JI)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWr=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cP)
else
call DoNothing()
endif
endfunction
function DOz takes nothing returns nothing
set BWq=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWq,45.)
call TriggerAddAction(BWq,function DOy)
endfunction
function DO0 takes nothing returns nothing
if IsUnitGroupDeadBJ(cQ)==true then
set i8=GetRandomLocInRect(JJ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWt=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cQ)
set i8=GetRandomLocInRect(JJ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWt=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cQ)
set i8=GetRandomLocInRect(JJ)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWt=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cQ)
else
call DoNothing()
endif
endfunction
function DO1 takes nothing returns nothing
set BWs=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWs,45.)
call TriggerAddAction(BWs,function DO0)
endfunction
function DO2 takes nothing returns nothing
if IsUnitGroupDeadBJ(cR)==true then
set i8=GetRandomLocInRect(JK)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cR)
set i8=GetRandomLocInRect(JK)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cR)
set i8=GetRandomLocInRect(JK)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cR)
else
call DoNothing()
endif
endfunction
function DO3 takes nothing returns nothing
set BWu=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWu,45.)
call TriggerAddAction(BWu,function DO2)
endfunction
function DO4 takes nothing returns nothing
if IsUnitGroupDeadBJ(cb)==true then
set i8=GetRandomLocInRect(LS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cb)
set i8=GetRandomLocInRect(LS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cb)
set i8=GetRandomLocInRect(LS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cb)
set i8=GetRandomLocInRect(LS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cb)
set i8=GetRandomLocInRect(LS)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWx=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cb)
else
call DoNothing()
endif
endfunction
function DO5 takes nothing returns nothing
set BWw=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWw,25.)
call TriggerAddAction(BWw,function DO4)
endfunction
function DO6 takes nothing returns nothing
if IsUnitGroupDeadBJ(cc)==true then
set i8=GetRandomLocInRect(LT)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWz=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cc)
set i8=GetRandomLocInRect(LT)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWz=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cc)
set i8=GetRandomLocInRect(LT)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWz=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cc)
set i8=GetRandomLocInRect(LT)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWz=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cc)
set i8=GetRandomLocInRect(LT)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BWz=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cc)
else
call DoNothing()
endif
endfunction
function DO7 takes nothing returns nothing
set BWy=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BWy,25.)
call TriggerAddAction(BWy,function DO6)
endfunction
function DO8 takes nothing returns nothing
if IsUnitGroupDeadBJ(cd)==true then
set i8=GetRandomLocInRect(LU)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BW1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cd)
set i8=GetRandomLocInRect(LU)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BW1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cd)
set i8=GetRandomLocInRect(LU)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BW1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cd)
set i8=GetRandomLocInRect(LU)
call CreateNUnitsAtLoc(1,$6E303157,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BW1=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cd)
else
call DoNothing()
endif
endfunction
function DO9 takes nothing returns nothing
set BW0=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BW0,25.)
call TriggerAddAction(BW0,function DO8)
endfunction
function DPB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(BW3)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPC takes nothing returns nothing
set BW2=CreateTrigger()
call TriggerRegisterUnitEvent(BW2,VB,EVENT_UNIT_DEATH)
call TriggerAddAction(BW2,function DPB)
endfunction
function DPD takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cB)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Ig)
call CreateNUnitsAtLoc(1,$6E303247,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BW4=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cB)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPE takes nothing returns nothing
set BW3=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BW3,1.)
call TriggerAddAction(BW3,function DPD)
endfunction
function DPF takes nothing returns nothing
call DisableTrigger(BW3)
endfunction
function DPG takes nothing returns nothing
set BW5=CreateTrigger()
call TriggerAddAction(BW5,function DPF)
endfunction
function DPH takes nothing returns boolean
return GetDyingUnit()==BW4
endfunction
function DPI takes nothing returns nothing
if GetRandomInt(1,100)<=33 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930355A,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303630,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303631,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303631,i8)
call RemoveLocation(i8)
endif
endif
endif
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930454D,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930454E,i8)
call RemoveLocation(i8)
endif
endfunction
function DPJ takes nothing returns nothing
set BW6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BW6,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BW6,Condition(function DPH))
call TriggerAddAction(BW6,function DPI)
endfunction
function DPK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cC)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(In)
call CreateNUnitsAtLoc(1,$6E303049,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BW8=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cC)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPL takes nothing returns nothing
set BW7=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BW7,1.)
call TriggerAddAction(BW7,function DPK)
endfunction
function DPM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cD)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Io)
call CreateNUnitsAtLoc(1,$6E303049,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cD)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPN takes nothing returns nothing
set BW9=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BW9,1.)
call TriggerAddAction(BW9,function DPM)
endfunction
function DPO takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cE)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Ip)
call CreateNUnitsAtLoc(1,$6E303049,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXD=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cE)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPP takes nothing returns nothing
set BXC=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXC,1.)
call TriggerAddAction(BXC,function DPO)
endfunction
function DPQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cF)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Iq)
call CreateNUnitsAtLoc(1,$6E303049,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cF)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPR takes nothing returns nothing
set BXE=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXE,1.)
call TriggerAddAction(BXE,function DPQ)
endfunction
function DPS takes nothing returns nothing
call GroupAddUnitSimple(VT,cC)
call GroupAddUnitSimple(VU,cD)
call GroupAddUnitSimple(VS,cE)
call GroupAddUnitSimple(VQ,cF)
endfunction
function DPT takes nothing returns nothing
set BXG=CreateTrigger()
call TriggerRegisterTimerEventSingle(BXG,.1)
call TriggerAddAction(BXG,function DPS)
endfunction
function DPU takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303049
endfunction
function DPV takes nothing returns nothing
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303634,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303636,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303635,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303637,i8)
call RemoveLocation(i8)
endif
endif
endif
endfunction
function DPW takes nothing returns nothing
set BXH=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BXH,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BXH,Condition(function DPU))
call TriggerAddAction(BXH,function DPV)
endfunction
function DPX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DPY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kn))
endfunction
function DPZ takes nothing returns nothing
set BXI=CreateTrigger()
call Bi7(BXI,Kk)
call TriggerAddCondition(BXI,Condition(function DPX))
call TriggerAddAction(BXI,function DPY)
endfunction
function DPa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DPb takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Kl))
endfunction
function DPc takes nothing returns nothing
set BXJ=CreateTrigger()
call Bi7(BXJ,Km)
call TriggerAddCondition(BXJ,Condition(function DPa))
call TriggerAddAction(BXJ,function DPb)
endfunction
function DPd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetRectCenter(Ko)
call CreateNUnitsAtLoc(1,$6E303257,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXL=GetLastCreatedUnit()
endfunction
function DPe takes nothing returns nothing
set BXK=CreateTrigger()
call TriggerRegisterTimerEventSingle(BXK,30.)
call TriggerAddAction(BXK,function DPd)
endfunction
function DPf takes nothing returns boolean
return GetDyingUnit()==BXL
endfunction
function DPg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303747,i8)
call RemoveLocation(i8)
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303747,i8)
call RemoveLocation(i8)
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303744,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303745,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303743,i8)
call RemoveLocation(i8)
endif
endif
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Ko)
call CreateNUnitsAtLoc(1,$6E303257,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXL=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPh takes nothing returns nothing
set BXM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BXM,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BXM,Condition(function DPf))
call TriggerAddAction(BXM,function DPg)
endfunction
function DPi takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cX)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(Kp)
call CreateNUnitsAtLoc(1,$6E303258,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cX)
set i8=GetRandomLocInRect(Kp)
call CreateNUnitsAtLoc(1,$6E303258,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cX)
set i8=GetRandomLocInRect(Kp)
call CreateNUnitsAtLoc(1,$6E303258,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cX)
set i8=GetRandomLocInRect(Kp)
call CreateNUnitsAtLoc(1,$6E303258,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXO=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cX)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPj takes nothing returns nothing
set BXN=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXN,1.)
call TriggerAddAction(BXN,function DPi)
endfunction
function DPk takes nothing returns boolean
return GetDyingUnit()==BGV
endfunction
function DPl takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if GetRandomInt(1,100)<=25 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303737,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=33 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303738,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303739,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303546,i8)
call RemoveLocation(i8)
endif
endif
endif
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(Kf)
call CreateNUnitsAtLoc(1,$75303030,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BGV=GetLastCreatedUnit()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DPm takes nothing returns nothing
set BXP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BXP,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BXP,Condition(function DPk))
call TriggerAddAction(BXP,function DPl)
endfunction
function DPn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set i8=GetRectCenter(Kf)
call CreateNUnitsAtLoc(1,$75303030,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BGV=GetLastCreatedUnit()
endfunction
function DPo takes nothing returns nothing
set BXQ=CreateTrigger()
call TriggerRegisterTimerEventSingle(BXQ,.1)
call TriggerAddAction(BXQ,function DPn)
endfunction
function DPp takes nothing returns nothing
if IsUnitGroupDeadBJ(bb)==true then
set i8=GetRandomLocInRect(EK)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bb)
set i8=GetRandomLocInRect(EK)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bb)
set i8=GetRandomLocInRect(EK)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bb)
set i8=GetRandomLocInRect(EK)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bb)
set i8=GetRandomLocInRect(EK)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXS=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bb)
else
call DoNothing()
endif
endfunction
function DPq takes nothing returns nothing
set BXR=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXR,15.)
call TriggerAddAction(BXR,function DPp)
endfunction
function DPr takes nothing returns nothing
if IsUnitGroupDeadBJ(ce)==true then
set i8=GetRandomLocInRect(LZ)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ce)
set i8=GetRandomLocInRect(LZ)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ce)
set i8=GetRandomLocInRect(LZ)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ce)
set i8=GetRandomLocInRect(LZ)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ce)
set i8=GetRandomLocInRect(LZ)
call CreateNUnitsAtLoc(1,$6E303130,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ce)
else
call DoNothing()
endif
endfunction
function DPs takes nothing returns nothing
set BXT=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXT,25.)
call TriggerAddAction(BXT,function DPr)
endfunction
function DPt takes nothing returns nothing
if IsUnitGroupDeadBJ(cf)==true then
set i8=GetRandomLocInRect(Le)
call CreateNUnitsAtLoc(1,$6E303333,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXW=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cf)
set i8=GetRandomLocInRect(Le)
call CreateNUnitsAtLoc(1,$6E303333,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXW=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cf)
set i8=GetRandomLocInRect(Le)
call CreateNUnitsAtLoc(1,$6E303333,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXW=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cf)
set i8=GetRandomLocInRect(Le)
call CreateNUnitsAtLoc(1,$6E303333,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXW=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cf)
set i8=GetRandomLocInRect(Le)
call CreateNUnitsAtLoc(1,$6E303333,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXW=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cf)
else
call DoNothing()
endif
endfunction
function DPu takes nothing returns nothing
set BXV=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXV,25.)
call TriggerAddAction(BXV,function DPt)
endfunction
function DPv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DPw takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LY))
endfunction
function DPx takes nothing returns nothing
set BXX=CreateTrigger()
call Bi7(BXX,LV)
call TriggerAddCondition(BXX,Condition(function DPv))
call TriggerAddAction(BXX,function DPw)
endfunction
function DPy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DPz takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(LW))
endfunction
function DP0 takes nothing returns nothing
set BXY=CreateTrigger()
call Bi7(BXY,LX)
call TriggerAddCondition(BXY,Condition(function DPy))
call TriggerAddAction(BXY,function DPz)
endfunction
function DP1 takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303333
endfunction
function DP2 takes nothing returns nothing
if GetRandomInt(1,100)<=100 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49303758,i8)
call RemoveLocation(i8)
else
call DoNothing()
endif
endfunction
function DP3 takes nothing returns nothing
set BXZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BXZ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BXZ,Condition(function DP1))
call TriggerAddAction(BXZ,function DP2)
endfunction
function DP4 takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303758)==true and GetItemCharges(Bio(GetTriggerUnit(),$49303758))>=5
endfunction
function DP5 takes nothing returns nothing
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call RemoveItem(Bio(GetTriggerUnit(),$49303758))
call UnitAddItemByIdSwapped($49303759,GetTriggerUnit())
endfunction
function DP6 takes nothing returns nothing
set BXa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BXa,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BXa,Condition(function DP4))
call TriggerAddAction(BXa,function DP5)
endfunction
function DP7 takes nothing returns nothing
if IsUnitGroupDeadBJ(bw)==true then
call GroupClear(bw)
set i8=GetRandomLocInRect(IR)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXc=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bw)
set i8=GetRandomLocInRect(IR)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXc=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bw)
set i8=GetRandomLocInRect(IR)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXc=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bw)
set i8=GetRandomLocInRect(IR)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXc=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bw)
set i8=GetRandomLocInRect(IR)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXc=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bw)
else
call DoNothing()
endif
endfunction
function DP8 takes nothing returns nothing
set BXb=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXb,25.)
call TriggerAddAction(BXb,function DP7)
endfunction
function DP9 takes nothing returns nothing
if IsUnitGroupDeadBJ(bx)==true then
call GroupClear(bx)
set i8=GetRandomLocInRect(IS)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXe=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bx)
set i8=GetRandomLocInRect(IS)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXe=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bx)
set i8=GetRandomLocInRect(IS)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXe=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bx)
set i8=GetRandomLocInRect(IS)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXe=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bx)
set i8=GetRandomLocInRect(IS)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXe=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bx)
set i8=GetRandomLocInRect(IS)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXe=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bx)
else
call DoNothing()
endif
endfunction
function DQB takes nothing returns nothing
set BXd=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXd,25.)
call TriggerAddAction(BXd,function DP9)
endfunction
function DQC takes nothing returns nothing
if IsUnitGroupDeadBJ(by)==true then
call GroupClear(by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
set i8=GetRandomLocInRect(IT)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXg=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),by)
else
call DoNothing()
endif
endfunction
function DQD takes nothing returns nothing
set BXf=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXf,35.)
call TriggerAddAction(BXf,function DQC)
endfunction
function DQE takes nothing returns nothing
if IsUnitGroupDeadBJ(bz)==true then
call GroupClear(bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
set i8=GetRandomLocInRect(IU)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXi=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bz)
else
call DoNothing()
endif
endfunction
function DQF takes nothing returns nothing
set BXh=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXh,35.)
call TriggerAddAction(BXh,function DQE)
endfunction
function DQG takes nothing returns nothing
if IsUnitGroupDeadBJ(b0)==true then
call GroupClear(b0)
set i8=GetRandomLocInRect(H6)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXk=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b0)
set i8=GetRandomLocInRect(H6)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXk=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b0)
set i8=GetRandomLocInRect(H6)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXk=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b0)
set i8=GetRandomLocInRect(H6)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXk=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b0)
set i8=GetRandomLocInRect(H6)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXk=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b0)
else
call DoNothing()
endif
endfunction
function DQH takes nothing returns nothing
set BXj=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXj,15.)
call TriggerAddAction(BXj,function DQG)
endfunction
function DQI takes nothing returns nothing
if IsUnitGroupDeadBJ(b1)==true then
call GroupClear(b1)
set i8=GetRandomLocInRect(H7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXm=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b1)
set i8=GetRandomLocInRect(H7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXm=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b1)
set i8=GetRandomLocInRect(H7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXm=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b1)
set i8=GetRandomLocInRect(H7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXm=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b1)
set i8=GetRandomLocInRect(H7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXm=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b1)
else
call DoNothing()
endif
endfunction
function DQJ takes nothing returns nothing
set BXl=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXl,15.)
call TriggerAddAction(BXl,function DQI)
endfunction
function DQK takes nothing returns nothing
if IsUnitGroupDeadBJ(b2)==true then
call GroupClear(b2)
set i8=GetRandomLocInRect(H8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b2)
set i8=GetRandomLocInRect(H8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b2)
set i8=GetRandomLocInRect(H8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b2)
set i8=GetRandomLocInRect(H8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b2)
set i8=GetRandomLocInRect(H8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b2)
else
call DoNothing()
endif
endfunction
function DQL takes nothing returns nothing
set BXn=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXn,15.)
call TriggerAddAction(BXn,function DQK)
endfunction
function DQM takes nothing returns nothing
if IsUnitGroupDeadBJ(cZ)==true then
call GroupClear(cZ)
set i8=GetRandomLocInRect(K8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cZ)
set i8=GetRandomLocInRect(K8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cZ)
set i8=GetRandomLocInRect(K8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cZ)
set i8=GetRandomLocInRect(K8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cZ)
set i8=GetRandomLocInRect(K8)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cZ)
else
call DoNothing()
endif
endfunction
function DQN takes nothing returns nothing
set BXp=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXp,10.)
call TriggerAddAction(BXp,function DQM)
endfunction
function DQO takes nothing returns nothing
if IsUnitGroupDeadBJ(ca)==true then
call GroupClear(ca)
set i8=GetRandomLocInRect(K7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ca)
set i8=GetRandomLocInRect(K7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ca)
set i8=GetRandomLocInRect(K7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ca)
set i8=GetRandomLocInRect(K7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ca)
set i8=GetRandomLocInRect(K7)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ca)
else
call DoNothing()
endif
endfunction
function DQP takes nothing returns nothing
set BXr=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXr,10.)
call TriggerAddAction(BXr,function DQO)
endfunction
function DQQ takes nothing returns nothing
if IsUnitGroupDeadBJ(d0)==true then
call GroupClear(d0)
set i8=GetRandomLocInRect(P1)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXu=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d0)
set i8=GetRandomLocInRect(P1)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXu=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d0)
set i8=GetRandomLocInRect(P1)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXu=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d0)
set i8=GetRandomLocInRect(P1)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXu=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d0)
set i8=GetRandomLocInRect(P1)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXu=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d0)
else
call DoNothing()
endif
endfunction
function DQR takes nothing returns nothing
set BXt=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXt,10.)
call TriggerAddAction(BXt,function DQQ)
endfunction
function DQS takes nothing returns nothing
if IsUnitGroupDeadBJ(d1)==true then
call GroupClear(d1)
set i8=GetRandomLocInRect(P2)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXw=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d1)
set i8=GetRandomLocInRect(P2)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXw=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d1)
set i8=GetRandomLocInRect(P2)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXw=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d1)
set i8=GetRandomLocInRect(P2)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXw=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d1)
else
call DoNothing()
endif
endfunction
function DQT takes nothing returns nothing
set BXv=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXv,10.)
call TriggerAddAction(BXv,function DQS)
endfunction
function DQU takes nothing returns nothing
if IsUnitGroupDeadBJ(d2)==true then
call GroupClear(d2)
set i8=GetRandomLocInRect(P3)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d2)
set i8=GetRandomLocInRect(P3)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d2)
set i8=GetRandomLocInRect(P3)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d2)
set i8=GetRandomLocInRect(P3)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d2)
set i8=GetRandomLocInRect(P3)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BXy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d2)
else
call DoNothing()
endif
endfunction
function DQV takes nothing returns nothing
set BXx=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXx,10.)
call TriggerAddAction(BXx,function DQU)
endfunction
function DQW takes nothing returns nothing
if IsUnitGroupDeadBJ(b3)==true then
call GroupClear(b3)
set i8=GetRandomLocInRect(IB)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b3)
set i8=GetRandomLocInRect(IB)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b3)
set i8=GetRandomLocInRect(IB)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b3)
else
call DoNothing()
endif
endfunction
function DQX takes nothing returns nothing
set BXz=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BXz,12.)
call TriggerAddAction(BXz,function DQW)
endfunction
function DQY takes nothing returns nothing
if IsUnitGroupDeadBJ(b4)==true then
call GroupClear(b4)
set i8=GetRandomLocInRect(IC)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX2=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b4)
set i8=GetRandomLocInRect(IC)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX2=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b4)
else
call DoNothing()
endif
endfunction
function DQZ takes nothing returns nothing
set BX1=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BX1,12.)
call TriggerAddAction(BX1,function DQY)
endfunction
function DQa takes nothing returns nothing
if IsUnitGroupDeadBJ(bo)==true then
call GroupClear(bo)
set i8=GetRandomLocInRect(GN)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX4=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bo)
set i8=GetRandomLocInRect(GN)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX4=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bo)
set i8=GetRandomLocInRect(GN)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX4=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bo)
set i8=GetRandomLocInRect(GN)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX4=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bo)
set i8=GetRandomLocInRect(GN)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX4=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bo)
else
call DoNothing()
endif
endfunction
function DQb takes nothing returns nothing
set BX3=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BX3,15.)
call TriggerAddAction(BX3,function DQa)
endfunction
function DQc takes nothing returns nothing
if IsUnitGroupDeadBJ(b6)==true then
call GroupClear(b6)
set i8=GetRandomLocInRect(IH)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX6=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b6)
set i8=GetRandomLocInRect(IH)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX6=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b6)
set i8=GetRandomLocInRect(IH)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX6=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b6)
else
call DoNothing()
endif
endfunction
function DQd takes nothing returns nothing
set BX5=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BX5,35.)
call TriggerAddAction(BX5,function DQc)
endfunction
function DQe takes nothing returns nothing
if IsUnitGroupDeadBJ(b7)==true then
call GroupClear(b7)
set i8=GetRandomLocInRect(IG)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX8=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b7)
set i8=GetRandomLocInRect(IG)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX8=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b7)
set i8=GetRandomLocInRect(IG)
call CreateNUnitsAtLoc(1,$6E303156,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BX8=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),b7)
else
call DoNothing()
endif
endfunction
function DQf takes nothing returns nothing
set BX7=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BX7,35.)
call TriggerAddAction(BX7,function DQe)
endfunction
function DQg takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cG)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
set i8=GetRandomLocInRect(It)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYB=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cG)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQh takes nothing returns nothing
set BX9=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BX9,1.)
call TriggerAddAction(BX9,function DQg)
endfunction
function DQi takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cH)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cH)
set i8=GetRandomLocInRect(Iv)
call CreateNUnitsAtLoc(1,$6E303139,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYD=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cH)
set i8=GetRandomLocInRect(Iu)
call CreateNUnitsAtLoc(1,$6E303139,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYD=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cH)
set i8=GetRandomLocInRect(Iw)
call CreateNUnitsAtLoc(1,$6E303139,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYD=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cH)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQj takes nothing returns nothing
set BYC=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYC,1.)
call TriggerAddAction(BYC,function DQi)
endfunction
function DQk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cV)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cV)
set i8=GetRandomLocInRect(KR)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cV)
set i8=GetRandomLocInRect(KR)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cV)
set i8=GetRandomLocInRect(KR)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cV)
set i8=GetRandomLocInRect(KR)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cV)
set i8=GetRandomLocInRect(KR)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cV)
set i8=GetRandomLocInRect(KR)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYF=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cV)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQl takes nothing returns nothing
set BYE=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYE,1.)
call TriggerAddAction(BYE,function DQk)
endfunction
function DQm takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cW)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(35.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cW)
set i8=GetRandomLocInRect(KS)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYH=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cW)
set i8=GetRandomLocInRect(KS)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYH=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cW)
set i8=GetRandomLocInRect(KS)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYH=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cW)
set i8=GetRandomLocInRect(KS)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYH=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cW)
set i8=GetRandomLocInRect(KS)
call CreateNUnitsAtLoc(1,$6E303137,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYH=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cW)
set i8=GetRandomLocInRect(KS)
call CreateNUnitsAtLoc(1,$6E303138,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYH=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cW)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQn takes nothing returns nothing
set BYG=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYG,1.)
call TriggerAddAction(BYG,function DQm)
endfunction
function DQo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(ch)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(12.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(ch)
set i8=GetRandomLocInRect(Mb)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYJ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ch)
set i8=GetRandomLocInRect(Mb)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYJ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ch)
set i8=GetRandomLocInRect(Mb)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYJ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ch)
set i8=GetRandomLocInRect(Mb)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYJ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ch)
set i8=GetRandomLocInRect(Mb)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYJ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ch)
set i8=GetRandomLocInRect(Mb)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYJ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ch)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQp takes nothing returns nothing
set BYI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYI,1.)
call TriggerAddAction(BYI,function DQo)
endfunction
function DQq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(ci)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(12.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(ci)
set i8=GetRandomLocInRect(Mc)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYL=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ci)
set i8=GetRandomLocInRect(Mc)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYL=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ci)
set i8=GetRandomLocInRect(Mc)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYL=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ci)
set i8=GetRandomLocInRect(Mc)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYL=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ci)
set i8=GetRandomLocInRect(Mc)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYL=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ci)
set i8=GetRandomLocInRect(Mc)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYL=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ci)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQr takes nothing returns nothing
set BYK=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYK,1.)
call TriggerAddAction(BYK,function DQq)
endfunction
function DQs takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cj)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(12.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cj)
set i8=GetRandomLocInRect(Md)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYN=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cj)
set i8=GetRandomLocInRect(Md)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYN=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cj)
set i8=GetRandomLocInRect(Md)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYN=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cj)
set i8=GetRandomLocInRect(Md)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYN=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cj)
set i8=GetRandomLocInRect(Md)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYN=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cj)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQt takes nothing returns nothing
set BYM=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYM,1.)
call TriggerAddAction(BYM,function DQs)
endfunction
function DQu takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(ck)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(ck)
set i8=GetRandomLocInRect(Mh)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYP=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ck)
set i8=GetRandomLocInRect(Mh)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYP=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ck)
set i8=GetRandomLocInRect(Mh)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYP=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ck)
set i8=GetRandomLocInRect(Mh)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYP=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ck)
set i8=GetRandomLocInRect(Mh)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYP=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ck)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQv takes nothing returns nothing
set BYO=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYO,1.)
call TriggerAddAction(BYO,function DQu)
endfunction
function DQw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cl)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(12.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
set i8=GetRandomLocInRect(Mk)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYR=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cl)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQx takes nothing returns nothing
set BYQ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYQ,1.)
call TriggerAddAction(BYQ,function DQw)
endfunction
function DQy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cm)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
set i8=GetRandomLocInRect(Ml)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYT=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cm)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQz takes nothing returns nothing
set BYS=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYS,1.)
call TriggerAddAction(BYS,function DQy)
endfunction
function DQ0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cn)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cn)
set i8=GetRandomLocInRect(Mm)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYV=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cn)
set i8=GetRandomLocInRect(Mm)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYV=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cn)
set i8=GetRandomLocInRect(Mm)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYV=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cn)
set i8=GetRandomLocInRect(Mm)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYV=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cn)
set i8=GetRandomLocInRect(Mm)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYV=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cn)
set i8=GetRandomLocInRect(Mm)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYV=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cn)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQ1 takes nothing returns nothing
set BYU=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYU,1.)
call TriggerAddAction(BYU,function DQ0)
endfunction
function DQ2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(co)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303238,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
set i8=GetRandomLocInRect(Mn)
call CreateNUnitsAtLoc(1,$6E303237,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYX=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),co)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQ3 takes nothing returns nothing
set BYW=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYW,1.)
call TriggerAddAction(BYW,function DQ2)
endfunction
function DQ4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cp)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cp)
set i8=GetRandomLocInRect(Mr)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cp)
set i8=GetRandomLocInRect(Mr)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cp)
set i8=GetRandomLocInRect(Mr)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cp)
set i8=GetRandomLocInRect(Mr)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cp)
set i8=GetRandomLocInRect(Mr)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cp)
set i8=GetRandomLocInRect(Mr)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYZ=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cp)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQ5 takes nothing returns nothing
set BYY=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYY,1.)
call TriggerAddAction(BYY,function DQ4)
endfunction
function DQ6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cq)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cq)
set i8=GetRandomLocInRect(Mq)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYb=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cq)
set i8=GetRandomLocInRect(Mq)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYb=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cq)
set i8=GetRandomLocInRect(Mq)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYb=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cq)
set i8=GetRandomLocInRect(Mq)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYb=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cq)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQ7 takes nothing returns nothing
set BYa=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYa,1.)
call TriggerAddAction(BYa,function DQ6)
endfunction
function DQ8 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cr)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cr)
set i8=GetRandomLocInRect(Ms)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cr)
set i8=GetRandomLocInRect(Ms)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cr)
set i8=GetRandomLocInRect(Ms)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cr)
set i8=GetRandomLocInRect(Ms)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cr)
set i8=GetRandomLocInRect(Ms)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cr)
set i8=GetRandomLocInRect(Ms)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYd=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cr)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DQ9 takes nothing returns nothing
set BYc=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYc,1.)
call TriggerAddAction(BYc,function DQ8)
endfunction
function DRB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cs)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cs)
set i8=GetRandomLocInRect(NE)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cs)
set i8=GetRandomLocInRect(NE)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cs)
set i8=GetRandomLocInRect(NE)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cs)
set i8=GetRandomLocInRect(NE)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cs)
set i8=GetRandomLocInRect(NE)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYf=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cs)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRC takes nothing returns nothing
set BYe=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYe,1.)
call TriggerAddAction(BYe,function DRB)
endfunction
function DRD takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(cu)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(cu)
set i8=GetRandomLocInRect(Nn)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cu)
set i8=GetRandomLocInRect(Nn)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cu)
set i8=GetRandomLocInRect(Nn)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cu)
set i8=GetRandomLocInRect(Nn)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cu)
set i8=GetRandomLocInRect(Nn)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cu)
set i8=GetRandomLocInRect(Nn)
call CreateNUnitsAtLoc(1,$6E303232,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYh=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cu)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRE takes nothing returns nothing
set BYg=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYg,1.)
call TriggerAddAction(BYg,function DRD)
endfunction
function DRF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dp)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dp)
set i8=GetRandomLocInRect(Pj)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYj=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dp)
set i8=GetRandomLocInRect(Pj)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYj=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dp)
set i8=GetRandomLocInRect(Pj)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYj=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dp)
set i8=GetRandomLocInRect(Pj)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYj=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dp)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRG takes nothing returns nothing
set BYi=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYi,1.)
call TriggerAddAction(BYi,function DRF)
endfunction
function DRH takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dq)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dq)
set i8=GetRandomLocInRect(Pl)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYl=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dq)
set i8=GetRandomLocInRect(Pl)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYl=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dq)
set i8=GetRandomLocInRect(Pl)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYl=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dq)
set i8=GetRandomLocInRect(Pl)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYl=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dq)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRI takes nothing returns nothing
set BYk=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYk,1.)
call TriggerAddAction(BYk,function DRH)
endfunction
function DRJ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dr)==true and IsUnitGroupDeadBJ(ds)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dr)
call GroupClear(ds)
set i8=GetRandomLocInRect(Pm)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dr)
set i8=GetRandomLocInRect(Pm)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dr)
set i8=GetRandomLocInRect(Pm)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dr)
set i8=GetRandomLocInRect(Pm)
call CreateNUnitsAtLoc(1,$6E303438,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dr)
set i8=GetRectCenter(Pn)
call CreateNUnitsAtLoc(1,$6E303439,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYo=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ds)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRK takes nothing returns nothing
set BYm=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYm,1.)
call TriggerAddAction(BYm,function DRJ)
endfunction
function DRL takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dt)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dt)
set i8=GetRandomLocInRect(Po)
call CreateNUnitsAtLoc(1,$6E303441,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dt)
set i8=GetRandomLocInRect(Po)
call CreateNUnitsAtLoc(1,$6E303441,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dt)
set i8=GetRandomLocInRect(Po)
call CreateNUnitsAtLoc(1,$6E303441,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dt)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRM takes nothing returns nothing
set BYp=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYp,1.)
call TriggerAddAction(BYp,function DRL)
endfunction
function DRN takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dv)==true and IsUnitGroupDeadBJ(du)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dv)
call GroupClear(du)
set i8=GetRandomLocInRect(Pp)
call CreateNUnitsAtLoc(1,$6E303441,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dv)
set i8=GetRandomLocInRect(Pp)
call CreateNUnitsAtLoc(1,$6E303441,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dv)
set i8=GetRandomLocInRect(Pp)
call CreateNUnitsAtLoc(1,$6E303441,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYs=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dv)
set i8=GetRectCenter(Pp)
call CreateNUnitsAtLoc(1,$6E303442,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYt=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),du)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRO takes nothing returns nothing
set BYr=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYr,1.)
call TriggerAddAction(BYr,function DRN)
endfunction
function DRP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dx)==true and IsUnitGroupDeadBJ(dy)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(30.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dx)
call GroupClear(dy)
set i8=GetRandomLocInRect(Pr)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dx)
set i8=GetRandomLocInRect(Pr)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dx)
set i8=GetRandomLocInRect(Pr)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dx)
set i8=GetRandomLocInRect(Pr)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYv=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dx)
set i8=GetRectCenter(Ps)
call CreateNUnitsAtLoc(1,$6E303444,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYw=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dy)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRQ takes nothing returns nothing
set BYu=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYu,1.)
call TriggerAddAction(BYu,function DRP)
endfunction
function DRR takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(dz)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(dz)
set i8=GetRandomLocInRect(Pt)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dz)
set i8=GetRandomLocInRect(Pt)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dz)
set i8=GetRandomLocInRect(Pt)
call CreateNUnitsAtLoc(1,$6E303443,Player(PLAYER_NEUTRAL_AGGRESSIVE),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BYy=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),dz)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRS takes nothing returns nothing
set BYx=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYx,1.)
call TriggerAddAction(BYx,function DRR)
endfunction
function DRT takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitGroupDeadBJ(d9)==true then
call DisableTrigger(GetTriggeringTrigger())
call Biy(25.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call GroupClear(d9)
set i8=GetRandomLocInRect(QW)
call CreateNUnitsAtLoc(1,$6E30344F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BY0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d9)
set i8=GetRandomLocInRect(QW)
call CreateNUnitsAtLoc(1,$6E30344F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BY0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d9)
set i8=GetRandomLocInRect(QW)
call CreateNUnitsAtLoc(1,$6E30344F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BY0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d9)
set i8=GetRandomLocInRect(QW)
call CreateNUnitsAtLoc(1,$6E30344F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BY0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d9)
set i8=GetRandomLocInRect(QW)
call CreateNUnitsAtLoc(1,$6E30344F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BY0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d9)
set i8=GetRandomLocInRect(QW)
call CreateNUnitsAtLoc(1,$6E30344F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BY0=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),d9)
call EnableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DRU takes nothing returns nothing
set BYz=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BYz,1.)
call TriggerAddAction(BYz,function DRT)
endfunction
function DRV takes nothing returns boolean
return GetDyingUnit()==BYo
endfunction
function DRW takes nothing returns nothing
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304658,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304659,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($4930465A,i8)
call RemoveLocation(i8)
endif
endif
endfunction
function DRX takes nothing returns nothing
set BY1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BY1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BY1,Condition(function DRV))
call TriggerAddAction(BY1,function DRW)
endfunction
function DRY takes nothing returns nothing
set BYo=Ya
call GroupAddUnitSimple(Ya,ds)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function DRZ takes nothing returns nothing
set BY2=CreateTrigger()
call TriggerRegisterTimerEventSingle(BY2,.1)
call TriggerAddAction(BY2,function DRY)
endfunction
function DRa takes nothing returns boolean
return GetAttacker()==BYo
endfunction
function DRb takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DRc takes nothing returns nothing
call UnitDamageTargetBJ(BYo,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DRd takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DRb))
call ForGroupBJ(fP,function DRc)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DRe takes nothing returns nothing
set BY3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BY3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BY3,Condition(function DRa))
call TriggerAddAction(BY3,function DRd)
endfunction
function DRf takes nothing returns boolean
return GetDyingUnit()==BYt
endfunction
function DRg takes nothing returns nothing
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304731,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304730,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304732,i8)
call RemoveLocation(i8)
endif
endif
endfunction
function DRh takes nothing returns nothing
set BY4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BY4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BY4,Condition(function DRf))
call TriggerAddAction(BY4,function DRg)
endfunction
function DRi takes nothing returns nothing
set BYt=Yb
call GroupAddUnitSimple(Yb,du)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function DRj takes nothing returns nothing
set BY5=CreateTrigger()
call TriggerRegisterTimerEventSingle(BY5,.1)
call TriggerAddAction(BY5,function DRi)
endfunction
function DRk takes nothing returns boolean
return GetAttacker()==BYt
endfunction
function DRl takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DRm takes nothing returns nothing
call UnitDamageTargetBJ(BYt,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DRn takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DRl))
call ForGroupBJ(fP,function DRm)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DRo takes nothing returns nothing
set BY6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BY6,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BY6,Condition(function DRk))
call TriggerAddAction(BY6,function DRn)
endfunction
function DRp takes nothing returns boolean
return GetDyingUnit()==BYw
endfunction
function DRq takes nothing returns nothing
if GetRandomInt(1,100)<=30 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304734,i8)
call RemoveLocation(i8)
else
if GetRandomInt(1,100)<=50 then
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304735,i8)
call RemoveLocation(i8)
else
set i8=GetUnitLoc(GetDyingUnit())
call CreateItemLoc($49304733,i8)
call RemoveLocation(i8)
endif
endif
endfunction
function DRr takes nothing returns nothing
set BY7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BY7,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BY7,Condition(function DRp))
call TriggerAddAction(BY7,function DRq)
endfunction
function DRs takes nothing returns nothing
set BYw=Yc
call GroupAddUnitSimple(Yc,dy)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function DRt takes nothing returns nothing
set BY8=CreateTrigger()
call TriggerRegisterTimerEventSingle(BY8,.1)
call TriggerAddAction(BY8,function DRs)
endfunction
function DRu takes nothing returns boolean
return GetAttacker()==BYw
endfunction
function DRv takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DRw takes nothing returns nothing
call UnitDamageTargetBJ(BYw,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DRx takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DRv))
call ForGroupBJ(fP,function DRw)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DRy takes nothing returns nothing
set BY9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BY9,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BY9,Condition(function DRu))
call TriggerAddAction(BY9,function DRx)
endfunction
function DRz takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(U6)
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(U6)
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(U6)
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(U6)
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303341,GetOwningPlayer(U6),js,bj_UNIT_FACING)
call RemoveLocation(js)
set BJd=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitManaBJ(U6,0)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetRandomLocInRect(B1)
call IssuePointOrderLoc(U6,"patrol",js)
call RemoveLocation(js)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DR0 takes nothing returns nothing
set BZB=CreateTrigger()
call TriggerRegisterUnitManaEvent(BZB,U6,GREATER_THAN_OR_EQUAL,1100.)
call TriggerAddAction(BZB,function DRz)
endfunction
function DR1 takes nothing returns boolean
return GetEventDamageSource()==U6 and IsUnitEnemy(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==true and 0!=EXGetEventDamageData(mY)==true and IsUnitAliveBJ(GetTriggerUnit())==true
endfunction
function DR2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DR3 takes nothing returns nothing
call UnitDamageTargetBJ(U6,GetEnumUnit(),70.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DR4 takes nothing returns nothing
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(350.,i8,Condition(function DR2))
call ForGroupBJ(fP,function DR3)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DR5 takes nothing returns nothing
set BZC=CreateTrigger()
call Bi3(BZC)
call TriggerAddCondition(BZC,Condition(function DR1))
call TriggerAddAction(BZC,function DR4)
endfunction
function DR6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DR7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"前方boss战区域，进入则全体玩家强行传送至该区域..（注:请准备充分后再挑战）")
endfunction
function DR8 takes nothing returns nothing
set mG=CreateTrigger()
call Bi7(mG,RO)
call TriggerAddCondition(mG,Condition(function DR6))
call TriggerAddAction(mG,function DR7)
endfunction
function DR9 takes nothing returns nothing
call ShowUnit(ZT,false)
endfunction
function DSB takes nothing returns nothing
set sG=CreateTrigger()
call TriggerRegisterTimerEventSingle(sG,.1)
call TriggerAddAction(sG,function DR9)
endfunction
function DSC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DSD takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Dr))
endfunction
function DSE takes nothing returns nothing
call UnitAddAbilityBJ($41303531,GetEnumUnit())
endfunction
function DSF takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRandomLocInRect(Dw))
endfunction
function DSG takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(false)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DSD)
call ForGroupBJ(bJ,function DSE)
call UnitAddAbilityBJ($41303532,Wf)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tm)
call PlayMusicBJ(G)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(Wf,false)
call Biw(false)
call UnitAddAbilityBJ($41304232,Wf)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(Wf,"patrol",GetRectCenter(Ds))
call ForGroupBJ(cU,function DSF)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"魔化狼王满蓝时记得远离.")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSH takes nothing returns nothing
set BZD=CreateTrigger()
call Bi7(BZD,Dq)
call TriggerAddCondition(BZD,Condition(function DSC))
call TriggerAddAction(BZD,function DSG)
endfunction
function DSI takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetEnumPlayer())
endfunction
function DSJ takes nothing returns nothing
call UnitRemoveAbilityBJ($41303531,GetEnumUnit())
endfunction
function DSK takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function DSL takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Dw),true)
endfunction
function DSM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call StopMusic(false)
call ForForce(bj_FORCE_ALL_PLAYERS,function DSI)
call ForGroupBJ(bJ,function DSJ)
call EnableTrigger(BZG)
call DisableTrigger(BZH)
call EnableTrigger(BZI)
call SetDoodadAnimationRectBJ("show",$594F7466,D2)
call SetDoodadAnimationRectBJ("show",$594F7232,Dt)
call EnableTrigger(BJE)
call EnableTrigger(BJF)
call EnableTrigger(BJG)
call UseTimeOfDayBJ(true)
call ForGroupBJ(cU,function DSK)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tm)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家")
call ForGroupBJ(bJ,function DSL)
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得2000块钱......")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and IsUnitInGroup(Ue,bJ)==true then
call ConditionalTriggerExecute(BZJ)
else
call ConditionalTriggerExecute(BZK)
endif
call DestroyQuest(BZL)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"事态解决","回漠尔镇找原来告诉我们情况的幸存镇民吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BZM=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSN takes nothing returns nothing
set BZF=CreateTrigger()
call TriggerRegisterUnitEvent(BZF,Wf,EVENT_UNIT_DEATH)
call TriggerAddAction(BZF,function DSM)
endfunction
function DSO takes nothing returns nothing
call SetUnitInvulnerable(Wf,true)
endfunction
function DSP takes nothing returns nothing
set BZN=CreateTrigger()
call TriggerAddAction(BZN,function DSO)
endfunction
function DSQ takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRandomLocInRect(Dw))
endfunction
function DSR takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PauseUnitBJ(true,Wf)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimation(Wf,"attack")
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set pN=GetUnitLoc(GetTriggerUnit())
set js=PolarProjectionBJ(pN,30.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLocFacingLocBJ(1,$68303152,GetOwningPlayer(Wf),js,pN)
call RemoveLocation(pN)
call RemoveLocation(js)
set BZP=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call SetUnitScale(GetLastCreatedUnit(),1.6,1.6,1.6)
set pN=GetUnitLoc(GetLastCreatedUnit())
set js=PolarProjectionBJ(pN,30.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",js)
call RemoveLocation(pN)
call RemoveLocation(js)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PauseUnitBJ(false,Wf)
call SetUnitManaBJ(Wf,0)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set pN=GetRandomLocInRect(Dw)
call IssuePointOrderLoc(Wf,"patrol",pN)
call RemoveLocation(pN)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(cU,function DSQ)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSS takes nothing returns nothing
set BZO=CreateTrigger()
call TriggerRegisterUnitManaEvent(BZO,Wf,GREATER_THAN_OR_EQUAL,1100.)
call TriggerAddAction(BZO,function DSR)
endfunction
function DST takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,Dt)
endfunction
function DSU takes nothing returns nothing
set BZQ=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZQ,.1)
call TriggerAddAction(BZQ,function DST)
endfunction
function DSV takes nothing returns nothing
call DisableTrigger(BZG)
endfunction
function DSW takes nothing returns nothing
set BZR=CreateTrigger()
call TriggerAddAction(BZR,function DSV)
endfunction
function DSX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DSY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Du))
endfunction
function DSZ takes nothing returns nothing
set BZG=CreateTrigger()
call Bi7(BZG,Dt)
call TriggerAddCondition(BZG,Condition(function DSX))
call TriggerAddAction(BZG,function DSY)
endfunction
function DSa takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRandomLocInRect(Dw))
endfunction
function DSb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(cU,function DSa)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSc takes nothing returns nothing
set BZS=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BZS,Wf,LESS_THAN_OR_EQUAL,99999.)
call TriggerAddAction(BZS,function DSb)
endfunction
function DSd takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRandomLocInRect(Dw))
endfunction
function DSe takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(cU,function DSd)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSf takes nothing returns nothing
set BZT=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BZT,Wf,LESS_THAN_OR_EQUAL,72222.)
call TriggerAddAction(BZT,function DSe)
endfunction
function DSg takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRandomLocInRect(Dw))
endfunction
function DSh takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(cU,function DSg)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSi takes nothing returns nothing
set BZU=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BZU,Wf,LESS_THAN_OR_EQUAL,51111.)
call TriggerAddAction(BZU,function DSh)
endfunction
function DSj takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRandomLocInRect(Dw))
endfunction
function DSk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitVertexColor(Wf,255,0,0,255)
call UnitAddAbilityBJ($41304331,Wf)
call UnitAddAbilityBJ($41304D52,Wf)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call CreateNUnitsAtLoc(1,$6E303252,GetOwningPlayer(Wf),GetRandomLocInRect(Dw),bj_UNIT_FACING)
set BZE=GetLastCreatedUnit()
call GroupAddUnitSimple(BZE,cU)
call SetUnitLifeBJ(Wf,GetUnitStateSwap(UNIT_STATE_LIFE,Wf)+20000.)
call UnitAddAbilityBJ($41305244,Wf)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(cU,function DSj)
call Biy(49.9)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitRemoveAbilityBJ($41305244,Wf)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DSl takes nothing returns nothing
set BZV=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BZV,Wf,LESS_THAN_OR_EQUAL,24500.)
call TriggerAddAction(BZV,function DSk)
endfunction
function DSm takes nothing returns boolean
return GetAttacker()==Wf
endfunction
function DSn takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DSo takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),215.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DSp takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DSn))
call ForGroupBJ(fP,function DSo)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DSq takes nothing returns nothing
set BZW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BZW,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BZW,Condition(function DSm))
call TriggerAddAction(BZW,function DSp)
endfunction
function DSr takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==$6E303252
endfunction
function DSs takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DSt takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),105.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DSu takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DSs))
call ForGroupBJ(fP,function DSt)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DSv takes nothing returns nothing
set BZX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BZX,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BZX,Condition(function DSr))
call TriggerAddAction(BZX,function DSu)
endfunction
function DSw takes nothing returns nothing
call SetUnitInvulnerable(Wn,true)
endfunction
function DSx takes nothing returns nothing
set BZY=CreateTrigger()
call TriggerAddAction(BZY,function DSw)
endfunction
function DSy takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DSz takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetEnumPlayer())
endfunction
function DS0 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(EN))
endfunction
function DS1 takes nothing returns nothing
call UnitAddAbilityBJ($41303531,GetEnumUnit())
endfunction
function DS2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(false)
call ForForce(bj_FORCE_ALL_PLAYERS,function DSz)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DS0)
call ForGroupBJ(bJ,function DS1)
call UnitAddAbilityBJ($41303532,Wn)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tn)
call PlayMusicBJ(I)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(Wn,false)
call Biw(false)
call UnitAddAbilityBJ($4130325A,Wn)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(Wn,"patrol",GetRectCenter(EO))
call EnableTrigger(BZa)
call EnableTrigger(BZb)
call EnableTrigger(BZc)
call EnableTrigger(BZd)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"花岗岩首领满蓝时记得开无敌.")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DS3 takes nothing returns nothing
set BZZ=CreateTrigger()
call Bi7(BZZ,EM)
call TriggerAddCondition(BZZ,Condition(function DSy))
call TriggerAddAction(BZZ,function DS2)
endfunction
function DS4 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DS5 takes nothing returns nothing
set lG=GetUnitLoc(GetTriggerUnit())
call MoveRectToLoc(EP,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(EP)
call CreateNUnitsAtLoc(1,$68303158,Player(11),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set BZf=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,$42487765,GetLastCreatedUnit())
call Bjf(1.,GetLastCreatedUnit())
call SetUnitScale(GetLastCreatedUnit(),2.,2.,2.)
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function DS6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitAnimation(Wn,"attack")
set i8=GetUnitLoc(GetTriggerUnit())
set fP=Biq(3000.,i8,Condition(function DS4))
call ForGroupBJ(fP,function DS5)
call DestroyGroup(fP)
call RemoveLocation(i8)
call SetUnitManaBJ(Wn,0)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(Ev)
call IssuePointOrderLoc(Wn,"patrol",i8)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DS7 takes nothing returns nothing
set BZe=CreateTrigger()
call TriggerRegisterUnitManaEvent(BZe,Wn,GREATER_THAN_OR_EQUAL,2800.)
call TriggerAddAction(BZe,function DS6)
endfunction
function DS8 takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetEnumPlayer())
endfunction
function DS9 takes nothing returns nothing
call UnitRemoveAbilityBJ($41303531,GetEnumUnit())
endfunction
function DTB takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(EN),true)
endfunction
function DTC takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BZa)
call DisableTrigger(BZb)
call DisableTrigger(BZc)
call DisableTrigger(BZd)
call DisableTrigger(BZh)
call DisableTrigger(BZi)
call StopMusic(false)
call ForForce(bj_FORCE_ALL_PLAYERS,function DS8)
call ForGroupBJ(bJ,function DS9)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,To)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tn)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家.")
call ForGroupBJ(bJ,function DTB)
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得2000块钱......")
call AdjustPlayerStateBJ(2000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(2000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bc==true then
call ConditionalTriggerExecute(BSK)
else
call DoNothing()
endif
call DestroyQuest(BZj)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"色尔根要塞","到色尔根要塞里面找找新的线索吧","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BZk=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DTD takes nothing returns nothing
set BZg=CreateTrigger()
call TriggerRegisterUnitEvent(BZg,Wn,EVENT_UNIT_DEATH)
call TriggerAddAction(BZg,function DTC)
endfunction
function DTE takes nothing returns nothing
call DisableTrigger(BZa)
call DisableTrigger(BZb)
call DisableTrigger(BZc)
call DisableTrigger(BZd)
call DisableTrigger(BZh)
call DisableTrigger(BZi)
endfunction
function DTF takes nothing returns nothing
set BZl=CreateTrigger()
call TriggerAddAction(BZl,function DTE)
endfunction
function DTG takes nothing returns nothing
set i8=GetRectCenter(EW)
call CreateNUnitsAtLoc(1,$68303159,GetOwningPlayer(Wn),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BZm=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(8.,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(EU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DTH takes nothing returns nothing
set BZa=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZa,10.)
call TriggerAddAction(BZa,function DTG)
endfunction
function DTI takes nothing returns nothing
set i8=GetRectCenter(EV)
call CreateNUnitsAtLoc(1,$68303159,GetOwningPlayer(Wn),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BZm=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(8.,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(EU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DTJ takes nothing returns nothing
set BZb=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZb,10.)
call TriggerAddAction(BZb,function DTI)
endfunction
function DTK takes nothing returns nothing
set i8=GetRectCenter(ES)
call CreateNUnitsAtLoc(1,$68303159,GetOwningPlayer(Wn),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BZm=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(8.,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(ER)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DTL takes nothing returns nothing
set BZc=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZc,10.)
call TriggerAddAction(BZc,function DTK)
endfunction
function DTM takes nothing returns nothing
set i8=GetRectCenter(ET)
call CreateNUnitsAtLoc(1,$68303159,GetOwningPlayer(Wn),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BZm=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(8.,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(ER)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DTN takes nothing returns nothing
set BZd=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZd,10.)
call TriggerAddAction(BZd,function DTM)
endfunction
function DTO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BZh)
endfunction
function DTP takes nothing returns nothing
set BZn=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BZn,Wn,LESS_THAN,80000.)
call TriggerAddAction(BZn,function DTO)
endfunction
function DTQ takes nothing returns nothing
set i8=GetRandomLocInRect(EX)
call CreateNUnitsAtLoc(1,$6830315A,GetOwningPlayer(Wn),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BZo=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DTR takes nothing returns nothing
set BZh=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZh,1.)
call TriggerAddAction(BZh,function DTQ)
endfunction
function DTS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BZi)
endfunction
function DTT takes nothing returns nothing
set BZp=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BZp,Wn,LESS_THAN,55000.)
call TriggerAddAction(BZp,function DTS)
endfunction
function DTU takes nothing returns nothing
set i8=GetRandomLocInRect(EX)
call CreateNUnitsAtLoc(1,$6830315A,GetOwningPlayer(Wn),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BZo=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set i8=GetUnitLoc(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(i8,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(i8)
call Bjl(1.,bj_lastCreatedEffect)
endfunction
function DTV takes nothing returns nothing
set BZi=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZi,1.)
call TriggerAddAction(BZi,function DTU)
endfunction
function DTW takes nothing returns boolean
return GetAttacker()==Wn
endfunction
function DTX takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DTY takes nothing returns nothing
call UnitDamageTargetBJ(Wn,GetEnumUnit(),355.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DTZ takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DTX))
call ForGroupBJ(fP,function DTY)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DTa takes nothing returns nothing
set BZq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BZq,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BZq,Condition(function DTW))
call TriggerAddAction(BZq,function DTZ)
endfunction
function DTb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DTc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"前方boss战区域，进入则全体玩家强行传送至该区域..（注:请准备充分后再挑战）")
endfunction
function DTd takes nothing returns nothing
set mH=CreateTrigger()
call Bi7(mH,RP)
call TriggerAddCondition(mH,Condition(function DTb))
call TriggerAddAction(mH,function DTc)
endfunction
function DTe takes nothing returns nothing
call SetDestructableInvulnerable(Ty,true)
call SetDestructableInvulnerable(Tz,true)
endfunction
function DTf takes nothing returns nothing
set BZr=CreateTrigger()
call TriggerAddAction(BZr,function DTe)
endfunction
function DTg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Ty)
endfunction
function DTh takes nothing returns nothing
set BZs=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZs,.1)
call TriggerAddAction(BZs,function DTg)
endfunction
function DTi takes nothing returns nothing
call GroupAddUnitSimple(VI,bj)
call GroupAddUnitSimple(VH,bj)
call GroupAddUnitSimple(VG,bj)
call GroupAddUnitSimple(VN,bj)
call GroupAddUnitSimple(VF,bj)
endfunction
function DTj takes nothing returns nothing
set BZt=CreateTrigger()
call TriggerAddAction(BZt,function DTi)
endfunction
function DTk takes nothing returns nothing
call ShowUnitHide(GetEnumUnit())
endfunction
function DTl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ForGroupBJ(bj,function DTk)
endfunction
function DTm takes nothing returns nothing
set BZu=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZu,.1)
call TriggerAddAction(BZu,function DTl)
endfunction
function DTn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DTo takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetEnumPlayer())
endfunction
function DTp takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Fn))
endfunction
function DTq takes nothing returns nothing
call UnitAddAbilityBJ($41303531,GetEnumUnit())
endfunction
function DTr takes nothing returns nothing
call ShowUnitShow(GetEnumUnit())
endfunction
function DTs takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"patrol",GetRectCenter(Fz))
endfunction
function DTt takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BJW)
call Biw(true)
call ForForce(bj_FORCE_ALL_PLAYERS,function DTo)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DTp)
call ForGroupBJ(bJ,function DTq)
call ForGroupBJ(bj,function DTr)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Ty)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biw(false)
call ForGroupBJ(bj,function DTs)
call UnitAddAbilityBJ($41303533,VI)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"注意留意沙虫王的魔法值状态.")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DTu takes nothing returns nothing
set BZv=CreateTrigger()
call Bi7(BZv,Fm)
call TriggerAddCondition(BZv,Condition(function DTn))
call TriggerAddAction(BZv,function DTt)
endfunction
function DTv takes nothing returns boolean
return IsUnitGroupDeadBJ(bj)==true
endfunction
function DTw takes nothing returns nothing
call UnitRemoveAbilityBJ($41303531,GetEnumUnit())
endfunction
function DTx takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Fn),true)
endfunction
function DTy takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetEnumPlayer())
endfunction
function DTz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tz)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Ty)
call ForGroupBJ(bJ,function DTw)
call ForGroupBJ(bJ,function DTx)
call DestroyQuest(BZx)
call ForForce(bj_FORCE_ALL_PLAYERS,function DTy)
endfunction
function DT0 takes nothing returns nothing
set BZw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BZw,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BZw,Condition(function DTv))
call TriggerAddAction(BZw,function DTz)
endfunction
function DT1 takes nothing returns boolean
return GetAttacker()==VI
endfunction
function DT2 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DT3 takes nothing returns nothing
call UnitDamageTargetBJ(VI,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DT4 takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DT2))
call ForGroupBJ(fP,function DT3)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DT5 takes nothing returns nothing
set BZy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BZy,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(BZy,Condition(function DT1))
call TriggerAddAction(BZy,function DT4)
endfunction
function DT6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303342,GetOwningPlayer(VI),js,bj_UNIT_FACING)
call RemoveLocation(js)
set BZ0=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call SetUnitManaBJ(VI,0)
call TriggerSleepAction(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetRandomLocInRect(Fz)
call IssuePointOrderLoc(VI,"patrol",js)
call RemoveLocation(js)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DT7 takes nothing returns nothing
set BZz=CreateTrigger()
call TriggerRegisterUnitManaEvent(BZz,VI,GREATER_THAN_OR_EQUAL,1100.)
call TriggerAddAction(BZz,function DT6)
endfunction
function DT8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T1)
endfunction
function DT9 takes nothing returns nothing
set BZ1=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZ1,.1)
call TriggerAddAction(BZ1,function DT8)
endfunction
function DUB takes nothing returns nothing
call SetDestructableInvulnerable(T1,true)
endfunction
function DUC takes nothing returns nothing
set BZ2=CreateTrigger()
call TriggerAddAction(BZ2,function DUB)
endfunction
function DUD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DUE takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(F3))
endfunction
function DUF takes nothing returns nothing
set BZ3=CreateTrigger()
call Bi7(BZ3,F4)
call TriggerAddCondition(BZ3,Condition(function DUD))
call TriggerAddAction(BZ3,function DUE)
endfunction
function DUG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DUH takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetEnumPlayer())
endfunction
function DUI takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(F9))
endfunction
function DUJ takes nothing returns nothing
call UnitAddAbilityBJ($41303531,GetEnumUnit())
endfunction
function DUK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BZ5)
call DisableTrigger(BJW)
call Biw(true)
call StopMusic(true)
call ForForce(bj_FORCE_ALL_PLAYERS,function DUH)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DUI)
call ForGroupBJ(bJ,function DUJ)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlayMusicBJ(L)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and bl==true then
call ConditionalTriggerExecute(BZ6)
else
call ConditionalTriggerExecute(BZ7)
endif
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"恶魔双子","不妙呢..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BZ8=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUL takes nothing returns nothing
set BZ4=CreateTrigger()
call Bi7(BZ4,F5)
call TriggerAddCondition(BZ4,Condition(function DUG))
call TriggerAddAction(BZ4,function DUK)
endfunction
function DUM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：哎呀呀........看来被一些蝼蚁混了进来呢......")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：绝死丧钟....圣魔一族的力量..")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：咦...看来你是只有趣的蝼蚁呢...你手上那把剑看上去可不简单呢...")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：呵呵呵...可惜有只碍事的家伙要过来了...")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(.15)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(.15)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(.15)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(VK)
call ShowUnitShow(VJ)
call Biw(true)
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：这会本尊实在没空...你们就好好陪这些孩子玩玩吧（笑）")
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetUnitLoc(VD),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveUnit(VD)
call RemoveUnit(VL)
call Biw(false)
call IssuePointOrderLoc(VJ,"patrol",GetRandomLocInRect(GB))
call IssuePointOrderLoc(VK,"patrol",GetRandomLocInRect(GB))
call UnitAddAbilityBJ($41303847,VK)
call UnitAddAbilityBJ($41303847,VJ)
call EnableTrigger(BZ9)
call EnableTrigger(BaB)
call EnableTrigger(BaC)
call EnableTrigger(BaD)
call EnableTrigger(BaE)
call EnableTrigger(BaF)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"BOSS满蓝时记得开大....")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUN takes nothing returns nothing
set BZ6=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZ6,1.)
call TriggerAddAction(BZ6,function DUM)
endfunction
function DUO takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：哎呀呀........看来被一些蝼蚁混了进来呢......")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：我这会也还有点忙..就不陪你们玩了（笑）")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(.15)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(.15)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(.15)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetRectCenter(F7),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetRectCenter(F8),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(VK)
call ShowUnitShow(VJ)
call Biw(true)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？？？？？？：你们就好好陪这些孩子们玩玩吧...（笑")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call AddSpecialEffectLocBJ(GetUnitLoc(VD),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call Bjl(2,bj_lastCreatedEffect)
call Biy(1.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call RemoveUnit(VD)
call RemoveUnit(VL)
call Biw(false)
call IssuePointOrderLoc(VJ,"patrol",GetRandomLocInRect(GB))
call IssuePointOrderLoc(VK,"patrol",GetRandomLocInRect(GB))
call UnitAddAbilityBJ($41303847,VK)
call UnitAddAbilityBJ($41303847,VJ)
call EnableTrigger(BZ9)
call EnableTrigger(BaB)
call EnableTrigger(BaC)
call EnableTrigger(BaD)
call EnableTrigger(BaE)
call EnableTrigger(BaF)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"BOSS满蓝时记得开大....")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUP takes nothing returns nothing
set BZ7=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZ7,1.)
call TriggerAddAction(BZ7,function DUO)
endfunction
function DUQ takes nothing returns nothing
call DisableTrigger(BZ6)
call DisableTrigger(BZ7)
endfunction
function DUR takes nothing returns nothing
set BaG=CreateTrigger()
call TriggerAddAction(BaG,function DUQ)
endfunction
function DUS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(VK)
call ShowUnitHide(VJ)
endfunction
function DUT takes nothing returns nothing
set BaH=CreateTrigger()
call TriggerRegisterTimerEventSingle(BaH,.1)
call TriggerAddAction(BaH,function DUS)
endfunction
function DUU takes nothing returns nothing
call GroupAddUnitSimple(VK,bn)
call GroupAddUnitSimple(VJ,bn)
endfunction
function DUV takes nothing returns nothing
set BaI=CreateTrigger()
call TriggerAddAction(BaI,function DUU)
endfunction
function DUW takes nothing returns boolean
return IsUnitGroupDeadBJ(bn)==true
endfunction
function DUX takes nothing returns nothing
call UnitRemoveAbilityBJ($41303531,GetEnumUnit())
endfunction
function DUY takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetEnumPlayer())
endfunction
function DUZ takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(GM),true)
endfunction
function DUa takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BZ9)
call DisableTrigger(BaB)
call DisableTrigger(BaC)
call DisableTrigger(BaK)
call DisableTrigger(BaD)
call DisableTrigger(BaE)
call DisableTrigger(BaF)
call DisableTrigger(BaL)
call ForGroupBJ(bJ,function DUX)
call StopMusic(true)
call ForForce(bj_FORCE_ALL_PLAYERS,function DUY)
call UseTimeOfDayBJ(true)
call EnableTrigger(BaM)
call EnableTrigger(BaN)
call SetDoodadAnimationRectBJ("show",$594F7232,GY)
call CreateItemLoc($49303530,GetRectCenter(F9))
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家")
call ForGroupBJ(bJ,function DUZ)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and (IsUnitInGroup(Ue,bJ)==true and bl==true) then
call ConditionalTriggerExecute(BaO)
else
call ConditionalTriggerExecute(BaP)
endif
call DestroyQuest(BZ8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUb takes nothing returns nothing
set BaJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BaJ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BaJ,Condition(function DUW))
call TriggerAddAction(BaJ,function DUa)
endfunction
function DUc takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DUd takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(HX))
endfunction
function DUe takes nothing returns nothing
set BaM=CreateTrigger()
call Bi7(BaM,GY)
call TriggerAddCondition(BaM,Condition(function DUc))
call TriggerAddAction(BaM,function DUd)
endfunction
function DUf takes nothing returns nothing
call DisableTrigger(BaM)
endfunction
function DUg takes nothing returns nothing
set BaQ=CreateTrigger()
call TriggerAddAction(BaQ,function DUf)
endfunction
function DUh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,GY)
endfunction
function DUi takes nothing returns nothing
set BaR=CreateTrigger()
call TriggerRegisterTimerEventSingle(BaR,.1)
call TriggerAddAction(BaR,function DUh)
endfunction
function DUj takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向蓝火处回要塞...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向蓝火处回要塞...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根-胡须：只是随手召出的两只怪物，就有如此威能，圣魔一族的力量还真是不容小觑..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：幸好那家伙似乎在忌惮着某物的样子，不然我们恐怕是无法全身而退了")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这“双子之心”的用途恐怕没有那么简单...最好在仔细斟酌一番...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"注：双子之心是妮雅娜玩家获取“圣焰之心”的必要条件之一（色尔根要塞区域处获得）....而“圣焰之心”是获取烈皇盾的必要条件之一（同样在色尔根要塞区域获得）..")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUk takes nothing returns nothing
set BaO=CreateTrigger()
call TriggerRegisterTimerEventSingle(BaO,1.)
call TriggerAddAction(BaO,function DUj)
endfunction
function DUl takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向蓝火处回要塞...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向蓝火处回要塞...")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUm takes nothing returns nothing
set BaP=CreateTrigger()
call TriggerRegisterTimerEventSingle(BaP,1.)
call TriggerAddAction(BaP,function DUl)
endfunction
function DUn takes nothing returns nothing
call DisableTrigger(BaO)
call DisableTrigger(BaP)
endfunction
function DUo takes nothing returns nothing
set BaS=CreateTrigger()
call TriggerAddAction(BaS,function DUn)
endfunction
function DUp takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(GM)
call CreateNUnitsAtLoc(1,$68303252,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GC)
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(GM)
call CreateNUnitsAtLoc(1,$68303252,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GD)
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
set i8=GetRandomLocInRect(GM)
call CreateNUnitsAtLoc(1,$68303252,GetOwningPlayer(GetTriggerUnit()),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaU=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.2,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GE)
call IssuePointOrderLoc(GetLastCreatedUnit(),"blizzard",i8)
call RemoveLocation(i8)
call SetUnitManaPercentBJ(GetTriggerUnit(),0.)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DUq takes nothing returns nothing
set BaT=CreateTrigger()
call TriggerRegisterUnitManaEvent(BaT,VK,GREATER_THAN_OR_EQUAL,3000.)
call TriggerAddAction(BaT,function DUp)
endfunction
function DUr takes nothing returns nothing
call DisableTrigger(BZ9)
call DisableTrigger(BaB)
call DisableTrigger(BaC)
call DisableTrigger(BaK)
endfunction
function DUs takes nothing returns nothing
set BaV=CreateTrigger()
call TriggerAddAction(BaV,function DUr)
endfunction
function DUt takes nothing returns nothing
set i8=GetRectCenter(GK)
call CreateNUnitsAtLoc(1,$6830324E,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaW=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GC)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DUu takes nothing returns nothing
set BZ9=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZ9,10.)
call TriggerAddAction(BZ9,function DUt)
endfunction
function DUv takes nothing returns nothing
set i8=GetRectCenter(GF)
call CreateNUnitsAtLoc(1,$6830324E,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaW=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GD)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DUw takes nothing returns nothing
set BaB=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaB,10.)
call TriggerAddAction(BaB,function DUv)
endfunction
function DUx takes nothing returns nothing
set i8=GetRectCenter(GJ)
call CreateNUnitsAtLoc(1,$6830324E,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaW=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GE)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DUy takes nothing returns nothing
set BaC=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaC,10.)
call TriggerAddAction(BaC,function DUx)
endfunction
function DUz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BaK)
endfunction
function DU0 takes nothing returns nothing
set BaX=CreateTrigger()
call TriggerRegisterUnitLifeEvent(BaX,VK,LESS_THAN_OR_EQUAL,250000.)
call TriggerAddAction(BaX,function DUz)
endfunction
function DU1 takes nothing returns nothing
set i8=GetRandomLocInRect(GM)
call CreateNUnitsAtLoc(1,$68303251,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set BaY=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.5,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(GM)
call IssuePointOrderLoc(GetLastCreatedUnit(),"flamestrike",i8)
call RemoveLocation(i8)
endfunction
function DU2 takes nothing returns nothing
set BaK=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaK,.75)
call TriggerAddAction(BaK,function DU1)
endfunction
function DU3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BZ9)
call DisableTrigger(BaB)
call DisableTrigger(BaC)
call DisableTrigger(BaK)
endfunction
function DU4 takes nothing returns nothing
set BaZ=CreateTrigger()
call TriggerRegisterUnitEvent(BaZ,VK,EVENT_UNIT_DEATH)
call TriggerAddAction(BaZ,function DU3)
endfunction
function DU5 takes nothing returns boolean
return GetAttacker()==VK
endfunction
function DU6 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DU7 takes nothing returns nothing
call UnitDamageTargetBJ(VK,GetEnumUnit(),355.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DU8 takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(400.,i8,Condition(function DU6))
call ForGroupBJ(fP,function DU7)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DU9 takes nothing returns nothing
set Baa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Baa,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Baa,Condition(function DU5))
call TriggerAddAction(Baa,function DU8)
endfunction
function DVB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bj_forLoopAIndex=-6
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set i8=GetUnitLoc(GetTriggerUnit())
set lG=PolarProjectionBJ(i8,100.,GetUnitFacing(GetTriggerUnit())+30.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLocFacingLocBJ(1,$6830324D,GetOwningPlayer(GetTriggerUnit()),lG,i8)
call RemoveLocation(i8)
call RemoveLocation(lG)
set Bac=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42487765,GetLastCreatedUnit())
call SetUnitScale(GetLastCreatedUnit(),1.6,1.6,1.6)
set i8=GetUnitLoc(GetLastCreatedUnit())
set lG=PolarProjectionBJ(i8,100.,GetUnitFacing(GetLastCreatedUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",lG)
call RemoveLocation(i8)
call RemoveLocation(lG)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitManaPercentBJ(GetTriggerUnit(),0.)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DVC takes nothing returns nothing
set Bab=CreateTrigger()
call TriggerRegisterUnitManaEvent(Bab,VJ,GREATER_THAN_OR_EQUAL,3000.)
call TriggerAddAction(Bab,function DVB)
endfunction
function DVD takes nothing returns nothing
call DisableTrigger(BaD)
call DisableTrigger(BaE)
call DisableTrigger(BaF)
call DisableTrigger(BaL)
endfunction
function DVE takes nothing returns nothing
set Bad=CreateTrigger()
call TriggerAddAction(Bad,function DVD)
endfunction
function DVF takes nothing returns nothing
set i8=GetRectCenter(GL)
call CreateNUnitsAtLoc(1,$6830324F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bae=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GC)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DVG takes nothing returns nothing
set BaD=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaD,10.)
call TriggerAddAction(BaD,function DVF)
endfunction
function DVH takes nothing returns nothing
set i8=GetRectCenter(GG)
call CreateNUnitsAtLoc(1,$6830324F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bae=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GD)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DVI takes nothing returns nothing
set BaE=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaE,10.)
call TriggerAddAction(BaE,function DVH)
endfunction
function DVJ takes nothing returns nothing
set i8=GetRectCenter(GH)
call CreateNUnitsAtLoc(1,$6830324F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bae=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(GE)
call IssuePointOrderLoc(GetLastCreatedUnit(),"stampede",i8)
call RemoveLocation(i8)
endfunction
function DVK takes nothing returns nothing
set BaF=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaF,10.)
call TriggerAddAction(BaF,function DVJ)
endfunction
function DVL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(BaL)
endfunction
function DVM takes nothing returns nothing
set Baf=CreateTrigger()
call TriggerRegisterUnitLifeEvent(Baf,VJ,LESS_THAN_OR_EQUAL,250000.)
call TriggerAddAction(Baf,function DVL)
endfunction
function DVN takes nothing returns nothing
set i8=GetRandomLocInRect(GM)
call CreateNUnitsAtLoc(1,$68303250,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bag=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.5,$42487765,GetLastCreatedUnit())
set i8=GetRandomLocInRect(GM)
call IssuePointOrderLoc(GetLastCreatedUnit(),"clusterrockets",i8)
call RemoveLocation(i8)
endfunction
function DVO takes nothing returns nothing
set BaL=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BaL,.75)
call TriggerAddAction(BaL,function DVN)
endfunction
function DVP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BaD)
call DisableTrigger(BaE)
call DisableTrigger(BaF)
call DisableTrigger(BaL)
endfunction
function DVQ takes nothing returns nothing
set Bah=CreateTrigger()
call TriggerRegisterUnitEvent(Bah,VJ,EVENT_UNIT_DEATH)
call TriggerAddAction(Bah,function DVP)
endfunction
function DVR takes nothing returns boolean
return GetAttacker()==VJ
endfunction
function DVS takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DVT takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),400.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DVU takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DVS))
call ForGroupBJ(fP,function DVT)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DVV takes nothing returns nothing
set Bai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bai,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Bai,Condition(function DVR))
call TriggerAddAction(Bai,function DVU)
endfunction
function DVW takes nothing returns nothing
call SetUnitInvulnerable(Xu,true)
call DisableTrigger(Bak)
call DisableTrigger(Bal)
call DisableTrigger(Bam)
call GroupAddUnitSimple(Xw,cv)
call GroupAddUnitSimple(Xv,cv)
call ShowUnitHide(Xv)
call ShowUnitHide(Xw)
call ShowUnitHide(YT)
call ShowUnitHide(YU)
endfunction
function DVX takes nothing returns nothing
set Baj=CreateTrigger()
call TriggerAddAction(Baj,function DVW)
endfunction
function DVY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DVZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,Xu)
endfunction
function DVa takes nothing returns nothing
set Ban=CreateTrigger()
call Bi7(Ban,N8)
call TriggerAddCondition(Ban,Condition(function DVY))
call TriggerAddAction(Ban,function DVZ)
endfunction
function DVb takes nothing returns boolean
return GetAttacker()==Xu
endfunction
function DVc takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DVd takes nothing returns nothing
call UnitDamageTargetBJ(Xu,GetEnumUnit(),985.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DVe takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DVc))
call ForGroupBJ(fP,function DVd)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DVf takes nothing returns nothing
set Bao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bao,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Bao,Condition(function DVb))
call TriggerAddAction(Bao,function DVe)
endfunction
function DVg takes nothing returns boolean
return GetAttacker()==Xv
endfunction
function DVh takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DVi takes nothing returns nothing
call UnitDamageTargetBJ(Xu,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DVj takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DVh))
call ForGroupBJ(fP,function DVi)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DVk takes nothing returns nothing
set Bap=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bap,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Bap,Condition(function DVg))
call TriggerAddAction(Bap,function DVj)
endfunction
function DVl takes nothing returns boolean
return GetAttacker()==YT
endfunction
function DVm takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DVn takes nothing returns nothing
call UnitDamageTargetBJ(Xu,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DVo takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DVm))
call ForGroupBJ(fP,function DVn)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DVp takes nothing returns nothing
set Baq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Baq,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Baq,Condition(function DVl))
call TriggerAddAction(Baq,function DVo)
endfunction
function DVq takes nothing returns boolean
return GetAttacker()==YU
endfunction
function DVr takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DVs takes nothing returns nothing
call UnitDamageTargetBJ(Xu,GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DVt takes nothing returns nothing
set i8=GetUnitLoc(GetAttackedUnitBJ())
set fP=Biq(300.,i8,Condition(function DVr))
call ForGroupBJ(fP,function DVs)
call DestroyGroup(fP)
call RemoveLocation(i8)
endfunction
function DVu takes nothing returns nothing
set Bar=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bar,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Bar,Condition(function DVq))
call TriggerAddAction(Bar,function DVt)
endfunction
function DVv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DVw takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetEnumPlayer())
endfunction
function DVx takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(N7))
endfunction
function DVy takes nothing returns nothing
call UnitAddAbilityBJ($41303531,GetEnumUnit())
endfunction
function DVz takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(true)
call ForForce(bj_FORCE_ALL_PLAYERS,function DVw)
call DestroyQuest(Bat)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,T6)
call UnitAddAbilityBJ($41303532,Xu)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DVx)
call ForGroupBJ(bJ,function DVy)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlayMusicBJ(O)
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetUnitInvulnerable(Xu,false)
call Biw(false)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call UnitAddAbilityBJ($41303847,Xu)
call IssuePointOrderLoc(Xu,"patrol",GetRectCenter(OE))
call EnableTrigger(Bak)
call EnableTrigger(Bal)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DV0 takes nothing returns nothing
set Bas=CreateTrigger()
call Bi7(Bas,N6)
call TriggerAddCondition(Bas,Condition(function DVv))
call TriggerAddAction(Bas,function DVz)
endfunction
function DV1 takes nothing returns nothing
set i8=GetRandomLocInRect(OB)
call CreateNUnitsAtLoc(1,$6E30334F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bau=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cv)
set i8=GetRandomLocInRect(N9)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",i8)
call RemoveLocation(i8)
endfunction
function DV2 takes nothing returns nothing
set Bak=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bak,2.)
call TriggerAddAction(Bak,function DV1)
endfunction
function DV3 takes nothing returns nothing
set i8=GetRandomLocInRect(OC)
call CreateNUnitsAtLoc(1,$6E30334F,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bav=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),cv)
set i8=GetRandomLocInRect(N9)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",i8)
call RemoveLocation(i8)
endfunction
function DV4 takes nothing returns nothing
set Bal=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bal,2.)
call TriggerAddAction(Bal,function DV3)
endfunction
function DV5 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRandomLocInRect(N6)
call CreateNUnitsAtLoc(1,$68303434,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Bax=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,$42487765,GetLastCreatedUnit())
set i8=GetRectCenter(N7)
call IssuePointOrderLoc(GetLastCreatedUnit(),"silence",i8)
call RemoveLocation(i8)
call SetUnitManaBJ(Xu,0)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DV6 takes nothing returns nothing
set Baw=CreateTrigger()
call TriggerRegisterUnitManaEvent(Baw,Xu,GREATER_THAN_OR_EQUAL,3000.)
call TriggerAddAction(Baw,function DV5)
endfunction
function DV7 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Xu))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DV8 takes nothing returns nothing
set lG=GetUnitLoc(Xu)
call MoveRectToLoc(OD,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(OD)
call CreateNUnitsAtLoc(1,$68303433,GetOwningPlayer(Xu),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set Baz=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"entanglingroots",GetEnumUnit())
endfunction
function DV9 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set js=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(js,"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call RemoveLocation(js)
call Bjl(1.,bj_lastCreatedEffect)
call Biy(.1)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetUnitLoc(Xu)
set fP=Biq(3000.,i8,Condition(function DV7))
call ForGroupBJ(fP,function DV8)
call DestroyGroup(fP)
call RemoveLocation(i8)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DWB takes nothing returns nothing
set Bay=CreateTrigger()
call TriggerRegisterUnitManaEvent(Bay,Xu,GREATER_THAN_OR_EQUAL,3000.)
call TriggerAddAction(Bay,function DV9)
endfunction
function DWC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Bam)
call ShowUnitShow(Xv)
call GroupAddUnitSimple(Xv,cv)
call ShowUnitShow(Xw)
call GroupAddUnitSimple(Xw,cv)
call UnitAddAbilityBJ($41304751,Xv)
call UnitAddAbilityBJ($41304837,Xv)
call UnitAddAbilityBJ($4130484F,Xv)
call CreateNUnitsAtLoc(1,$68303435,Player(11),GetUnitLoc(Xw),bj_UNIT_FACING)
set Ba1=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
call UnitAddAbilityBJ($41304757,Xu)
endfunction
function DWD takes nothing returns nothing
set Ba0=CreateTrigger()
call TriggerRegisterUnitLifeEvent(Ba0,Xu,LESS_THAN_OR_EQUAL,150000.)
call TriggerAddAction(Ba0,function DWC)
endfunction
function DWE takes nothing returns nothing
set i8=GetUnitLoc(Xw)
call CreateNUnitsAtLoc(1,$68303435,Player(11),i8,bj_UNIT_FACING)
call RemoveLocation(i8)
set Ba1=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(10.,$42487765,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"tranquility")
endfunction
function DWF takes nothing returns nothing
set Bam=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bam,10.)
call TriggerAddAction(Bam,function DWE)
endfunction
function DWG takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetEnumPlayer())
endfunction
function DWH takes nothing returns nothing
call UnitRemoveAbilityBJ($41303531,GetEnumUnit())
endfunction
function DWI takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function DWJ takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(N7),true)
endfunction
function DWK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ForForce(bj_FORCE_ALL_PLAYERS,function DWG)
call StopMusic(false)
call ForGroupBJ(bJ,function DWH)
call DisableTrigger(Bak)
call DisableTrigger(Bal)
call DisableTrigger(Baw)
call DisableTrigger(Bay)
call DisableTrigger(Bam)
call ForGroupBJ(cv,function DWI)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家")
call ForGroupBJ(bJ,function DWJ)
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得5000块钱......")
call AdjustPlayerStateBJ(5000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(Ba3)
call EnableTrigger(kC)
call SetDoodadAnimationRectBJ("show",$594F7232,Pe)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"上方中部蓝火处通往下一处")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"上方中部蓝火处通往下一处")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DWL takes nothing returns nothing
set Ba2=CreateTrigger()
call TriggerRegisterUnitEvent(Ba2,Xu,EVENT_UNIT_DEATH)
call TriggerAddAction(Ba2,function DWK)
endfunction
function DWM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(Bam)
call UnitRemoveAbilityBJ($41304757,Xu)
endfunction
function DWN takes nothing returns nothing
set Ba4=CreateTrigger()
call TriggerRegisterUnitEvent(Ba4,Xw,EVENT_UNIT_DEATH)
call TriggerAddAction(Ba4,function DWM)
endfunction
function DWO takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Xu))==true and IsUnitAliveBJ(GetFilterUnit())==true
endfunction
function DWP takes nothing returns nothing
set lG=GetUnitLoc(Xu)
call MoveRectToLoc(OD,lG)
call RemoveLocation(lG)
set lG=GetRandomLocInRect(OD)
call CreateNUnitsAtLoc(1,$68303433,GetOwningPlayer(Xu),lG,bj_UNIT_FACING)
call RemoveLocation(lG)
set Baz=GetLastCreatedUnit()
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,$42487765,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"entanglingroots",GetEnumUnit())
endfunction
function DWQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(k7)
call SetUnitVertexColor(Xu,255,0,0,255)
call UnitAddAbilityBJ($41304B46,Xu)
call ShowUnitShow(YT)
call GroupAddUnitSimple(YT,cv)
call UnitAddAbilityBJ($41304751,YT)
call UnitAddAbilityBJ($41304837,YT)
call UnitAddAbilityBJ($4130484F,YT)
call ShowUnitShow(YU)
call GroupAddUnitSimple(YU,cv)
call UnitAddAbilityBJ($41304751,YU)
call UnitAddAbilityBJ($41304837,YU)
call UnitAddAbilityBJ($4130484F,YU)
set i8=GetUnitLoc(Xu)
set fP=Biq(3000.,i8,Condition(function DWO))
call ForGroupBJ(fP,function DWP)
call DestroyGroup(fP)
call RemoveLocation(i8)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"只有击倒所有的星惩之妖才能对森林守护者造成伤害...")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DWR takes nothing returns nothing
set Ba5=CreateTrigger()
call TriggerRegisterUnitLifeEvent(Ba5,Xu,LESS_THAN_OR_EQUAL,50000.)
call TriggerAddAction(Ba5,function DWQ)
endfunction
function DWS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(k7)
call GroupAddUnitSimple(YT,eK)
call GroupAddUnitSimple(YU,eK)
endfunction
function DWT takes nothing returns nothing
set k6=CreateTrigger()
call TriggerRegisterTimerEventSingle(k6,1.)
call TriggerAddAction(k6,function DWS)
endfunction
function DWU takes nothing returns boolean
return IsUnitGroupDeadBJ(eK)==true
endfunction
function DWV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(k7)
call DestroyTrigger(k7)
endfunction
function DWW takes nothing returns nothing
set k8=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(k8,1.2)
call TriggerAddCondition(k8,Condition(function DWU))
call TriggerAddAction(k8,function DWV)
endfunction
function DWX takes nothing returns boolean
return GetTriggerUnit()==Xu
endfunction
function DWY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EXSetEventDamage(0.*1.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function DWZ takes nothing returns nothing
set k7=CreateTrigger()
call Bi3(k7)
call TriggerAddCondition(k7,Condition(function DWX))
call TriggerAddAction(k7,function DWY)
endfunction
function DWa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),5.,"初道峰...")
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DWc takes nothing returns nothing
set vI=CreateTrigger()
call Bi7(vI,SZ)
call TriggerAddCondition(vI,Condition(function DWa))
call TriggerAddAction(vI,function DWb)
endfunction
function DWd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWe takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(SW))
endfunction
function DWf takes nothing returns nothing
set vJ=CreateTrigger()
call Bi7(vJ,SX)
call TriggerAddCondition(vJ,Condition(function DWd))
call TriggerAddAction(vJ,function DWe)
endfunction
function DWg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWh takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(SY))
endfunction
function DWi takes nothing returns nothing
set vK=CreateTrigger()
call Bi7(vK,SV)
call TriggerAddCondition(vK,Condition(function DWg))
call TriggerAddAction(vK,function DWh)
endfunction
function DWj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($4930304A,GetRectCenter(R6))
endfunction
function DWl takes nothing returns nothing
set ru=CreateTrigger()
call Bi7(ru,R6)
call TriggerAddCondition(ru,Condition(function DWj))
call TriggerAddAction(ru,function DWk)
endfunction
function DWm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWn takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Rq))
endfunction
function DWo takes nothing returns nothing
set Ba6=CreateTrigger()
call Bi7(Ba6,Rp)
call TriggerAddCondition(Ba6,Condition(function DWm))
call TriggerAddAction(Ba6,function DWn)
endfunction
function DWp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWq takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(BK),true)
endfunction
function DWr takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call StopMusic(false)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DWq)
call PlayMusicBJ(C)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"米克尔遗迹")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"米克尔遗迹","在遗迹里找找有什么线索吧。","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Ba8=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DWs takes nothing returns nothing
set Ba7=CreateTrigger()
call Bi7(Ba7,BL)
call TriggerAddCondition(Ba7,Condition(function DWp))
call TriggerAddAction(Ba7,function DWr)
endfunction
function DWt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWu takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(BK))
endfunction
function DWv takes nothing returns nothing
set Ba9=CreateTrigger()
call Bi7(Ba9,BJ)
call TriggerAddCondition(Ba9,Condition(function DWt))
call TriggerAddAction(Ba9,function DWu)
endfunction
function DWw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DWx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BbC)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
endfunction
function DWy takes nothing returns nothing
set BbB=CreateTrigger()
call Bi7(BbB,BM)
call TriggerAddCondition(BbB,Condition(function DWw))
call TriggerAddAction(BbB,function DWx)
endfunction
function DWz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bM)==true
endfunction
function DW0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BbB)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BN),bj_UNIT_FACING)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"..............")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DW1 takes nothing returns nothing
set BbC=CreateTrigger()
call Bi7(BbC,BM)
call TriggerAddCondition(BbC,Condition(function DWz))
call TriggerAddAction(BbC,function DW0)
endfunction
function DW2 takes nothing returns nothing
call IssueTargetOrder(Uu,"harvest",Ut)
call IssueTargetOrder(Uv,"harvest",Ut)
endfunction
function DW3 takes nothing returns nothing
set BbD=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbD,1.)
call TriggerAddAction(BbD,function DW2)
endfunction
function DW4 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DW5 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DestroyQuest(Ba8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"...这盏灯...")
call Biy(2.4)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"有个钥匙口....")
call Biy(2.8)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"看来需要找把钥匙了....")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"线索","找找看哪里有能打开这个能量发生器机关的钥匙..并将钥匙带到能量发生器面前..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BbF=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DW6 takes nothing returns nothing
set BbE=CreateTrigger()
call Bi7(BbE,BT)
call TriggerAddCondition(BbE,Condition(function DW4))
call TriggerAddAction(BbE,function DW5)
endfunction
function DW7 takes nothing returns boolean
return GetManipulatedItem()==UG
endfunction
function DW8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BU),bj_UNIT_FACING)
endfunction
function DW9 takes nothing returns nothing
set BbG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BbG,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BbG,Condition(function DW7))
call TriggerAddAction(BbG,function DW8)
endfunction
function DXB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,TY)
endfunction
function DXC takes nothing returns nothing
set BbH=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbH,.1)
call TriggerAddAction(BbH,function DXB)
endfunction
function DXD takes nothing returns nothing
call SetDestructableInvulnerable(TY,true)
endfunction
function DXE takes nothing returns nothing
set BbI=CreateTrigger()
call TriggerAddAction(BbI,function DXD)
endfunction
function DXF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DXG takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(Uz)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(BX),bj_UNIT_FACING)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DXH takes nothing returns nothing
set BbJ=CreateTrigger()
call Bi7(BbJ,BV)
call TriggerAddCondition(BbJ,Condition(function DXF))
call TriggerAddAction(BbJ,function DXG)
endfunction
function DXI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(Uz)
endfunction
function DXJ takes nothing returns nothing
set BbK=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbK,.1)
call TriggerAddAction(BbK,function DXI)
endfunction
function DXK takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(BX),true)
endfunction
function DXL takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,TY)
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DXK)
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得600钱")
call AdjustPlayerStateBJ(600,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(600,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请携带“钥匙”前往大厅中间魔法灯处开启下一处区域（注：同时留意F9相关任务）")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DXM takes nothing returns nothing
set BbL=CreateTrigger()
call TriggerRegisterUnitEvent(BbL,Uz,EVENT_UNIT_DEATH)
call TriggerAddAction(BbL,function DXL)
endfunction
function DXN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F6C62,BY)
endfunction
function DXO takes nothing returns nothing
set BbM=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbM,.1)
call TriggerAddAction(BbM,function DXN)
endfunction
function DXP takes nothing returns boolean
return Bi9(GetTriggerUnit(),$4930304B)==true
endfunction
function DXQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyQuest(BbF)
call RemoveItem(Bio(GetTriggerUnit(),$4930304B))
call SetDoodadAnimationRectBJ("show",$594F6C62,BY)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"灯的前面出现了异动......")
call EnableTrigger(BbO)
call DestroyQuest(BbF)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"魔法灯","魔法灯的机关打开了..进去看看有什么新的线索吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BbP=GetLastCreatedQuestBJ()
endfunction
function DXR takes nothing returns nothing
set BbN=CreateTrigger()
call Bi7(BbN,BT)
call TriggerAddCondition(BbN,Condition(function DXP))
call TriggerAddAction(BbN,function DXQ)
endfunction
function DXS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304952)==false
endfunction
function DXT takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ba))
endfunction
function DXU takes nothing returns nothing
set BbO=CreateTrigger()
call Bi7(BbO,BY)
call TriggerAddCondition(BbO,Condition(function DXS))
call TriggerAddAction(BbO,function DXT)
endfunction
function DXV takes nothing returns nothing
call DisableTrigger(BbO)
endfunction
function DXW takes nothing returns nothing
set BbQ=CreateTrigger()
call TriggerAddAction(BbQ,function DXV)
endfunction
function DXX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DXY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bc))
endfunction
function DXZ takes nothing returns nothing
set BbR=CreateTrigger()
call Bi7(BbR,BZ)
call TriggerAddCondition(BbR,Condition(function DXX))
call TriggerAddAction(BbR,function DXY)
endfunction
function DXa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,TZ)
endfunction
function DXb takes nothing returns nothing
set BbS=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbS,.1)
call TriggerAddAction(BbS,function DXa)
endfunction
function DXc takes nothing returns nothing
call SetDestructableInvulnerable(TZ,true)
endfunction
function DXd takes nothing returns nothing
set BbT=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbT,.1)
call TriggerAddAction(BbT,function DXc)
endfunction
function DXe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(U1)
call ShowUnitHide(U2)
call ShowUnitHide(U4)
call ShowUnitHide(U5)
call ShowUnitHide(U3)
endfunction
function DXf takes nothing returns nothing
set BbU=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbU,.1)
call TriggerAddAction(BbU,function DXe)
endfunction
function DXg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DXh takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true then
call ConditionalTriggerExecute(BbW)
else
call ConditionalTriggerExecute(BbX)
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DXi takes nothing returns nothing
set BbV=CreateTrigger()
call Bi7(BbV,Be)
call TriggerAddCondition(BbV,Condition(function DXg))
call TriggerAddAction(BbV,function DXh)
endfunction
function DXj takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(U1)
call ShowUnitShow(U2)
call ShowUnitShow(U4)
call ShowUnitShow(U3)
call ShowUnitShow(U5)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(U1,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U2,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U4,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U3,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U5,"patrol",GetRandomLocInRect(Bg))
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T2)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：塔上的这颗珠子蕴藏的力量似乎并不一般..")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：最好不要现在就浪费它的力量..")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DXk takes nothing returns nothing
set BbW=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbW,.1)
call TriggerAddAction(BbW,function DXj)
endfunction
function DXl takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(U1)
call ShowUnitShow(U2)
call ShowUnitShow(U4)
call ShowUnitShow(U3)
call ShowUnitShow(U5)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call IssuePointOrderLoc(U1,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U2,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U4,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U3,"patrol",GetRandomLocInRect(Bg))
call IssuePointOrderLoc(U5,"patrol",GetRandomLocInRect(Bg))
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bg),bj_UNIT_FACING)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DXm takes nothing returns nothing
set BbX=CreateTrigger()
call TriggerRegisterTimerEventSingle(BbX,.1)
call TriggerAddAction(BbX,function DXl)
endfunction
function DXn takes nothing returns nothing
call DisableTrigger(BbW)
call DisableTrigger(BbX)
endfunction
function DXo takes nothing returns nothing
set BbY=CreateTrigger()
call TriggerAddAction(BbY,function DXn)
endfunction
function DXp takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Bg),true)
endfunction
function DXq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
set hX=true
call ModifyGateBJ(bj_GATEOPERATION_OPEN,TZ)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T2)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得800钱")
call AdjustPlayerStateBJ(800,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call ShowUnit(aK,true)
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function DXp)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"塔上的珠子掉落了下来..")
call KillUnit(U0)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"回去吧...魔法灯的上面貌似还有一条路....")
call SetDoodadAnimationRectBJ("show",$594F7232,Bo)
call SetDoodadAnimationRectBJ("show",$594F7232,Bs)
call EnableTrigger(Bba)
call EnableTrigger(Bbb)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bn),bj_UNIT_FACING)
call DestroyQuest(BbP)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"魔法灯上方的位置","似乎得到想要的东西了..在外面魔法灯的上方位置似乎另外有个出口..去看看吧.","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bbc=GetLastCreatedQuestBJ()
call EnableTrigger(BHY)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DXr takes nothing returns nothing
set BbZ=CreateTrigger()
call TriggerRegisterUnitEvent(BbZ,U1,EVENT_UNIT_DEATH)
call TriggerAddAction(BbZ,function DXq)
endfunction
function DXs takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DXt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bi),bj_UNIT_FACING)
endfunction
function DXu takes nothing returns nothing
set Bbd=CreateTrigger()
call Bi7(Bbd,Bh)
call TriggerAddCondition(Bbd,Condition(function DXs))
call TriggerAddAction(Bbd,function DXt)
endfunction
function DXv takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DXw takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Bj),bj_UNIT_FACING)
endfunction
function DXx takes nothing returns nothing
set Bbe=CreateTrigger()
call Bi7(Bbe,Bk)
call TriggerAddCondition(Bbe,Condition(function DXv))
call TriggerAddAction(Bbe,function DXw)
endfunction
function DXy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,Bo)
endfunction
function DXz takes nothing returns nothing
set Bbf=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bbf,.1)
call TriggerAddAction(Bbf,function DXy)
endfunction
function DX0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DX1 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bp))
endfunction
function DX2 takes nothing returns nothing
set Bba=CreateTrigger()
call Bi7(Bba,Bo)
call TriggerAddCondition(Bba,Condition(function DX0))
call TriggerAddAction(Bba,function DX1)
endfunction
function DX3 takes nothing returns nothing
call DisableTrigger(Bba)
endfunction
function DX4 takes nothing returns nothing
set Bbg=CreateTrigger()
call TriggerAddAction(Bbg,function DX3)
endfunction
function DX5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DX6 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bq))
endfunction
function DX7 takes nothing returns nothing
set Bbh=CreateTrigger()
call Bi7(Bbh,Br)
call TriggerAddCondition(Bbh,Condition(function DX5))
call TriggerAddAction(Bbh,function DX6)
endfunction
function DX8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,Bs)
endfunction
function DX9 takes nothing returns nothing
set Bbi=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bbi,.1)
call TriggerAddAction(Bbi,function DX8)
endfunction
function DYB takes nothing returns nothing
call DisableTrigger(Bbb)
endfunction
function DYC takes nothing returns nothing
set Bbj=CreateTrigger()
call TriggerAddAction(Bbj,function DYB)
endfunction
function DYD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYE takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bu))
endfunction
function DYF takes nothing returns nothing
set Bbb=CreateTrigger()
call Bi7(Bbb,Bs)
call TriggerAddCondition(Bbb,Condition(function DYD))
call TriggerAddAction(Bbb,function DYE)
endfunction
function DYG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYH takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Bt))
endfunction
function DYI takes nothing returns nothing
set Bbk=CreateTrigger()
call Bi7(Bbk,Bv)
call TriggerAddCondition(Bbk,Condition(function DYG))
call TriggerAddAction(Bbk,function DYH)
endfunction
function DYJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tg)
endfunction
function DYK takes nothing returns nothing
set Bbl=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bbl,.1)
call TriggerAddAction(Bbl,function DYJ)
endfunction
function DYL takes nothing returns nothing
call SetDestructableInvulnerable(Tg,true)
call SetDestructableInvulnerable(Th,true)
endfunction
function DYM takes nothing returns nothing
set Bbm=CreateTrigger()
call TriggerAddAction(Bbm,function DYL)
endfunction
function DYN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(U6)
endfunction
function DYO takes nothing returns nothing
set Bbn=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bbn,.1)
call TriggerAddAction(Bbn,function DYN)
endfunction
function DYP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303542)==false or Bi9(GetTriggerUnit(),$49304947)==false or Bi9(GetTriggerUnit(),$49304948)==false or Bi9(GetTriggerUnit(),$49304949)==false or Bi9(GetTriggerUnit(),$4930494A)==false
endfunction
function DYQ takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetEnumPlayer())
endfunction
function DYR takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Bz))
endfunction
function DYS takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(false)
call ForForce(bj_FORCE_ALL_PLAYERS,function DYQ)
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(U6)
call ForGroupBJ(bJ,function DYR)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tg)
call PlayMusicBJ(D)
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"擅闯者死.")
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(Bbp)
call Biw(false)
call UnitAddAbilityBJ($41304232,U6)
call IssuePointOrderLoc(U6,"patrol",GetRectCenter(B0))
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"遗迹沉沦者满篮时经过一段极短的时间后会对周围使用踩踏技能，造成晕眩和伤害，记得注意其蓝量，并使用无敌类技能躲避")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DYT takes nothing returns nothing
set Bbo=CreateTrigger()
call Bi7(Bbo,By)
call TriggerAddCondition(Bbo,Condition(function DYP))
call TriggerAddAction(Bbo,function DYS)
endfunction
function DYU takes nothing returns nothing
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303042,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303043,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303043,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303043,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
call CreateNUnitsAtLoc(1,$6E303043,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B1),bj_UNIT_FACING)
set Bbq=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bT)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(B1))
endfunction
function DYV takes nothing returns nothing
set Bbp=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bbp,25.)
call TriggerAddAction(Bbp,function DYU)
endfunction
function DYW takes nothing returns nothing
call DisableTrigger(Bbp)
endfunction
function DYX takes nothing returns nothing
set Bbr=CreateTrigger()
call TriggerAddAction(Bbr,function DYW)
endfunction
function DYY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B3),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B3),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B3),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B3),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B3),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B3),bj_UNIT_FACING)
endfunction
function DYa takes nothing returns nothing
set Bbs=CreateTrigger()
call Bi7(Bbs,B2)
call TriggerAddCondition(Bbs,Condition(function DYY))
call TriggerAddAction(Bbs,function DYZ)
endfunction
function DYb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B5),bj_UNIT_FACING)
endfunction
function DYd takes nothing returns nothing
set Bbt=CreateTrigger()
call Bi7(Bbt,B4)
call TriggerAddCondition(Bbt,Condition(function DYb))
call TriggerAddAction(Bbt,function DYc)
endfunction
function DYe takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B7),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B7),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B7),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B7),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B7),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(B7),bj_UNIT_FACING)
endfunction
function DYg takes nothing returns nothing
set Bbu=CreateTrigger()
call Bi7(Bbu,B6)
call TriggerAddCondition(Bbu,Condition(function DYe))
call TriggerAddAction(Bbu,function DYf)
endfunction
function DYh takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CB),bj_UNIT_FACING)
endfunction
function DYj takes nothing returns nothing
set Bbv=CreateTrigger()
call Bi7(Bbv,B9)
call TriggerAddCondition(Bbv,Condition(function DYh))
call TriggerAddAction(Bbv,function DYi)
endfunction
function DYk takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CD),bj_UNIT_FACING)
endfunction
function DYm takes nothing returns nothing
set Bbw=CreateTrigger()
call Bi7(Bbw,CC)
call TriggerAddCondition(Bbw,Condition(function DYk))
call TriggerAddAction(Bbw,function DYl)
endfunction
function DYn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CF),bj_UNIT_FACING)
endfunction
function DYp takes nothing returns nothing
set Bbx=CreateTrigger()
call Bi7(Bbx,CE)
call TriggerAddCondition(Bbx,Condition(function DYn))
call TriggerAddAction(Bbx,function DYo)
endfunction
function DYq takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function DYr takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,$41304D51,GetEnumPlayer())
endfunction
function DYs takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(Bz),true)
endfunction
function DYt takes nothing returns nothing
call SetUnitLifePercentBJ(GetEnumUnit(),100)
endfunction
function DYu takes nothing returns nothing
call SetUnitManaPercentBJ(GetEnumUnit(),100)
endfunction
function DYv takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(Bbp)
call StopMusic(true)
call DestroyQuest(Bbz)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Th)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tg)
call ForGroupBJ(bT,function DYq)
call ForForce(bj_FORCE_ALL_PLAYERS,function DYr)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家并给予所有玩家满状态恢复")
call ForGroupBJ(bJ,function DYs)
call ForGroupBJ(bJ,function DYt)
call ForGroupBJ(bJ,function DYu)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得1000块钱")
call AdjustPlayerStateBJ(1000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CO),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303030,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CR),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CR),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CR),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CR),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CR),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(CR),bj_UNIT_FACING)
call ShowUnit(ZT,true)
call DestroyQuest(Bbc)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"继续向前","继续往前走吧","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bb0=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DYw takes nothing returns nothing
set Bby=CreateTrigger()
call TriggerRegisterUnitEvent(Bby,U6,EVENT_UNIT_DEATH)
call TriggerAddAction(Bby,function DYv)
endfunction
function DYx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DYy takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CH))
endfunction
function DYz takes nothing returns nothing
set Bb1=CreateTrigger()
call Bi7(Bb1,CN)
call TriggerAddCondition(Bb1,Condition(function DYx))
call TriggerAddAction(Bb1,function DYy)
endfunction
function DY0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DY1 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CU))
endfunction
function DY2 takes nothing returns nothing
set Bb2=CreateTrigger()
call Bi7(Bb2,C1)
call TriggerAddCondition(Bb2,Condition(function DY0))
call TriggerAddAction(Bb2,function DY1)
endfunction
function DY3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DY4 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Sz))
endfunction
function DY5 takes nothing returns nothing
set Bb3=CreateTrigger()
call Bi7(Bb3,Sy)
call TriggerAddCondition(Bb3,Condition(function DY3))
call TriggerAddAction(Bb3,function DY4)
endfunction
function DY6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DY7 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(S0))
endfunction
function DY8 takes nothing returns nothing
set Bb4=CreateTrigger()
call Bi7(Bb4,Sx)
call TriggerAddCondition(Bb4,Condition(function DY6))
call TriggerAddAction(Bb4,function DY7)
endfunction
function DY9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(aK,false)
endfunction
function DZB takes nothing returns nothing
set xO=CreateTrigger()
call TriggerRegisterTimerEventSingle(xO,5)
call TriggerAddAction(xO,function DY9)
endfunction
function DZC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZD takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(Bb6)
call DestroyQuest(Bb7)
call Biw(true)
call StopMusic(true)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true then
call ConditionalTriggerExecute(Bb8)
else
call ConditionalTriggerExecute(Bb9)
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZE takes nothing returns nothing
set Bb5=CreateTrigger()
call Bi7(Bb5,Cf)
call TriggerAddCondition(Bb5,Condition(function DZC))
call TriggerAddAction(Bb5,function DZD)
endfunction
function DZF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZG takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(Bb5)
call DestroyQuest(Bb7)
call Biw(true)
call StopMusic(true)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call TriggerSleepAction(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true then
call ConditionalTriggerExecute(Bb8)
else
call ConditionalTriggerExecute(Bb9)
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZH takes nothing returns nothing
set Bb6=CreateTrigger()
call Bi7(Bb6,Cq)
call TriggerAddCondition(Bb6,Condition(function DZF))
call TriggerAddAction(Bb6,function DZG)
endfunction
function DZI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
call Biw(false)
call PauseUnitBJ(true,Wf)
call PlayMusicBJ(E)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家")
call ReviveHeroLoc(Uc,GetRectCenter(CU),true)
call ReviveHeroLoc(Ud,GetRectCenter(CU),true)
call ReviveHeroLoc(Ue,GetRectCenter(CU),true)
call ReviveHeroLoc(Uj,GetRectCenter(CU),true)
call ReviveHeroLoc(Ui,GetRectCenter(CU),true)
call ReviveHeroLoc(Uh,GetRectCenter(CU),true)
call ReviveHeroLoc(Ug,GetRectCenter(CU),true)
call ReviveHeroLoc(Uf,GetRectCenter(CU),true)
call DestroyQuest(Bb0)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"新的方向","到东北方向的漠尔镇看看","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BcB=GetLastCreatedQuestBJ()
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：我感应到东北方向存在一座小镇..")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：但这片区域也同样藏着不少变异的气息...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：先去那边看看吧..")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZJ takes nothing returns nothing
set Bb8=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bb8,1.)
call TriggerAddAction(Bb8,function DZI)
endfunction
function DZK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CameraClearNoiseForPlayer(Player(0))
call CameraClearNoiseForPlayer(Player(1))
call CameraClearNoiseForPlayer(Player(2))
call CameraClearNoiseForPlayer(Player(3))
call CameraClearNoiseForPlayer(Player(4))
call CameraClearNoiseForPlayer(Player(5))
call CameraClearNoiseForPlayer(Player(6))
call CameraClearNoiseForPlayer(Player(7))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这沙漠附近似乎有个小镇...先去那看看吧")
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biw(false)
call PauseUnitBJ(true,Wf)
call PlayMusicBJ(E)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家")
call ReviveHeroLoc(Uc,GetRectCenter(CU),true)
call ReviveHeroLoc(Ud,GetRectCenter(CU),true)
call ReviveHeroLoc(Ue,GetRectCenter(CU),true)
call ReviveHeroLoc(Uj,GetRectCenter(CU),true)
call ReviveHeroLoc(Ui,GetRectCenter(CU),true)
call ReviveHeroLoc(Uh,GetRectCenter(CU),true)
call ReviveHeroLoc(Ug,GetRectCenter(CU),true)
call ReviveHeroLoc(Uf,GetRectCenter(CU),true)
call DestroyQuest(Bb0)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"新的方向","在这个沙漠里找找看有什么镇子可以休息的吧","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BcB=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZL takes nothing returns nothing
set Bb9=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bb9,1.)
call TriggerAddAction(Bb9,function DZK)
endfunction
function DZM takes nothing returns nothing
call DisableTrigger(Bb8)
call DisableTrigger(Bb9)
endfunction
function DZN takes nothing returns nothing
set BcC=CreateTrigger()
call TriggerAddAction(BcC,function DZM)
endfunction
function DZO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303651)==false
endfunction
function DZP takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CW))
endfunction
function DZQ takes nothing returns nothing
set BcD=CreateTrigger()
call Bi7(BcD,CX)
call TriggerAddCondition(BcD,Condition(function DZO))
call TriggerAddAction(BcD,function DZP)
endfunction
function DZR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZS takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(CY))
endfunction
function DZT takes nothing returns nothing
set BcE=CreateTrigger()
call Bi7(BcE,CV)
call TriggerAddCondition(BcE,Condition(function DZR))
call TriggerAddAction(BcE,function DZS)
endfunction
function DZU takes nothing returns nothing
call SetDestructableInvulnerable(Ti,true)
endfunction
function DZV takes nothing returns nothing
set BcF=CreateTrigger()
call TriggerAddAction(BcF,function DZU)
endfunction
function DZW takes nothing returns nothing
call IssuePointOrderLoc(Va,"patrol",GetRectCenter(Ci))
call IssuePointOrderLoc(Vb,"patrol",GetRectCenter(Cj))
call IssuePointOrderLoc(Vl,"patrol",GetRectCenter(Cg))
call IssuePointOrderLoc(Vm,"patrol",GetRectCenter(Ch))
call IssuePointOrderLoc(Vs,"patrol",GetRectCenter(Ck))
call IssuePointOrderLoc(Vt,"patrol",GetRectCenter(Cl))
call IssuePointOrderLoc(WB,"patrol",GetRectCenter(Ct))
call IssuePointOrderLoc(V9,"patrol",GetRectCenter(Cs))
call IssuePointOrderLoc(WC,"patrol",GetRectCenter(Cp))
call IssuePointOrderLoc(WD,"patrol",GetRectCenter(Cr))
call SetUnitAnimation(WL,"death")
endfunction
function DZX takes nothing returns nothing
set BcG=CreateTrigger()
call TriggerRegisterTimerEventSingle(BcG,.1)
call TriggerAddAction(BcG,function DZW)
endfunction
function DZY takes nothing returns nothing
call SetDestructableInvulnerable(Tj,true)
endfunction
function DZZ takes nothing returns nothing
set BcH=CreateTrigger()
call TriggerAddAction(BcH,function DZY)
endfunction
function DZa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZb takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠尔镇.......")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在镇里找找有没有旅馆可以休息吧......")
call DestroyQuest(BcB)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"休息","在这个镇子里找个旅馆可以休息吧","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BcJ=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZc takes nothing returns nothing
set BcI=CreateTrigger()
call Bi7(BcI,Co)
call TriggerAddCondition(BcI,Condition(function DZa))
call TriggerAddAction(BcI,function DZb)
endfunction
function DZd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZe takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Cz))
endfunction
function DZf takes nothing returns nothing
set BcK=CreateTrigger()
call Bi7(BcK,Cx)
call TriggerAddCondition(BcK,Condition(function DZd))
call TriggerAddAction(BcK,function DZe)
endfunction
function DZg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZh takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(C0))
endfunction
function DZi takes nothing returns nothing
set BcL=CreateTrigger()
call Bi7(BcL,Cy)
call TriggerAddCondition(BcL,Condition(function DZg))
call TriggerAddAction(BcL,function DZh)
endfunction
function DZj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biw(true)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家支付100金币..")
call AdjustPlayerStateBJ(-100,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-100,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"前台：请客人到往右边打开门的房间里休息吧.....")
call Biw(false)
call PauseUnitBJ(true,Wf)
call EnableTrigger(BcN)
call DisableTrigger(BcO)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tk)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tl)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZl takes nothing returns nothing
set BcM=CreateTrigger()
call Bi7(BcM,C2)
call TriggerAddCondition(BcM,Condition(function DZj))
call TriggerAddAction(BcM,function DZk)
endfunction
function DZm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"请问是否要休息？如果要休息请输入“休息”，不想现在休息的话就什么都不要输入.（注意，输入“休息”后未做完的大部分支线任务将无法再继续进行，请谨慎输入）")
call EnableTrigger(BcP)
endfunction
function DZo takes nothing returns nothing
set BcN=CreateTrigger()
call Bi7(BcN,C5)
call TriggerAddCondition(BcN,Condition(function DZm))
call TriggerAddAction(BcN,function DZn)
endfunction
function DZp takes nothing returns nothing
call DisableTrigger(BcN)
call DisableTrigger(BcP)
endfunction
function DZq takes nothing returns nothing
set BcQ=CreateTrigger()
call TriggerAddAction(BcQ,function DZp)
endfunction
function DZr takes nothing returns nothing
call SetDestructableInvulnerable(Tk,true)
call SetDestructableInvulnerable(Tl,true)
endfunction
function DZs takes nothing returns nothing
set BcR=CreateTrigger()
call TriggerAddAction(BcR,function DZr)
endfunction
function DZt takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZu takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(C4))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"先去前台那登记一下吧...")
endfunction
function DZv takes nothing returns nothing
set BcO=CreateTrigger()
call Bi7(BcO,C3)
call TriggerAddCondition(BcO,Condition(function DZt))
call TriggerAddAction(BcO,function DZu)
endfunction
function DZw takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304D51,GetEnumPlayer())
endfunction
function DZx takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(C6))
endfunction
function DZy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(true)
call ForForce(bj_FORCE_ALL_PLAYERS,function DZw)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tk)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tl)
call ForGroupBJ(bJ,function DZx)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"那就休息了吧.......")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,2.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,0,0,0)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetTimeOfDay(24.)
call UseTimeOfDayBJ(false)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,2.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0.,0.,0.,0.)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"外面好像听到了一些打斗的声音....")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"出去看看吧.......")
call PlayMusicBJ(F)
call SetDoodadAnimationRectBJ("show",$594F7232,C9)
call EnableTrigger(BcS)
call Biw(false)
call PauseUnitBJ(true,Wf)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tl)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tk)
call RemoveUnit(WW)
call RemoveUnit(WX)
call RemoveUnit(WY)
call RemoveUnit(WZ)
call RemoveUnit(Wa)
call RemoveUnit(Wb)
call RemoveUnit(WQ)
call RemoveUnit(WR)
call RemoveUnit(WU)
call RemoveUnit(WV)
call RemoveUnit(WO)
call RemoveUnit(WP)
call RemoveUnit(WS)
call RemoveUnit(WT)
call RemoveUnit(WN)
call RemoveUnit(U9)
call KillUnit(VV)
call KillUnit(VX)
call KillUnit(VY)
call KillUnit(VW)
call KillUnit(WB)
call KillUnit(V9)
call KillUnit(WC)
call KillUnit(WD)
call KillUnit(WG)
call KillUnit(WF)
call KillUnit(WE)
call KillUnit(V7)
call KillUnit(V8)
call RemoveUnit(WM)
call KillUnit(Vn)
call KillUnit(Vo)
call KillUnit(Vs)
call KillUnit(Vt)
call KillUnit(Vp)
call KillUnit(Vr)
call KillUnit(Vq)
call KillUnit(Vy)
call KillUnit(Vx)
call KillUnit(Vz)
call KillUnit(Vu)
call KillUnit(Vw)
call KillUnit(Vv)
call KillUnit(V0)
call KillUnit(V1)
call RemoveUnit(V6)
call RemoveUnit(WK)
call RemoveUnit(WL)
call KillUnit(V2)
call KillUnit(V4)
call KillUnit(V3)
call KillUnit(WI)
call KillUnit(WH)
call KillUnit(WJ)
call RemoveUnit(V5)
call RemoveUnit(VZ)
call KillUnit(Vl)
call KillUnit(Vm)
call KillUnit(Vj)
call KillUnit(Vk)
call KillUnit(Vi)
call KillUnit(Vh)
call KillUnit(Vf)
call KillUnit(Vg)
call KillUnit(Ve)
call KillUnit(Vc)
call KillUnit(Vd)
call KillUnit(Va)
call KillUnit(Vb)
call KillUnit(XK)
call KillUnit(YV)
call DisableTrigger(BQe)
call DisableTrigger(BQf)
call DisableTrigger(BQ0)
call DisableTrigger(BQ1)
call DisableTrigger(BQh)
call DisableTrigger(BQi)
call DisableTrigger(BQj)
call DisableTrigger(BQm)
call EnableTrigger(BQn)
call DisableTrigger(BQo)
call DisableTrigger(BQr)
call DisableTrigger(BQs)
call DisableTrigger(BQt)
call DisableTrigger(BQv)
call DisableTrigger(BQx)
call DisableTrigger(BWG)
call DisableTrigger(BWH)
call DisableTrigger(BWI)
call DisableTrigger(BWJ)
call DisableTrigger(BWK)
call DisableTrigger(BWL)
call DisableTrigger(BWM)
call DisableTrigger(BWN)
call DisableTrigger(BQ9)
call DisableTrigger(BRB)
call DisableTrigger(BRD)
call DisableTrigger(BWE)
call DisableTrigger(BWF)
call DisableTrigger(BQX)
call DisableTrigger(BQY)
call DisableTrigger(ur)
call DisableTrigger(us)
call DisableTrigger(uu)
call DisableTrigger(vU)
call EnableTrigger(BcT)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DE),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bW)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DE),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bW)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DE),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bW)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DE),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bW)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DE),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bW)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DE),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bW)
call EnableTrigger(BcV)
call DestroyQuest(BcJ)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"突然事态","在镇子里找找有什么线索吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BcW=GetLastCreatedQuestBJ()
call ShowUnit(Zm,true)
call ShowUnit(Zl,true)
call ShowUnit(Zk,true)
call ShowUnit(Zo,true)
set gi=true
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在完成相关主线剧情前，所有玩家传送技能暂时无法使用")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DZz takes nothing returns nothing
set BcP=CreateTrigger()
call TriggerRegisterPlayerChatEvent(BcP,Player(0),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(1),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(2),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(3),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(4),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(5),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(6),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(7),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(8),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(9),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(10),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(11),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(12),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(13),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(14),"休息",true)
call TriggerRegisterPlayerChatEvent(BcP,Player(15),"休息",true)
call TriggerAddAction(BcP,function DZy)
endfunction
function DZ0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZ1 takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"暂时没必要上去....")
endfunction
function DZ2 takes nothing returns nothing
set BZH=CreateTrigger()
call Bi7(BZH,C8)
call TriggerAddCondition(BZH,Condition(function DZ0))
call TriggerAddAction(BZH,function DZ1)
endfunction
function DZ3 takes nothing returns nothing
call DisableTrigger(BcS)
call DisableTrigger(BcT)
call DisableTrigger(BcV)
endfunction
function DZ4 takes nothing returns nothing
set BcX=CreateTrigger()
call TriggerAddAction(BcX,function DZ3)
endfunction
function DZ5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DZ6 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(DB))
endfunction
function DZ7 takes nothing returns nothing
set BcS=CreateTrigger()
call Bi7(BcS,C9)
call TriggerAddCondition(BcS,Condition(function DZ5))
call TriggerAddAction(BcS,function DZ6)
endfunction
function DZ8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7232,C9)
call ShowUnitHide(Wc)
endfunction
function DZ9 takes nothing returns nothing
set BcY=CreateTrigger()
call TriggerRegisterTimerEventSingle(BcY,.1)
call TriggerAddAction(BcY,function DZ8)
endfunction
function DaB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DaC takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(DF))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"暂时不用走这么远......")
endfunction
function DaD takes nothing returns nothing
set BcT=CreateTrigger()
call Bi7(BcT,Co)
call TriggerAddCondition(BcT,Condition(function DaB))
call TriggerAddAction(BcT,function DaC)
endfunction
function DaE takes nothing returns boolean
return IsUnitGroupDeadBJ(bW)==true
endfunction
function DaF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"看看附近还有没有幸存的人吧.......")
call Biw(false)
call PauseUnitBJ(true,Wf)
call ShowUnitShow(Wc)
call EnableTrigger(BcZ)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DG),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DG))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DH),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DH))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DH),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DH))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DH),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DH))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DH),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DH))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DH),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DH))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DH),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DH))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DJ),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DJ))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DL),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DL))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DL),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DL))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DL),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DL))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DL),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DL))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DL),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DL))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DI),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DI))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DI),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DI))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DI),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DI))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DI),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DI))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DI),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DI))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DI),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DI))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DK),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DK))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DK),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DK))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DK),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DK))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DK),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DK))
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DK),bj_UNIT_FACING)
set BcU=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRandomLocInRect(DK))
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DaG takes nothing returns nothing
set BcV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BcV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BcV,Condition(function DaE))
call TriggerAddAction(BcV,function DaF)
endfunction
function DaH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DaI takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,".......")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"幸存的镇民：这些狼是从漠尔后山来的...后山的入口就在漠尔镇入口的上方位置....你们可以去看看.")
call TriggerSleepAction(4.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"目标：漠尔镇入口处上方位置蓝火处")
call DisableTrigger(BcT)
call DestroyQuest(BcW)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"后山","去幸存的村民所说的那个后山看看吧..似乎在漠尔镇出口的上方位置..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bca=GetLastCreatedQuestBJ()
call TriggerSleepAction(4.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true then
call DoNothing()
else
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这镇民有点问题，根本没有正常的生物气息..")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：姑且先按她说的做吧...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"隐藏支线任务开启：识破“镇民”的伪装..请携带与阴魂有关的三件物品揭穿其伪装")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DaJ takes nothing returns nothing
set BcZ=CreateTrigger()
call Bi7(BcZ,DN)
call TriggerAddCondition(BcZ,Condition(function DaH))
call TriggerAddAction(BcZ,function DaI)
endfunction
function DaK takes nothing returns nothing
call DisableTrigger(BcZ)
endfunction
function DaL takes nothing returns nothing
set Bcb=CreateTrigger()
call TriggerAddAction(Bcb,function DaK)
endfunction
function DaM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DaN takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(true)
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlayMusicBJ(F)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"漠尔后山......")
call Biw(false)
call PauseUnitBJ(true,Wf)
call DestroyQuest(Bca)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"后山","走一步，算一步吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BZL=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DaO takes nothing returns nothing
set Bcc=CreateTrigger()
call Bi7(Bcc,DC)
call TriggerAddCondition(Bcc,Condition(function DaM))
call TriggerAddAction(Bcc,function DaN)
endfunction
function DaP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DaQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DQ),bj_UNIT_FACING)
endfunction
function DaR takes nothing returns nothing
set Bcd=CreateTrigger()
call Bi7(Bcd,DP)
call TriggerAddCondition(Bcd,Condition(function DaP))
call TriggerAddAction(Bcd,function DaQ)
endfunction
function DaS takes nothing returns nothing
call SetDestructableInvulnerable(Tm,true)
endfunction
function DaT takes nothing returns nothing
set Bce=CreateTrigger()
call TriggerAddAction(Bce,function DaS)
endfunction
function DaU takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tm)
endfunction
function DaV takes nothing returns nothing
set Bcf=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bcf,.1)
call TriggerAddAction(Bcf,function DaU)
endfunction
function DaW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DaX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DS),bj_UNIT_FACING)
endfunction
function DaY takes nothing returns nothing
set Bcg=CreateTrigger()
call Bi7(Bcg,DR)
call TriggerAddCondition(Bcg,Condition(function DaW))
call TriggerAddAction(Bcg,function DaX)
endfunction
function DaZ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Daa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DV),bj_UNIT_FACING)
endfunction
function Dab takes nothing returns nothing
set Bch=CreateTrigger()
call Bi7(Bch,DT)
call TriggerAddCondition(Bch,Condition(function DaZ))
call TriggerAddAction(Bch,function Daa)
endfunction
function Dac takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dad takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(DX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Da),bj_UNIT_FACING)
endfunction
function Dae takes nothing returns nothing
set Bci=CreateTrigger()
call Bi7(Bci,DW)
call TriggerAddCondition(Bci,Condition(function Dac))
call TriggerAddAction(Bci,function Dad)
endfunction
function Daf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dag takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dc),bj_UNIT_FACING)
endfunction
function Dah takes nothing returns nothing
set Bcj=CreateTrigger()
call Bi7(Bcj,Db)
call TriggerAddCondition(Bcj,Condition(function Daf))
call TriggerAddAction(Bcj,function Dag)
endfunction
function Dai takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Daj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(De),bj_UNIT_FACING)
endfunction
function Dak takes nothing returns nothing
set Bck=CreateTrigger()
call Bi7(Bck,Dd)
call TriggerAddCondition(Bck,Condition(function Dai))
call TriggerAddAction(Bck,function Daj)
endfunction
function Dal takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dam takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dg),bj_UNIT_FACING)
endfunction
function Dan takes nothing returns nothing
set Bcl=CreateTrigger()
call Bi7(Bcl,Df)
call TriggerAddCondition(Bcl,Condition(function Dal))
call TriggerAddAction(Bcl,function Dam)
endfunction
function Dao takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dap takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Di),bj_UNIT_FACING)
endfunction
function Daq takes nothing returns nothing
set Bcm=CreateTrigger()
call Bi7(Bcm,Dh)
call TriggerAddCondition(Bcm,Condition(function Dao))
call TriggerAddAction(Bcm,function Dap)
endfunction
function Dar takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Das takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dl),bj_UNIT_FACING)
endfunction
function Dat takes nothing returns nothing
set Bcn=CreateTrigger()
call Bi7(Bcn,Dj)
call TriggerAddCondition(Bcn,Condition(function Dar))
call TriggerAddAction(Bcn,function Das)
endfunction
function Dau takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(Wd)
endfunction
function Dav takes nothing returns nothing
set Bco=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bco,.1)
call TriggerAddAction(Bco,function Dau)
endfunction
function Daw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dax takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(Wd)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304E,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30304F,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Dn),bj_UNIT_FACING)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Day takes nothing returns nothing
set Bcp=CreateTrigger()
call Bi7(Bcp,Dm)
call TriggerAddCondition(Bcp,Condition(function Daw))
call TriggerAddAction(Bcp,function Dax)
endfunction
function Daz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BFv)
call DisableTrigger(BFw)
call SetDoodadAnimationRectBJ("hide",$594F7466,Do)
endfunction
function Da0 takes nothing returns nothing
set Bcq=CreateTrigger()
call TriggerRegisterUnitEvent(Bcq,Wd,EVENT_UNIT_DEATH)
call TriggerAddAction(Bcq,function Daz)
endfunction
function Da1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Da2 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Dp))
endfunction
function Da3 takes nothing returns nothing
set BFw=CreateTrigger()
call Bi7(BFw,Do)
call TriggerAddCondition(BFw,Condition(function Da1))
call TriggerAddAction(BFw,function Da2)
endfunction
function Da4 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这些狼还真是有点不对劲啊......")
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向直接回漠尔镇.......")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向直接回漠尔镇.......")
call EnableTrigger(Bcr)
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：我感受到了一股灾厄之力..位于漠尔区域的某处荒芜之地..")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这股灾厄之力与我体内的火焰能量有很深的共鸣..看来我的力量与圣魔的力量有着某种程度的联系...")
call TriggerSleepAction(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根-胡须：龙族的力量本身就伴随着诅咒与灾厄，看来这值得好好调查一番了..")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：嗯..火焰、遗忘、沉沦、魔化、死亡...这是我能感应到与这股灾厄之力相对应的线索...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：在前述基础上还需要...两句咒语...")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根-胡须：首先可以确定“火焰”应该就是你手上的火焰之剑了..至于咒语一定也与此相关..")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：先慢慢调查吧..")
call TriggerSleepAction(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9开启妮雅娜个人支线任务：帮助妮雅娜在漠尔区域寻找“灾厄之石”，需要携带“火焰、遗忘、沉沦、魔化、死亡”相对应的五件物品到达位于漠尔区域的某处荒芜之地，并在此基础上输入相关的两句咒语...（注：灾厄之石对妮雅娜而言至关重要，极大程度影响后续个人专属任务以及物品的获得与进阶）")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"妮雅娜个人支线：灾厄之石","帮助妮雅娜在漠尔区域寻找“灾厄之石”，需要携带“火焰、遗忘、沉沦、魔化、死亡”相对应的五件物品到达位于漠尔区域的某处荒芜之地，并在此基础上输入相关的两句咒语...（注：灾厄之石对妮雅娜而言至关重要，极大程度影响后续个人专属任务以及物品的获得与进阶）","ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp")
set BJj=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Da5 takes nothing returns nothing
set BZJ=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZJ,1.)
call TriggerAddAction(BZJ,function Da4)
endfunction
function Da6 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"这些狼还真是有点不对劲啊......")
call TriggerSleepAction(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向直接回漠尔镇.......")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"右下方向直接回漠尔镇.......")
call EnableTrigger(Bcs)
call EnableTrigger(Bcr)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Da7 takes nothing returns nothing
set BZK=CreateTrigger()
call TriggerRegisterTimerEventSingle(BZK,1.)
call TriggerAddAction(BZK,function Da6)
endfunction
function Da8 takes nothing returns nothing
call DisableTrigger(BZJ)
call DisableTrigger(BZK)
call DisableTrigger(Bcs)
call DisableTrigger(Bcr)
endfunction
function Da9 takes nothing returns nothing
set Bct=CreateTrigger()
call TriggerAddAction(Bct,function Da8)
endfunction
function DbB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DbC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"去看看那个幸存的镇民怎么样了吧......")
endfunction
function DbD takes nothing returns nothing
set Bcs=CreateTrigger()
call Bi7(Bcs,Co)
call TriggerAddCondition(Bcs,Condition(function DbB))
call TriggerAddAction(Bcs,function DbC)
endfunction
function DbE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DbF takes nothing returns nothing
call UnitAddAbilityBJ($41303541,GetEnumUnit())
endfunction
function DbG takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(1.25)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"幸存的镇民：看来你们应该是解决了后山里的狼了吧....")
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家全属性增加5点..")
call ForGroupBJ(bJ,function DbF)
call TriggerSleepAction(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"幸存的镇民：漠尔镇右边有个出口...你们从那出去就行了")
call TriggerSleepAction(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and IsUnitInGroup(Ue,bJ)==true then
call ConditionalTriggerExecute(Bcu)
else
call ConditionalTriggerExecute(Bcv)
endif
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tj)
call DestroyQuest(BZM)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"新的旅途","是时候离开了，漠尔镇右边有个出口，去看看吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bcw=GetLastCreatedQuestBJ()
call EnableTrigger(BIC)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DbH takes nothing returns nothing
set Bcr=CreateTrigger()
call Bi7(Bcr,DN)
call TriggerAddCondition(Bcr,Condition(function DbE))
call TriggerAddAction(Bcr,function DbG)
endfunction
function DbI takes nothing returns nothing
call DisableTrigger(Bcu)
call DisableTrigger(Bcv)
endfunction
function DbJ takes nothing returns nothing
set Bcx=CreateTrigger()
call TriggerAddAction(Bcx,function DbI)
endfunction
function DbK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"从漠尔镇往右有一道门...从那边走出去吧.....")
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if ep==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根：（传音）那个旅馆里的第二层楼可别忘记了..我能察觉到有股和这个“镇民”差不多的气息。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if ep==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：（传音）是的..除此之外在蝎子王座下应该还有个关键物品..得到全部我们就有办法将其本体引出来..")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DbL takes nothing returns nothing
set Bcu=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bcu,1.)
call TriggerAddAction(Bcu,function DbK)
endfunction
function DbM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"从漠尔镇往右有一道门...从那边走出去吧.....")
endfunction
function DbN takes nothing returns nothing
set Bcv=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bcv,1.)
call TriggerAddAction(Bcv,function DbM)
endfunction
function DbO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DbP takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(D1))
endfunction
function DbQ takes nothing returns nothing
set Bcy=CreateTrigger()
call Bi7(Bcy,D0)
call TriggerAddCondition(Bcy,Condition(function DbO))
call TriggerAddAction(Bcy,function DbP)
endfunction
function DbR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DbS takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Dz))
endfunction
function DbT takes nothing returns nothing
set BZI=CreateTrigger()
call Bi7(BZI,C8)
call TriggerAddCondition(BZI,Condition(function DbR))
call TriggerAddAction(BZI,function DbS)
endfunction
function DbU takes nothing returns nothing
call DisableTrigger(BZI)
endfunction
function DbV takes nothing returns nothing
set Bcz=CreateTrigger()
call TriggerAddAction(Bcz,function DbU)
endfunction
function DbW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7466,D2)
endfunction
function DbX takes nothing returns nothing
set Bc0=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bc0,.1)
call TriggerAddAction(Bc0,function DbW)
endfunction
function DbY takes nothing returns boolean
return GetAttacker()==Wd
endfunction
function DbZ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Wd))==true
endfunction
function Dba takes nothing returns nothing
call UnitDamageTargetBJ(Wd,GetEnumUnit(),50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Dbb takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Wd))==true
endfunction
function Dbc takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
endfunction
function Dbd takes nothing returns nothing
call ForGroupBJ(Biq(300.,GetUnitLoc(GetAttackedUnitBJ()),Condition(function DbZ)),function Dba)
call ForGroupBJ(Biq(300.,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Dbb)),function Dbc)
endfunction
function Dbe takes nothing returns nothing
set Bc1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bc1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Bc1,Condition(function DbY))
call TriggerAddAction(Bc1,function Dbd)
endfunction
function Dbf takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dbg takes nothing returns nothing
set i8=GetRectCenter(Du)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
endfunction
function Dbh takes nothing returns nothing
set w4=CreateTrigger()
call Bi7(w4,TI)
call TriggerAddCondition(w4,Condition(function Dbf))
call TriggerAddAction(w4,function Dbg)
endfunction
function Dbi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dbj takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Dy))
endfunction
function Dbk takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function Dbj)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlayMusicBJ(H)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"色尔根山谷")
call Biw(false)
call PauseUnitBJ(true,Wh)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DestroyQuest(Bcw)
call DestroyQuest(Bc3)
call DestroyQuest(Bc4)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"色尔根山谷","通过这个山谷吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BZj=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dbl takes nothing returns nothing
set Bc2=CreateTrigger()
call Bi7(Bc2,Dx)
call TriggerAddCondition(Bc2,Condition(function Dbi))
call TriggerAddAction(Bc2,function Dbk)
endfunction
function Dbm takes nothing returns nothing
call SetDestructableInvulnerable(Tn,true)
call SetDestructableInvulnerable(To,true)
call SetDestructableInvulnerable(Tp,true)
call SetDestructableInvulnerable(Tq,true)
call SetUnitInvulnerable(Wh,true)
endfunction
function Dbn takes nothing returns nothing
set Bc5=CreateTrigger()
call TriggerAddAction(Bc5,function Dbm)
endfunction
function Dbo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tn)
endfunction
function Dbp takes nothing returns nothing
set Bc6=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bc6,.1)
call TriggerAddAction(Bc6,function Dbo)
endfunction
function Dbq takes nothing returns nothing
call GroupAddUnitSimple(Wg,bY)
endfunction
function Dbr takes nothing returns nothing
set Bc7=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bc7,.1)
call TriggerAddAction(Bc7,function Dbq)
endfunction
function Dbs takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dbt takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnitShow(Wi)
call ShowUnitShow(Wk)
call ShowUnitShow(Wj)
call ShowUnitShow(Wl)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bZ=true
call SetUnitInvulnerable(Wh,false)
call PauseUnitBJ(false,Wh)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dbu takes nothing returns nothing
set Bc8=CreateTrigger()
call Bi7(Bc8,D3)
call TriggerAddCondition(Bc8,Condition(function Dbs))
call TriggerAddAction(Bc8,function Dbt)
endfunction
function Dbv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(Wi)
call ShowUnitHide(Wk)
call ShowUnitHide(Wj)
call ShowUnitHide(Wl)
endfunction
function Dbw takes nothing returns nothing
set Bc9=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bc9,.1)
call TriggerAddAction(Bc9,function Dbv)
endfunction
function Dbx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tp)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"复活所有死亡玩家.")
call ReviveHeroLoc(Uc,GetRectCenter(EF),true)
call ReviveHeroLoc(Ud,GetRectCenter(EF),true)
call ReviveHeroLoc(Ue,GetRectCenter(EF),true)
call ReviveHeroLoc(Uj,GetRectCenter(EF),true)
call ReviveHeroLoc(Ui,GetRectCenter(EF),true)
call ReviveHeroLoc(Uh,GetRectCenter(EF),true)
call ReviveHeroLoc(Ug,GetRectCenter(EF),true)
call ReviveHeroLoc(Uf,GetRectCenter(EF),true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dby takes nothing returns nothing
set BdB=CreateTrigger()
call TriggerRegisterUnitEvent(BdB,Wh,EVENT_UNIT_DEATH)
call TriggerAddAction(BdB,function Dbx)
endfunction
function Dbz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tq)
endfunction
function Db0 takes nothing returns nothing
set BdC=CreateTrigger()
call TriggerRegisterTimerEventSingle(BdC,.1)
call TriggerAddAction(BdC,function Dbz)
endfunction
function Db1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Db2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(UJ)
call TriggerSleepAction(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eb),bj_UNIT_FACING)
set BdE=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),ba)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Tq)
call EnableTrigger(BdF)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Db3 takes nothing returns nothing
set BdD=CreateTrigger()
call Bi7(BdD,EQ)
call TriggerAddCondition(BdD,Condition(function Db1))
call TriggerAddAction(BdD,function Db2)
endfunction
function Db4 takes nothing returns boolean
return IsUnitGroupDeadBJ(ba)==true
endfunction
function Db5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc($4930324C,GetRectCenter(EQ))
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tq)
endfunction
function Db6 takes nothing returns nothing
set BdF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BdF,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BdF,Condition(function Db4))
call TriggerAddAction(BdF,function Db5)
endfunction
function Db7 takes nothing returns nothing
call DisableTrigger(BdF)
endfunction
function Db8 takes nothing returns nothing
set BdG=CreateTrigger()
call TriggerAddAction(BdG,function Db7)
endfunction
function Db9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DcB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ew),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ew),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ew),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ew),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ew),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ew),bj_UNIT_FACING)
endfunction
function DcC takes nothing returns nothing
set BdH=CreateTrigger()
call Bi7(BdH,Em)
call TriggerAddCondition(BdH,Condition(function Db9))
call TriggerAddAction(BdH,function DcB)
endfunction
function DcD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DcE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ey),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ey),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ey),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ey),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ey),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ey),bj_UNIT_FACING)
endfunction
function DcF takes nothing returns nothing
set BdI=CreateTrigger()
call Bi7(BdI,Ex)
call TriggerAddCondition(BdI,Condition(function DcD))
call TriggerAddAction(BdI,function DcE)
endfunction
function DcG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D4),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D4),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D4),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D4),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D4),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D4),bj_UNIT_FACING)
endfunction
function DcI takes nothing returns nothing
set BdJ=CreateTrigger()
call Bi7(BdJ,Ez)
call TriggerAddCondition(BdJ,Condition(function DcG))
call TriggerAddAction(BdJ,function DcH)
endfunction
function DcJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D6),bj_UNIT_FACING)
endfunction
function DcL takes nothing returns nothing
set BdK=CreateTrigger()
call Bi7(BdK,D5)
call TriggerAddCondition(BdK,Condition(function DcJ))
call TriggerAddAction(BdK,function DcK)
endfunction
function DcM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(D8),bj_UNIT_FACING)
endfunction
function DcO takes nothing returns nothing
set BdL=CreateTrigger()
call Bi7(BdL,D7)
call TriggerAddCondition(BdL,Condition(function DcM))
call TriggerAddAction(BdL,function DcN)
endfunction
function DcP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EB),bj_UNIT_FACING)
endfunction
function DcR takes nothing returns nothing
set BdM=CreateTrigger()
call Bi7(BdM,D9)
call TriggerAddCondition(BdM,Condition(function DcP))
call TriggerAddAction(BdM,function DcQ)
endfunction
function DcS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(ED),bj_UNIT_FACING)
endfunction
function DcU takes nothing returns nothing
set BdN=CreateTrigger()
call Bi7(BdN,EC)
call TriggerAddCondition(BdN,Condition(function DcS))
call TriggerAddAction(BdN,function DcT)
endfunction
function DcV takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EG),bj_UNIT_FACING)
endfunction
function DcX takes nothing returns nothing
set BdO=CreateTrigger()
call Bi7(BdO,EE)
call TriggerAddCondition(BdO,Condition(function DcV))
call TriggerAddAction(BdO,function DcW)
endfunction
function DcY takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function DcZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EJ),bj_UNIT_FACING)
endfunction
function Dca takes nothing returns nothing
set BdP=CreateTrigger()
call Bi7(BdP,EH)
call TriggerAddCondition(BdP,Condition(function DcY))
call TriggerAddAction(BdP,function DcZ)
endfunction
function Dcb takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dcc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,Wn)
endfunction
function Dcd takes nothing returns nothing
set BdQ=CreateTrigger()
call Bi7(BdQ,EL)
call TriggerAddCondition(BdQ,Condition(function Dcb))
call TriggerAddAction(BdQ,function Dcc)
endfunction
function Dce takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dcf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(EZ),bj_UNIT_FACING)
endfunction
function Dcg takes nothing returns nothing
set BdR=CreateTrigger()
call Bi7(BdR,EY)
call TriggerAddCondition(BdR,Condition(function Dce))
call TriggerAddAction(BdR,function Dcf)
endfunction
function Dch takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dci takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ec),bj_UNIT_FACING)
endfunction
function Dcj takes nothing returns nothing
set BdS=CreateTrigger()
call Bi7(BdS,Ea)
call TriggerAddCondition(BdS,Condition(function Dch))
call TriggerAddAction(BdS,function Dci)
endfunction
function Dck takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dcl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ee),bj_UNIT_FACING)
endfunction
function Dcm takes nothing returns nothing
set BdT=CreateTrigger()
call Bi7(BdT,Ed)
call TriggerAddCondition(BdT,Condition(function Dck))
call TriggerAddAction(BdT,function Dcl)
endfunction
function Dcn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dco takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eg),bj_UNIT_FACING)
endfunction
function Dcp takes nothing returns nothing
set BdU=CreateTrigger()
call Bi7(BdU,Ef)
call TriggerAddCondition(BdU,Condition(function Dcn))
call TriggerAddAction(BdU,function Dco)
endfunction
function Dcq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dcr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303055,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ei),bj_UNIT_FACING)
endfunction
function Dcs takes nothing returns nothing
set BdV=CreateTrigger()
call Bi7(BdV,Eh)
call TriggerAddCondition(BdV,Condition(function Dcq))
call TriggerAddAction(BdV,function Dcr)
endfunction
function Dct takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dcu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ek),bj_UNIT_FACING)
endfunction
function Dcv takes nothing returns nothing
set BdW=CreateTrigger()
call Bi7(BdW,Ej)
call TriggerAddCondition(BdW,Condition(function Dct))
call TriggerAddAction(BdW,function Dcu)
endfunction
function Dcw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dcx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(En),bj_UNIT_FACING)
endfunction
function Dcy takes nothing returns nothing
set BdX=CreateTrigger()
call Bi7(BdX,El)
call TriggerAddCondition(BdX,Condition(function Dcw))
call TriggerAddAction(BdX,function Dcx)
endfunction
function Dcz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),bY)==true
endfunction
function Dc0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ep),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303057,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303058,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Eq),bj_UNIT_FACING)
endfunction
function Dc1 takes nothing returns nothing
set BdY=CreateTrigger()
call Bi7(BdY,Eo)
call TriggerAddCondition(BdY,Condition(function Dcz))
call TriggerAddAction(BdY,function Dc0)
endfunction
function Dc2 takes nothing returns nothing
call SetDestructableInvulnerable(TX,true)
endfunction
function Dc3 takes nothing returns nothing
set BdZ=CreateTrigger()
call TriggerAddAction(BdZ,function Dc2)
endfunction
function Dc4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,TX)
endfunction
function Dc5 takes nothing returns nothing
set Bda=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bda,.1)
call TriggerAddAction(Bda,function Dc4)
endfunction
function Dc6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(Wo,"patrol",GetRectCenter(G8))
call IssuePointOrderLoc(Wp,"patrol",GetRectCenter(Gx))
call IssuePointOrderLoc(Wq,"patrol",GetRectCenter(E0))
call IssuePointOrderLoc(Wr,"patrol",GetRectCenter(Gb))
call IssuePointOrderLoc(Ws,"patrol",GetRectCenter(Gm))
call IssuePointOrderLoc(Wt,"patrol",GetRectCenter(HJ))
call IssuePointOrderLoc(Wu,"patrol",GetRectCenter(HU))
call IssuePointOrderLoc(Wv,"patrol",GetRectCenter(Hf))
call IssuePointOrderLoc(Ww,"patrol",GetRectCenter(Hq))
call IssuePointOrderLoc(Wx,"patrol",GetRectCenter(E1))
call IssuePointOrderLoc(Wy,"patrol",GetRectCenter(FD))
call IssuePointOrderLoc(Wz,"patrol",GetRectCenter(FZ))
call IssuePointOrderLoc(W0,"patrol",GetRectCenter(FO))
call IssuePointOrderLoc(W2,"patrol",GetRectCenter(Ge))
call IssuePointOrderLoc(W1,"patrol",GetRectCenter(Gf))
call IssuePointOrderLoc(W3,"patrol",GetRectCenter(Gg))
call IssuePointOrderLoc(W4,"patrol",GetRectCenter(Gh))
endfunction
function Dc7 takes nothing returns nothing
set Bdb=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bdb,.1)
call TriggerAddAction(Bdb,function Dc6)
endfunction
function Dc8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dc9 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Gp))
endfunction
function DdB takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function Dc9)
call PlayMusicBJ(J)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biw(false)
call DisplayTimedTextToForce(GetPlayersAll(),6.,"色尔根要塞..")
if bc==true then
call SetUnitPositionLoc(Wg,GetRectCenter(Gp))
else
call DoNothing()
endif
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bc==true then
call IssuePointOrderLoc(Wg,"patrol",GetRectCenter(Fk))
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DdC takes nothing returns nothing
set Bdc=CreateTrigger()
call Bi7(Bdc,Go)
call TriggerAddCondition(Bdc,Condition(function Dc8))
call TriggerAddAction(Bdc,function DdB)
endfunction
function DdD takes nothing returns nothing
call SetDestructableInvulnerable(Tv,true)
call SetDestructableInvulnerable(Tu,true)
endfunction
function DdE takes nothing returns nothing
set Bdd=CreateTrigger()
call TriggerAddAction(Bdd,function DdD)
endfunction
function DdF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tv)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tw)
endfunction
function DdG takes nothing returns nothing
set Bde=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bde,.1)
call TriggerAddAction(Bde,function DdF)
endfunction
function DdH takes nothing returns nothing
call SetDestructableInvulnerable(Tw,true)
endfunction
function DdI takes nothing returns nothing
set Bdf=CreateTrigger()
call TriggerAddAction(Bdf,function DdH)
endfunction
function DdJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DdK takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(G1))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"暂时没必要进去....")
endfunction
function DdL takes nothing returns nothing
set Bdg=CreateTrigger()
call Bi7(Bdg,G0)
call TriggerAddCondition(Bdg,Condition(function DdJ))
call TriggerAddAction(Bdg,function DdK)
endfunction
function DdM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DdN takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(G3))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"暂时没必要进去....")
endfunction
function DdO takes nothing returns nothing
set Bdh=CreateTrigger()
call Bi7(Bdh,G2)
call TriggerAddCondition(Bdh,Condition(function DdM))
call TriggerAddAction(Bdh,function DdN)
endfunction
function DdP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DdQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"要塞护卫：喂！你等等.")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set i8=GetRectCenter(G5)
call SetUnitPositionLoc(GetTriggerUnit(),i8)
call RemoveLocation(i8)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"要塞护卫：这里是要塞边境出关口。你有上级批准的通行证吗？")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"要塞护卫：没有的话那你不能通过这里.")
call EnableTrigger(Bdj)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biw(false)
call DisableTrigger(Bdh)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tv)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DdR takes nothing returns nothing
set Bdi=CreateTrigger()
call Bi7(Bdi,G4)
call TriggerAddCondition(Bdi,Condition(function DdP))
call TriggerAddAction(Bdi,function DdQ)
endfunction
function DdS takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DdT takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(G5))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"要塞护卫：没有批准不能通过")
endfunction
function DdU takes nothing returns nothing
set Bdj=CreateTrigger()
call Bi7(Bdj,G4)
call TriggerAddCondition(Bdj,Condition(function DdS))
call TriggerAddAction(Bdj,function DdT)
endfunction
function DdV takes nothing returns nothing
call DisableTrigger(Bdj)
endfunction
function DdW takes nothing returns nothing
set Bdk=CreateTrigger()
call TriggerAddAction(Bdk,function DdV)
endfunction
function DdX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DdY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(G7))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"暂时没必要进去...")
endfunction
function DdZ takes nothing returns nothing
set Bdl=CreateTrigger()
call Bi7(Bdl,G6)
call TriggerAddCondition(Bdl,Condition(function DdX))
call TriggerAddAction(Bdl,function DdY)
endfunction
function Dda takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Ddb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"前方声音：杀啊！！")
call StopMusic(true)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),be)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call EnableTrigger(Bdo)
call DestroyQuest(BZk)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"前方声音","快去前面看看","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bdp=GetLastCreatedQuestBJ()
endfunction
function Ddc takes nothing returns nothing
set Bdm=CreateTrigger()
call Bi7(Bdm,G9)
call TriggerAddCondition(Bdm,Condition(function Dda))
call TriggerAddAction(Bdm,function Ddb)
endfunction
function Ddd takes nothing returns boolean
return IsUnitGroupDeadBJ(be)==true
endfunction
function Dde takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if bf==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"保护罗伯特队长在沙虫的攻势中存活.....若罗伯特队长无法存活将无法获得额外奖励......")
call PlayMusicBJ(G)
call DestroyQuest(Bdp)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"护卫战","尽力保护罗伯特在这次守卫战中存活吧...","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bdq=GetLastCreatedQuestBJ()
call Biy(8.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call EnableTrigger(Bdr)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddf takes nothing returns nothing
set Bdo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bdo,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Bdo,Condition(function Ddd))
call TriggerAddAction(Bdo,function Dde)
endfunction
function Ddg takes nothing returns nothing
call DisableTrigger(Bdo)
endfunction
function Ddh takes nothing returns nothing
set Bds=CreateTrigger()
call TriggerAddAction(Bds,function Ddg)
endfunction
function Ddi takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Ddj takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Ddk takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Ddl takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(HG),true)
endfunction
function Ddm takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(Bdu)
call DisableTrigger(Bdr)
call DisableTrigger(Bdv)
call DisableTrigger(Bdw)
call DisableTrigger(Bdx)
call DisableTrigger(Bdy)
set bf=true
call ForGroupBJ(be,function Ddi)
call ForGroupBJ(bg,function Ddj)
call ForGroupBJ(bh,function Ddk)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特队长已经死亡...该支线任务失败....")
call StopMusic(true)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"去其他地方看看还有没有办法弄到通行证吧....")
call DisableTrigger(Bdg)
call PlayMusicBJ(J)
call ForGroupBJ(bJ,function Ddl)
call DestroyQuest(Bdq)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"护卫失败","罗伯特在这次战斗中牺牲，在要塞里找找新的线索吧...","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bdz=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddn takes nothing returns nothing
set Bdt=CreateTrigger()
call TriggerRegisterUnitEvent(Bdt,XB,EVENT_UNIT_DEATH)
call TriggerAddAction(Bdt,function Ddm)
endfunction
function Ddo takes nothing returns nothing
call DisableTrigger(Bdr)
call DisableTrigger(Bdv)
call DisableTrigger(Bdw)
call DisableTrigger(Bdx)
call DisableTrigger(Bdy)
call DisableTrigger(Bd1)
call DisableTrigger(Bdu)
endfunction
function Ddp takes nothing returns nothing
set Bd0=CreateTrigger()
call TriggerAddAction(Bd0,function Ddo)
endfunction
function Ddq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call Biy(10.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bf==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call EnableTrigger(Bdv)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddr takes nothing returns nothing
set Bdr=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bdr,1.)
call TriggerAddAction(Bdr,function Ddq)
endfunction
function Dds takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call Biy(10.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(15.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bf==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call EnableTrigger(Bdw)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddt takes nothing returns nothing
set Bdv=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bdv,1.)
call TriggerAddAction(Bdv,function Dds)
endfunction
function Ddu takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call Biy(15.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(20.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bf==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call EnableTrigger(Bdx)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddv takes nothing returns nothing
set Bdw=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bdw,1.)
call TriggerAddAction(Bdw,function Ddu)
endfunction
function Ddw takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call Biy(10.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(20.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bf==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call EnableTrigger(Bdy)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddx takes nothing returns nothing
set Bdx=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bdx,1.)
call TriggerAddAction(Bdx,function Ddw)
endfunction
function Ddy takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bg)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call Biy(10.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(10.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if bf==true then
call DoNothing()
else
call ConditionalTriggerExecute(Bd1)
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Ddz takes nothing returns nothing
set Bdy=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Bdy,1.)
call TriggerAddAction(Bdy,function Ddy)
endfunction
function Dd0 takes nothing returns nothing
if IsUnitGroupDeadBJ(bh)==true then
call CreateNUnitsAtLoc(1,$6E30315A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HB),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bh)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E30315A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HC),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bh)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E30315A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HD),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bh)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E30315A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HE),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bh)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call CreateNUnitsAtLoc(1,$6E30315A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(HF),bj_UNIT_FACING)
set Bdn=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bh)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",GetRectCenter(HG))
call EnableTrigger(Bdu)
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Dd1 takes nothing returns nothing
set Bd1=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bd1,1.)
call TriggerAddAction(Bd1,function Dd0)
endfunction
function Dd2 takes nothing returns boolean
return IsUnitGroupDeadBJ(bh)==true
endfunction
function Dd3 takes nothing returns nothing
call ReviveHeroLoc(GetEnumUnit(),GetRectCenter(HG),true)
endfunction
function Dd4 takes nothing returns nothing
call UnitAddAbilityBJ($41303833,GetEnumUnit())
endfunction
function Dd5 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
if bf==true then
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
else
call DoNothing()
endif
call StopMusic(true)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlayMusicBJ(J)
call ForGroupBJ(bJ,function Dd3)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特：多谢帮助.")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得1500块钱.....")
call AdjustPlayerStateBJ(1500,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1500,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得全属性+5的奖励...并奖励融合之玉一枚和罗伯特之靴")
call ForGroupBJ(bJ,function Dd4)
call CreateItemLoc($4930354A,GetRectCenter(HG))
call CreateItemLoc($49304943,GetRectCenter(HG))
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特：我记得你好像正在苦恼于通过关口的问题吧？")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特：是这样的...最近这个要塞北门外有个沙虫洞... 不知道最近怎么了..里面的虫子突然就暴动了起来..很是影响了要塞的防御性...")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特：如果你能帮我们解决这个麻烦的话.....我想你们应该可以不用考虑通过这个关口的问题...")
call Biy(3.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特：具体的你可以去要塞大帐营里问问看..")
call Biy(3.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"去大帐营看看吧 .......")
call DisableTrigger(Bdg)
call DestroyQuest(Bdq)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"新的线索","按照罗伯特的指示，去要塞大帐营看看吧","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bd2=GetLastCreatedQuestBJ()
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if eE==true then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"队长徽章晋升了（掉落在罗米尔玩家手上）")
call RemoveItem(o7)
call CreateItemLoc($49304834,GetUnitLoc(Ug))
set pE=GetLastCreatedItem()
set eF=true
call AddSpecialEffectLocBJ(GetUnitLoc(Ug),"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"罗伯特：顺便告诉你们一件事...罗米尔携带普通的盾+精钢盾+土之盾可以合成队长徽章-1....")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dd6 takes nothing returns nothing
set Bdu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Bdu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Bdu,Condition(function Dd2))
call TriggerAddAction(Bdu,function Dd5)
endfunction
function Dd7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dd8 takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(HL))
endfunction
function Dd9 takes nothing returns nothing
set Bd3=CreateTrigger()
call Bi7(Bd3,HH)
call TriggerAddCondition(Bd3,Condition(function Dd7))
call TriggerAddAction(Bd3,function Dd8)
endfunction
function DeB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DeC takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(HI))
endfunction
function DeD takes nothing returns nothing
set Bd4=CreateTrigger()
call Bi7(Bd4,HK)
call TriggerAddCondition(Bd4,Condition(function DeB))
call TriggerAddAction(Bd4,function DeC)
endfunction
function DeE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DeF takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(1.2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：你是什么人？")
call Biy(2.7)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：哦？你刚才与那群沙虫战斗过？")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：哎...实不相瞒...要塞北边的沙虫最近确实变得莫名其妙的..也不知道是发生了什么..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：如果你能帮我解决掉沙虫的烦恼...我不仅会对你们进行奖励...而且会立马放你出关口..")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：我建议这件事越快解决越好..那些沙虫可是一天比一天残暴...你们准备好后即刻就动身吧....")
call DisableTrigger(Bdl)
call DestroyQuest(Bd2)
call DestroyQuest(Bdz)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"沙虫穴","去要塞北边的沙虫穴，解决希斯德的苦恼吧","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set BZx=GetLastCreatedQuestBJ()
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and IsUnitInGroup(Ue,bJ)==true then
call DoNothing()
else
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
return
endif
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根：（传音）这个将军身后有一股“赛特斯”的气味..这个令人恶心的气味实在让我印象深刻..")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：（传音）嗯...我也感觉到了...它们居然也参与到了黑暗圣堂的计划中...")
call Biy(2.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：无论它们到底在计划什么，我们先把那些“小虫子”给解决了吧..")
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DeG takes nothing returns nothing
set Bd5=CreateTrigger()
call Bi7(Bd5,HM)
call TriggerAddCondition(Bd5,Condition(function DeE))
call TriggerAddAction(Bd5,function DeF)
endfunction
function DeH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DeI takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(HY))
endfunction
function DeJ takes nothing returns nothing
set Bd6=CreateTrigger()
call Bi7(Bd6,HX)
call TriggerAddCondition(Bd6,Condition(function DeH))
call TriggerAddAction(Bd6,function DeI)
endfunction
function DeK takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DeL takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(S5))
endfunction
function DeM takes nothing returns nothing
set Bd7=CreateTrigger()
call Bi7(Bd7,S4)
call TriggerAddCondition(Bd7,Condition(function DeK))
call TriggerAddAction(Bd7,function DeL)
endfunction
function DeN takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DeO takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Ha))
endfunction
function DeP takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call StopMusic(false)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call SetTimeOfDay(24.)
call UseTimeOfDayBJ(false)
call ForGroupBJ(bJ,function DeO)
call PlayMusicBJ(K)
call SetDoodadAnimationRectBJ("show",$594F7466,GX)
call EnableTrigger(BZ5)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"虫洞...........")
call Biw(false)
call EnableTrigger(Bd9)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DeQ takes nothing returns nothing
set Bd8=CreateTrigger()
call Bi7(Bd8,HZ)
call TriggerAddCondition(Bd8,Condition(function DeN))
call TriggerAddAction(Bd8,function DeP)
endfunction
function DeR takes nothing returns nothing
call PlayMusicBJ(K)
endfunction
function DeS takes nothing returns nothing
set BZ5=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(BZ5,141.)
call TriggerAddAction(BZ5,function DeR)
endfunction
function DeT takes nothing returns nothing
call DisableTrigger(BZ5)
endfunction
function DeU takes nothing returns nothing
set BeB=CreateTrigger()
call TriggerAddAction(BeB,function DeT)
endfunction
function DeV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7466,GX)
endfunction
function DeW takes nothing returns nothing
set BeC=CreateTrigger()
call TriggerRegisterTimerEventSingle(BeC,.1)
call TriggerAddAction(BeC,function DeV)
endfunction
function DeX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DeY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hd),bj_UNIT_FACING)
endfunction
function DeZ takes nothing returns nothing
set BeD=CreateTrigger()
call Bi7(BeD,Hc)
call TriggerAddCondition(BeD,Condition(function DeX))
call TriggerAddAction(BeD,function DeY)
endfunction
function Dea takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Deb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hg),bj_UNIT_FACING)
endfunction
function Dec takes nothing returns nothing
set BeE=CreateTrigger()
call Bi7(BeE,He)
call TriggerAddCondition(BeE,Condition(function Dea))
call TriggerAddAction(BeE,function Deb)
endfunction
function Ded takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitHide(Us)
endfunction
function Dee takes nothing returns nothing
set BeF=CreateTrigger()
call TriggerRegisterTimerEventSingle(BeF,.1)
call TriggerAddAction(BeF,function Ded)
endfunction
function Def takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Deg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hi),bj_UNIT_FACING)
call ShowUnitShow(Us)
endfunction
function Deh takes nothing returns nothing
set BeG=CreateTrigger()
call Bi7(BeG,Hh)
call TriggerAddCondition(BeG,Condition(function Def))
call TriggerAddAction(BeG,function Deg)
endfunction
function Dei takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dej takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hk),bj_UNIT_FACING)
endfunction
function Dek takes nothing returns nothing
set BeH=CreateTrigger()
call Bi7(BeH,Hj)
call TriggerAddCondition(BeH,Condition(function Dei))
call TriggerAddAction(BeH,function Dej)
endfunction
function Del takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dem takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hm),bj_UNIT_FACING)
endfunction
function Den takes nothing returns nothing
set BeI=CreateTrigger()
call Bi7(BeI,Hl)
call TriggerAddCondition(BeI,Condition(function Del))
call TriggerAddAction(BeI,function Dem)
endfunction
function Deo takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dep takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ho),bj_UNIT_FACING)
endfunction
function Deq takes nothing returns nothing
set BeJ=CreateTrigger()
call Bi7(BeJ,Hn)
call TriggerAddCondition(BeJ,Condition(function Deo))
call TriggerAddAction(BeJ,function Dep)
endfunction
function Der takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Des takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hr),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hr),bj_UNIT_FACING)
endfunction
function Det takes nothing returns nothing
set BeK=CreateTrigger()
call Bi7(BeK,Hp)
call TriggerAddCondition(BeK,Condition(function Der))
call TriggerAddAction(BeK,function Des)
endfunction
function Deu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dev takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Ht))
endfunction
function Dew takes nothing returns nothing
set BeL=CreateTrigger()
call Bi7(BeL,Hs)
call TriggerAddCondition(BeL,Condition(function Deu))
call TriggerAddAction(BeL,function Dev)
endfunction
function Dex takes nothing returns nothing
call ShowUnitHide(Ur)
call ShowUnitHide(Uq)
call ShowUnitHide(Up)
endfunction
function Dey takes nothing returns nothing
set BeM=CreateTrigger()
call TriggerRegisterTimerEventSingle(BeM,.1)
call TriggerAddAction(BeM,function Dex)
endfunction
function Dez takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function De0 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(Ur)
call ShowUnitShow(Uq)
call ShowUnitShow(Up)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call TriggerSleepAction(6.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hv),bj_UNIT_FACING)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function De1 takes nothing returns nothing
set BeN=CreateTrigger()
call Bi7(BeN,Hu)
call TriggerAddCondition(BeN,Condition(function Dez))
call TriggerAddAction(BeN,function De0)
endfunction
function De2 takes nothing returns nothing
call GroupAddUnitSimple(Ur,bi)
call GroupAddUnitSimple(Uq,bi)
call GroupAddUnitSimple(Up,bi)
endfunction
function De3 takes nothing returns nothing
set BeO=CreateTrigger()
call TriggerAddAction(BeO,function De2)
endfunction
function De4 takes nothing returns boolean
return IsUnitGroupDeadBJ(bi)==true
endfunction
function De5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(jd)
call DisableTrigger(BeL)
call SetDoodadAnimationRectBJ("hide",$594F7466,Hs)
endfunction
function De6 takes nothing returns nothing
set BeP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BeP,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(BeP,Condition(function De4))
call TriggerAddAction(BeP,function De5)
endfunction
function De7 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function De8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hx),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hx),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hx),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hx),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hx),bj_UNIT_FACING)
endfunction
function De9 takes nothing returns nothing
set BeQ=CreateTrigger()
call Bi7(BeQ,Hw)
call TriggerAddCondition(BeQ,Condition(function De7))
call TriggerAddAction(BeQ,function De8)
endfunction
function DfB takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Hz),bj_UNIT_FACING)
endfunction
function DfD takes nothing returns nothing
set BeR=CreateTrigger()
call Bi7(BeR,Hy)
call TriggerAddCondition(BeR,Condition(function DfB))
call TriggerAddAction(BeR,function DfC)
endfunction
function DfE takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E2),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E2),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E2),bj_UNIT_FACING)
endfunction
function DfG takes nothing returns nothing
set BeS=CreateTrigger()
call Bi7(BeS,H0)
call TriggerAddCondition(BeS,Condition(function DfE))
call TriggerAddAction(BeS,function DfF)
endfunction
function DfH takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfI takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(E6))
endfunction
function DfJ takes nothing returns nothing
set BeT=CreateTrigger()
call Bi7(BeT,E3)
call TriggerAddCondition(BeT,Condition(function DfH))
call TriggerAddAction(BeT,function DfI)
endfunction
function DfK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(BeT)
call DisableTrigger(jl)
call SetDoodadAnimationRectBJ("hide",$594F7466,E3)
endfunction
function DfL takes nothing returns nothing
set BeU=CreateTrigger()
call TriggerRegisterUnitEvent(BeU,VO,EVENT_UNIT_DEATH)
call TriggerAddAction(BeU,function DfK)
endfunction
function DfM takes nothing returns nothing
call ShowUnitHide(VO)
endfunction
function DfN takes nothing returns nothing
set BeV=CreateTrigger()
call TriggerRegisterTimerEventSingle(BeV,.1)
call TriggerAddAction(BeV,function DfM)
endfunction
function DfO takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(VO)
call CreateNUnitsAtLoc(1,$6E303146,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303146,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303146,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303146,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E5),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303146,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E5),bj_UNIT_FACING)
endfunction
function DfQ takes nothing returns nothing
set BeW=CreateTrigger()
call Bi7(BeW,E4)
call TriggerAddCondition(BeW,Condition(function DfO))
call TriggerAddAction(BeW,function DfP)
endfunction
function DfR takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(E8),bj_UNIT_FACING)
endfunction
function DfT takes nothing returns nothing
set BeX=CreateTrigger()
call Bi7(BeX,E7)
call TriggerAddCondition(BeX,Condition(function DfR))
call TriggerAddAction(BeX,function DfS)
endfunction
function DfU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FB),bj_UNIT_FACING)
endfunction
function DfW takes nothing returns nothing
set BeY=CreateTrigger()
call Bi7(BeY,E9)
call TriggerAddCondition(BeY,Condition(function DfU))
call TriggerAddAction(BeY,function DfV)
endfunction
function DfX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DfY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FE),bj_UNIT_FACING)
endfunction
function DfZ takes nothing returns nothing
set BeZ=CreateTrigger()
call Bi7(BeZ,FC)
call TriggerAddCondition(BeZ,Condition(function DfX))
call TriggerAddAction(BeZ,function DfY)
endfunction
function Dfa takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FG),bj_UNIT_FACING)
endfunction
function Dfc takes nothing returns nothing
set Bea=CreateTrigger()
call Bi7(Bea,FF)
call TriggerAddCondition(Bea,Condition(function Dfa))
call TriggerAddAction(Bea,function Dfb)
endfunction
function Dfd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FI),bj_UNIT_FACING)
endfunction
function Dff takes nothing returns nothing
set Beb=CreateTrigger()
call Bi7(Beb,FH)
call TriggerAddCondition(Beb,Condition(function Dfd))
call TriggerAddAction(Beb,function Dfe)
endfunction
function Dfg takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FK),bj_UNIT_FACING)
endfunction
function Dfi takes nothing returns nothing
set Bec=CreateTrigger()
call Bi7(Bec,FJ)
call TriggerAddCondition(Bec,Condition(function Dfg))
call TriggerAddAction(Bec,function Dfh)
endfunction
function Dfj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303147,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FM),bj_UNIT_FACING)
endfunction
function Dfl takes nothing returns nothing
set Bed=CreateTrigger()
call Bi7(Bed,FL)
call TriggerAddCondition(Bed,Condition(function Dfj))
call TriggerAddAction(Bed,function Dfk)
endfunction
function Dfm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314B,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FP),bj_UNIT_FACING)
endfunction
function Dfo takes nothing returns nothing
set Bee=CreateTrigger()
call Bi7(Bee,FN)
call TriggerAddCondition(Bee,Condition(function Dfm))
call TriggerAddAction(Bee,function Dfn)
endfunction
function Dfp takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfq takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(FR))
endfunction
function Dfr takes nothing returns nothing
set Bef=CreateTrigger()
call Bi7(Bef,FQ)
call TriggerAddCondition(Bef,Condition(function Dfp))
call TriggerAddAction(Bef,function Dfq)
endfunction
function Dfs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(Bef)
call DisableTrigger(jn)
call SetDoodadAnimationRectBJ("hide",$594F7466,FQ)
endfunction
function Dft takes nothing returns nothing
set Beg=CreateTrigger()
call TriggerRegisterUnitEvent(Beg,VP,EVENT_UNIT_DEATH)
call TriggerAddAction(Beg,function Dfs)
endfunction
function Dfu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dfv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(VP)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FT),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FT),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FT),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FT),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FT),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E30314C,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FT),bj_UNIT_FACING)
endfunction
function Dfw takes nothing returns nothing
set Beh=CreateTrigger()
call Bi7(Beh,FS)
call TriggerAddCondition(Beh,Condition(function Dfu))
call TriggerAddAction(Beh,function Dfv)
endfunction
function Dfx takes nothing returns nothing
call ShowUnitHide(VP)
endfunction
function Dfy takes nothing returns nothing
set Bei=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bei,.1)
call TriggerAddAction(Bei,function Dfx)
endfunction
function Dfz takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Df0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FV),bj_UNIT_FACING)
endfunction
function Df1 takes nothing returns nothing
set Bej=CreateTrigger()
call Bi7(Bej,FU)
call TriggerAddCondition(Bej,Condition(function Dfz))
call TriggerAddAction(Bej,function Df0)
endfunction
function Df2 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Df3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(FX),bj_UNIT_FACING)
endfunction
function Df4 takes nothing returns nothing
set Bek=CreateTrigger()
call Bi7(Bek,FW)
call TriggerAddCondition(Bek,Condition(function Df2))
call TriggerAddAction(Bek,function Df3)
endfunction
function Df5 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Df6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fa),bj_UNIT_FACING)
endfunction
function Df7 takes nothing returns nothing
set Bel=CreateTrigger()
call Bi7(Bel,FY)
call TriggerAddCondition(Bel,Condition(function Df5))
call TriggerAddAction(Bel,function Df6)
endfunction
function Df8 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Df9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fc),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fc),bj_UNIT_FACING)
endfunction
function DgB takes nothing returns nothing
set Bem=CreateTrigger()
call Bi7(Bem,Fb)
call TriggerAddCondition(Bem,Condition(function Df8))
call TriggerAddAction(Bem,function Df9)
endfunction
function DgC takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DgD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303144,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fe),bj_UNIT_FACING)
endfunction
function DgE takes nothing returns nothing
set Ben=CreateTrigger()
call Bi7(Ben,Fd)
call TriggerAddCondition(Ben,Condition(function DgC))
call TriggerAddAction(Ben,function DgD)
endfunction
function DgF takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DgG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fg),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fg),bj_UNIT_FACING)
endfunction
function DgH takes nothing returns nothing
set Beo=CreateTrigger()
call Bi7(Beo,Ff)
call TriggerAddCondition(Beo,Condition(function DgF))
call TriggerAddAction(Beo,function DgG)
endfunction
function DgI takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DgJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303145,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Fi),bj_UNIT_FACING)
endfunction
function DgK takes nothing returns nothing
set Bep=CreateTrigger()
call Bi7(Bep,Fh)
call TriggerAddCondition(Bep,Condition(function DgI))
call TriggerAddAction(Bep,function DgJ)
endfunction
function DgL takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DgM takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(Fw),bj_UNIT_FACING)
set Ber=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bm)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(Fw),bj_UNIT_FACING)
set Ber=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bm)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(Fw),bj_UNIT_FACING)
set Ber=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bm)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(Fw),bj_UNIT_FACING)
set Ber=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bm)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(Fw),bj_UNIT_FACING)
set Ber=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),bm)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and bl==true then
call ConditionalTriggerExecute(Bes)
else
call ConditionalTriggerExecute(Bet)
endif
call EnableTrigger(Beu)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DgN takes nothing returns nothing
set Beq=CreateTrigger()
call Bi7(Beq,Fu)
call TriggerAddCondition(Beq,Condition(function DgL))
call TriggerAddAction(Beq,function DgM)
endfunction
function DgO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：这股气息..黑暗圣堂..")
endfunction
function DgP takes nothing returns nothing
set Bes=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bes,1.)
call TriggerAddAction(Bes,function DgO)
endfunction
function DgQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"魔凯兵...黑暗圣堂的部队")
endfunction
function DgR takes nothing returns nothing
set Bet=CreateTrigger()
call TriggerRegisterTimerEventSingle(Bet,1.)
call TriggerAddAction(Bet,function DgQ)
endfunction
function DgS takes nothing returns nothing
call DisableTrigger(Bes)
call DisableTrigger(Bet)
endfunction
function DgT takes nothing returns nothing
set Bev=CreateTrigger()
call TriggerAddAction(Bev,function DgS)
endfunction
function DgU takes nothing returns boolean
return IsUnitGroupDeadBJ(bm)==true
endfunction
function DgV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F1),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F2),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F2),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(11),GetRandomLocInRect(F2),bj_UNIT_FACING)
endfunction
function DgW takes nothing returns nothing
set Beu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Beu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Beu,Condition(function DgU))
call TriggerAddAction(Beu,function DgV)
endfunction
function DgX takes nothing returns nothing
call DisableTrigger(Beu)
endfunction
function DgY takes nothing returns nothing
set Bew=CreateTrigger()
call TriggerAddAction(Bew,function DgX)
endfunction
function DgZ takes nothing returns boolean
return Bi9(GetTriggerUnit(),$49303447)==true
endfunction
function Dga takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetDoodadAnimationRectBJ("hide",$594F7466,GX)
call CreateItemLoc($4930345A,GetRectCenter(HY))
endfunction
function Dgb takes nothing returns nothing
set Bd9=CreateTrigger()
call Bi7(Bd9,Hb)
call TriggerAddCondition(Bd9,Condition(function DgZ))
call TriggerAddAction(Bd9,function Dga)
endfunction
function Dgc takes nothing returns nothing
call DisableTrigger(Bd9)
endfunction
function Dgd takes nothing returns nothing
set Bex=CreateTrigger()
call TriggerAddAction(Bex,function Dgc)
endfunction
function Dge takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dgf takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call Biy(.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：你真是太厉害了....居然这么轻松就解决了我几个月来的困扰.....")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：那我就遵守我的诺言...")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"所有玩家获得3000钱奖励...")
call AdjustPlayerStateBJ(3000,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(3000,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
set bu=true
call DisplayTimedTextToForce(GetPlayersAll(),10.,"希斯德：你们可以通过这个关口了......现在将不会有人阻拦你们.......")
call DisableTrigger(Bdj)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Tu)
call Biw(false)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"通关","又是新的旅途呢..从要塞右边出口出去吧..","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
set Bey=GetLastCreatedQuestBJ()
call EnableTrigger(BFk)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dgg takes nothing returns nothing
set BaN=CreateTrigger()
call Bi7(BaN,HM)
call TriggerAddCondition(BaN,Condition(function Dge))
call TriggerAddAction(BaN,function Dgf)
endfunction
function Dgh takes nothing returns nothing
call DisableTrigger(BaN)
endfunction
function Dgi takes nothing returns nothing
set Bez=CreateTrigger()
call TriggerAddAction(Bez,function Dgh)
endfunction
function Dgj takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function Dgk takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(H1))
endfunction
function Dgl takes nothing returns nothing
set Be0=CreateTrigger()
call Bi7(Be0,ID)
call TriggerAddCondition(Be0,Condition(function Dgj))
call TriggerAddAction(Be0,function Dgk)
endfunction
function Dgm takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dgn takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(IP))
endfunction
function Dgo takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biw(true)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ForGroupBJ(bJ,function Dgn)
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call PlayMusicBJ(M)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞森林......")
call Biw(false)
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uj,bJ)==true then
call ConditionalTriggerExecute(Be2)
else
call DoNothing()
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dgp takes nothing returns nothing
set Be1=CreateTrigger()
call Bi7(Be1,IO)
call TriggerAddCondition(Be1,Condition(function Dgm))
call TriggerAddAction(Be1,function Dgo)
endfunction
function Dgq takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：在这里我重新感受到了月神的力量.........")
call Biy(3.3)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"选择莉尔娅的玩家获得月精灵的恩赐 全属性+20和攻击力+100........")
call UnitAddAbilityBJ($41303936,Uj)
call UnitAddAbilityBJ($41303937,Uj)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dgr takes nothing returns nothing
set Be2=CreateTrigger()
call TriggerRegisterTimerEventSingle(Be2,1.)
call TriggerAddAction(Be2,function Dgq)
endfunction
function Dgs takes nothing returns nothing
call DisableTrigger(Be2)
endfunction
function Dgt takes nothing returns nothing
set Be3=CreateTrigger()
call TriggerAddAction(Be3,function Dgs)
endfunction
function Dgu takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function Dgv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(IF),bj_UNIT_FACING)
endfunction
function Dgw takes nothing returns nothing
set Be4=CreateTrigger()
call Bi7(Be4,IE)
call TriggerAddCondition(Be4,Condition(function Dgu))
call TriggerAddAction(Be4,function Dgv)
endfunction
function Dgx takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function Dgy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MW),bj_UNIT_FACING)
endfunction
function Dgz takes nothing returns nothing
set Be5=CreateTrigger()
call Bi7(Be5,MV)
call TriggerAddCondition(Be5,Condition(function Dgx))
call TriggerAddAction(Be5,function Dgy)
endfunction
function Dg0 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function Dg1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(MY),bj_UNIT_FACING)
endfunction
function Dg2 takes nothing returns nothing
set Be6=CreateTrigger()
call Bi7(Be6,MX)
call TriggerAddCondition(Be6,Condition(function Dg0))
call TriggerAddAction(Be6,function Dg1)
endfunction
function Dg3 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function Dg4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Ma),bj_UNIT_FACING)
endfunction
function Dg5 takes nothing returns nothing
set Be7=CreateTrigger()
call Bi7(Be7,MZ)
call TriggerAddCondition(Be7,Condition(function Dg3))
call TriggerAddAction(Be7,function Dg4)
endfunction
function Dg6 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function Dg7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mf),bj_UNIT_FACING)
endfunction
function Dg8 takes nothing returns nothing
set Be8=CreateTrigger()
call Bi7(Be8,Me)
call TriggerAddCondition(Be8,Condition(function Dg6))
call TriggerAddAction(Be8,function Dg7)
endfunction
function Dg9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function DhB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303339,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303230,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mh),bj_UNIT_FACING)
endfunction
function DhC takes nothing returns nothing
set Be9=CreateTrigger()
call Bi7(Be9,Mg)
call TriggerAddCondition(Be9,Condition(function Dg9))
call TriggerAddAction(Be9,function DhB)
endfunction
function DhD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true or IsUnitInGroup(GetTriggerUnit(),b5)==true
endfunction
function DhE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303339,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303339,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303231,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(Mj),bj_UNIT_FACING)
endfunction
function DhF takes nothing returns nothing
set BfB=CreateTrigger()
call Bi7(BfB,Mi)
call TriggerAddCondition(BfB,Condition(function DhD))
call TriggerAddAction(BfB,function DhE)
endfunction
function DhG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DhH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵-艾瑞镇......")
endfunction
function DhI takes nothing returns nothing
set BfC=CreateTrigger()
call Bi7(BfC,Mx)
call TriggerAddCondition(BfC,Condition(function DhG))
call TriggerAddAction(BfC,function DhH)
endfunction
function DhJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DhK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DestroyQuest(Bey)
call Biw(true)
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call Biw(false)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞镇村长：你们应该是要前往月精灵圣都-玛嘉达斯对吧。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞镇村长：月精灵圣都乃是月精灵最神圣的净土，没有外部月精灵法师引导传送门，你们是去不了的。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞镇村长：如果你们能迎得我的信任，我自会引导你们前往。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞镇村长：最近外面熊怪和巨魔两族都变得异常狂暴了，我希望你能携带他们两族首领头颅回来给我研究。")
call Biy(5.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"主线任务更新：获得熊怪首领头颅和树魔首领头颅，并将两样东西带给艾瑞镇村长。")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"熊怪首领和巨魔首领的头颅","击杀熊怪首领和巨魔首领，获得他们的头颅，并将两样东西带给艾瑞镇村长。","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set BfE=GetLastCreatedQuestBJ()
call EnableTrigger(BfF)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DhL takes nothing returns nothing
set BfD=CreateTrigger()
call Bi7(BfD,M5)
call TriggerAddCondition(BfD,Condition(function DhJ))
call TriggerAddAction(BfD,function DhK)
endfunction
function DhM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bN)==true
endfunction
function DhN takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call Biy(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：艾瑞镇...作为外部试炼之地，还真是充满谜题呢....")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅获得艾瑞之祝福，敏捷提升20点，攻击力提升100点。")
call UnitAddAbilityBJ($41304557,Uj)
call UnitAddAbilityBJ($41304558,Uj)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DhO takes nothing returns nothing
set BfG=CreateTrigger()
call Bi7(BfG,Mx)
call TriggerAddCondition(BfG,Condition(function DhM))
call TriggerAddAction(BfG,function DhN)
endfunction
function DhP takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49303936)==true and Bi9(GetTriggerUnit(),$49303935)==true
endfunction
function DhQ takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DestroyQuest(BfE)
call RemoveItem(Bio(GetTriggerUnit(),$49303936))
call RemoveItem(Bio(GetTriggerUnit(),$49303935))
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞镇村长：做的很好。")
call Biy(4.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"艾瑞镇村长：我这就为你们引导传送门")
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在艾瑞泉水旁传送门已开启，可以进入了。（注意：请准备充分后再进入挑战boss）")
call Biy(3.5)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"主线任务更新：进入传送门吧")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"进入传送门","进入传送门，艾瑞镇泉水旁","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set Bat=GetLastCreatedQuestBJ()
call ShowUnitShow(Xt)
call EnableTrigger(BfH)
set dB=true
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DhR takes nothing returns nothing
set BfF=CreateTrigger()
call Bi7(BfF,M5)
call TriggerAddCondition(BfF,Condition(function DhP))
call TriggerAddAction(BfF,function DhQ)
endfunction
function DhS takes nothing returns nothing
call DisableTrigger(BfF)
call DisableTrigger(BfH)
call ShowUnitHide(Xt)
call SetDestructableInvulnerable(T6,true)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,T6)
endfunction
function DhT takes nothing returns nothing
set BfI=CreateTrigger()
call TriggerAddAction(BfI,function DhS)
endfunction
function DhU takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DhV takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(N5))
endfunction
function DhW takes nothing returns nothing
set BfH=CreateTrigger()
call Bi7(BfH,N4)
call TriggerAddCondition(BfH,Condition(function DhU))
call TriggerAddAction(BfH,function DhV)
endfunction
function DhX takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DhY takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Mz))
endfunction
function DhZ takes nothing returns nothing
set wz=CreateTrigger()
call Bi7(wz,TB)
call TriggerAddCondition(wz,Condition(function DhX))
call TriggerAddAction(wz,function DhY)
endfunction
function Dha takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dhb takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(KU))
endfunction
function Dhc takes nothing returns nothing
set w2=CreateTrigger()
call Bi7(w2,TG)
call TriggerAddCondition(w2,Condition(function Dha))
call TriggerAddAction(w2,function Dhb)
endfunction
function Dhd takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dhe takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Pf))
endfunction
function Dhf takes nothing returns nothing
set Ba3=CreateTrigger()
call Bi7(Ba3,Pe)
call TriggerAddCondition(Ba3,Condition(function Dhd))
call TriggerAddAction(Ba3,function Dhe)
endfunction
function Dhg takes nothing returns nothing
call DisableTrigger(Ba3)
call SetDoodadAnimationRectBJ("hide",$594F7232,Pe)
endfunction
function Dhh takes nothing returns nothing
set BfJ=CreateTrigger()
call TriggerRegisterTimerEventSingle(BfJ,.1)
call TriggerAddAction(BfJ,function Dhg)
endfunction
function Dhi takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dhj takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月精灵圣都-玛嘉达斯-地面层......")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"拜访","拜访月神殿-月亮守卫最高统筹官莎蒂丝-鹰眼","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set j3=GetLastCreatedQuestBJ()
call StartTimerBJ(do,true,130.)
call PlayMusicBJ(P)
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uj,bJ)==true then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"莉尔娅：熟悉的气息..这里有很多处地方都拥有着充沛的月能量..我或许可以充分利用.")
call Biy(1.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"在月神的护佑下..莉尔娅全属性永久提升50点（绿字属性）")
call UnitAddAbilityBJ($41304D44,Uj)
else
call DoNothing()
endif
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
if IsUnitInGroup(Uc,bJ)==true and IsUnitInGroup(Ue,bJ)==true then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"哈尔尼根：不愧为月精灵的圣都，灵气竟如此浓厚..")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"妮雅娜：月精灵世世代代所保护的世界之树所在区域才是灵气最浓厚的地方..不过当务之急，我们需要让月精灵一族也能主动参与到对抗黑暗圣堂的计划中..")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9主线任务已有所更新")
else
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9主线任务已有所更新")
endif
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dhk takes nothing returns nothing
set BfK=CreateTrigger()
call Bi7(BfK,Pd)
call TriggerAddCondition(BfK,Condition(function Dhi))
call TriggerAddAction(BfK,function Dhj)
endfunction
function Dhl takes nothing returns nothing
call PlayMusicBJ(P)
endfunction
function Dhm takes nothing returns nothing
set BfL=CreateTrigger()
call TriggerRegisterTimerExpireEvent(BfL,do)
call TriggerAddAction(BfL,function Dhl)
endfunction
function Dhn takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dho takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QS))
endfunction
function Dhp takes nothing returns nothing
set jx=CreateTrigger()
call Bi7(jx,QP)
call TriggerAddCondition(jx,Condition(function Dhn))
call TriggerAddAction(jx,function Dho)
endfunction
function Dhq takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dhr takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QQ))
endfunction
function Dhs takes nothing returns nothing
set jy=CreateTrigger()
call Bi7(jy,QR)
call TriggerAddCondition(jy,Condition(function Dhq))
call TriggerAddAction(jy,function Dhr)
endfunction
function Dht takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dhu takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(QU))
endfunction
function Dhv takes nothing returns nothing
set jz=CreateTrigger()
call Bi7(jz,QT)
call TriggerAddCondition(jz,Condition(function Dht))
call TriggerAddAction(jz,function Dhu)
endfunction
function Dhw takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dhx takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"月神殿护卫：没有批准不得进入！")
call TriggerSleepAction(2)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"看来要另寻其他方法了")
call ShowUnit(Yx,true)
call EnableTrigger(j1)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dhy takes nothing returns nothing
set j0=CreateTrigger()
call Bi7(j0,QT)
call TriggerAddCondition(j0,Condition(function Dhw))
call TriggerAddAction(j0,function Dhx)
endfunction
function Dhz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Yx,false)
endfunction
function Dh0 takes nothing returns nothing
set j2=CreateTrigger()
call TriggerRegisterTimerEventSingle(j2,.2)
call TriggerAddAction(j2,function Dhz)
endfunction
function Dh1 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dh2 takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：你们是不是苦于没有月神殿的批入函？")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：帮我做几件事，我可以帮你们取得批入函，先去玛嘉平原从大型丛林漫步者、大型丛林枭兽、大型丛林侦查者分别收集三种不一样的精灵粉尘")
call DestroyQuest(j3)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"收集","帮这位奇怪的老者从大型丛林漫步者、大型丛林枭兽、大型丛林侦查者分别收集三种不一样的精灵粉尘，并交付给他","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set j4=GetLastCreatedQuestBJ()
call Biy(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：玛嘉平原的通道我给你们开好了，就在我的右下方向")
call EnableTrigger(j5)
call EnableTrigger(j6)
call SetDoodadAnimationRectBJ("show",$594F7232,Qc)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Dh3 takes nothing returns nothing
set j1=CreateTrigger()
call Bi7(j1,QV)
call TriggerAddCondition(j1,Condition(function Dh1))
call TriggerAddAction(j1,function Dh2)
endfunction
function Dh4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(j1)
call DisableTrigger(j5)
call DisableTrigger(j6)
call SetDoodadAnimationRectBJ("hide",$594F7232,Qc)
endfunction
function Dh5 takes nothing returns nothing
set j7=CreateTrigger()
call TriggerRegisterTimerEventSingle(j7,.2)
call TriggerAddAction(j7,function Dh4)
endfunction
function Dh6 takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49304750
endfunction
function Dh7 takes nothing returns nothing
set d8=0
set j9=GetManipulatedItem()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem() and GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()) then
set d8=d8+1
if d8==2 then
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304750))
call RemoveItem(Bio(GetTriggerUnit(),$49304750))
call RemoveItem(Bio(GetTriggerUnit(),$49304750))
call RemoveItem(Bio(GetTriggerUnit(),$49304750))
call RemoveItem(Bio(GetTriggerUnit(),$49304750))
call RemoveItem(Bio(GetTriggerUnit(),$49304750))
call UnitAddItemByIdSwapped($49304751,GetTriggerUnit())
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function Dh8 takes nothing returns nothing
set j8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(j8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(j8,Condition(function Dh6))
call TriggerAddAction(j8,function Dh7)
endfunction
function Dh9 takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DiB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.,"玛嘉平原")
endfunction
function DiC takes nothing returns nothing
set kB=CreateTrigger()
call Bi7(kB,QX)
call TriggerAddCondition(kB,Condition(function Dh9))
call TriggerAddAction(kB,function DiB)
endfunction
function DiD takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DiE takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qf))
endfunction
function DiF takes nothing returns nothing
set j5=CreateTrigger()
call Bi7(j5,Qc)
call TriggerAddCondition(j5,Condition(function DiD))
call TriggerAddAction(j5,function DiE)
endfunction
function DiG takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function DiH takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(Qd))
endfunction
function DiI takes nothing returns nothing
set kG=CreateTrigger()
call Bi7(kG,Qe)
call TriggerAddCondition(kG,Condition(function DiG))
call TriggerAddAction(kG,function DiH)
endfunction
function DiJ takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304751)==true
endfunction
function DiK takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304751))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：做的很好...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：去把这个东西带到玛嘉平原的泉水附近...击败那里的守护者...")
call CreateItemLoc($49304753,GetRectCenter(Qg))
call DestroyQuest(j4)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"击杀","带着这位神秘老者给的奇怪东西前往玛嘉平原的泉水旁边击杀守护者....总觉得哪里不对...","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set kH=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DiL takes nothing returns nothing
set j6=CreateTrigger()
call Bi7(j6,QV)
call TriggerAddCondition(j6,Condition(function DiJ))
call TriggerAddAction(j6,function DiK)
endfunction
function DiM takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304753)==true
endfunction
function DiN takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304753))
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：愚蠢的外来者...你们也要来污染这片神圣的土地吗....")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call ShowUnit(Yz,true)
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DiO takes nothing returns nothing
set kI=CreateTrigger()
call Bi7(kI,Qh)
call TriggerAddCondition(kI,Condition(function DiM))
call TriggerAddAction(kI,function DiN)
endfunction
function DiP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Yz,false)
endfunction
function DiQ takes nothing returns nothing
set kJ=CreateTrigger()
call TriggerRegisterTimerEventSingle(kJ,.2)
call TriggerAddAction(kJ,function DiP)
endfunction
function DiR takes nothing returns boolean
return GetAttacker()==Yz
endfunction
function DiS takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Yz))==true
endfunction
function DiT takes nothing returns nothing
call UnitDamageTargetBJ(Yz,GetEnumUnit(),2000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function DiU takes nothing returns nothing
call ForGroupBJ(Biq(300.,GetUnitLoc(GetAttackedUnitBJ()),Condition(function DiS)),function DiT)
endfunction
function DiV takes nothing returns nothing
set kK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(kK,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(kK,Condition(function DiR))
call TriggerAddAction(kK,function DiU)
endfunction
function DiW takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304754)==true
endfunction
function DiX takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304754))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：做的很好...")
call Biy(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"奇怪的年长者：这个批入函就送给你们了...")
call CreateItemLoc($49304848,GetRectCenter(Qg))
call RemoveUnit(Yx)
call DestroyQuest(kH)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"进入月神殿","带着神秘老者给予的批入函进入月神殿吧...这批入函到底从何而来的....","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set k0=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function DiY takes nothing returns nothing
set kz=CreateTrigger()
call Bi7(kz,QV)
call TriggerAddCondition(kz,Condition(function DiW))
call TriggerAddAction(kz,function DiX)
endfunction
function DiZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnit(Y7,false)
endfunction
function Dia takes nothing returns nothing
set k1=CreateTrigger()
call TriggerRegisterTimerEventSingle(k1,.7)
call TriggerAddAction(k1,function DiZ)
endfunction
function Dib takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true and Bi9(GetTriggerUnit(),$49304848)==true
endfunction
function Dic takes nothing returns nothing
local integer iw=LoadInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set iw=iw+3
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,iw)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(Bio(GetTriggerUnit(),$49304848))
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"护卫：这确实是批入函没错....")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"护卫：但是这函件上邀请的并不是你们这些外来者....")
call TriggerSleepAction(2.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"？？？：太好了...我一直在找...咳...他们是临时邀请来的...让他们进来吧..")
call ShowUnit(Y7,true)
call IssuePointOrderLoc(Y7,"move",GetRectCenter(QT))
call TriggerSleepAction(3.)
call SaveInteger(ap,GetHandleId(GetTriggeringTrigger()),$ECE825E7,iw)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"F9主线任务更新...")
call RemoveUnit(Y7)
call DisableTrigger(jz)
call DestroyQuest(k0)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"通过","虽然各方面都很奇怪...但是先进入月神殿找找刚才那位月精灵少女再说....","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set k3=GetLastCreatedQuestBJ()
call FlushChildHashtable(ap,GetHandleId(GetTriggeringTrigger())*iw)
endfunction
function Did takes nothing returns nothing
set k2=CreateTrigger()
call Bi7(k2,QT)
call TriggerAddCondition(k2,Condition(function Dib))
call TriggerAddAction(k2,function Dic)
endfunction
function Die takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dif takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(RK))
endfunction
function Dig takes nothing returns nothing
set k4=CreateTrigger()
call Bi7(k4,RL)
call TriggerAddCondition(k4,Condition(function Die))
call TriggerAddAction(k4,function Dif)
endfunction
function Dih takes nothing returns boolean
return IsUnitInGroup(GetTriggerUnit(),bJ)==true
endfunction
function Dii takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(RM))
endfunction
function Dij takes nothing returns nothing
set k5=CreateTrigger()
call Bi7(k5,RJ)
call TriggerAddCondition(k5,Condition(function Dih))
call TriggerAddAction(k5,function Dii)
endfunction
function Dik takes nothing returns nothing
call Blr()
call Blt()
call Blv()
call Blx()
call Blz()
call Bl1()
call Bl3()
call Bl5()
call Bl9()
call BmD()
call BmF()
call BmH()
call BmJ()
call BmL()
call BmN()
call BmP()
call BmR()
call BmT()
call BmV()
call BmX()
call BmZ()
call Bmb()
call Bmf()
call Bmh()
call Bmj()
call Bml()
call Bmo()
call Bmq()
call Bmz()
call Bm2()
call Bm5()
call Bm8()
call BnC()
call BnF()
call BnI()
call BnL()
call BoB()
call Buj()
call Bum()
call BvH()
call BvJ()
call BvL()
call BvO()
call BvR()
call BvU()
call BvX()
call Bva()
call Bvd()
call Bvg()
call Bvj()
call Bvm()
call Bvp()
call Bvs()
call Bvv()
call Bvy()
call Bv1()
call Bv4()
call Bv7()
call BwB()
call BwE()
call BwH()
call BwK()
call BwN()
call BwQ()
call BwT()
call BwW()
call BwZ()
call Bwc()
call Bwf()
call Bwi()
call Bwl()
call Bwo()
call Bwr()
call Bwu()
call Bwx()
call Bw0()
call Bw3()
call Bw6()
call Bw9()
call BxD()
call BxG()
call BxJ()
call BxM()
call BxP()
call BxS()
call BxV()
call BxY()
call Bxb()
call Bxe()
call Bxh()
call Bxk()
call Bxn()
call Bxq()
call Bxt()
call Bxw()
call Bxz()
call Bx2()
call Bx5()
call Bx8()
call ByC()
call ByF()
call ByI()
call ByL()
call ByO()
call ByR()
call ByU()
call ByX()
call Bya()
call Byd()
call Byg()
call Bys()
call Byv()
call Byy()
call By7()
call BzB()
call BzE()
call BzH()
call BzK()
call BzP()
call BzU()
call BzX()
call Bza()
call Bzd()
call Bzg()
call Bzj()
call Bzm()
call Bzp()
call Bzs()
call Bzv()
call Bzy()
call Bz1()
call Bz4()
call Bz9()
call B0D()
call B0G()
call B0J()
call B0M()
call B0P()
call B0S()
call B0V()
call B0Y()
call B0b()
call B1o()
call B1r()
call B1u()
call B1x()
call B10()
call B13()
call B16()
call B19()
call B2D()
call B2F()
call B2I()
call B2L()
call B2O()
call B2R()
call B2T()
call B2W()
call B2Z()
call B2b()
call B2e()
call B2g()
call B2j()
call B2m()
call B2p()
call B2s()
call B2u()
call B2x()
call B23()
call B26()
call B29()
call B3C()
call B3F()
call B3H()
call B3K()
call B3M()
call B3P()
call B3R()
call B3T()
call B3W()
call B3Z()
call B3c()
call B3i()
call B3k()
call B3n()
call B3q()
call B3t()
call B3w()
call B3z()
call B32()
call B35()
call B38()
call B4B()
call B4E()
call B4G()
call B4J()
call B4M()
call B4P()
call B4R()
call B4U()
call B4X()
call B4a()
call B4d()
call B4i()
call B4k()
call B4n()
call B4q()
call B4t()
call B4w()
call B4z()
call B42()
call B45()
call B48()
call B5B()
call B5E()
call B5H()
call B5K()
call B5M()
call B5P()
call B5o()
call B5r()
call B5u()
call B5x()
call B50()
call B53()
call B56()
call B59()
call B6D()
call B6F()
call B6I()
call B6L()
call B6O()
call B6R()
call B6U()
call B6X()
call B6a()
call B6d()
call B6g()
call B6j()
call B6m()
call B6p()
call B6s()
call B6u()
call B6x()
call B6z()
call B62()
call B65()
call B7B()
call B7E()
call B7H()
call B7K()
call B7M()
call B7P()
call B7S()
call B7V()
call B7X()
call B7a()
call B7d()
call B7g()
call B7j()
call B7m()
call B7p()
call B7s()
call B7v()
call B7y()
call B71()
call B74()
call B77()
call B8B()
call B8G()
call B8I()
call B8L()
call B8O()
call B8Q()
call B8T()
call B8Y()
call B8b()
call B8e()
call B8h()
call B8k()
call B8n()
call B8q()
call B8t()
call B8v()
call B8y()
call B81()
call B84()
call B87()
call B9B()
call B9M()
call B9P()
call B9S()
call B9V()
call B9Y()
call B9b()
call B9e()
call B9h()
call B9k()
call B9n()
call B9q()
call B9t()
call B9w()
call B9z()
call B92()
call B95()
call B98()
call B_C()
call B_F()
call B_I()
call B_L()
call B_O()
call B_R()
call B_U()
call B_X()
call B_a()
call B_d()
call B_g()
call B_j()
call B_r()
call B_w()
call B_z()
call B_2()
call B_5()
call B_8()
call CBC()
call CBE()
call CBH()
call CBK()
call CBN()
call CBQ()
call CBT()
call CBW()
call CBZ()
call CBb()
call CBe()
call CBh()
call CBk()
call CBm()
call CBr()
call CBt()
call CBw()
call CBz()
call CB2()
call CB7()
call CCB()
call CCE()
call CEU()
call CEX()
call CEa()
call CEd()
call CEg()
call CEj()
call CEm()
call CEp()
call CFS()
call CFU()
call CFX()
call CFa()
call CFd()
call CFg()
call CFj()
call CFo()
call CFr()
call CFu()
call CFx()
call CF0()
call CGe()
call CGh()
call CGk()
call CGn()
call CGt()
call CGw()
call CHc()
call CHe()
call CHh()
call CHo()
call CHr()
call CHv()
call CHx()
call CH0()
call CH3()
call CH6()
call CH9()
call CIC()
call CIF()
call CII()
call CIL()
call CIO()
call CIR()
call CIU()
call CIW()
call CIZ()
call CIb()
call CIg()
call CIi()
call CIl()
call CIo()
call CIr()
call CIu()
call CIx()
call CI0()
call CI3()
call CI6()
call CI8()
call CJG()
call CJI()
call CJL()
call CJN()
call CJP()
call CJR()
call CJU()
call CJX()
call CJZ()
call CJb()
call CJd()
call CJg()
call CJi()
call CJl()
call CJo()
call CJw()
call CJz()
call CJ2()
call CJ5()
call CJ8()
call CKB()
call CKD()
call CKF()
call CKH()
call CKK()
call CKM()
call CKP()
call CKT()
call CKV()
call CKY()
call CKb()
call CKd()
call CKf()
call CKi()
call CKk()
call CKm()
call CKp()
call CKs()
call CKv()
call CKy()
call CK1()
call CK4()
call CK6()
call CK9()
call CLD()
call CLG()
call CLJ()
call CLO()
call CLR()
call CLf()
call CLi()
call CLl()
call CLo()
call CLq()
call CLt()
call CLv()
call CLy()
call CL1()
call CL4()
call CL6()
call CL9()
call CMD()
call CMG()
call CMI()
call CML()
call CMO()
call CMR()
call CMU()
call CMX()
call CMa()
call CMd()
call CMg()
call CMj()
call CMl()
call CMo()
call CMr()
call CMu()
call CM0()
call CM7()
call CNB()
call CNE()
call CNG()
call CNO()
call CNR()
call CNY()
call CNb()
call CNe()
call CNh()
call CNk()
call CNn()
call CNq()
call CNt()
call CNw()
call CNy()
call CN1()
call CN4()
call CN7()
call COB()
call COE()
call COH()
call COJ()
call COM()
call COP()
call COS()
call COV()
call COY()
call COb()
call COe()
call COh()
call COk()
call COn()
call COq()
call COt()
call COw()
call COz()
call CO2()
call CO5()
call CO8()
call CPa()
call CPn()
call CQL()
call CQO()
call CQR()
call CQU()
call CQW()
call CQb()
call CQg()
call CRE()
call CRH()
call CRK()
call CRN()
call CRQ()
call CRT()
call CRV()
call CRZ()
call CRo()
call CSM()
call CSP()
call CSU()
call CSW()
call CSZ()
call CSc()
call CSf()
call CSi()
call CS5()
call CTP()
call CTc()
call CTf()
call CTi()
call CTl()
call CTo()
call CTr()
call CTt()
call CTw()
call CTz()
call CT2()
call CT7()
call CUD()
call CUa()
call CUx()
call CVJ()
call CVL()
call CVO()
call CVl()
call CVo()
call CV7()
call CWB()
call CWD()
call CWG()
call CWJ()
call CWh()
call CWj()
call CWl()
call CWn()
call CWv()
call CWy()
call CW1()
call CW3()
call CW6()
call CXM()
call CXP()
call CXY()
call CXh()
call CXj()
call CXm()
call CXp()
call CXw()
call CXy()
call CX1()
call CX4()
call CX9()
call CYD()
call CYG()
call CYJ()
call CYM()
call CYO()
call CYQ()
call CYT()
call CYW()
call CYY()
call CYb()
call CYf()
call CYh()
call CYv()
call CYz()
call CY1()
call CY4()
call CY7()
call CY9()
call CZE()
call CZG()
call CZI()
call CZK()
call CZR()
call CZU()
call CZW()
call CZZ()
call CZe()
call CZ1()
call CZ3()
call CaO()
call CaU()
call CaW()
call CaZ()
call Cac()
call Cae()
call Cai()
call CbL()
call CbP()
call CbR()
call CbU()
call CbX()
call Cbb()
call Cbd()
call Cbg()
call Cbk()
call Cbm()
call Cbp()
call Cbs()
call Cby()
call Cb0()
call Cb3()
call Cb6()
call CcD()
call CcF()
call CcH()
call CcK()
call CcN()
call CcQ()
call CcT()
call CcV()
call CcX()
call CcZ()
call Ccc()
call Ccj()
call Ccm()
call Cct()
call Ccv()
call Ccy()
call Cc1()
call Cc9()
call CdC()
call CdF()
call CdI()
call CdK()
call CdN()
call CdQ()
call CdT()
call CdV()
call Cda()
call Cdd()
call Cdf()
call Cdh()
call Cdk()
call Cdr()
call Cdt()
call Cd5()
call Csy()
call Cs1()
call Cs4()
call Cs7()
call CtB()
call CtE()
call CtH()
call CtK()
call CtN()
call CtQ()
call CtT()
call CtW()
call CtZ()
call Ctc()
call Ctf()
call Ctx()
call Ct0()
call Ct3()
call Ct6()
call Ct9()
call CuD()
call CuG()
call CuJ()
call CuM()
call CuP()
call CuS()
call CuV()
call CuY()
call Cub()
call Cue()
call Cuh()
call Cuk()
call Cun()
call Cuq()
call Cut()
call Cuw()
call Cuz()
call Cu2()
call Cu5()
call Cu8()
call CvC()
call CvF()
call CvI()
call CvL()
call CvO()
call CvR()
call CvU()
call CvX()
call Cva()
call Cvd()
call Cx8()
call CyD()
call CyG()
call CyK()
call CyN()
call CyR()
call CyU()
call CyY()
call Cyc()
call Cyg()
call Cyk()
call Cyn()
call Cyq()
call Cys()
call Cyu()
call Cyx()
call Cyz()
call Cy1()
call Cy3()
call Cy5()
call Cy7()
call Cy9()
call CzD()
call CzG()
call CzJ()
call CzL()
call CzQ()
call CzT()
call CzW()
call CzZ()
call Czb()
call Cze()
call Czg()
call Czi()
call Czk()
call Czn()
call Czq()
call Czs()
call Czv()
call Czy()
call Cz1()
call Cz4()
call Cz7()
call C0E()
call C0G()
call C0I()
call C0S()
call C0V()
call C0X()
call C0g()
call C0j()
call C0l()
call C0o()
call C2H()
call C2K()
call C2M()
call C2O()
call C2R()
call C2U()
call C2W()
call C2Y()
call C2b()
call C2e()
call C2j()
call C2m()
call C2s()
call C4R()
call C43()
call C45()
call C48()
call C5C()
call C5E()
call C5H()
call C5K()
call C5N()
call C5Q()
call C5T()
call C5W()
call C5Z()
call C5b()
call C5e()
call C5h()
call C5k()
call C5n()
call C5q()
call C5t()
call C52()
call C55()
call C57()
call C6B()
call C6E()
call C6H()
call C6K()
call C6M()
call C6O()
call C6R()
call C6U()
call C6Y()
call C6a()
call C6d()
call C6g()
call C6k()
call C6m()
call C6q()
call C6t()
call C6w()
call C6z()
call C62()
call C64()
call C67()
call C7B()
call C7E()
call C7G()
call C7J()
call C7N()
call C7P()
call C7T()
call C7V()
call C7Y()
call C7a()
call C7d()
call C7g()
call C7i()
call C7n()
call C7q()
call C7s()
call C8n()
call C8q()
call C8t()
call C8v()
call C8y()
call C80()
call C84()
call C86()
call C9B()
call C9D()
call C9G()
call C9J()
call C9L()
call C9O()
call C9R()
call C9U()
call C9b()
call C9k()
call C9n()
call C9p()
call C9s()
call C9u()
call C9x()
call C90()
call C93()
call C96()
call C98()
call C_C()
call C_E()
call C_H()
call C_J()
call C_L()
call C_N()
call C_Q()
call C_S()
call C_V()
call C_Y()
call C_a()
call C_d()
call C_g()
call C_j()
call C_l()
call C_o()
call C_r()
call C_u()
call C_x()
call C_0()
call C_2()
call C_5()
call C_7()
call DBB()
call DBD()
call DBF()
call DBI()
call DBL()
call DBN()
call DBP()
call DBS()
call DBV()
call DBY()
call DBc()
call DBg()
call DBp()
call DBs()
call DBu()
call DBx()
call DB0()
call DB3()
call DB5()
call DB8()
call DCB()
call DCD()
call DCI()
call DCK()
call DCN()
call DCW()
call DCZ()
call DCc()
call DCf()
call DCi()
call DCl()
call DCn()
call DCp()
call DCr()
call DCt()
call DCv()
call DCx()
call DCz()
call DC1()
call DC4()
call DC6()
call DC9()
call DDF()
call DDI()
call DDL()
call DDN()
call DDR()
call DDT()
call DDV()
call DDX()
call DDZ()
call DDi()
call DDm()
call DDp()
call DDs()
call DDv()
call DDy()
call DD1()
call DD4()
call DD6()
call DD9()
call DED()
call DEG()
call DEJ()
call DEL()
call DEN()
call DEQ()
call DEU()
call DEX()
call DEZ()
call DEc()
call DEf()
call DEi()
call DEl()
call DEn()
call DEq()
call DEt()
call DEv()
call DEx()
call DE0()
call DE3()
call DE6()
call DE9()
call DFD()
call DFG()
call DFJ()
call DFM()
call DFP()
call DFS()
call DFV()
call DFY()
call DFb()
call DFe()
call DFh()
call DFk()
call DFn()
call DFq()
call DFt()
call DFw()
call DFz()
call DF2()
call DF5()
call DF8()
call DGC()
call DGF()
call DGI()
call DGL()
call DGO()
call DGR()
call DGU()
call DGX()
call DGa()
call DGd()
call DGg()
call DGj()
call DGm()
call DGp()
call DGs()
call DGu()
call DGw()
call DGz()
call DG1()
call DG3()
call DG8()
call DHC()
call DHG()
call DHI()
call DHL()
call DHO()
call DHQ()
call DHU()
call DHX()
call DHa()
call DHe()
call DHg()
call DHj()
call DHm()
call DHq()
call DHs()
call DHv()
call DH4()
call DH8()
call DIB()
call DIE()
call DIH()
call DIL()
call DIN()
call DIQ()
call DIT()
call DIX()
call DIZ()
call DIc()
call DIe()
call DIh()
call DIj()
call DIm()
call DIp()
call DIs()
call DIv()
call DIy()
call DI1()
call DI3()
call DI7()
call DJB()
call DJE()
call DJH()
call DJK()
call DJN()
call DJQ()
call DJT()
call DJW()
call DJZ()
call DJc()
call DJf()
call DJi()
call DJl()
call DJo()
call DJr()
call DJu()
call DJx()
call DJ0()
call DJ5()
call DJ7()
call DKB()
call DKE()
call DKH()
call DKK()
call DKN()
call DKS()
call DKU()
call DKX()
call DKa()
call DKd()
call DKg()
call DKj()
call DKo()
call DKq()
call DKt()
call DKw()
call DKy()
call DK3()
call DK5()
call DK8()
call DLC()
call DLE()
call DLJ()
call DLL()
call DLO()
call DLR()
call DLU()
call DLX()
call DLa()
call DLd()
call DLg()
call DLj()
call DLm()
call DLp()
call DLs()
call DLv()
call DLy()
call DL1()
call DL4()
call DL7()
call DL9()
call DMD()
call DMG()
call DMJ()
call DMM()
call DMP()
call DMU()
call DMX()
call DOf()
call DOh()
call DOj()
call DOl()
call DOn()
call DOp()
call DOr()
call DOt()
call DOv()
call DOx()
call DOz()
call DO1()
call DO3()
call DO5()
call DO7()
call DO9()
call DPC()
call DPE()
call DPG()
call DPJ()
call DPL()
call DPN()
call DPP()
call DPR()
call DPT()
call DPW()
call DPZ()
call DPc()
call DPe()
call DPh()
call DPj()
call DPm()
call DPo()
call DPq()
call DPs()
call DPu()
call DPx()
call DP0()
call DP3()
call DP6()
call DP8()
call DQB()
call DQD()
call DQF()
call DQH()
call DQJ()
call DQL()
call DQN()
call DQP()
call DQR()
call DQT()
call DQV()
call DQX()
call DQZ()
call DQb()
call DQd()
call DQf()
call DQh()
call DQj()
call DQl()
call DQn()
call DQp()
call DQr()
call DQt()
call DQv()
call DQx()
call DQz()
call DQ1()
call DQ3()
call DQ5()
call DQ7()
call DQ9()
call DRC()
call DRE()
call DRG()
call DRI()
call DRK()
call DRM()
call DRO()
call DRQ()
call DRS()
call DRU()
call DRX()
call DRZ()
call DRe()
call DRh()
call DRj()
call DRo()
call DRr()
call DRt()
call DRy()
call DR0()
call DR5()
call DSH()
call DSN()
call DSP()
call DSS()
call DSU()
call DSW()
call DSZ()
call DSc()
call DSf()
call DSi()
call DSl()
call DSq()
call DSv()
call DSx()
call DS3()
call DS7()
call DTD()
call DTF()
call DTH()
call DTJ()
call DTL()
call DTN()
call DTP()
call DTR()
call DTT()
call DTV()
call DTa()
call DTf()
call DTh()
call DTj()
call DTm()
call DTu()
call DT0()
call DT5()
call DT7()
call DT9()
call DUC()
call DUF()
call DUL()
call DUN()
call DUP()
call DUR()
call DUT()
call DUV()
call DUb()
call DUe()
call DUg()
call DUi()
call DUk()
call DUm()
call DUo()
call DUq()
call DUs()
call DUu()
call DUw()
call DUy()
call DU0()
call DU2()
call DU4()
call DU9()
call DVC()
call DVE()
call DVG()
call DVI()
call DVK()
call DVM()
call DVO()
call DVQ()
call DVV()
call DVX()
call DVa()
call DVf()
call DVk()
call DVp()
call DVu()
call DV0()
call DV2()
call DV4()
call DV6()
call DWB()
call DWD()
call DWF()
call DWL()
call DWN()
call DWR()
call DWo()
call DWs()
call DWv()
call DWy()
call DW1()
call DW3()
call DW6()
call DW9()
call DXC()
call DXE()
call DXH()
call DXJ()
call DXM()
call DXO()
call DXR()
call DXU()
call DXW()
call DXZ()
call DXb()
call DXd()
call DXf()
call DXi()
call DXk()
call DXm()
call DXo()
call DXr()
call DXu()
call DXx()
call DXz()
call DX2()
call DX4()
call DX7()
call DX9()
call DYC()
call DYF()
call DYI()
call DYK()
call DYM()
call DYO()
call DYT()
call DYV()
call DYX()
call DYa()
call DYd()
call DYg()
call DYj()
call DYm()
call DYp()
call DYw()
call DYz()
call DY2()
call DY5()
call DY8()
call DZE()
call DZH()
call DZJ()
call DZL()
call DZN()
call DZQ()
call DZT()
call DZV()
call DZX()
call DZZ()
call DZc()
call DZf()
call DZi()
call DZl()
call DZo()
call DZq()
call DZs()
call DZv()
call DZz()
call DZ2()
call DZ4()
call DZ7()
call DZ9()
call DaD()
call DaG()
call DaJ()
call DaL()
call DaO()
call DaR()
call DaT()
call DaV()
call DaY()
call Dab()
call Dae()
call Dah()
call Dak()
call Dan()
call Daq()
call Dat()
call Dav()
call Day()
call Da0()
call Da3()
call Da5()
call Da7()
call Da9()
call DbD()
call DbH()
call DbJ()
call DbL()
call DbN()
call DbQ()
call DbT()
call DbV()
call DbX()
call Dbe()
call Dbl()
call Dbn()
call Dbp()
call Dbr()
call Dbu()
call Dbw()
call Dby()
call Db0()
call Db3()
call Db6()
call Db8()
call DcC()
call DcF()
call DcI()
call DcL()
call DcO()
call DcR()
call DcU()
call DcX()
call Dca()
call Dcd()
call Dcg()
call Dcj()
call Dcm()
call Dcp()
call Dcs()
call Dcv()
call Dcy()
call Dc1()
call Dc3()
call Dc5()
call Dc7()
call DdC()
call DdE()
call DdG()
call DdI()
call DdL()
call DdO()
call DdR()
call DdU()
call DdW()
call DdZ()
call Ddc()
call Ddf()
call Ddh()
call Ddn()
call Ddp()
call Ddr()
call Ddt()
call Ddv()
call Ddx()
call Ddz()
call Dd1()
call Dd6()
call Dd9()
call DeD()
call DeG()
call DeJ()
call DeM()
call DeQ()
call DeS()
call DeU()
call DeW()
call DeZ()
call Dec()
call Dee()
call Deh()
call Dek()
call Den()
call Deq()
call Det()
call Dew()
call Dey()
call De1()
call De3()
call De6()
call De9()
call DfD()
call DfG()
call DfJ()
call DfL()
call DfN()
call DfQ()
call DfT()
call DfW()
call DfZ()
call Dfc()
call Dff()
call Dfi()
call Dfl()
call Dfo()
call Dfr()
call Dft()
call Dfw()
call Dfy()
call Df1()
call Df4()
call Df7()
call DgB()
call DgE()
call DgH()
call DgK()
call DgN()
call DgP()
call DgR()
call DgT()
call DgW()
call DgY()
call Dgb()
call Dgd()
call Dgg()
call Dgi()
call Dgl()
call Dgp()
call Dgr()
call Dgt()
call Dgw()
call Dgz()
call Dg2()
call Dg5()
call Dg8()
call DhC()
call DhF()
call DhI()
call DhL()
call DhO()
call DhR()
call DhT()
call DhW()
call Dhf()
call Dhh()
call Dhk()
call Dhm()
endfunction
function Dil takes nothing returns nothing
call ConditionalTriggerExecute(i6)
call ConditionalTriggerExecute(i7)
call ConditionalTriggerExecute(jE)
call ConditionalTriggerExecute(jR)
call ConditionalTriggerExecute(jS)
call ConditionalTriggerExecute(jT)
call ConditionalTriggerExecute(jU)
call ConditionalTriggerExecute(jY)
call ConditionalTriggerExecute(jZ)
call ConditionalTriggerExecute(ja)
call ConditionalTriggerExecute(BCp)
call ConditionalTriggerExecute(BEj)
call ConditionalTriggerExecute(BEq)
call ConditionalTriggerExecute(BEt)
call ConditionalTriggerExecute(BFc)
call ConditionalTriggerExecute(BFm)
call ConditionalTriggerExecute(BFp)
call ConditionalTriggerExecute(BFr)
call ConditionalTriggerExecute(BF2)
call ConditionalTriggerExecute(BGL)
call ConditionalTriggerExecute(BGm)
call ConditionalTriggerExecute(BGo)
call ConditionalTriggerExecute(BGy)
call ConditionalTriggerExecute(BIB)
call ConditionalTriggerExecute(BIT)
call ConditionalTriggerExecute(BIZ)
call ConditionalTriggerExecute(BIn)
call ConditionalTriggerExecute(BIo)
call ConditionalTriggerExecute(BIq)
call ConditionalTriggerExecute(BI0)
call ConditionalTriggerExecute(BI1)
call ConditionalTriggerExecute(BI2)
call ConditionalTriggerExecute(BJD)
call ConditionalTriggerExecute(BJH)
call ConditionalTriggerExecute(BJQ)
call ConditionalTriggerExecute(BJT)
call ConditionalTriggerExecute(BJZ)
call ConditionalTriggerExecute(BJe)
call ConditionalTriggerExecute(BJo)
call ConditionalTriggerExecute(BKI)
call ConditionalTriggerExecute(BKi)
call ConditionalTriggerExecute(BLO)
call ConditionalTriggerExecute(BLV)
call ConditionalTriggerExecute(BL2)
call ConditionalTriggerExecute(BMD)
call ConditionalTriggerExecute(BMO)
call ConditionalTriggerExecute(BMS)
call ConditionalTriggerExecute(BMa)
call ConditionalTriggerExecute(BMe)
call ConditionalTriggerExecute(BMo)
call ConditionalTriggerExecute(BMq)
call ConditionalTriggerExecute(BMu)
call ConditionalTriggerExecute(BMy)
call ConditionalTriggerExecute(BM6)
call ConditionalTriggerExecute(BNB)
call ConditionalTriggerExecute(BNE)
call ConditionalTriggerExecute(BNH)
call ConditionalTriggerExecute(BNL)
call ConditionalTriggerExecute(BNP)
call ConditionalTriggerExecute(BNT)
call ConditionalTriggerExecute(BNW)
call ConditionalTriggerExecute(BNa)
call ConditionalTriggerExecute(BNe)
call ConditionalTriggerExecute(BNf)
call ConditionalTriggerExecute(BNq)
call ConditionalTriggerExecute(BN0)
call ConditionalTriggerExecute(BOC)
call ConditionalTriggerExecute(BOG)
call ConditionalTriggerExecute(BOK)
call ConditionalTriggerExecute(BON)
call ConditionalTriggerExecute(BOO)
call ConditionalTriggerExecute(BPR)
call ConditionalTriggerExecute(BPY)
call ConditionalTriggerExecute(BPa)
call ConditionalTriggerExecute(BPj)
call ConditionalTriggerExecute(BPm)
call ConditionalTriggerExecute(BPq)
call ConditionalTriggerExecute(BPz)
call ConditionalTriggerExecute(BP1)
call ConditionalTriggerExecute(BP4)
call ConditionalTriggerExecute(BQP)
call ConditionalTriggerExecute(BQS)
call ConditionalTriggerExecute(BQa)
call ConditionalTriggerExecute(BQk)
call ConditionalTriggerExecute(BQq)
call ConditionalTriggerExecute(BQu)
call ConditionalTriggerExecute(BQz)
call ConditionalTriggerExecute(BQ4)
call ConditionalTriggerExecute(BQ8)
call ConditionalTriggerExecute(BRG)
call ConditionalTriggerExecute(BRH)
call ConditionalTriggerExecute(BRI)
call ConditionalTriggerExecute(BRd)
call ConditionalTriggerExecute(BRw)
call ConditionalTriggerExecute(BRz)
call ConditionalTriggerExecute(BR1)
call ConditionalTriggerExecute(BR3)
call ConditionalTriggerExecute(BR4)
call ConditionalTriggerExecute(BR6)
call ConditionalTriggerExecute(BSD)
call ConditionalTriggerExecute(BSM)
call ConditionalTriggerExecute(BSN)
call ConditionalTriggerExecute(BSQ)
call ConditionalTriggerExecute(BSb)
call ConditionalTriggerExecute(BSj)
call ConditionalTriggerExecute(BTb)
call ConditionalTriggerExecute(BTm)
call ConditionalTriggerExecute(BTq)
call ConditionalTriggerExecute(BUW)
call ConditionalTriggerExecute(BUX)
call ConditionalTriggerExecute(BUj)
call ConditionalTriggerExecute(BUo)
call ConditionalTriggerExecute(BUt)
call ConditionalTriggerExecute(BUy)
call ConditionalTriggerExecute(BU3)
call ConditionalTriggerExecute(BU9)
call ConditionalTriggerExecute(BVB)
call ConditionalTriggerExecute(BVL)
call ConditionalTriggerExecute(BVg)
call ConditionalTriggerExecute(BVn)
call ConditionalTriggerExecute(BVu)
call ConditionalTriggerExecute(BVy)
call ConditionalTriggerExecute(BV4)
call ConditionalTriggerExecute(BW5)
call ConditionalTriggerExecute(BZN)
call ConditionalTriggerExecute(BZR)
call ConditionalTriggerExecute(BZY)
call ConditionalTriggerExecute(BZl)
call ConditionalTriggerExecute(BZr)
call ConditionalTriggerExecute(BZt)
call ConditionalTriggerExecute(BZ2)
call ConditionalTriggerExecute(BaG)
call ConditionalTriggerExecute(BaI)
call ConditionalTriggerExecute(BaQ)
call ConditionalTriggerExecute(BaS)
call ConditionalTriggerExecute(BaV)
call ConditionalTriggerExecute(Bad)
call ConditionalTriggerExecute(Baj)
call ConditionalTriggerExecute(BbI)
call ConditionalTriggerExecute(BbQ)
call ConditionalTriggerExecute(BbY)
call ConditionalTriggerExecute(Bbg)
call ConditionalTriggerExecute(Bbj)
call ConditionalTriggerExecute(Bbm)
call ConditionalTriggerExecute(Bbr)
call ConditionalTriggerExecute(BcC)
call ConditionalTriggerExecute(BcF)
call ConditionalTriggerExecute(BcH)
call ConditionalTriggerExecute(BcQ)
call ConditionalTriggerExecute(BcR)
call ConditionalTriggerExecute(BcX)
call ConditionalTriggerExecute(Bcb)
call ConditionalTriggerExecute(Bce)
call ConditionalTriggerExecute(Bct)
call ConditionalTriggerExecute(Bcx)
call ConditionalTriggerExecute(Bcz)
call ConditionalTriggerExecute(Bc5)
call ConditionalTriggerExecute(BdG)
call ConditionalTriggerExecute(BdZ)
call ConditionalTriggerExecute(Bdd)
call ConditionalTriggerExecute(Bdf)
call ConditionalTriggerExecute(Bdk)
call ConditionalTriggerExecute(Bds)
call ConditionalTriggerExecute(Bd0)
call ConditionalTriggerExecute(BeB)
call ConditionalTriggerExecute(BeO)
call ConditionalTriggerExecute(Bev)
call ConditionalTriggerExecute(Bew)
call ConditionalTriggerExecute(Bex)
call ConditionalTriggerExecute(Bez)
call ConditionalTriggerExecute(Be3)
call ConditionalTriggerExecute(BfI)
endfunction
function Dim takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(10),10)
call ForcePlayerStartLocation(Player(10),10)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(11),11)
call ForcePlayerStartLocation(Player(11),11)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_COMPUTER)
endfunction
function Din takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerTeam(Player(1),0)
call SetPlayerTeam(Player(2),0)
call SetPlayerTeam(Player(3),0)
call SetPlayerTeam(Player(4),0)
call SetPlayerTeam(Player(5),0)
call SetPlayerTeam(Player(6),0)
call SetPlayerTeam(Player(7),0)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)
call SetPlayerTeam(Player(8),1)
call SetPlayerTeam(Player(9),2)
call SetPlayerTeam(Player(10),3)
call SetPlayerTeam(Player(11),4)
endfunction
function Dio takes nothing returns nothing
call SetStartLocPrioCount(0,3)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(0,2,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,5)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(2,3)
call SetStartLocPrio(2,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(3,4)
call SetStartLocPrio(3,0,1,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(3,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,6)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,3)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(5,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,2)
call SetStartLocPrio(6,0,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,2)
call SetStartLocPrio(7,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,6,MAP_LOC_PRIO_HIGH)
endfunction
function Trig_sssdda_Conditions takes nothing returns boolean
return(GetIssuedOrderId()==String2OrderIdBJ("PATROL"))
endfunction
function Trig_sssdda_Actions takes nothing returns nothing
call SetUnitPositionLoc(GetOrderedUnit(),GetOrderPointLoc())
endfunction
function ljlx takes nothing returns nothing
local integer i=0
loop
call SetPlayerState(Player(i),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(i),PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Player(i),PLAYER_STATE_RESOURCE_GOLD)/10)
call SetPlayerState(Player(i),PLAYER_STATE_RESOURCE_LUMBER,GetPlayerState(Player(i),PLAYER_STATE_RESOURCE_LUMBER)+GetPlayerState(Player(i),PLAYER_STATE_RESOURCE_LUMBER)/10)
exitwhen i==11
set i=i+1
endloop
endfunction
function ljzc takes nothing returns nothing
local timer tm=CreateTimer()
call TimerStart(tm,5.00,true,function ljlx)
set tm=null
endfunction

function k_C takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetPlayerSlotState(GetOwningPlayer(GetTriggerUnit()))==PLAYER_SLOT_STATE_PLAYING and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)
endfunction
function k_A takes nothing returns nothing
local boolean hl=true
call TriggerSleepAction(0.1)
call UnitResetCooldown(GetTriggerUnit())
if hl then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))
endif
endfunction
function k_qcd takes nothing returns nothing
local integer i=0
local trigger t=CreateTrigger()
loop
exitwhen i>11
call TriggerRegisterPlayerUnitEvent(t,Player(i),ConvertPlayerUnitEvent(274),null)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function k_C ))
call TriggerAddAction(t,function k_A )
endfunction

function Trig_jaffc_Actions takes nothing returns nothing
local integer i=0
loop
exitwhen i==11
call SetPlayerHandicapXPBJ(Player(i),10000)  //100=1倍，自己可以改多少！
set i=i+1
endloop
endfunction
function Trig_jaffc_Func001002 takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|-|r" )
endfunction
function InitTrig_jaffc takes nothing returns nothing
set gg_trg_jaffc = CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_jaffc, Player(0), "+++", true) // 
call TriggerAddAction(gg_trg_jaffc, function Trig_jaffc_Func001002)
call TriggerAddAction(gg_trg_jaffc, function Trig_jaffc_Actions)
endfunction
function Trig_jaffc1_Actions takes nothing returns nothing
local integer i=0
loop
exitwhen i==11
call SetPlayerHandicapXPBJ(Player(i),500)
set i=i+1
endloop
endfunction
function Trig_jaffc1_Func001002 takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|-|r" )
endfunction
function InitTrig_jaffc1 takes nothing returns nothing
set gg_trg_jaffc1 = CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_jaffc1, Player(0), "++++", true) // 
call TriggerAddAction(gg_trg_jaffc1, function Trig_jaffc1_Func001002)
call TriggerAddAction(gg_trg_jaffc1, function Trig_jaffc1_Actions)
endfunction

function main takes nothing returns nothing
call SetCameraBounds(-29952.+GetCameraMargin(CAMERA_MARGIN_LEFT),-28160.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),29952.-GetCameraMargin(CAMERA_MARGIN_RIGHT),27648.-GetCameraMargin(CAMERA_MARGIN_TOP),-29952.+GetCameraMargin(CAMERA_MARGIN_LEFT),27648.-GetCameraMargin(CAMERA_MARGIN_TOP),29952.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-28160.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl","Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl")
call NewSoundEnvironment("Default")
call SetAmbientDaySound("DalaranDay")
call SetAmbientNightSound("DalaranNight")
call SetMapMusic("Music",true,0)
call Blj()
call Bjz()
call Bln()
call Blo()
call Blk()
call Bll()
call Blm()
call InitBlizzard()
call ExecuteFunc("Diq")
call ExecuteFunc("BfU")
call ExecuteFunc("Big")
call ExecuteFunc("BjY")
call ExecuteFunc("Bjs")
call Bjy()
call Dik()
set gg_trg_sssdda=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sssdda,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(gg_trg_sssdda,Condition(function Trig_sssdda_Conditions))
call TriggerAddAction(gg_trg_sssdda,function Trig_sssdda_Actions)
call ljzc()

call k_qcd( )

call InitTrig_jaffc()
call InitTrig_jaffc1()
call Dil()
endfunction
function config takes nothing returns nothing
call SetMapName("向往黎明的彼端2.13")
call SetMapDescription("没有说明")
call SetPlayers(12)
call SetTeams(12)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(7,27968.,-27392.)
call DefineStartLocation(1,28800.,-27392.)
call DefineStartLocation(11,-28608.,26432.)
call DefineStartLocation(5,28416.,-27776.)
call DefineStartLocation(0,28800.,-27776.)
call DefineStartLocation(3,28416.,-27008.)
call DefineStartLocation(8,-28992.,26752.)
call DefineStartLocation(10,-28096.,26816.)
call DefineStartLocation(9,-28544.,26816.)
call DefineStartLocation(6,27968.,-27008.)
call DefineStartLocation(4,28416.,-27392.)
call DefineStartLocation(2,28800.,-27008.)
call Dim()
call Din()
call Dio()
endfunction
function Dip takes nothing returns boolean
local integer aY=aV
call RemoveSavedInteger(aW,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(aX[aY]))))
call RemoveSavedInteger(aW,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(aZ[aY]))))
call GroupClear(aa[aY])
call DestroyGroup(aa[aY])
call PauseTimer(aZ[aY])
call DestroyTimer(aZ[aY])
call BfN(ad[aY])
call BfN(ae[aY])
call BfN(af[aY])
set ag[aY]=null
set ah[aY]=null
set aX[aY]=null
set aa[aY]=null
set aZ[aY]=null
set ai[aY]=0
set aj[aY]=0
set ak[aY]=0
set al[aY]=""
set am[aY]=""
set an[aY]=""
set ao[aY]=""
return true
endfunction
function Diq takes nothing returns nothing
set aU[2]=CreateTrigger()
set aU[3]=aU[2]
set aU[4]=aU[2]
set aU[5]=aU[2]
call TriggerAddCondition(aU[2],Condition(function Dip))
endfunction
